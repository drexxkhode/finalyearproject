{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n/*!\n * ApexCharts v5.5.1\n * (c) 2018-2026 ApexCharts\n */\nclass Environment {\n  /**\n   * Check if running in server-side rendering environment (Node.js)\n   * @returns {boolean} True if in SSR/Node.js, false if in browser\n   */\n  static isSSR() {\n    return typeof window === \"undefined\" || typeof document === \"undefined\";\n  }\n  /**\n   * Check if running in browser environment\n   * @returns {boolean} True if in browser, false if in SSR/Node.js\n   */\n  static isBrowser() {\n    return !this.isSSR();\n  }\n  /**\n   * Check if a specific browser API is available\n   * @param {string} api - Name of the API to check (e.g., 'ResizeObserver')\n   * @returns {boolean} True if API is available\n   */\n  static hasAPI(api) {\n    if (this.isSSR()) return false;\n    return typeof window[api] !== \"undefined\";\n  }\n}\nclass SSRElement {\n  constructor(nodeName, namespaceURI = null) {\n    this.nodeName = nodeName;\n    this.namespaceURI = namespaceURI;\n    this.attributes = /* @__PURE__ */new Map();\n    this.children = [];\n    this.textContent = \"\";\n    this.style = {};\n    this.classList = new SSRClassList();\n    this.parentNode = null;\n  }\n  setAttribute(name2, value) {\n    this.attributes.set(name2, value);\n  }\n  getAttribute(name2) {\n    return this.attributes.get(name2);\n  }\n  removeAttribute(name2) {\n    this.attributes.delete(name2);\n  }\n  hasAttribute(name2) {\n    return this.attributes.has(name2);\n  }\n  appendChild(child) {\n    if (child && child !== this) {\n      child.parentNode = this;\n      this.children.push(child);\n    }\n    return child;\n  }\n  removeChild(child) {\n    const index = this.children.indexOf(child);\n    if (index !== -1) {\n      this.children.splice(index, 1);\n      child.parentNode = null;\n    }\n    return child;\n  }\n  insertBefore(newNode, referenceNode) {\n    if (!referenceNode) {\n      return this.appendChild(newNode);\n    }\n    const index = this.children.indexOf(referenceNode);\n    if (index !== -1) {\n      newNode.parentNode = this;\n      this.children.splice(index, 0, newNode);\n    }\n    return newNode;\n  }\n  cloneNode(deep = false) {\n    const clone = new SSRElement(this.nodeName, this.namespaceURI);\n    clone.textContent = this.textContent;\n    this.attributes.forEach((value, key) => {\n      clone.attributes.set(key, value);\n    });\n    Object.assign(clone.style, this.style);\n    if (deep) {\n      this.children.forEach(child => {\n        if (child.cloneNode) {\n          clone.appendChild(child.cloneNode(true));\n        }\n      });\n    }\n    return clone;\n  }\n  getBoundingClientRect() {\n    return {\n      width: this._ssrWidth || 0,\n      height: this._ssrHeight || 0,\n      top: 0,\n      left: 0,\n      right: this._ssrWidth || 0,\n      bottom: this._ssrHeight || 0,\n      x: 0,\n      y: 0\n    };\n  }\n  getRootNode() {\n    let root = this;\n    while (root.parentNode) {\n      root = root.parentNode;\n    }\n    return root;\n  }\n  toString() {\n    let attrs = \"\";\n    this.attributes.forEach((value, key) => {\n      attrs += ` ${key}=\"${value}\"`;\n    });\n    if (this.children.length === 0 && !this.textContent) {\n      return `<${this.nodeName}${attrs}/>`;\n    }\n    const childrenStr = this.children.map(c => c.toString()).join(\"\");\n    return `<${this.nodeName}${attrs}>${this.textContent}${childrenStr}</${this.nodeName}>`;\n  }\n  // Property getters/setters\n  get innerHTML() {\n    return this.children.map(c => c.toString()).join(\"\");\n  }\n  set innerHTML(value) {\n    this.children = [];\n    this.textContent = value;\n  }\n  get outerHTML() {\n    return this.toString();\n  }\n  get isConnected() {\n    return true;\n  }\n}\nclass SSRClassList {\n  constructor() {\n    this.classes = /* @__PURE__ */new Set();\n  }\n  add(...classNames) {\n    classNames.forEach(name2 => this.classes.add(name2));\n  }\n  remove(...classNames) {\n    classNames.forEach(name2 => this.classes.delete(name2));\n  }\n  contains(className) {\n    return this.classes.has(className);\n  }\n  toggle(className, force) {\n    if (force === true) {\n      this.classes.add(className);\n      return true;\n    } else if (force === false) {\n      this.classes.delete(className);\n      return false;\n    } else {\n      if (this.classes.has(className)) {\n        this.classes.delete(className);\n        return false;\n      } else {\n        this.classes.add(className);\n        return true;\n      }\n    }\n  }\n  toString() {\n    return Array.from(this.classes).join(\" \");\n  }\n}\nclass SSRDOMShim {\n  constructor() {\n    this.SVGNS = \"http://www.w3.org/2000/svg\";\n    this.XLINKNS = \"http://www.w3.org/1999/xlink\";\n  }\n  /**\n   * Create SVG element with namespace\n   * @param {string} namespaceURI - Namespace URI\n   * @param {string} qualifiedName - Element tag name\n   * @returns {SSRElement} Mock SVG element\n   */\n  createElementNS(namespaceURI, qualifiedName) {\n    return new SSRElement(qualifiedName, namespaceURI);\n  }\n  /**\n   * Create text node\n   * @param {string} data - Text content\n   * @returns {object} Text node mock\n   */\n  createTextNode(data) {\n    return {\n      nodeName: \"#text\",\n      nodeType: 3,\n      textContent: data,\n      toString() {\n        return this.textContent;\n      }\n    };\n  }\n  /**\n   * Query selector (returns null in SSR)\n   * @returns {null}\n   */\n  querySelector() {\n    return null;\n  }\n  /**\n   * Query selector all (returns empty array in SSR)\n   * @returns {Array}\n   */\n  querySelectorAll() {\n    return [];\n  }\n  /**\n   * Get computed style (returns empty object in SSR)\n   * @returns {object}\n   */\n  getComputedStyle() {\n    return {};\n  }\n  /**\n   * Get bounding client rect for element\n   * @param {SSRElement} element - Element to measure\n   * @returns {object} Mock dimensions\n   */\n  getBoundingClientRect(element) {\n    if (element && element.getBoundingClientRect) {\n      return element.getBoundingClientRect();\n    }\n    return {\n      width: 0,\n      height: 0,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  }\n  /**\n   * Create mock XMLSerializer for SSR\n   * @returns {object} XMLSerializer mock\n   */\n  createXMLSerializer() {\n    return {\n      serializeToString(element) {\n        return element.toString ? element.toString() : \"\";\n      }\n    };\n  }\n  /**\n   * Create mock DOMParser for SSR\n   * @returns {object} DOMParser mock\n   */\n  createDOMParser() {\n    return {\n      parseFromString(str, _type) {\n        const root = new SSRElement(\"root\");\n        root.innerHTML = str;\n        return {\n          documentElement: root\n        };\n      }\n    };\n  }\n}\nlet shim = null;\nlet xmlSerializerInstance = null;\nlet domParserInstance = null;\nclass BrowserAPIs {\n  /**\n   * Initialize the SSR shim if in SSR environment\n   * Must be called before using other methods\n   */\n  static init() {\n    if (Environment.isSSR() && !shim) {\n      shim = new SSRDOMShim();\n    }\n  }\n  /**\n   * Create an SVG element with namespace\n   * @param {string} namespaceURI - Namespace URI\n   * @param {string} qualifiedName - Element tag name\n   * @returns {Element|SSRElement} SVG element\n   */\n  static createElementNS(namespaceURI, qualifiedName) {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      return shim.createElementNS(namespaceURI, qualifiedName);\n    }\n    return document.createElementNS(namespaceURI, qualifiedName);\n  }\n  /**\n   * Create a text node\n   * @param {string} data - Text content\n   * @returns {Text|object} Text node\n   */\n  static createTextNode(data) {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      return shim.createTextNode(data);\n    }\n    return document.createTextNode(data);\n  }\n  /**\n   * Query selector\n   * @param {string} selector - CSS selector\n   * @returns {Element|null}\n   */\n  static querySelector(selector) {\n    if (Environment.isSSR()) {\n      return null;\n    }\n    return document.querySelector(selector);\n  }\n  /**\n   * Query selector all\n   * @param {string} selector - CSS selector\n   * @returns {NodeList|Array}\n   */\n  static querySelectorAll(selector) {\n    if (Environment.isSSR()) {\n      return [];\n    }\n    return document.querySelectorAll(selector);\n  }\n  /**\n   * Get computed style for an element\n   * @param {Element} element - Element to get styles for\n   * @returns {CSSStyleDeclaration|object}\n   */\n  static getComputedStyle(element) {\n    if (Environment.isSSR()) {\n      return {};\n    }\n    return window.getComputedStyle(element);\n  }\n  /**\n   * Get bounding client rect for an element\n   * @param {Element} element - Element to measure\n   * @returns {DOMRect|object}\n   */\n  static getBoundingClientRect(element) {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      return shim.getBoundingClientRect(element);\n    }\n    return element ? element.getBoundingClientRect() : {\n      width: 0,\n      height: 0,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  }\n  /**\n   * Get XMLSerializer instance\n   * @returns {XMLSerializer|object}\n   */\n  static getXMLSerializer() {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      if (!xmlSerializerInstance) {\n        xmlSerializerInstance = shim.createXMLSerializer();\n      }\n      return xmlSerializerInstance;\n    }\n    if (!xmlSerializerInstance) {\n      xmlSerializerInstance = new XMLSerializer();\n    }\n    return xmlSerializerInstance;\n  }\n  /**\n   * Get DOMParser instance\n   * @returns {DOMParser|object}\n   */\n  static getDOMParser() {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      if (!domParserInstance) {\n        domParserInstance = shim.createDOMParser();\n      }\n      return domParserInstance;\n    }\n    if (!domParserInstance) {\n      domParserInstance = new DOMParser();\n    }\n    return domParserInstance;\n  }\n  /**\n   * Add event listener to window\n   * @param {string} event - Event name\n   * @param {Function} handler - Event handler\n   * @param {object} options - Event options\n   */\n  static addWindowEventListener(event, handler, options2) {\n    if (Environment.isBrowser()) {\n      window.addEventListener(event, handler, options2);\n    }\n  }\n  /**\n   * Remove event listener from window\n   * @param {string} event - Event name\n   * @param {Function} handler - Event handler\n   * @param {object} options - Event options\n   */\n  static removeWindowEventListener(event, handler, options2) {\n    if (Environment.isBrowser()) {\n      window.removeEventListener(event, handler, options2);\n    }\n  }\n  /**\n   * Request animation frame\n   * @param {Function} callback - Callback function\n   * @returns {number|null}\n   */\n  static requestAnimationFrame(callback) {\n    if (Environment.isBrowser()) {\n      return window.requestAnimationFrame(callback);\n    }\n    callback();\n    return null;\n  }\n  /**\n   * Cancel animation frame\n   * @param {number} id - Animation frame ID\n   */\n  static cancelAnimationFrame(id) {\n    if (Environment.isBrowser() && id) {\n      window.cancelAnimationFrame(id);\n    }\n  }\n  /**\n   * Check if element exists\n   * @param {Element} element - Element to check\n   * @returns {boolean}\n   */\n  static elementExists(element) {\n    if (!element) return false;\n    if (Environment.isSSR()) {\n      return element._ssrMode === true || element.nodeName !== void 0;\n    }\n    return element.getRootNode ? element.getRootNode({\n      composed: true\n    }) === document || element.isConnected : false;\n  }\n  /**\n   * Get window object (or null in SSR)\n   * @returns {Window|null}\n   */\n  static getWindow() {\n    return Environment.isBrowser() ? window : null;\n  }\n  /**\n   * Get document object (or null in SSR)\n   * @returns {Document|null}\n   */\n  static getDocument() {\n    return Environment.isBrowser() ? document : null;\n  }\n  /**\n   * Get the shim instance (for testing purposes)\n   * @returns {SSRDOMShim|null}\n   */\n  static _getShim() {\n    return shim;\n  }\n  /**\n   * Reset the shim instance (for testing purposes)\n   */\n  static _resetShim() {\n    shim = null;\n    xmlSerializerInstance = null;\n    domParserInstance = null;\n  }\n}\nlet Utils$1 = class Utils {\n  static bind(fn, me) {\n    return function () {\n      return fn.apply(me, arguments);\n    };\n  }\n  static isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n  }\n  // Type checking that works across different window objects\n  static is(type, val) {\n    return Object.prototype.toString.call(val) === \"[object \" + type + \"]\";\n  }\n  static isSafari() {\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  }\n  static listToArray(list) {\n    let i,\n      array = [];\n    for (i = 0; i < list.length; i++) {\n      array[i] = list[i];\n    }\n    return array;\n  }\n  // to extend defaults with user options\n  // credit: http://stackoverflow.com/questions/27936772/deep-object-merging-in-es6-es7#answer-34749873\n  static extend(target, source) {\n    if (typeof Object.assign !== \"function\") {\n      (function () {\n        Object.assign = function (target2) {\n          if (target2 === void 0 || target2 === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n          }\n          let output2 = Object(target2);\n          for (let index = 1; index < arguments.length; index++) {\n            let source2 = arguments[index];\n            if (source2 !== void 0 && source2 !== null) {\n              for (let nextKey in source2) {\n                if (Object.prototype.hasOwnProperty.call(source2, nextKey)) {\n                  output2[nextKey] = source2[nextKey];\n                }\n              }\n            }\n          }\n          return output2;\n        };\n      })();\n    }\n    let output = Object.assign({}, target);\n    if (this.isObject(target) && this.isObject(source)) {\n      Object.keys(source).forEach(key => {\n        if (this.isObject(source[key])) {\n          if (!(key in target)) {\n            Object.assign(output, {\n              [key]: source[key]\n            });\n          } else {\n            output[key] = this.extend(target[key], source[key]);\n          }\n        } else {\n          Object.assign(output, {\n            [key]: source[key]\n          });\n        }\n      });\n    }\n    return output;\n  }\n  static extendArray(arrToExtend, resultArr) {\n    let extendedArr = [];\n    arrToExtend.map(item => {\n      extendedArr.push(Utils.extend(resultArr, item));\n    });\n    arrToExtend = extendedArr;\n    return arrToExtend;\n  }\n  // If month counter exceeds 12, it starts again from 1\n  static monthMod(month) {\n    return month % 12;\n  }\n  /**\n   * clone object with optional shallow copy for performance\n   * @param {*} source - Source object to clone\n   * @param {WeakMap} visited - Circular reference tracker\n   * @param {boolean} shallow - If true, performs shallow copy (default: false)\n   * @returns {*} Cloned object\n   */\n  static clone(source, visited = /* @__PURE__ */new WeakMap(), shallow = false) {\n    if (source === null || typeof source !== \"object\") {\n      return source;\n    }\n    if (visited.has(source)) {\n      return visited.get(source);\n    }\n    let cloneResult;\n    if (Array.isArray(source)) {\n      if (shallow) {\n        cloneResult = source.slice();\n      } else {\n        cloneResult = [];\n        visited.set(source, cloneResult);\n        for (let i = 0; i < source.length; i++) {\n          cloneResult[i] = this.clone(source[i], visited, false);\n        }\n      }\n    } else if (source instanceof Date) {\n      cloneResult = new Date(source.getTime());\n    } else {\n      if (shallow) {\n        cloneResult = Object.assign({}, source);\n      } else {\n        cloneResult = {};\n        visited.set(source, cloneResult);\n        for (let prop in source) {\n          if (Object.prototype.hasOwnProperty.call(source, prop)) {\n            cloneResult[prop] = this.clone(source[prop], visited, false);\n          }\n        }\n      }\n    }\n    return cloneResult;\n  }\n  /**\n   * Shallow clone for performance when deep clone isn't needed\n   * @param {*} source - Source to clone\n   * @returns {*} Shallow cloned object\n   */\n  static shallowClone(source) {\n    if (source === null || typeof source !== \"object\") {\n      return source;\n    }\n    if (Array.isArray(source)) {\n      return source.slice();\n    }\n    return Object.assign({}, source);\n  }\n  /**\n   * Fast shallow equality check for objects\n   * @param {Object} obj1 - First object\n   * @param {Object} obj2 - Second object\n   * @returns {boolean} True if shallowly equal\n   */\n  static shallowEqual(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (!obj1 || !obj2) return false;\n    if (typeof obj1 !== \"object\" || typeof obj2 !== \"object\") {\n      return obj1 === obj2;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (let key of keys1) {\n      if (obj1[key] !== obj2[key]) return false;\n    }\n    return true;\n  }\n  static log10(x) {\n    return Math.log(x) / Math.LN10;\n  }\n  static roundToBase10(x) {\n    return Math.pow(10, Math.floor(Math.log10(x)));\n  }\n  static roundToBase(x, base) {\n    return Math.pow(base, Math.floor(Math.log(x) / Math.log(base)));\n  }\n  static parseNumber(val) {\n    if (typeof val === \"number\" || val === null) return val;\n    return parseFloat(val);\n  }\n  static stripNumber(num, precision = 2) {\n    return Number.isInteger(num) ? num : parseFloat(num.toPrecision(precision));\n  }\n  static randomId() {\n    return (Math.random() + 1).toString(36).substring(4);\n  }\n  static noExponents(num) {\n    if (num.toString().includes(\"e\")) {\n      return Math.round(num);\n    }\n    return num;\n  }\n  static elementExists(element) {\n    if (!element || !element.isConnected) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * detects if an element is inside a Shadow DOM\n   */\n  static isInShadowDOM(el) {\n    if (!el || !el.getRootNode) {\n      return false;\n    }\n    const rootNode = el.getRootNode();\n    return rootNode && rootNode !== document && Utils.is(\"ShadowRoot\", rootNode);\n  }\n  /**\n   * gets the shadow root host element\n   */\n  static getShadowRootHost(el) {\n    if (!Utils.isInShadowDOM(el)) {\n      return null;\n    }\n    const rootNode = el.getRootNode();\n    return rootNode.host || null;\n  }\n  static getDimensions(el) {\n    if (!el) return [0, 0];\n    if (Environment.isSSR()) {\n      return [el._ssrWidth || 400, el._ssrHeight || 300];\n    }\n    const rootNode = el.getRootNode && el.getRootNode();\n    const inShadowDOM = rootNode && rootNode !== document;\n    if (inShadowDOM && rootNode.host) {\n      const hostRect = rootNode.host.getBoundingClientRect();\n      return [hostRect.width, hostRect.height];\n    }\n    let computedStyle;\n    try {\n      computedStyle = getComputedStyle(el, null);\n    } catch (e) {\n      return [el.clientWidth || 0, el.clientHeight || 0];\n    }\n    let elementHeight = el.clientHeight;\n    let elementWidth = el.clientWidth;\n    elementHeight -= parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom);\n    elementWidth -= parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight);\n    return [elementWidth, elementHeight];\n  }\n  static getBoundingClientRect(element) {\n    if (!element) {\n      return {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n    }\n    if (Environment.isSSR()) {\n      return BrowserAPIs.getBoundingClientRect(element);\n    }\n    const rect = element.getBoundingClientRect();\n    return {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: element.clientWidth,\n      height: element.clientHeight,\n      x: rect.left,\n      y: rect.top\n    };\n  }\n  static getLargestStringFromArr(arr) {\n    return arr.reduce((a, b) => {\n      if (Array.isArray(b)) {\n        b = b.reduce((aa, bb) => aa.length > bb.length ? aa : bb);\n      }\n      return a.length > b.length ? a : b;\n    }, 0);\n  }\n  // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-12342275\n  static hexToRgba(hex = \"#999999\", opacity = 0.6) {\n    if (hex.substring(0, 1) !== \"#\") {\n      hex = \"#999999\";\n    }\n    let h = hex.replace(\"#\", \"\");\n    h = h.match(new RegExp(\"(.{\" + h.length / 3 + \"})\", \"g\"));\n    for (let i = 0; i < h.length; i++) {\n      h[i] = parseInt(h[i].length === 1 ? h[i] + h[i] : h[i], 16);\n    }\n    if (typeof opacity !== \"undefined\") h.push(opacity);\n    return \"rgba(\" + h.join(\",\") + \")\";\n  }\n  static getOpacityFromRGBA(rgba) {\n    return parseFloat(rgba.replace(/^.*,(.+)\\)/, \"$1\"));\n  }\n  static rgb2hex(rgb) {\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgb && rgb.length === 4 ? \"#\" + (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : \"\";\n  }\n  shadeRGBColor(percent, color) {\n    let f = color.split(\",\"),\n      t = percent < 0 ? 0 : 255,\n      p = percent < 0 ? percent * -1 : percent,\n      R = parseInt(f[0].slice(4), 10),\n      G = parseInt(f[1], 10),\n      B = parseInt(f[2], 10);\n    return \"rgb(\" + (Math.round((t - R) * p) + R) + \",\" + (Math.round((t - G) * p) + G) + \",\" + (Math.round((t - B) * p) + B) + \")\";\n  }\n  shadeHexColor(percent, color) {\n    let f = parseInt(color.slice(1), 16),\n      t = percent < 0 ? 0 : 255,\n      p = percent < 0 ? percent * -1 : percent,\n      R = f >> 16,\n      G = f >> 8 & 255,\n      B = f & 255;\n    return \"#\" + (16777216 + (Math.round((t - R) * p) + R) * 65536 + (Math.round((t - G) * p) + G) * 256 + (Math.round((t - B) * p) + B)).toString(16).slice(1);\n  }\n  // beautiful color shading blending code\n  // http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors\n  shadeColor(p, color) {\n    if (Utils.isColorHex(color)) {\n      return this.shadeHexColor(p, color);\n    } else {\n      return this.shadeRGBColor(p, color);\n    }\n  }\n  static isColorHex(color) {\n    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(color);\n  }\n  static isCSSVariable(color) {\n    if (typeof color !== \"string\") return false;\n    const value = color.trim();\n    return value.startsWith(\"var(\") && value.endsWith(\")\");\n  }\n  static getThemeColor(color) {\n    if (!Utils.isCSSVariable(color)) return color;\n    const tempElem = document.createElement(\"div\");\n    tempElem.style.cssText = \"position:fixed; left: -9999px; visibility:hidden;\";\n    tempElem.style.color = color;\n    document.body.appendChild(tempElem);\n    let computedColor;\n    try {\n      computedColor = window.getComputedStyle(tempElem).color;\n    } finally {\n      if (tempElem.parentNode) {\n        tempElem.parentNode.removeChild(tempElem);\n      }\n    }\n    return computedColor;\n  }\n  static getPolygonPos(size, dataPointsLen) {\n    let dotsArray = [];\n    let angle = Math.PI * 2 / dataPointsLen;\n    for (let i = 0; i < dataPointsLen; i++) {\n      let curPos = {};\n      curPos.x = size * Math.sin(i * angle);\n      curPos.y = -size * Math.cos(i * angle);\n      dotsArray.push(curPos);\n    }\n    return dotsArray;\n  }\n  static polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n    let angleInRadians = (angleInDegrees - 90) * Math.PI / 180;\n    return {\n      x: centerX + radius * Math.cos(angleInRadians),\n      y: centerY + radius * Math.sin(angleInRadians)\n    };\n  }\n  static escapeString(str, escapeWith = \"x\") {\n    let newStr = str.toString().slice();\n    newStr = newStr.replace(/[` ~!@#$%^&*()|+=?;:'\",.<>{}[\\]\\\\/]/gi, escapeWith);\n    return newStr;\n  }\n  static negToZero(val) {\n    return val < 0 ? 0 : val;\n  }\n  static moveIndexInArray(arr, old_index, new_index) {\n    if (new_index >= arr.length) {\n      let k = new_index - arr.length + 1;\n      while (k--) {\n        arr.push(void 0);\n      }\n    }\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n    return arr;\n  }\n  static extractNumber(s) {\n    return parseFloat(s.replace(/[^\\d.]*/g, \"\"));\n  }\n  static findAncestor(el, cls) {\n    while ((el = el.parentElement) && !el.classList.contains(cls));\n    return el;\n  }\n  static setELstyles(el, styles) {\n    for (let key in styles) {\n      if (Object.prototype.hasOwnProperty.call(styles, key)) {\n        el.style.key = styles[key];\n      }\n    }\n  }\n  // prevents JS prevision errors when adding\n  static preciseAddition(a, b) {\n    let aDecimals = (String(a).split(\".\")[1] || \"\").length;\n    let bDecimals = (String(b).split(\".\")[1] || \"\").length;\n    let factor = Math.pow(10, Math.max(aDecimals, bDecimals));\n    return (Math.round(a * factor) + Math.round(b * factor)) / factor;\n  }\n  static isNumber(value) {\n    return !isNaN(value) && parseFloat(Number(value)) === value && !isNaN(parseInt(value, 10));\n  }\n  static isFloat(n) {\n    return Number(n) === n && n % 1 !== 0;\n  }\n  static isMsEdge() {\n    let ua = window.navigator.userAgent;\n    let edge = ua.indexOf(\"Edge/\");\n    if (edge > 0) {\n      return parseInt(ua.substring(edge + 5, ua.indexOf(\".\", edge)), 10);\n    }\n    return false;\n  }\n  //\n  // Find the Greatest Common Divisor of two numbers\n  //\n  static getGCD(a, b, p = 7) {\n    let factor = Math.pow(10, p - Math.floor(Math.log10(Math.max(a, b))));\n    if (factor > 1) {\n      a = Math.round(Math.abs(a) * factor);\n      b = Math.round(Math.abs(b) * factor);\n    } else {\n      factor = 1;\n    }\n    while (b) {\n      let t = b;\n      b = a % b;\n      a = t;\n    }\n    return a / factor;\n  }\n  static getPrimeFactors(n) {\n    const factors = [];\n    let divisor = 2;\n    while (n >= 2) {\n      if (n % divisor == 0) {\n        factors.push(divisor);\n        n = n / divisor;\n      } else {\n        divisor++;\n      }\n    }\n    return factors;\n  }\n  static mod(a, b, p = 7) {\n    let big = Math.pow(10, p - Math.floor(Math.log10(Math.max(a, b))));\n    a = Math.round(Math.abs(a) * big);\n    b = Math.round(Math.abs(b) * big);\n    return a % b / big;\n  }\n};\nclass Animations {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  animateLine(el, from, to, speed) {\n    el.attr(from).animate(speed).attr(to);\n  }\n  /*\n   ** Animate radius of a circle element\n   */\n  animateMarker(el, speed, easing, cb) {\n    el.attr({\n      opacity: 0\n    }).animate(speed).attr({\n      opacity: 1\n    }).after(() => {\n      cb();\n    });\n  }\n  /*\n   ** Animate rect properties\n   */\n  animateRect(el, from, to, speed, fn) {\n    el.attr(from).animate(speed).attr(to).after(() => fn());\n  }\n  animatePathsGradually(params) {\n    let {\n      el,\n      realIndex,\n      j,\n      fill,\n      pathFrom,\n      pathTo,\n      speed,\n      delay\n    } = params;\n    let me = this;\n    let w = this.w;\n    let delayFactor = 0;\n    if (w.config.chart.animations.animateGradually.enabled) {\n      delayFactor = w.config.chart.animations.animateGradually.delay;\n    }\n    if (w.config.chart.animations.dynamicAnimation.enabled && w.globals.dataChanged && w.config.chart.type !== \"bar\") {\n      delayFactor = 0;\n    }\n    me.morphSVG(el, realIndex, j, w.config.chart.type === \"line\" && !w.globals.comboCharts ? \"stroke\" : fill, pathFrom, pathTo, speed, delay * delayFactor);\n  }\n  showDelayedElements() {\n    this.w.globals.delayedElements.forEach(d => {\n      const ele = d.el;\n      ele.classList.remove(\"apexcharts-element-hidden\");\n      ele.classList.add(\"apexcharts-hidden-element-shown\");\n    });\n  }\n  animationCompleted(el) {\n    const w = this.w;\n    if (w.globals.animationEnded) return;\n    w.globals.animationEnded = true;\n    this.showDelayedElements();\n    if (typeof w.config.chart.events.animationEnd === \"function\") {\n      w.config.chart.events.animationEnd(this.ctx, {\n        el,\n        w\n      });\n    }\n  }\n  // SVG.js animation for morphing one path to another\n  morphSVG(el, realIndex, j, fill, pathFrom, pathTo, speed, delay) {\n    let w = this.w;\n    if (!pathFrom) {\n      pathFrom = el.attr(\"pathFrom\");\n    }\n    if (!pathTo) {\n      pathTo = el.attr(\"pathTo\");\n    }\n    const disableAnimationForCorrupPath = () => {\n      if (w.config.chart.type === \"radar\") {\n        speed = 1;\n      }\n      return `M 0 ${w.globals.gridHeight}`;\n    };\n    if (!pathFrom || pathFrom.indexOf(\"undefined\") > -1 || pathFrom.indexOf(\"NaN\") > -1) {\n      pathFrom = disableAnimationForCorrupPath();\n    }\n    if (!pathTo.trim() || pathTo.indexOf(\"undefined\") > -1 || pathTo.indexOf(\"NaN\") > -1) {\n      pathTo = disableAnimationForCorrupPath();\n    }\n    if (!w.globals.shouldAnimate) {\n      speed = 1;\n    }\n    el.plot(pathFrom).animate(1, delay).plot(pathFrom).animate(speed, delay).plot(pathTo).after(() => {\n      if (Utils$1.isNumber(j)) {\n        if (j === w.globals.series[w.globals.maxValsInArrayIndex].length - 2 && w.globals.shouldAnimate) {\n          this.animationCompleted(el);\n        }\n      } else if (fill !== \"none\" && w.globals.shouldAnimate) {\n        if (!w.globals.comboCharts && realIndex === w.globals.series.length - 1 || w.globals.comboCharts) {\n          this.animationCompleted(el);\n        }\n      }\n      this.showDelayedElements();\n    });\n  }\n}\nclass Filters {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // create a re-usable filter which can be appended other filter effects and applied to multiple elements\n  getDefaultFilter(el, i) {\n    const w = this.w;\n    if (el.unfilter) {\n      el.unfilter(true);\n    }\n    if (w.config.chart.dropShadow.enabled) {\n      this.dropShadow(el, w.config.chart.dropShadow, i);\n    }\n  }\n  applyFilter(el, i, filterType) {\n    var _a, _b, _c;\n    const w = this.w;\n    if (el.unfilter) {\n      el.unfilter(true);\n    }\n    if (filterType === \"none\") {\n      this.getDefaultFilter(el, i);\n      return;\n    }\n    const shadowAttr = w.config.chart.dropShadow;\n    const brightnessFactor = filterType === \"lighten\" ? 2 : 0.3;\n    if (el.filterWith) {\n      el.filterWith(add => {\n        add.colorMatrix({\n          type: \"matrix\",\n          values: `\n            ${brightnessFactor} 0 0 0 0\n            0 ${brightnessFactor} 0 0 0\n            0 0 ${brightnessFactor} 0 0\n            0 0 0 1 0\n          `,\n          in: \"SourceGraphic\",\n          result: \"brightness\"\n        });\n        if (shadowAttr.enabled) {\n          this.addShadow(add, i, shadowAttr, \"brightness\");\n        }\n      });\n      if (!shadowAttr.noUserSpaceOnUse) {\n        (_b = (_a = el.filterer()) == null ? void 0 : _a.node) == null ? void 0 : _b.setAttribute(\"filterUnits\", \"userSpaceOnUse\");\n      }\n      this._scaleFilterSize((_c = el.filterer()) == null ? void 0 : _c.node);\n    }\n  }\n  // appends dropShadow to the filter object which can be chained with other filter effects\n  addShadow(add, i, attrs, source) {\n    var _a;\n    const w = this.w;\n    let {\n      blur,\n      top,\n      left,\n      color,\n      opacity\n    } = attrs;\n    color = Array.isArray(color) ? color[i] : color;\n    if (((_a = w.config.chart.dropShadow.enabledOnSeries) == null ? void 0 : _a.length) > 0) {\n      if (w.config.chart.dropShadow.enabledOnSeries.indexOf(i) === -1) {\n        return add;\n      }\n    }\n    add.offset({\n      in: source,\n      dx: left,\n      dy: top,\n      result: \"offset\"\n    });\n    add.gaussianBlur({\n      in: \"offset\",\n      stdDeviation: blur,\n      result: \"blur\"\n    });\n    add.flood({\n      \"flood-color\": color,\n      \"flood-opacity\": opacity,\n      result: \"flood\"\n    });\n    add.composite({\n      in: \"flood\",\n      in2: \"blur\",\n      operator: \"in\",\n      result: \"shadow\"\n    });\n    add.merge([\"shadow\", source]);\n  }\n  // directly adds dropShadow to the element and returns the same element.\n  dropShadow(el, attrs, i = 0) {\n    var _a, _b, _c, _d, _e;\n    const w = this.w;\n    if (el.unfilter) {\n      el.unfilter(true);\n    }\n    if (Utils$1.isMsEdge() && w.config.chart.type === \"radialBar\") {\n      return el;\n    }\n    if (((_a = w.config.chart.dropShadow.enabledOnSeries) == null ? void 0 : _a.length) > 0) {\n      if (((_b = w.config.chart.dropShadow.enabledOnSeries) == null ? void 0 : _b.indexOf(i)) === -1) {\n        return el;\n      }\n    }\n    if (el.filterWith) {\n      el.filterWith(add => {\n        this.addShadow(add, i, attrs, \"SourceGraphic\");\n      });\n      if (!attrs.noUserSpaceOnUse) {\n        (_d = (_c = el.filterer()) == null ? void 0 : _c.node) == null ? void 0 : _d.setAttribute(\"filterUnits\", \"userSpaceOnUse\");\n      }\n      this._scaleFilterSize((_e = el.filterer()) == null ? void 0 : _e.node);\n    }\n    return el;\n  }\n  setSelectionFilter(el, realIndex, dataPointIndex) {\n    const w = this.w;\n    if (typeof w.globals.selectedDataPoints[realIndex] !== \"undefined\") {\n      if (w.globals.selectedDataPoints[realIndex].indexOf(dataPointIndex) > -1) {\n        el.node.setAttribute(\"selected\", true);\n        let activeFilter = w.config.states.active.filter;\n        if (activeFilter !== \"none\") {\n          this.applyFilter(el, realIndex, activeFilter.type);\n        }\n      }\n    }\n  }\n  _scaleFilterSize(el) {\n    if (!el) return;\n    const setAttributes = attrs => {\n      for (let key in attrs) {\n        if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n          el.setAttribute(key, attrs[key]);\n        }\n      }\n    };\n    setAttributes({\n      width: \"200%\",\n      height: \"200%\",\n      x: \"-50%\",\n      y: \"-50%\"\n    });\n  }\n}\nclass Graphics {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  /*****************************************************************************\n   *                                                                            *\n   *  SVG Path Rounding Function                                                *\n   *  Copyright (C) 2014 Yona Appletree                                         *\n   *                                                                            *\n   *  Licensed under the Apache License, Version 2.0 (the \"License\");           *\n   *  you may not use this file except in compliance with the License.          *\n   *  You may obtain a copy of the License at                                   *\n   *                                                                            *\n   *      http://www.apache.org/licenses/LICENSE-2.0                            *\n   *                                                                            *\n   *  Unless required by applicable law or agreed to in writing, software       *\n   *  distributed under the License is distributed on an \"AS IS\" BASIS,         *\n   *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  *\n   *  See the License for the specific language governing permissions and       *\n   *  limitations under the License.                                            *\n   *                                                                            *\n   *****************************************************************************/\n  /**\n   * SVG Path rounding function. Takes an input path string and outputs a path\n   * string where all line-line corners have been rounded. Only supports absolute\n   * commands at the moment.\n   *\n   * @param pathString The SVG input path\n   * @param radius The amount to round the corners, either a value in the SVG\n   *               coordinate space, or, if useFractionalRadius is true, a value\n   *               from 0 to 1.\n   * @returns A new SVG path string with the rounding\n   */\n  roundPathCorners(pathString, radius) {\n    if (pathString.indexOf(\"NaN\") > -1) pathString = \"\";\n    function moveTowardsLength(movingPoint, targetPoint, amount) {\n      var width = targetPoint.x - movingPoint.x;\n      var height = targetPoint.y - movingPoint.y;\n      var distance = Math.sqrt(width * width + height * height);\n      return moveTowardsFractional(movingPoint, targetPoint, Math.min(1, amount / distance));\n    }\n    function moveTowardsFractional(movingPoint, targetPoint, fraction) {\n      return {\n        x: movingPoint.x + (targetPoint.x - movingPoint.x) * fraction,\n        y: movingPoint.y + (targetPoint.y - movingPoint.y) * fraction\n      };\n    }\n    function adjustCommand(cmd, newPoint) {\n      if (cmd.length > 2) {\n        cmd[cmd.length - 2] = newPoint.x;\n        cmd[cmd.length - 1] = newPoint.y;\n      }\n    }\n    function pointForCommand(cmd) {\n      return {\n        x: parseFloat(cmd[cmd.length - 2]),\n        y: parseFloat(cmd[cmd.length - 1])\n      };\n    }\n    var pathParts = pathString.split(/[,\\s]/).reduce(function (parts, part) {\n      var match = part.match(/^([a-zA-Z])(.+)/);\n      if (match) {\n        parts.push(match[1]);\n        parts.push(match[2]);\n      } else {\n        parts.push(part);\n      }\n      return parts;\n    }, []);\n    var commands = pathParts.reduce(function (commands2, part) {\n      if (parseFloat(part) == part && commands2.length) {\n        commands2[commands2.length - 1].push(part);\n      } else {\n        commands2.push([part]);\n      }\n      return commands2;\n    }, []);\n    var resultCommands = [];\n    if (commands.length > 1) {\n      var startPoint = pointForCommand(commands[0]);\n      var virtualCloseLine = null;\n      if (commands[commands.length - 1][0] == \"Z\" && commands[0].length > 2) {\n        virtualCloseLine = [\"L\", startPoint.x, startPoint.y];\n        commands[commands.length - 1] = virtualCloseLine;\n      }\n      resultCommands.push(commands[0]);\n      for (var cmdIndex = 1; cmdIndex < commands.length; cmdIndex++) {\n        var prevCmd = resultCommands[resultCommands.length - 1];\n        var curCmd = commands[cmdIndex];\n        var nextCmd = curCmd == virtualCloseLine ? commands[1] : commands[cmdIndex + 1];\n        if (nextCmd && prevCmd && prevCmd.length > 2 && curCmd[0] == \"L\" && nextCmd.length > 2 && nextCmd[0] == \"L\") {\n          var prevPoint = pointForCommand(prevCmd);\n          var curPoint = pointForCommand(curCmd);\n          var nextPoint = pointForCommand(nextCmd);\n          var curveStart, curveEnd;\n          curveStart = moveTowardsLength(curPoint, prevPoint, radius);\n          curveEnd = moveTowardsLength(curPoint, nextPoint, radius);\n          adjustCommand(curCmd, curveStart);\n          curCmd.origPoint = curPoint;\n          resultCommands.push(curCmd);\n          var startControl = moveTowardsFractional(curveStart, curPoint, 0.5);\n          var endControl = moveTowardsFractional(curPoint, curveEnd, 0.5);\n          var curveCmd = [\"C\", startControl.x, startControl.y, endControl.x, endControl.y, curveEnd.x, curveEnd.y];\n          curveCmd.origPoint = curPoint;\n          resultCommands.push(curveCmd);\n        } else {\n          resultCommands.push(curCmd);\n        }\n      }\n      if (virtualCloseLine) {\n        var newStartPoint = pointForCommand(resultCommands[resultCommands.length - 1]);\n        resultCommands.push([\"Z\"]);\n        adjustCommand(resultCommands[0], newStartPoint);\n      }\n    } else {\n      resultCommands = commands;\n    }\n    return resultCommands.reduce(function (str, c) {\n      return str + c.join(\" \") + \" \";\n    }, \"\");\n  }\n  drawLine(x1, y1, x2, y2, lineColor = \"#a8a8a8\", dashArray = 0, strokeWidth = null, strokeLineCap = \"butt\") {\n    let w = this.w;\n    let line = w.globals.dom.Paper.line().attr({\n      x1,\n      y1,\n      x2,\n      y2,\n      stroke: lineColor,\n      \"stroke-dasharray\": dashArray,\n      \"stroke-width\": strokeWidth,\n      \"stroke-linecap\": strokeLineCap\n    });\n    return line;\n  }\n  drawRect(x1 = 0, y1 = 0, x2 = 0, y2 = 0, radius = 0, color = \"#fefefe\", opacity = 1, strokeWidth = null, strokeColor = null, strokeDashArray = 0) {\n    let w = this.w;\n    let rect = w.globals.dom.Paper.rect();\n    rect.attr({\n      x: x1,\n      y: y1,\n      width: x2 > 0 ? x2 : 0,\n      height: y2 > 0 ? y2 : 0,\n      rx: radius,\n      ry: radius,\n      opacity,\n      \"stroke-width\": strokeWidth !== null ? strokeWidth : 0,\n      stroke: strokeColor !== null ? strokeColor : \"none\",\n      \"stroke-dasharray\": strokeDashArray\n    });\n    rect.node.setAttribute(\"fill\", color);\n    return rect;\n  }\n  drawPolygon(polygonString, stroke = \"#e1e1e1\", strokeWidth = 1, fill = \"none\") {\n    const w = this.w;\n    const polygon = w.globals.dom.Paper.polygon(polygonString).attr({\n      fill,\n      stroke,\n      \"stroke-width\": strokeWidth\n    });\n    return polygon;\n  }\n  drawCircle(radius, attrs = null) {\n    const w = this.w;\n    if (radius < 0) radius = 0;\n    const c = w.globals.dom.Paper.circle(radius * 2);\n    if (attrs !== null) {\n      c.attr(attrs);\n    }\n    return c;\n  }\n  drawPath({\n    d = \"\",\n    stroke = \"#a8a8a8\",\n    strokeWidth = 1,\n    fill,\n    fillOpacity = 1,\n    strokeOpacity = 1,\n    classes,\n    strokeLinecap = null,\n    strokeDashArray = 0\n  }) {\n    let w = this.w;\n    if (strokeLinecap === null) {\n      strokeLinecap = w.config.stroke.lineCap;\n    }\n    if (d.indexOf(\"undefined\") > -1 || d.indexOf(\"NaN\") > -1) {\n      d = `M 0 ${w.globals.gridHeight}`;\n    }\n    let p = w.globals.dom.Paper.path(d).attr({\n      fill,\n      \"fill-opacity\": fillOpacity,\n      stroke,\n      \"stroke-opacity\": strokeOpacity,\n      \"stroke-linecap\": strokeLinecap,\n      \"stroke-width\": strokeWidth,\n      \"stroke-dasharray\": strokeDashArray,\n      class: classes\n    });\n    return p;\n  }\n  group(attrs = null) {\n    const w = this.w;\n    const g = w.globals.dom.Paper.group();\n    if (attrs !== null) {\n      g.attr(attrs);\n    }\n    return g;\n  }\n  move(x, y) {\n    let move = [\"M\", x, y].join(\" \");\n    return move;\n  }\n  line(x, y, hORv = null) {\n    let line = null;\n    if (hORv === null) {\n      line = [\" L\", x, y].join(\" \");\n    } else if (hORv === \"H\") {\n      line = [\" H\", x].join(\" \");\n    } else if (hORv === \"V\") {\n      line = [\" V\", y].join(\" \");\n    }\n    return line;\n  }\n  curve(x1, y1, x2, y2, x, y) {\n    let curve = [\"C\", x1, y1, x2, y2, x, y].join(\" \");\n    return curve;\n  }\n  quadraticCurve(x1, y1, x, y) {\n    let curve = [\"Q\", x1, y1, x, y].join(\" \");\n    return curve;\n  }\n  arc(rx, ry, axisRotation, largeArcFlag, sweepFlag, x, y, relative = false) {\n    let coord = \"A\";\n    if (relative) coord = \"a\";\n    let arc = [coord, rx, ry, axisRotation, largeArcFlag, sweepFlag, x, y].join(\" \");\n    return arc;\n  }\n  /**\n   * @memberof Graphics\n   * @param {object}\n   *  i = series's index\n   *  realIndex = realIndex is series's actual index when it was drawn time. After several redraws, the iterating \"i\" may change in loops, but realIndex doesn't\n   *  pathFrom = existing pathFrom to animateTo\n   *  pathTo = new Path to which d attr will be animated from pathFrom to pathTo\n   *  stroke = line Color\n   *  strokeWidth = width of path Line\n   *  fill = it can be gradient, single color, pattern or image\n   *  animationDelay = how much to delay when starting animation (in milliseconds)\n   *  dataChangeSpeed = for dynamic animations, when data changes\n   *  className = class attribute to add\n   * @return {object} svg.js path object\n   **/\n  renderPaths({\n    j,\n    realIndex,\n    pathFrom,\n    pathTo,\n    stroke,\n    strokeWidth,\n    strokeLinecap,\n    fill,\n    animationDelay,\n    initialSpeed,\n    dataChangeSpeed,\n    className,\n    chartType,\n    shouldClipToGrid = true,\n    bindEventsOnPaths = true,\n    drawShadow = true\n  }) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const anim = new Animations(this.ctx);\n    let initialAnim = this.w.config.chart.animations.enabled;\n    let dynamicAnim = initialAnim && this.w.config.chart.animations.dynamicAnimation.enabled;\n    if (pathFrom && pathFrom.startsWith(\"M 0 0\") && pathTo) {\n      const moveCommand = pathTo.match(/^M\\s+[\\d.-]+\\s+[\\d.-]+/);\n      if (moveCommand) {\n        pathFrom = pathFrom.replace(/^M\\s+0\\s+0/, moveCommand[0]);\n      }\n    }\n    let d;\n    let shouldAnimate = !!(initialAnim && !w.globals.resized || dynamicAnim && w.globals.dataChanged && w.globals.shouldAnimate);\n    if (shouldAnimate) {\n      d = pathFrom;\n    } else {\n      d = pathTo;\n      w.globals.animationEnded = true;\n    }\n    let strokeDashArrayOpt = w.config.stroke.dashArray;\n    let strokeDashArray = 0;\n    if (Array.isArray(strokeDashArrayOpt)) {\n      strokeDashArray = strokeDashArrayOpt[realIndex];\n    } else {\n      strokeDashArray = w.config.stroke.dashArray;\n    }\n    let el = this.drawPath({\n      d,\n      stroke,\n      strokeWidth,\n      fill,\n      fillOpacity: 1,\n      classes: className,\n      strokeLinecap,\n      strokeDashArray\n    });\n    el.attr(\"index\", realIndex);\n    if (shouldClipToGrid) {\n      if (chartType === \"bar\" && !w.globals.isHorizontal || w.globals.comboCharts) {\n        el.attr({\n          \"clip-path\": `url(#gridRectBarMask${w.globals.cuid})`\n        });\n      } else {\n        el.attr({\n          \"clip-path\": `url(#gridRectMask${w.globals.cuid})`\n        });\n      }\n    }\n    if (w.config.chart.dropShadow.enabled && drawShadow) {\n      filters.dropShadow(el, w.config.chart.dropShadow, realIndex);\n    }\n    if (bindEventsOnPaths) {\n      el.node.addEventListener(\"mouseenter\", this.pathMouseEnter.bind(this, el));\n      el.node.addEventListener(\"mouseleave\", this.pathMouseLeave.bind(this, el));\n      el.node.addEventListener(\"mousedown\", this.pathMouseDown.bind(this, el));\n    }\n    el.attr({\n      pathTo,\n      pathFrom\n    });\n    const defaultAnimateOpts = {\n      el,\n      j,\n      realIndex,\n      pathFrom,\n      pathTo,\n      fill,\n      strokeWidth,\n      delay: animationDelay\n    };\n    if (initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n      anim.animatePathsGradually(__spreadProps(__spreadValues({}, defaultAnimateOpts), {\n        speed: initialSpeed\n      }));\n    } else {\n      if (w.globals.resized || !w.globals.dataChanged) {\n        anim.showDelayedElements();\n      }\n    }\n    if (w.globals.dataChanged && dynamicAnim && shouldAnimate) {\n      anim.animatePathsGradually(__spreadProps(__spreadValues({}, defaultAnimateOpts), {\n        speed: dataChangeSpeed\n      }));\n    }\n    return el;\n  }\n  drawPattern(style, width, height, stroke = \"#a8a8a8\", strokeWidth = 0) {\n    let w = this.w;\n    let p = w.globals.dom.Paper.pattern(width, height, add => {\n      if (style === \"horizontalLines\") {\n        add.line(0, 0, height, 0).stroke({\n          color: stroke,\n          width: strokeWidth + 1\n        });\n      } else if (style === \"verticalLines\") {\n        add.line(0, 0, 0, width).stroke({\n          color: stroke,\n          width: strokeWidth + 1\n        });\n      } else if (style === \"slantedLines\") {\n        add.line(0, 0, width, height).stroke({\n          color: stroke,\n          width: strokeWidth\n        });\n      } else if (style === \"squares\") {\n        add.rect(width, height).fill(\"none\").stroke({\n          color: stroke,\n          width: strokeWidth\n        });\n      } else if (style === \"circles\") {\n        add.circle(width).fill(\"none\").stroke({\n          color: stroke,\n          width: strokeWidth\n        });\n      }\n    });\n    return p;\n  }\n  drawGradient(style, gfrom, gto, opacityFrom, opacityTo, size = null, stops = null, colorStops = [], i = 0) {\n    let w = this.w;\n    let g;\n    if (gfrom.length < 9 && gfrom.indexOf(\"#\") === 0) {\n      gfrom = Utils$1.hexToRgba(gfrom, opacityFrom);\n    }\n    if (gto.length < 9 && gto.indexOf(\"#\") === 0) {\n      gto = Utils$1.hexToRgba(gto, opacityTo);\n    }\n    let stop1 = 0;\n    let stop2 = 1;\n    let stop3 = 1;\n    let stop4 = null;\n    if (stops !== null) {\n      stop1 = typeof stops[0] !== \"undefined\" ? stops[0] / 100 : 0;\n      stop2 = typeof stops[1] !== \"undefined\" ? stops[1] / 100 : 1;\n      stop3 = typeof stops[2] !== \"undefined\" ? stops[2] / 100 : 1;\n      stop4 = typeof stops[3] !== \"undefined\" ? stops[3] / 100 : null;\n    }\n    let radial = !!(w.config.chart.type === \"donut\" || w.config.chart.type === \"pie\" || w.config.chart.type === \"polarArea\" || w.config.chart.type === \"bubble\");\n    if (!colorStops || colorStops.length === 0) {\n      g = w.globals.dom.Paper.gradient(radial ? \"radial\" : \"linear\", add => {\n        add.stop(stop1, gfrom, opacityFrom);\n        add.stop(stop2, gto, opacityTo);\n        add.stop(stop3, gto, opacityTo);\n        if (stop4 !== null) {\n          add.stop(stop4, gfrom, opacityFrom);\n        }\n      });\n    } else {\n      g = w.globals.dom.Paper.gradient(radial ? \"radial\" : \"linear\", add => {\n        let gradientStops = Array.isArray(colorStops[i]) ? colorStops[i] : colorStops;\n        gradientStops.forEach(s => {\n          add.stop(s.offset / 100, s.color, s.opacity);\n        });\n      });\n    }\n    if (!radial) {\n      if (style === \"vertical\") {\n        g.from(0, 0).to(0, 1);\n      } else if (style === \"diagonal\") {\n        g.from(0, 0).to(1, 1);\n      } else if (style === \"horizontal\") {\n        g.from(0, 1).to(1, 1);\n      } else if (style === \"diagonal2\") {\n        g.from(1, 0).to(0, 1);\n      }\n    } else {\n      let offx = w.globals.gridWidth / 2;\n      let offy = w.globals.gridHeight / 2;\n      if (w.config.chart.type !== \"bubble\") {\n        g.attr({\n          gradientUnits: \"userSpaceOnUse\",\n          cx: offx,\n          cy: offy,\n          r: size\n        });\n      } else {\n        g.attr({\n          cx: 0.5,\n          cy: 0.5,\n          r: 0.8,\n          fx: 0.2,\n          fy: 0.2\n        });\n      }\n    }\n    return g;\n  }\n  getTextBasedOnMaxWidth({\n    text,\n    maxWidth,\n    fontSize,\n    fontFamily\n  }) {\n    const tRects = this.getTextRects(text, fontSize, fontFamily);\n    const wordWidth = tRects.width / text.length;\n    const wordsBasedOnWidth = Math.floor(maxWidth / wordWidth);\n    if (maxWidth < tRects.width) {\n      return text.slice(0, wordsBasedOnWidth - 3) + \"...\";\n    }\n    return text;\n  }\n  drawText({\n    x,\n    y,\n    text,\n    textAnchor,\n    fontSize,\n    fontFamily,\n    fontWeight,\n    foreColor,\n    opacity,\n    maxWidth,\n    cssClass = \"\",\n    isPlainText = true,\n    dominantBaseline = \"auto\"\n  }) {\n    let w = this.w;\n    if (typeof text === \"undefined\") text = \"\";\n    let truncatedText = text;\n    if (!textAnchor) {\n      textAnchor = \"start\";\n    }\n    if (!foreColor || !foreColor.length) {\n      foreColor = w.config.chart.foreColor;\n    }\n    fontFamily = fontFamily || w.config.chart.fontFamily;\n    fontSize = fontSize || \"11px\";\n    fontWeight = fontWeight || \"regular\";\n    const commonProps = {\n      maxWidth,\n      fontSize,\n      fontFamily\n    };\n    let elText;\n    if (Array.isArray(text)) {\n      elText = w.globals.dom.Paper.text(add => {\n        for (let i = 0; i < text.length; i++) {\n          truncatedText = text[i];\n          if (maxWidth) {\n            truncatedText = this.getTextBasedOnMaxWidth(__spreadValues({\n              text: text[i]\n            }, commonProps));\n          }\n          i === 0 ? add.tspan(truncatedText) : add.tspan(truncatedText).newLine();\n        }\n      });\n    } else {\n      if (maxWidth) {\n        truncatedText = this.getTextBasedOnMaxWidth(__spreadValues({\n          text\n        }, commonProps));\n      }\n      elText = isPlainText ? w.globals.dom.Paper.plain(text) : w.globals.dom.Paper.text(add => add.tspan(truncatedText));\n    }\n    elText.attr({\n      x,\n      y,\n      \"text-anchor\": textAnchor,\n      \"dominant-baseline\": dominantBaseline,\n      \"font-size\": fontSize,\n      \"font-family\": fontFamily,\n      \"font-weight\": fontWeight,\n      fill: foreColor,\n      class: \"apexcharts-text \" + cssClass\n    });\n    elText.node.style.fontFamily = fontFamily;\n    elText.node.style.opacity = opacity;\n    return elText;\n  }\n  getMarkerPath(x, y, type, size) {\n    let d = \"\";\n    switch (type) {\n      case \"cross\":\n        size = size / 1.4;\n        d = `M ${x - size} ${y - size} L ${x + size} ${y + size}  M ${x - size} ${y + size} L ${x + size} ${y - size}`;\n        break;\n      case \"plus\":\n        size = size / 1.12;\n        d = `M ${x - size} ${y} L ${x + size} ${y}  M ${x} ${y - size} L ${x} ${y + size}`;\n        break;\n      case \"star\":\n      case \"sparkle\":\n        {\n          let points = 5;\n          size = size * 1.15;\n          if (type === \"sparkle\") {\n            size = size / 1.1;\n            points = 4;\n          }\n          const step = Math.PI / points;\n          for (let i = 0; i <= 2 * points; i++) {\n            const angle = i * step;\n            const radius = i % 2 === 0 ? size : size / 2;\n            const xPos = x + radius * Math.sin(angle);\n            const yPos = y - radius * Math.cos(angle);\n            d += (i === 0 ? \"M\" : \"L\") + xPos + \",\" + yPos;\n          }\n          d += \"Z\";\n          break;\n        }\n      case \"triangle\":\n        d = `M ${x} ${y - size} \n             L ${x + size} ${y + size} \n             L ${x - size} ${y + size} \n             Z`;\n        break;\n      case \"square\":\n      case \"rect\":\n        size = size / 1.125;\n        d = `M ${x - size} ${y - size} \n           L ${x + size} ${y - size} \n           L ${x + size} ${y + size} \n           L ${x - size} ${y + size} \n           Z`;\n        break;\n      case \"diamond\":\n        size = size * 1.05;\n        d = `M ${x} ${y - size} \n             L ${x + size} ${y} \n             L ${x} ${y + size} \n             L ${x - size} ${y} \n            Z`;\n        break;\n      case \"line\":\n        size = size / 1.1;\n        d = `M ${x - size} ${y} \n           L ${x + size} ${y}`;\n        break;\n      case \"circle\":\n      default:\n        size = size * 2;\n        d = `M ${x}, ${y} \n           m -${size / 2}, 0 \n           a ${size / 2},${size / 2} 0 1,0 ${size},0 \n           a ${size / 2},${size / 2} 0 1,0 -${size},0`;\n        break;\n    }\n    return d;\n  }\n  /**\n   * @param {number} x - The x-coordinate of the marker\n   * @param {number} y - The y-coordinate of the marker.\n   * @param {number} size - The size of the marker\n   * @param {Object} opts - The options for the marker.\n   * @returns {Object} The created marker.\n   */\n  drawMarkerShape(x, y, type, size, opts) {\n    const path = this.drawPath({\n      d: this.getMarkerPath(x, y, type, size, opts),\n      stroke: opts.pointStrokeColor,\n      strokeDashArray: opts.pointStrokeDashArray,\n      strokeWidth: opts.pointStrokeWidth,\n      fill: opts.pointFillColor,\n      fillOpacity: opts.pointFillOpacity,\n      strokeOpacity: opts.pointStrokeOpacity\n    });\n    path.attr({\n      cx: x,\n      cy: y,\n      shape: opts.shape,\n      class: opts.class ? opts.class : \"\"\n    });\n    return path;\n  }\n  drawMarker(x, y, opts) {\n    x = x || 0;\n    let size = opts.pSize || 0;\n    if (!Utils$1.isNumber(y)) {\n      size = 0;\n      y = 0;\n    }\n    return this.drawMarkerShape(x, y, opts == null ? void 0 : opts.shape, size, __spreadValues(__spreadValues({}, opts), opts.shape === \"line\" || opts.shape === \"plus\" || opts.shape === \"cross\" ? {\n      pointStrokeColor: opts.pointFillColor,\n      pointStrokeOpacity: opts.pointFillOpacity\n    } : {}));\n  }\n  pathMouseEnter(path, e) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const i = parseInt(path.node.getAttribute(\"index\"), 10);\n    const j = parseInt(path.node.getAttribute(\"j\"), 10);\n    if (typeof w.config.chart.events.dataPointMouseEnter === \"function\") {\n      w.config.chart.events.dataPointMouseEnter(e, this.ctx, {\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    this.ctx.events.fireEvent(\"dataPointMouseEnter\", [e, this.ctx, {\n      seriesIndex: i,\n      dataPointIndex: j,\n      w\n    }]);\n    if (w.config.states.active.filter.type !== \"none\") {\n      if (path.node.getAttribute(\"selected\") === \"true\") {\n        return;\n      }\n    }\n    if (w.config.states.hover.filter.type !== \"none\") {\n      if (!w.globals.isTouchDevice) {\n        let hoverFilter = w.config.states.hover.filter;\n        filters.applyFilter(path, i, hoverFilter.type);\n      }\n    }\n  }\n  pathMouseLeave(path, e) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const i = parseInt(path.node.getAttribute(\"index\"), 10);\n    const j = parseInt(path.node.getAttribute(\"j\"), 10);\n    if (typeof w.config.chart.events.dataPointMouseLeave === \"function\") {\n      w.config.chart.events.dataPointMouseLeave(e, this.ctx, {\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    this.ctx.events.fireEvent(\"dataPointMouseLeave\", [e, this.ctx, {\n      seriesIndex: i,\n      dataPointIndex: j,\n      w\n    }]);\n    if (w.config.states.active.filter.type !== \"none\") {\n      if (path.node.getAttribute(\"selected\") === \"true\") {\n        return;\n      }\n    }\n    if (w.config.states.hover.filter.type !== \"none\") {\n      filters.getDefaultFilter(path, i);\n    }\n  }\n  pathMouseDown(path, e) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const i = parseInt(path.node.getAttribute(\"index\"), 10);\n    const j = parseInt(path.node.getAttribute(\"j\"), 10);\n    let selected = \"false\";\n    if (path.node.getAttribute(\"selected\") === \"true\") {\n      path.node.setAttribute(\"selected\", \"false\");\n      if (w.globals.selectedDataPoints[i].indexOf(j) > -1) {\n        let index = w.globals.selectedDataPoints[i].indexOf(j);\n        w.globals.selectedDataPoints[i].splice(index, 1);\n      }\n    } else {\n      if (!w.config.states.active.allowMultipleDataPointsSelection && w.globals.selectedDataPoints.length > 0) {\n        w.globals.selectedDataPoints = [];\n        const elPaths = w.globals.dom.Paper.find(\".apexcharts-series path:not(.apexcharts-decoration-element)\");\n        const elCircles = w.globals.dom.Paper.find(\".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)\");\n        const deSelect = els => {\n          Array.prototype.forEach.call(els, el => {\n            el.node.setAttribute(\"selected\", \"false\");\n            filters.getDefaultFilter(el, i);\n          });\n        };\n        deSelect(elPaths);\n        deSelect(elCircles);\n      }\n      path.node.setAttribute(\"selected\", \"true\");\n      selected = \"true\";\n      if (typeof w.globals.selectedDataPoints[i] === \"undefined\") {\n        w.globals.selectedDataPoints[i] = [];\n      }\n      w.globals.selectedDataPoints[i].push(j);\n    }\n    if (selected === \"true\") {\n      let activeFilter = w.config.states.active.filter;\n      if (activeFilter !== \"none\") {\n        filters.applyFilter(path, i, activeFilter.type);\n      } else {\n        if (w.config.states.hover.filter !== \"none\") {\n          if (!w.globals.isTouchDevice) {\n            let hoverFilter = w.config.states.hover.filter;\n            filters.applyFilter(path, i, hoverFilter.type);\n          }\n        }\n      }\n    } else {\n      if (w.config.states.active.filter.type !== \"none\") {\n        if (w.config.states.hover.filter.type !== \"none\" && !w.globals.isTouchDevice) {\n          let hoverFilter = w.config.states.hover.filter;\n          filters.applyFilter(path, i, hoverFilter.type);\n        } else {\n          filters.getDefaultFilter(path, i);\n        }\n      }\n    }\n    if (typeof w.config.chart.events.dataPointSelection === \"function\") {\n      w.config.chart.events.dataPointSelection(e, this.ctx, {\n        selectedDataPoints: w.globals.selectedDataPoints,\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    if (e) {\n      this.ctx.events.fireEvent(\"dataPointSelection\", [e, this.ctx, {\n        selectedDataPoints: w.globals.selectedDataPoints,\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      }]);\n    }\n  }\n  rotateAroundCenter(el) {\n    let coord = {};\n    if (el && typeof el.getBBox === \"function\") {\n      coord = el.getBBox();\n    }\n    let x = coord.x + coord.width / 2;\n    let y = coord.y + coord.height / 2;\n    return {\n      x,\n      y\n    };\n  }\n  /**\n   * Sets up event delegation on a parent group element.\n   * Uses mouseover/mouseout (which bubble) to simulate mouseenter/mouseleave\n   * on matching child elements, reducing per-element listener overhead.\n   */\n  setupEventDelegation(parentGroup, targetSelector) {\n    let currentHovered = null;\n    parentGroup.node.addEventListener(\"mouseover\", e => {\n      const targetNode = Graphics._findDelegateTarget(e.target, parentGroup.node, targetSelector);\n      if (!targetNode || targetNode === currentHovered) return;\n      if (currentHovered && currentHovered.instance) {\n        this.pathMouseLeave(currentHovered.instance, e);\n      }\n      currentHovered = targetNode;\n      if (targetNode.instance) {\n        this.pathMouseEnter(targetNode.instance, e);\n      }\n    });\n    parentGroup.node.addEventListener(\"mouseout\", e => {\n      if (!currentHovered) return;\n      const relatedNode = e.relatedTarget ? Graphics._findDelegateTarget(e.relatedTarget, parentGroup.node, targetSelector) : null;\n      if (relatedNode !== currentHovered) {\n        if (currentHovered && currentHovered.instance) {\n          this.pathMouseLeave(currentHovered.instance, e);\n        }\n        currentHovered = null;\n      }\n    });\n    parentGroup.node.addEventListener(\"mousedown\", e => {\n      const targetNode = Graphics._findDelegateTarget(e.target, parentGroup.node, targetSelector);\n      if (targetNode && targetNode.instance) {\n        this.pathMouseDown(targetNode.instance, e);\n      }\n    });\n  }\n  static _findDelegateTarget(node, boundary, selector) {\n    while (node && node !== boundary && node !== document) {\n      if (node.matches && node.matches(selector)) return node;\n      node = node.parentNode;\n    }\n    return null;\n  }\n  static setAttrs(el, attrs) {\n    for (let key in attrs) {\n      if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n        el.setAttribute(key, attrs[key]);\n      }\n    }\n  }\n  getTextRects(text, fontSize, fontFamily, transform, useBBox = true) {\n    let w = this.w;\n    const cacheKey = `${text}|${fontSize}|${fontFamily}|${transform}|${useBBox}`;\n    const cache = w.globals.textRectsCache;\n    if (cache && cache.has(cacheKey)) {\n      return cache.get(cacheKey);\n    }\n    let virtualText = this.drawText({\n      x: -200,\n      y: -200,\n      text,\n      textAnchor: \"start\",\n      fontSize,\n      fontFamily,\n      foreColor: \"#fff\",\n      opacity: 0\n    });\n    if (transform) {\n      virtualText.attr(\"transform\", transform);\n    }\n    w.globals.dom.Paper.add(virtualText);\n    let rect = virtualText.bbox();\n    if (!useBBox) {\n      rect = virtualText.node.getBoundingClientRect();\n    }\n    virtualText.remove();\n    const result = {\n      width: rect.width,\n      height: rect.height\n    };\n    if (cache) {\n      cache.set(cacheKey, result);\n    }\n    return result;\n  }\n  /**\n   * append ... to long text\n   * http://stackoverflow.com/questions/9241315/trimming-text-to-a-given-pixel-width-in-svg\n   * @memberof Graphics\n   **/\n  placeTextWithEllipsis(textObj, textString, width) {\n    if (typeof textObj.getComputedTextLength !== \"function\") return;\n    textObj.textContent = textString;\n    if (textString.length > 0) {\n      if (textObj.getComputedTextLength() >= width / 1.1) {\n        for (let x = textString.length - 3; x > 0; x -= 3) {\n          if (textObj.getSubStringLength(0, x) <= width / 1.1) {\n            textObj.textContent = textString.substring(0, x) + \"...\";\n            return;\n          }\n        }\n        textObj.textContent = \".\";\n      }\n    }\n  }\n}\nclass CoreUtils {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  static checkComboSeries(series, chartType) {\n    let comboCharts = false;\n    let comboBarCount = 0;\n    let comboCount = 0;\n    if (chartType === void 0) {\n      chartType = \"line\";\n    }\n    if (series.length && typeof series[0].type !== \"undefined\") {\n      series.forEach(s => {\n        if (s.type === \"bar\" || s.type === \"column\" || s.type === \"candlestick\" || s.type === \"boxPlot\") {\n          comboBarCount++;\n        }\n        if (typeof s.type !== \"undefined\" && s.type !== chartType) {\n          comboCount++;\n        }\n      });\n    }\n    if (comboCount > 0) {\n      comboCharts = true;\n    }\n    return {\n      comboBarCount,\n      comboCharts\n    };\n  }\n  /**\n   * @memberof CoreUtils\n   * returns the sum of all individual values in a multiple stacked series\n   * Eg. w.globals.series = [[32,33,43,12], [2,3,5,1]]\n   *  @return [34,36,48,13]\n   **/\n  getStackedSeriesTotals(excludedSeriesIndices = []) {\n    const w = this.w;\n    let total = [];\n    if (w.globals.series.length === 0) return total;\n    for (let i = 0; i < w.globals.series[w.globals.maxValsInArrayIndex].length; i++) {\n      let t = 0;\n      for (let j = 0; j < w.globals.series.length; j++) {\n        if (typeof w.globals.series[j][i] !== \"undefined\" && excludedSeriesIndices.indexOf(j) === -1) {\n          t += w.globals.series[j][i];\n        }\n      }\n      total.push(t);\n    }\n    return total;\n  }\n  // get total of the all values inside all series\n  getSeriesTotalByIndex(index = null) {\n    if (index === null) {\n      return this.w.config.series.reduce((acc, cur) => acc + cur, 0);\n    } else {\n      return this.w.globals.series[index].reduce((acc, cur) => acc + cur, 0);\n    }\n  }\n  /**\n   * @memberof CoreUtils\n   * returns the sum of values in a multiple stacked grouped charts\n   * Eg. w.globals.series = [[32,33,43,12], [2,3,5,1], [43, 23, 34, 22]]\n   * series 1 and 2 are in a group, while series 3 is in another group\n   *  @return [[34, 36, 48, 12], [43, 23, 34, 22]]\n   **/\n  getStackedSeriesTotalsByGroups() {\n    const w = this.w;\n    let total = [];\n    w.globals.seriesGroups.forEach(sg => {\n      let includedIndexes = [];\n      w.config.series.forEach((s, si) => {\n        if (sg.indexOf(w.globals.seriesNames[si]) > -1) {\n          includedIndexes.push(si);\n        }\n      });\n      const excludedIndices = w.globals.series.map((_, fi) => includedIndexes.indexOf(fi) === -1 ? fi : -1).filter(f => f !== -1);\n      total.push(this.getStackedSeriesTotals(excludedIndices));\n    });\n    return total;\n  }\n  setSeriesYAxisMappings() {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    let axisSeriesMap = [];\n    let seriesYAxisReverseMap = [];\n    let unassignedSeriesIndices = [];\n    let seriesNameArrayStyle = gl.series.length > cnf.yaxis.length || cnf.yaxis.some(a => Array.isArray(a.seriesName));\n    cnf.series.forEach((s, i) => {\n      unassignedSeriesIndices.push(i);\n      seriesYAxisReverseMap.push(null);\n    });\n    cnf.yaxis.forEach((yaxe, yi) => {\n      axisSeriesMap[yi] = [];\n    });\n    let unassignedYAxisIndices = [];\n    cnf.yaxis.forEach((yaxe, yi) => {\n      let assigned = false;\n      if (yaxe.seriesName) {\n        let seriesNames = [];\n        if (Array.isArray(yaxe.seriesName)) {\n          seriesNames = yaxe.seriesName;\n        } else {\n          seriesNames.push(yaxe.seriesName);\n        }\n        seriesNames.forEach(name2 => {\n          cnf.series.forEach((s, si) => {\n            if (s.name === name2) {\n              let remove = si;\n              if (yi === si || seriesNameArrayStyle) {\n                if (!seriesNameArrayStyle || unassignedSeriesIndices.indexOf(si) > -1) {\n                  axisSeriesMap[yi].push([yi, si]);\n                } else {\n                  console.warn(\"Series '\" + s.name + \"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes.\");\n                }\n              } else {\n                axisSeriesMap[si].push([si, yi]);\n                remove = yi;\n              }\n              assigned = true;\n              remove = unassignedSeriesIndices.indexOf(remove);\n              if (remove !== -1) {\n                unassignedSeriesIndices.splice(remove, 1);\n              }\n            }\n          });\n        });\n      }\n      if (!assigned) {\n        unassignedYAxisIndices.push(yi);\n      }\n    });\n    axisSeriesMap = axisSeriesMap.map(yaxe => {\n      let ra = [];\n      yaxe.forEach(sa => {\n        seriesYAxisReverseMap[sa[1]] = sa[0];\n        ra.push(sa[1]);\n      });\n      return ra;\n    });\n    let lastUnassignedYAxis = cnf.yaxis.length - 1;\n    for (let i = 0; i < unassignedYAxisIndices.length; i++) {\n      lastUnassignedYAxis = unassignedYAxisIndices[i];\n      axisSeriesMap[lastUnassignedYAxis] = [];\n      if (unassignedSeriesIndices) {\n        let si = unassignedSeriesIndices[0];\n        unassignedSeriesIndices.shift();\n        axisSeriesMap[lastUnassignedYAxis].push(si);\n        seriesYAxisReverseMap[si] = lastUnassignedYAxis;\n      } else {\n        break;\n      }\n    }\n    unassignedSeriesIndices.forEach(i => {\n      axisSeriesMap[lastUnassignedYAxis].push(i);\n      seriesYAxisReverseMap[i] = lastUnassignedYAxis;\n    });\n    gl.seriesYAxisMap = axisSeriesMap.map(x => x);\n    gl.seriesYAxisReverseMap = seriesYAxisReverseMap.map(x => x);\n    gl.seriesYAxisMap.forEach((axisSeries, ai) => {\n      axisSeries.forEach(si => {\n        if (cnf.series[si] && cnf.series[si].group === void 0) {\n          cnf.series[si].group = \"apexcharts-axis-\".concat(ai.toString());\n        }\n      });\n    });\n  }\n  isSeriesNull(index = null) {\n    let r = [];\n    if (index === null) {\n      r = this.w.config.series.filter(d => d !== null);\n    } else {\n      r = this.w.config.series[index].data.filter(d => d !== null);\n    }\n    return r.length === 0;\n  }\n  seriesHaveSameValues(index) {\n    return this.w.globals.series[index].every((val, i, arr) => val === arr[0]);\n  }\n  getCategoryLabels(labels) {\n    const w = this.w;\n    let catLabels = labels.slice();\n    if (w.config.xaxis.convertedCatToNumeric) {\n      catLabels = labels.map(i => {\n        return w.config.xaxis.labels.formatter(i - w.globals.minX + 1);\n      });\n    }\n    return catLabels;\n  }\n  // maxValsInArrayIndex is the index of series[] which has the largest number of items\n  getLargestSeries() {\n    const w = this.w;\n    w.globals.maxValsInArrayIndex = w.globals.series.map(a => a.length).indexOf(Math.max.apply(Math, w.globals.series.map(a => a.length)));\n  }\n  getLargestMarkerSize() {\n    const w = this.w;\n    let size = 0;\n    w.globals.markers.size.forEach(m => {\n      size = Math.max(size, m);\n    });\n    if (w.config.markers.discrete && w.config.markers.discrete.length) {\n      w.config.markers.discrete.forEach(m => {\n        size = Math.max(size, m.size);\n      });\n    }\n    if (size > 0) {\n      if (w.config.markers.hover.size > 0) {\n        size = w.config.markers.hover.size;\n      } else {\n        size += w.config.markers.hover.sizeOffset;\n      }\n    }\n    w.globals.markers.largestSize = size;\n    return size;\n  }\n  /**\n   * @memberof Core\n   * returns the sum of all values in a series\n   * Eg. w.globals.series = [[32,33,43,12], [2,3,5,1]]\n   *  @return [120, 11]\n   **/\n  getSeriesTotals() {\n    const w = this.w;\n    w.globals.seriesTotals = w.globals.series.map(ser => {\n      let total = 0;\n      if (Array.isArray(ser)) {\n        for (let j = 0; j < ser.length; j++) {\n          total += ser[j];\n        }\n      } else {\n        total += ser;\n      }\n      return total;\n    });\n  }\n  getSeriesTotalsXRange(minX, maxX) {\n    const w = this.w;\n    const seriesTotalsXRange = w.globals.series.map((ser, index) => {\n      let total = 0;\n      for (let j = 0; j < ser.length; j++) {\n        if (w.globals.seriesX[index][j] > minX && w.globals.seriesX[index][j] < maxX) {\n          total += ser[j];\n        }\n      }\n      return total;\n    });\n    return seriesTotalsXRange;\n  }\n  /**\n   * @memberof CoreUtils\n   * returns the percentage value of all individual values which can be used in a 100% stacked series\n   * Eg. w.globals.series = [[32, 33, 43, 12], [2, 3, 5, 1]]\n   *  @return [[94.11, 91.66, 89.58, 92.30], [5.88, 8.33, 10.41, 7.7]]\n   **/\n  getPercentSeries() {\n    const w = this.w;\n    w.globals.seriesPercent = w.globals.series.map(ser => {\n      let seriesPercent = [];\n      if (Array.isArray(ser)) {\n        for (let j = 0; j < ser.length; j++) {\n          let total = w.globals.stackedSeriesTotals[j];\n          let percent = 0;\n          if (total) {\n            percent = 100 * ser[j] / total;\n          }\n          seriesPercent.push(percent);\n        }\n      } else {\n        const total = w.globals.seriesTotals.reduce((acc, val) => acc + val, 0);\n        let percent = 100 * ser / total;\n        seriesPercent.push(percent);\n      }\n      return seriesPercent;\n    });\n  }\n  getCalculatedRatios() {\n    let w = this.w;\n    let gl = w.globals;\n    let yRatio = [];\n    let invertedYRatio = 0;\n    let xRatio = 0;\n    let invertedXRatio = 0;\n    let zRatio = 0;\n    let baseLineY = [];\n    let baseLineInvertedY = 0.1;\n    let baseLineX = 0;\n    gl.yRange = [];\n    if (gl.isMultipleYAxis) {\n      for (let i = 0; i < gl.minYArr.length; i++) {\n        gl.yRange.push(Math.abs(gl.minYArr[i] - gl.maxYArr[i]));\n        baseLineY.push(0);\n      }\n    } else {\n      gl.yRange.push(Math.abs(gl.minY - gl.maxY));\n    }\n    gl.xRange = Math.abs(gl.maxX - gl.minX);\n    gl.zRange = Math.abs(gl.maxZ - gl.minZ);\n    for (let i = 0; i < gl.yRange.length; i++) {\n      yRatio.push(gl.yRange[i] / gl.gridHeight);\n    }\n    xRatio = gl.xRange / gl.gridWidth;\n    invertedYRatio = gl.yRange / gl.gridWidth;\n    invertedXRatio = gl.xRange / gl.gridHeight;\n    zRatio = gl.zRange / gl.gridHeight * 16;\n    if (!zRatio) {\n      zRatio = 1;\n    }\n    if (gl.minY !== Number.MIN_VALUE && Math.abs(gl.minY) !== 0) {\n      gl.hasNegs = true;\n    }\n    if (w.globals.seriesYAxisReverseMap.length > 0) {\n      let scaleBaseLineYScale = (y, i) => {\n        let yAxis = w.config.yaxis[w.globals.seriesYAxisReverseMap[i]];\n        let sign = y < 0 ? -1 : 1;\n        y = Math.abs(y);\n        if (yAxis.logarithmic) {\n          y = this.getBaseLog(yAxis.logBase, y);\n        }\n        return -sign * y / yRatio[i];\n      };\n      if (gl.isMultipleYAxis) {\n        baseLineY = [];\n        for (let i = 0; i < yRatio.length; i++) {\n          baseLineY.push(scaleBaseLineYScale(gl.minYArr[i], i));\n        }\n      } else {\n        baseLineY = [];\n        baseLineY.push(scaleBaseLineYScale(gl.minY, 0));\n        if (gl.minY !== Number.MIN_VALUE && Math.abs(gl.minY) !== 0) {\n          baseLineInvertedY = -gl.minY / invertedYRatio;\n          baseLineX = gl.minX / xRatio;\n        }\n      }\n    } else {\n      baseLineY = [];\n      baseLineY.push(0);\n      baseLineInvertedY = 0;\n      baseLineX = 0;\n    }\n    return {\n      yRatio,\n      invertedYRatio,\n      zRatio,\n      xRatio,\n      invertedXRatio,\n      baseLineInvertedY,\n      baseLineY,\n      baseLineX\n    };\n  }\n  getLogSeries(series) {\n    const w = this.w;\n    w.globals.seriesLog = series.map((s, i) => {\n      let yAxisIndex = w.globals.seriesYAxisReverseMap[i];\n      if (w.config.yaxis[yAxisIndex] && w.config.yaxis[yAxisIndex].logarithmic) {\n        return s.map(d => {\n          if (d === null) return null;\n          return this.getLogVal(w.config.yaxis[yAxisIndex].logBase, d, i);\n        });\n      } else {\n        return s;\n      }\n    });\n    return w.globals.invalidLogScale ? series : w.globals.seriesLog;\n  }\n  getLogValAtSeriesIndex(val, seriesIndex) {\n    if (val === null) return null;\n    const w = this.w;\n    let yAxisIndex = w.globals.seriesYAxisReverseMap[seriesIndex];\n    if (w.config.yaxis[yAxisIndex] && w.config.yaxis[yAxisIndex].logarithmic) {\n      return this.getLogVal(w.config.yaxis[yAxisIndex].logBase, val, seriesIndex);\n    }\n    return val;\n  }\n  getBaseLog(base, value) {\n    return Math.log(value) / Math.log(base);\n  }\n  getLogVal(b, d, seriesIndex) {\n    if (d <= 0) {\n      return 0;\n    }\n    const w = this.w;\n    const min_log_val = w.globals.minYArr[seriesIndex] === 0 ? -1 : this.getBaseLog(b, w.globals.minYArr[seriesIndex]);\n    const max_log_val = w.globals.maxYArr[seriesIndex] === 0 ? 0 : this.getBaseLog(b, w.globals.maxYArr[seriesIndex]);\n    const number_of_height_levels = max_log_val - min_log_val;\n    if (d < 1) return d / number_of_height_levels;\n    const log_height_value = this.getBaseLog(b, d) - min_log_val;\n    return log_height_value / number_of_height_levels;\n  }\n  getLogYRatios(yRatio) {\n    const w = this.w;\n    const gl = this.w.globals;\n    gl.yLogRatio = yRatio.slice();\n    gl.logYRange = gl.yRange.map((_, i) => {\n      let yAxisIndex = w.globals.seriesYAxisReverseMap[i];\n      if (w.config.yaxis[yAxisIndex] && this.w.config.yaxis[yAxisIndex].logarithmic) {\n        let maxY = -Number.MAX_VALUE;\n        let minY = Number.MIN_VALUE;\n        let range = 1;\n        gl.seriesLog.forEach((s, si) => {\n          s.forEach(v => {\n            if (w.config.yaxis[si] && w.config.yaxis[si].logarithmic) {\n              maxY = Math.max(v, maxY);\n              minY = Math.min(v, minY);\n            }\n          });\n        });\n        range = Math.pow(gl.yRange[i], Math.abs(minY - maxY) / gl.yRange[i]);\n        gl.yLogRatio[i] = range / gl.gridHeight;\n        return range;\n      }\n    });\n    return gl.invalidLogScale ? yRatio.slice() : gl.yLogRatio;\n  }\n  // Some config objects can be array - and we need to extend them correctly\n  static extendArrayProps(configInstance, options2, w) {\n    var _a, _b;\n    if (options2 == null ? void 0 : options2.yaxis) {\n      options2 = configInstance.extendYAxis(options2, w);\n    }\n    if (options2 == null ? void 0 : options2.annotations) {\n      if (options2.annotations.yaxis) {\n        options2 = configInstance.extendYAxisAnnotations(options2);\n      }\n      if ((_a = options2 == null ? void 0 : options2.annotations) == null ? void 0 : _a.xaxis) {\n        options2 = configInstance.extendXAxisAnnotations(options2);\n      }\n      if ((_b = options2 == null ? void 0 : options2.annotations) == null ? void 0 : _b.points) {\n        options2 = configInstance.extendPointAnnotations(options2);\n      }\n    }\n    return options2;\n  }\n  // Series of the same group and type can be stacked together distinct from\n  // other series of the same type on the same axis.\n  drawSeriesByGroup(typeSeries, typeGroups, type, chartClass) {\n    let w = this.w;\n    let graph = [];\n    if (typeSeries.series.length > 0) {\n      typeGroups.forEach(gn => {\n        let gs = [];\n        let gi = [];\n        typeSeries.i.forEach((i, ii) => {\n          if (w.config.series[i].group === gn) {\n            gs.push(typeSeries.series[ii]);\n            gi.push(i);\n          }\n        });\n        gs.length > 0 && graph.push(chartClass.draw(gs, type, gi));\n      });\n    }\n    return graph;\n  }\n}\nlet Helpers$4 = class Helpers {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n  }\n  setOrientations(anno, annoIndex = null) {\n    const w = this.w;\n    if (anno.label.orientation === \"vertical\") {\n      const i = annoIndex !== null ? annoIndex : 0;\n      const xAnno = w.globals.dom.baseEl.querySelector(`.apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='${i}']`);\n      if (xAnno !== null) {\n        const xAnnoCoord = xAnno.getBBox();\n        xAnno.setAttribute(\"x\", parseFloat(xAnno.getAttribute(\"x\")) - xAnnoCoord.height + 4);\n        const yOffset = anno.label.position === \"top\" ? xAnnoCoord.width : -xAnnoCoord.width;\n        xAnno.setAttribute(\"y\", parseFloat(xAnno.getAttribute(\"y\")) + yOffset);\n        const {\n          x,\n          y\n        } = this.annoCtx.graphics.rotateAroundCenter(xAnno);\n        xAnno.setAttribute(\"transform\", `rotate(-90 ${x} ${y})`);\n      }\n    }\n  }\n  addBackgroundToAnno(annoEl, anno) {\n    const w = this.w;\n    if (!annoEl || !anno.label.text || !String(anno.label.text).trim()) {\n      return null;\n    }\n    const gridEl = w.globals.dom.baseEl.querySelector(\".apexcharts-grid\");\n    const elGridRect = gridEl.getBoundingClientRect();\n    const gridBBox = gridEl.getBBox();\n    const zoom = elGridRect.width / gridBBox.width || 1;\n    const coords = annoEl.getBoundingClientRect();\n    let {\n      left: pleft,\n      right: pright,\n      top: ptop,\n      bottom: pbottom\n    } = anno.label.style.padding;\n    if (anno.label.orientation === \"vertical\") {\n      [ptop, pbottom, pleft, pright] = [pleft, pright, ptop, pbottom];\n    }\n    const x1 = (coords.left - elGridRect.left) / zoom - pleft;\n    const y1 = (coords.top - elGridRect.top) / zoom - ptop;\n    const elRect = this.annoCtx.graphics.drawRect(x1 - w.globals.barPadForNumericAxis, y1, coords.width / zoom + pleft + pright, coords.height / zoom + ptop + pbottom, anno.label.borderRadius, anno.label.style.background, 1, anno.label.borderWidth, anno.label.borderColor, 0);\n    if (anno.id) {\n      elRect.node.classList.add(anno.id);\n    }\n    return elRect;\n  }\n  annotationsBackground() {\n    const w = this.w;\n    const add = (anno, i, type) => {\n      const annoLabel = w.globals.dom.baseEl.querySelector(`.apexcharts-${type}-annotations .apexcharts-${type}-annotation-label[rel='${i}']`);\n      if (annoLabel) {\n        const parent = annoLabel.parentNode;\n        const elRect = this.addBackgroundToAnno(annoLabel, anno);\n        if (elRect) {\n          parent.insertBefore(elRect.node, annoLabel);\n          if (anno.label.mouseEnter) {\n            elRect.node.addEventListener(\"mouseenter\", anno.label.mouseEnter.bind(this, anno));\n          }\n          if (anno.label.mouseLeave) {\n            elRect.node.addEventListener(\"mouseleave\", anno.label.mouseLeave.bind(this, anno));\n          }\n          if (anno.label.click) {\n            elRect.node.addEventListener(\"click\", anno.label.click.bind(this, anno));\n          }\n        }\n      }\n    };\n    w.config.annotations.xaxis.forEach((anno, i) => add(anno, i, \"xaxis\"));\n    w.config.annotations.yaxis.forEach((anno, i) => add(anno, i, \"yaxis\"));\n    w.config.annotations.points.forEach((anno, i) => add(anno, i, \"point\"));\n  }\n  getY1Y2(type, anno) {\n    var _a;\n    const w = this.w;\n    let y = type === \"y1\" ? anno.y : anno.y2;\n    let yP;\n    let clipped = false;\n    if (this.annoCtx.invertAxis) {\n      const labels = w.config.xaxis.convertedCatToNumeric ? w.globals.categoryLabels : w.globals.labels;\n      const catIndex = labels.indexOf(y);\n      const xLabel = w.globals.dom.baseEl.querySelector(`.apexcharts-yaxis-texts-g text:nth-child(${catIndex + 1})`);\n      yP = xLabel ? parseFloat(xLabel.getAttribute(\"y\")) : (w.globals.gridHeight / labels.length - 1) * (catIndex + 1) - w.globals.barHeight;\n      if (anno.seriesIndex !== void 0 && w.globals.barHeight) {\n        yP -= w.globals.barHeight / 2 * (w.globals.series.length - 1) - w.globals.barHeight * anno.seriesIndex;\n      }\n    } else {\n      const seriesIndex = w.globals.seriesYAxisMap[anno.yAxisIndex][0];\n      const yPos = w.config.yaxis[anno.yAxisIndex].logarithmic ? new CoreUtils(this.annoCtx.ctx).getLogVal(w.config.yaxis[anno.yAxisIndex].logBase, y, seriesIndex) / w.globals.yLogRatio[seriesIndex] : (y - w.globals.minYArr[seriesIndex]) / (w.globals.yRange[seriesIndex] / w.globals.gridHeight);\n      yP = w.globals.gridHeight - Math.min(Math.max(yPos, 0), w.globals.gridHeight);\n      clipped = yPos > w.globals.gridHeight || yPos < 0;\n      if (anno.marker && (anno.y === void 0 || anno.y === null)) {\n        yP = 0;\n      }\n      if ((_a = w.config.yaxis[anno.yAxisIndex]) == null ? void 0 : _a.reversed) {\n        yP = yPos;\n      }\n    }\n    if (typeof y === \"string\" && y.includes(\"px\")) {\n      yP = parseFloat(y);\n    }\n    return {\n      yP,\n      clipped\n    };\n  }\n  getX1X2(type, anno) {\n    const w = this.w;\n    const x = type === \"x1\" ? anno.x : anno.x2;\n    const min = this.annoCtx.invertAxis ? w.globals.minY : w.globals.minX;\n    const max = this.annoCtx.invertAxis ? w.globals.maxY : w.globals.maxX;\n    const range = this.annoCtx.invertAxis ? w.globals.yRange[0] : w.globals.xRange;\n    let clipped = false;\n    let xP = this.annoCtx.inversedReversedAxis ? (max - x) / (range / w.globals.gridWidth) : (x - min) / (range / w.globals.gridWidth);\n    if ((w.config.xaxis.type === \"category\" || w.config.xaxis.convertedCatToNumeric) && !this.annoCtx.invertAxis && !w.globals.dataFormatXNumeric) {\n      if (!w.config.chart.sparkline.enabled) {\n        xP = this.getStringX(x);\n      }\n    }\n    if (typeof x === \"string\" && x.includes(\"px\")) {\n      xP = parseFloat(x);\n    }\n    if ((x === void 0 || x === null) && anno.marker) {\n      xP = w.globals.gridWidth;\n    }\n    if (anno.seriesIndex !== void 0 && w.globals.barWidth && !this.annoCtx.invertAxis) {\n      xP -= w.globals.barWidth / 2 * (w.globals.series.length - 1) - w.globals.barWidth * anno.seriesIndex;\n    }\n    if (typeof xP !== \"number\") {\n      xP = 0;\n      clipped = true;\n    }\n    if (parseFloat(xP.toFixed(10)) > parseFloat(w.globals.gridWidth.toFixed(10))) {\n      xP = w.globals.gridWidth;\n      clipped = true;\n    } else if (xP < 0) {\n      xP = 0;\n      clipped = true;\n    }\n    return {\n      x: xP,\n      clipped\n    };\n  }\n  getStringX(x) {\n    const w = this.w;\n    let rX = x;\n    if (w.config.xaxis.convertedCatToNumeric && w.globals.categoryLabels.length) {\n      x = w.globals.categoryLabels.indexOf(x) + 1;\n    }\n    const catIndex = w.globals.labels.map(item => Array.isArray(item) ? item.join(\" \") : item).indexOf(x);\n    const xLabel = w.globals.dom.baseEl.querySelector(`.apexcharts-xaxis-texts-g text:nth-child(${catIndex + 1})`);\n    if (xLabel) {\n      rX = parseFloat(xLabel.getAttribute(\"x\"));\n    }\n    return rX;\n  }\n};\nclass XAnnotations {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n    this.invertAxis = this.annoCtx.invertAxis;\n    this.helpers = new Helpers$4(this.annoCtx);\n  }\n  addXaxisAnnotation(anno, parent, index) {\n    let w = this.w;\n    let result = this.helpers.getX1X2(\"x1\", anno);\n    let x1 = result.x;\n    let clipX1 = result.clipped;\n    let clipX2 = true;\n    let x2;\n    const text = anno.label.text;\n    let strokeDashArray = anno.strokeDashArray;\n    if (!Utils$1.isNumber(x1)) return;\n    if (anno.x2 === null || typeof anno.x2 === \"undefined\") {\n      if (!clipX1) {\n        let line = this.annoCtx.graphics.drawLine(x1 + anno.offsetX,\n        // x1\n        0 + anno.offsetY,\n        // y1\n        x1 + anno.offsetX,\n        // x2\n        w.globals.gridHeight + anno.offsetY,\n        // y2\n        anno.borderColor,\n        // lineColor\n        strokeDashArray,\n        //dashArray\n        anno.borderWidth);\n        parent.appendChild(line.node);\n        if (anno.id) {\n          line.node.classList.add(anno.id);\n        }\n      }\n    } else {\n      let result2 = this.helpers.getX1X2(\"x2\", anno);\n      x2 = result2.x;\n      clipX2 = result2.clipped;\n      if (x2 < x1) {\n        let temp = x1;\n        x1 = x2;\n        x2 = temp;\n      }\n      let rect = this.annoCtx.graphics.drawRect(x1 + anno.offsetX,\n      // x1\n      0 + anno.offsetY,\n      // y1\n      x2 - x1,\n      // x2\n      w.globals.gridHeight + anno.offsetY,\n      // y2\n      0,\n      // radius\n      anno.fillColor,\n      // color\n      anno.opacity,\n      // opacity,\n      1,\n      // strokeWidth\n      anno.borderColor,\n      // strokeColor\n      strokeDashArray\n      // stokeDashArray\n      );\n      rect.node.classList.add(\"apexcharts-annotation-rect\");\n      rect.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n      parent.appendChild(rect.node);\n      if (anno.id) {\n        rect.node.classList.add(anno.id);\n      }\n    }\n    if (!(clipX1 && clipX2)) {\n      let textRects = this.annoCtx.graphics.getTextRects(text, parseFloat(anno.label.style.fontSize));\n      let textY = anno.label.position === \"top\" ? 4 : anno.label.position === \"center\" ? w.globals.gridHeight / 2 + (anno.label.orientation === \"vertical\" ? textRects.width / 2 : 0) : w.globals.gridHeight;\n      let elText = this.annoCtx.graphics.drawText({\n        x: x1 + anno.label.offsetX,\n        y: textY + anno.label.offsetY - (anno.label.orientation === \"vertical\" ? anno.label.position === \"top\" ? textRects.width / 2 - 12 : -textRects.width / 2 : 0),\n        text,\n        textAnchor: anno.label.textAnchor,\n        fontSize: anno.label.style.fontSize,\n        fontFamily: anno.label.style.fontFamily,\n        fontWeight: anno.label.style.fontWeight,\n        foreColor: anno.label.style.color,\n        cssClass: `apexcharts-xaxis-annotation-label ${anno.label.style.cssClass} ${anno.id ? anno.id : \"\"}`\n      });\n      elText.attr({\n        rel: index\n      });\n      parent.appendChild(elText.node);\n      this.annoCtx.helpers.setOrientations(anno, index);\n    }\n  }\n  drawXAxisAnnotations() {\n    let w = this.w;\n    let elg = this.annoCtx.graphics.group({\n      class: \"apexcharts-xaxis-annotations\"\n    });\n    w.config.annotations.xaxis.map((anno, index) => {\n      this.addXaxisAnnotation(anno, elg.node, index);\n    });\n    return elg;\n  }\n}\nclass DateTime {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.months31 = [1, 3, 5, 7, 8, 10, 12];\n    this.months30 = [2, 4, 6, 9, 11];\n    this.daysCntOfYear = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n  }\n  isValidDate(date) {\n    if (typeof date === \"number\") {\n      return false;\n    }\n    return !isNaN(this.parseDate(date));\n  }\n  getTimeStamp(dateStr) {\n    if (!Date.parse(dateStr)) {\n      return dateStr;\n    }\n    const utc = this.w.config.xaxis.labels.datetimeUTC;\n    return !utc ? new Date(dateStr).getTime() : new Date(new Date(dateStr).toISOString().substr(0, 25)).getTime();\n  }\n  getDate(timestamp) {\n    const utc = this.w.config.xaxis.labels.datetimeUTC;\n    return utc ? new Date(new Date(timestamp).toUTCString()) : new Date(timestamp);\n  }\n  parseDate(dateStr) {\n    const parsed = Date.parse(dateStr);\n    if (!isNaN(parsed)) {\n      return this.getTimeStamp(dateStr);\n    }\n    let output = Date.parse(dateStr.replace(/-/g, \"/\").replace(/[a-z]+/gi, \" \"));\n    output = this.getTimeStamp(output);\n    return output;\n  }\n  // This fixes the difference of x-axis labels between chrome/safari\n  // Fixes #1726, #1544, #1485, #1255\n  parseDateWithTimezone(dateStr) {\n    return Date.parse(dateStr.replace(/-/g, \"/\").replace(/[a-z]+/gi, \" \"));\n  }\n  // http://stackoverflow.com/questions/14638018/current-time-formatting-with-javascript#answer-14638191\n  formatDate(date, format) {\n    const locale = this.w.globals.locale;\n    const utc = this.w.config.xaxis.labels.datetimeUTC;\n    let MMMM = [\"\\0\", ...locale.months];\n    let MMM = [\"\u0001\", ...locale.shortMonths];\n    let dddd = [\"\u0002\", ...locale.days];\n    let ddd = [\"\u0003\", ...locale.shortDays];\n    function ii(i, len) {\n      let s2 = i + \"\";\n      len = len || 2;\n      while (s2.length < len) s2 = \"0\" + s2;\n      return s2;\n    }\n    let y = utc ? date.getUTCFullYear() : date.getFullYear();\n    format = format.replace(/(^|[^\\\\])yyyy+/g, \"$1\" + y);\n    format = format.replace(/(^|[^\\\\])yy/g, \"$1\" + y.toString().substr(2, 2));\n    format = format.replace(/(^|[^\\\\])y/g, \"$1\" + y);\n    let M = (utc ? date.getUTCMonth() : date.getMonth()) + 1;\n    format = format.replace(/(^|[^\\\\])MMMM+/g, \"$1\" + MMMM[0]);\n    format = format.replace(/(^|[^\\\\])MMM/g, \"$1\" + MMM[0]);\n    format = format.replace(/(^|[^\\\\])MM/g, \"$1\" + ii(M));\n    format = format.replace(/(^|[^\\\\])M/g, \"$1\" + M);\n    let d = utc ? date.getUTCDate() : date.getDate();\n    format = format.replace(/(^|[^\\\\])dddd+/g, \"$1\" + dddd[0]);\n    format = format.replace(/(^|[^\\\\])ddd/g, \"$1\" + ddd[0]);\n    format = format.replace(/(^|[^\\\\])dd/g, \"$1\" + ii(d));\n    format = format.replace(/(^|[^\\\\])d/g, \"$1\" + d);\n    let H = utc ? date.getUTCHours() : date.getHours();\n    format = format.replace(/(^|[^\\\\])HH+/g, \"$1\" + ii(H));\n    format = format.replace(/(^|[^\\\\])H/g, \"$1\" + H);\n    let h = H > 12 ? H - 12 : H === 0 ? 12 : H;\n    format = format.replace(/(^|[^\\\\])hh+/g, \"$1\" + ii(h));\n    format = format.replace(/(^|[^\\\\])h/g, \"$1\" + h);\n    let m = utc ? date.getUTCMinutes() : date.getMinutes();\n    format = format.replace(/(^|[^\\\\])mm+/g, \"$1\" + ii(m));\n    format = format.replace(/(^|[^\\\\])m/g, \"$1\" + m);\n    let s = utc ? date.getUTCSeconds() : date.getSeconds();\n    format = format.replace(/(^|[^\\\\])ss+/g, \"$1\" + ii(s));\n    format = format.replace(/(^|[^\\\\])s/g, \"$1\" + s);\n    let f = utc ? date.getUTCMilliseconds() : date.getMilliseconds();\n    format = format.replace(/(^|[^\\\\])fff+/g, \"$1\" + ii(f, 3));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])ff/g, \"$1\" + ii(f));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])f/g, \"$1\" + f);\n    let T = H < 12 ? \"AM\" : \"PM\";\n    format = format.replace(/(^|[^\\\\])TT+/g, \"$1\" + T);\n    format = format.replace(/(^|[^\\\\])T/g, \"$1\" + T.charAt(0));\n    let t = T.toLowerCase();\n    format = format.replace(/(^|[^\\\\])tt+/g, \"$1\" + t);\n    format = format.replace(/(^|[^\\\\])t/g, \"$1\" + t.charAt(0));\n    let tz = -date.getTimezoneOffset();\n    let K = utc || !tz ? \"Z\" : tz > 0 ? \"+\" : \"-\";\n    if (!utc) {\n      tz = Math.abs(tz);\n      let tzHrs = Math.floor(tz / 60);\n      let tzMin = tz % 60;\n      K += ii(tzHrs) + \":\" + ii(tzMin);\n    }\n    format = format.replace(/(^|[^\\\\])K/g, \"$1\" + K);\n    let day = (utc ? date.getUTCDay() : date.getDay()) + 1;\n    format = format.replace(new RegExp(dddd[0], \"g\"), dddd[day]);\n    format = format.replace(new RegExp(ddd[0], \"g\"), ddd[day]);\n    format = format.replace(new RegExp(MMMM[0], \"g\"), MMMM[M]);\n    format = format.replace(new RegExp(MMM[0], \"g\"), MMM[M]);\n    format = format.replace(/\\\\(.)/g, \"$1\");\n    return format;\n  }\n  getTimeUnitsfromTimestamp(minX, maxX) {\n    let w = this.w;\n    if (w.config.xaxis.min !== void 0) {\n      minX = w.config.xaxis.min;\n    }\n    if (w.config.xaxis.max !== void 0) {\n      maxX = w.config.xaxis.max;\n    }\n    const tsMin = this.getDate(minX);\n    const tsMax = this.getDate(maxX);\n    const minD = this.formatDate(tsMin, \"yyyy MM dd HH mm ss fff\").split(\" \");\n    const maxD = this.formatDate(tsMax, \"yyyy MM dd HH mm ss fff\").split(\" \");\n    return {\n      minMillisecond: parseInt(minD[6], 10),\n      maxMillisecond: parseInt(maxD[6], 10),\n      minSecond: parseInt(minD[5], 10),\n      maxSecond: parseInt(maxD[5], 10),\n      minMinute: parseInt(minD[4], 10),\n      maxMinute: parseInt(maxD[4], 10),\n      minHour: parseInt(minD[3], 10),\n      maxHour: parseInt(maxD[3], 10),\n      minDate: parseInt(minD[2], 10),\n      maxDate: parseInt(maxD[2], 10),\n      minMonth: parseInt(minD[1], 10) - 1,\n      maxMonth: parseInt(maxD[1], 10) - 1,\n      minYear: parseInt(minD[0], 10),\n      maxYear: parseInt(maxD[0], 10)\n    };\n  }\n  isLeapYear(year) {\n    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n  }\n  calculcateLastDaysOfMonth(month, year, subtract) {\n    const days = this.determineDaysOfMonths(month, year);\n    return days - subtract;\n  }\n  determineDaysOfYear(year) {\n    let days = 365;\n    if (this.isLeapYear(year)) {\n      days = 366;\n    }\n    return days;\n  }\n  determineRemainingDaysOfYear(year, month, date) {\n    let dayOfYear = this.daysCntOfYear[month] + date;\n    if (month > 1 && this.isLeapYear()) dayOfYear++;\n    return dayOfYear;\n  }\n  determineDaysOfMonths(month, year) {\n    let days = 30;\n    month = Utils$1.monthMod(month);\n    switch (true) {\n      case this.months30.indexOf(month) > -1:\n        if (month === 2) {\n          if (this.isLeapYear(year)) {\n            days = 29;\n          } else {\n            days = 28;\n          }\n        }\n        break;\n      case this.months31.indexOf(month) > -1:\n        days = 31;\n        break;\n      default:\n        days = 31;\n        break;\n    }\n    return days;\n  }\n}\nclass Formatters {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.tooltipKeyFormat = \"dd MMM\";\n  }\n  xLabelFormat(fn, val, timestamp, _opts) {\n    let w = this.w;\n    if (w.config.xaxis.type === \"datetime\") {\n      if (w.config.xaxis.labels.formatter === void 0) {\n        if (w.config.tooltip.x.formatter === void 0) {\n          let datetimeObj = new DateTime(this.ctx);\n          return datetimeObj.formatDate(datetimeObj.getDate(val), w.config.tooltip.x.format);\n        }\n      }\n    }\n    return fn(val, timestamp, _opts);\n  }\n  defaultGeneralFormatter(val) {\n    if (Array.isArray(val)) {\n      return val.map(v => {\n        return v;\n      });\n    } else {\n      return val;\n    }\n  }\n  defaultYFormatter(v, yaxe) {\n    let w = this.w;\n    if (Utils$1.isNumber(v)) {\n      if (w.globals.yValueDecimal !== 0) {\n        v = v.toFixed(yaxe.decimalsInFloat !== void 0 ? yaxe.decimalsInFloat : w.globals.yValueDecimal);\n      } else {\n        const f = v.toFixed(0);\n        v = v == f ? f : v.toFixed(1);\n      }\n    }\n    return v;\n  }\n  setLabelFormatters() {\n    let w = this.w;\n    w.globals.xaxisTooltipFormatter = val => {\n      return this.defaultGeneralFormatter(val);\n    };\n    w.globals.ttKeyFormatter = val => {\n      return this.defaultGeneralFormatter(val);\n    };\n    w.globals.ttZFormatter = val => {\n      return val;\n    };\n    w.globals.legendFormatter = val => {\n      return this.defaultGeneralFormatter(val);\n    };\n    if (w.config.xaxis.labels.formatter !== void 0) {\n      w.globals.xLabelFormatter = w.config.xaxis.labels.formatter;\n    } else {\n      w.globals.xLabelFormatter = val => {\n        if (Utils$1.isNumber(val)) {\n          if (!w.config.xaxis.convertedCatToNumeric && w.config.xaxis.type === \"numeric\") {\n            if (Utils$1.isNumber(w.config.xaxis.decimalsInFloat)) {\n              return val.toFixed(w.config.xaxis.decimalsInFloat);\n            } else {\n              const diff = w.globals.maxX - w.globals.minX;\n              if (diff > 0 && diff < 100) {\n                return val.toFixed(1);\n              }\n              return val.toFixed(0);\n            }\n          }\n          if (w.globals.isBarHorizontal) {\n            const range = w.globals.maxY - w.globals.minYArr;\n            if (range < 4) {\n              return val.toFixed(1);\n            }\n          }\n          return val.toFixed(0);\n        }\n        return val;\n      };\n    }\n    if (typeof w.config.tooltip.x.formatter === \"function\") {\n      w.globals.ttKeyFormatter = w.config.tooltip.x.formatter;\n    } else {\n      w.globals.ttKeyFormatter = w.globals.xLabelFormatter;\n    }\n    if (typeof w.config.xaxis.tooltip.formatter === \"function\") {\n      w.globals.xaxisTooltipFormatter = w.config.xaxis.tooltip.formatter;\n    }\n    if (Array.isArray(w.config.tooltip.y)) {\n      w.globals.ttVal = w.config.tooltip.y;\n    } else {\n      if (w.config.tooltip.y.formatter !== void 0) {\n        w.globals.ttVal = w.config.tooltip.y;\n      }\n    }\n    if (w.config.tooltip.z.formatter !== void 0) {\n      w.globals.ttZFormatter = w.config.tooltip.z.formatter;\n    }\n    if (w.config.legend.formatter !== void 0) {\n      w.globals.legendFormatter = w.config.legend.formatter;\n    }\n    w.config.yaxis.forEach((yaxe, i) => {\n      if (yaxe.labels.formatter !== void 0) {\n        w.globals.yLabelFormatters[i] = yaxe.labels.formatter;\n      } else {\n        w.globals.yLabelFormatters[i] = val => {\n          if (!w.globals.xyCharts) return val;\n          if (Array.isArray(val)) {\n            return val.map(v => {\n              return this.defaultYFormatter(v, yaxe, i);\n            });\n          } else {\n            return this.defaultYFormatter(val, yaxe, i);\n          }\n        };\n      }\n    });\n    return w.globals;\n  }\n  heatmapLabelFormatters() {\n    const w = this.w;\n    if (w.config.chart.type === \"heatmap\") {\n      w.globals.yAxisScale[0].result = w.globals.seriesNames.slice();\n      let longest = w.globals.seriesNames.reduce((a, b) => a.length > b.length ? a : b, 0);\n      w.globals.yAxisScale[0].niceMax = longest;\n      w.globals.yAxisScale[0].niceMin = longest;\n    }\n  }\n}\nclass AxesUtils {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // Based on the formatter function, get the label text and position\n  getLabel(labels, timescaleLabels, x, i, drawnLabels = [], fontSize = \"12px\", isLeafGroup = true) {\n    const w = this.w;\n    let rawLabel = typeof labels[i] === \"undefined\" ? \"\" : labels[i];\n    let label = rawLabel;\n    let xlbFormatter = w.globals.xLabelFormatter;\n    let customFormatter = w.config.xaxis.labels.formatter;\n    let isBold = false;\n    let xFormat = new Formatters(this.ctx);\n    let timestamp = rawLabel;\n    if (isLeafGroup) {\n      label = xFormat.xLabelFormat(xlbFormatter, rawLabel, timestamp, {\n        i,\n        dateFormatter: new DateTime(this.ctx).formatDate,\n        w\n      });\n      if (customFormatter !== void 0) {\n        label = customFormatter(rawLabel, labels[i], {\n          i,\n          dateFormatter: new DateTime(this.ctx).formatDate,\n          w\n        });\n      }\n    }\n    const determineHighestUnit = unit => {\n      let highestUnit = null;\n      timescaleLabels.forEach(t => {\n        if (t.unit === \"month\") {\n          highestUnit = \"year\";\n        } else if (t.unit === \"day\") {\n          highestUnit = \"month\";\n        } else if (t.unit === \"hour\") {\n          highestUnit = \"day\";\n        } else if (t.unit === \"minute\") {\n          highestUnit = \"hour\";\n        }\n      });\n      return highestUnit === unit;\n    };\n    if (timescaleLabels.length > 0) {\n      isBold = determineHighestUnit(timescaleLabels[i].unit);\n      x = timescaleLabels[i].position;\n      label = timescaleLabels[i].value;\n    } else {\n      if (w.config.xaxis.type === \"datetime\" && customFormatter === void 0) {\n        label = \"\";\n      }\n    }\n    if (typeof label === \"undefined\") label = \"\";\n    label = Array.isArray(label) ? label : label.toString();\n    let graphics = new Graphics(this.ctx);\n    let textRect = {};\n    if (w.globals.rotateXLabels && isLeafGroup) {\n      textRect = graphics.getTextRects(label, parseInt(fontSize, 10), null, `rotate(${w.config.xaxis.labels.rotate} 0 0)`, false);\n    } else {\n      textRect = graphics.getTextRects(label, parseInt(fontSize, 10));\n    }\n    const allowDuplicatesInTimeScale = !w.config.xaxis.labels.showDuplicates && this.ctx.timeScale;\n    if (!Array.isArray(label) && (String(label) === \"NaN\" || drawnLabels.indexOf(label) >= 0 && allowDuplicatesInTimeScale)) {\n      label = \"\";\n    }\n    return {\n      x,\n      text: label,\n      textRect,\n      isBold\n    };\n  }\n  checkLabelBasedOnTickamount(i, label, labelsLen) {\n    const w = this.w;\n    let ticks = w.config.xaxis.tickAmount;\n    if (ticks === \"dataPoints\") ticks = Math.round(w.globals.gridWidth / 120);\n    if (ticks > labelsLen) return label;\n    let tickMultiple = Math.round(labelsLen / (ticks + 1));\n    if (i % tickMultiple === 0) {\n      return label;\n    } else {\n      label.text = \"\";\n    }\n    return label;\n  }\n  checkForOverflowingLabels(i, label, labelsLen, drawnLabels, drawnLabelsRects) {\n    const w = this.w;\n    if (i === 0) {\n      if (w.globals.skipFirstTimelinelabel) {\n        label.text = \"\";\n      }\n    }\n    if (i === labelsLen - 1) {\n      if (w.globals.skipLastTimelinelabel) {\n        label.text = \"\";\n      }\n    }\n    if (w.config.xaxis.labels.hideOverlappingLabels && drawnLabels.length > 0) {\n      const prev = drawnLabelsRects[drawnLabelsRects.length - 1];\n      if (w.config.xaxis.labels.trim && w.config.xaxis.type !== \"datetime\") {\n        return label;\n      }\n      if (label.x < prev.textRect.width / (w.globals.rotateXLabels ? Math.abs(w.config.xaxis.labels.rotate) / 12 : 1.01) + prev.x) {\n        label.text = \"\";\n      }\n    }\n    return label;\n  }\n  checkForReversedLabels(i, labels) {\n    const w = this.w;\n    if (w.config.yaxis[i] && w.config.yaxis[i].reversed) {\n      labels.reverse();\n    }\n    return labels;\n  }\n  yAxisAllSeriesCollapsed(index) {\n    const gl = this.w.globals;\n    return !gl.seriesYAxisMap[index].some(si => {\n      return gl.collapsedSeriesIndices.indexOf(si) === -1;\n    });\n  }\n  // Method to translate annotation.yAxisIndex values from\n  // seriesName-as-a-string values to seriesName-as-an-array values (old style\n  // series mapping to new style).\n  translateYAxisIndex(index) {\n    const w = this.w;\n    const gl = w.globals;\n    const yaxis = w.config.yaxis;\n    let newStyle = gl.series.length > yaxis.length || yaxis.some(a => Array.isArray(a.seriesName));\n    if (newStyle) {\n      return index;\n    } else {\n      return gl.seriesYAxisReverseMap[index];\n    }\n  }\n  isYAxisHidden(index) {\n    const w = this.w;\n    const yaxis = w.config.yaxis[index];\n    if (!yaxis.show || this.yAxisAllSeriesCollapsed(index)) {\n      return true;\n    }\n    if (!yaxis.showForNullSeries) {\n      const seriesIndices = w.globals.seriesYAxisMap[index];\n      const coreUtils = new CoreUtils(this.ctx);\n      return seriesIndices.every(si => coreUtils.isSeriesNull(si));\n    }\n    return false;\n  }\n  // get the label color for y-axis\n  // realIndex is the actual series index, while i is the tick Index\n  getYAxisForeColor(yColors, realIndex) {\n    const w = this.w;\n    if (Array.isArray(yColors) && w.globals.yAxisScale[realIndex]) {\n      this.ctx.theme.pushExtraColors(yColors, w.globals.yAxisScale[realIndex].result.length, false);\n    }\n    return yColors;\n  }\n  drawYAxisTicks(x, tickAmount, axisBorder, axisTicks, realIndex, labelsDivider, elYaxis) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let tY = w.globals.translateY + w.config.yaxis[realIndex].labels.offsetY;\n    if (w.globals.isBarHorizontal) {\n      tY = 0;\n    } else if (w.config.chart.type === \"heatmap\") {\n      tY += labelsDivider / 2;\n    }\n    if (axisTicks.show && tickAmount > 0) {\n      if (w.config.yaxis[realIndex].opposite === true) x = x + axisTicks.width;\n      for (let i = tickAmount; i >= 0; i--) {\n        let elTick = graphics.drawLine(x + axisBorder.offsetX - axisTicks.width + axisTicks.offsetX, tY + axisTicks.offsetY, x + axisBorder.offsetX + axisTicks.offsetX, tY + axisTicks.offsetY, axisTicks.color);\n        elYaxis.add(elTick);\n        tY += labelsDivider;\n      }\n    }\n  }\n}\nclass YAnnotations {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n    this.helpers = new Helpers$4(this.annoCtx);\n    this.axesUtils = new AxesUtils(this.annoCtx);\n  }\n  addYaxisAnnotation(anno, parent, index) {\n    let w = this.w;\n    let strokeDashArray = anno.strokeDashArray;\n    let result = this.helpers.getY1Y2(\"y1\", anno);\n    let y1 = result.yP;\n    let clipY1 = result.clipped;\n    let y2;\n    let clipY2 = true;\n    let drawn = false;\n    const text = anno.label.text;\n    if (anno.y2 === null || typeof anno.y2 === \"undefined\") {\n      if (!clipY1) {\n        drawn = true;\n        let line = this.annoCtx.graphics.drawLine(0 + anno.offsetX,\n        // x1\n        y1 + anno.offsetY,\n        // y1\n        this._getYAxisAnnotationWidth(anno),\n        // x2\n        y1 + anno.offsetY,\n        // y2\n        anno.borderColor,\n        // lineColor\n        strokeDashArray,\n        // dashArray\n        anno.borderWidth);\n        parent.appendChild(line.node);\n        if (anno.id) {\n          line.node.classList.add(anno.id);\n        }\n      }\n    } else {\n      result = this.helpers.getY1Y2(\"y2\", anno);\n      y2 = result.yP;\n      clipY2 = result.clipped;\n      if (y2 > y1) {\n        let temp = y1;\n        y1 = y2;\n        y2 = temp;\n      }\n      if (!(clipY1 && clipY2)) {\n        drawn = true;\n        let rect = this.annoCtx.graphics.drawRect(0 + anno.offsetX,\n        // x1\n        y2 + anno.offsetY,\n        // y1\n        this._getYAxisAnnotationWidth(anno),\n        // x2\n        y1 - y2,\n        // y2\n        0,\n        // radius\n        anno.fillColor,\n        // color\n        anno.opacity,\n        // opacity,\n        1,\n        // strokeWidth\n        anno.borderColor,\n        // strokeColor\n        strokeDashArray\n        // stokeDashArray\n        );\n        rect.node.classList.add(\"apexcharts-annotation-rect\");\n        rect.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n        parent.appendChild(rect.node);\n        if (anno.id) {\n          rect.node.classList.add(anno.id);\n        }\n      }\n    }\n    if (drawn) {\n      let textX = anno.label.position === \"right\" ? w.globals.gridWidth : anno.label.position === \"center\" ? w.globals.gridWidth / 2 : 0;\n      let elText = this.annoCtx.graphics.drawText({\n        x: textX + anno.label.offsetX,\n        y: (y2 != null ? y2 : y1) + anno.label.offsetY - 3,\n        text,\n        textAnchor: anno.label.textAnchor,\n        fontSize: anno.label.style.fontSize,\n        fontFamily: anno.label.style.fontFamily,\n        fontWeight: anno.label.style.fontWeight,\n        foreColor: anno.label.style.color,\n        cssClass: `apexcharts-yaxis-annotation-label ${anno.label.style.cssClass} ${anno.id ? anno.id : \"\"}`\n      });\n      elText.attr({\n        rel: index\n      });\n      parent.appendChild(elText.node);\n    }\n  }\n  _getYAxisAnnotationWidth(anno) {\n    const w = this.w;\n    let width = w.globals.gridWidth;\n    if (anno.width.indexOf(\"%\") > -1) {\n      width = w.globals.gridWidth * parseInt(anno.width, 10) / 100;\n    } else {\n      width = parseInt(anno.width, 10);\n    }\n    return width + anno.offsetX;\n  }\n  drawYAxisAnnotations() {\n    const w = this.w;\n    let elg = this.annoCtx.graphics.group({\n      class: \"apexcharts-yaxis-annotations\"\n    });\n    w.config.annotations.yaxis.forEach((anno, index) => {\n      anno.yAxisIndex = this.axesUtils.translateYAxisIndex(anno.yAxisIndex);\n      if (!(this.axesUtils.isYAxisHidden(anno.yAxisIndex) && this.axesUtils.yAxisAllSeriesCollapsed(anno.yAxisIndex))) {\n        this.addYaxisAnnotation(anno, elg.node, index);\n      }\n    });\n    return elg;\n  }\n}\nclass PointAnnotations {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n    this.helpers = new Helpers$4(this.annoCtx);\n  }\n  addPointAnnotation(anno, parent, index) {\n    const w = this.w;\n    if (w.globals.collapsedSeriesIndices.indexOf(anno.seriesIndex) > -1) {\n      return;\n    }\n    let result = this.helpers.getX1X2(\"x1\", anno);\n    let x = result.x;\n    let clipX = result.clipped;\n    result = this.helpers.getY1Y2(\"y1\", anno);\n    let y = result.yP;\n    let clipY = result.clipped;\n    if (!Utils$1.isNumber(x)) return;\n    if (!(clipY || clipX)) {\n      let optsPoints = {\n        pSize: anno.marker.size,\n        pointStrokeWidth: anno.marker.strokeWidth,\n        pointFillColor: anno.marker.fillColor,\n        pointStrokeColor: anno.marker.strokeColor,\n        shape: anno.marker.shape,\n        pRadius: anno.marker.radius,\n        class: `apexcharts-point-annotation-marker ${anno.marker.cssClass} ${anno.id ? anno.id : \"\"}`\n      };\n      let point = this.annoCtx.graphics.drawMarker(x + anno.marker.offsetX, y + anno.marker.offsetY, optsPoints);\n      parent.appendChild(point.node);\n      const text = anno.label.text ? anno.label.text : \"\";\n      let elText = this.annoCtx.graphics.drawText({\n        x: x + anno.label.offsetX,\n        y: y + anno.label.offsetY - anno.marker.size - parseFloat(anno.label.style.fontSize) / 1.6,\n        text,\n        textAnchor: anno.label.textAnchor,\n        fontSize: anno.label.style.fontSize,\n        fontFamily: anno.label.style.fontFamily,\n        fontWeight: anno.label.style.fontWeight,\n        foreColor: anno.label.style.color,\n        cssClass: `apexcharts-point-annotation-label ${anno.label.style.cssClass} ${anno.id ? anno.id : \"\"}`\n      });\n      elText.attr({\n        rel: index\n      });\n      parent.appendChild(elText.node);\n      if (anno.customSVG.SVG) {\n        let g = this.annoCtx.graphics.group({\n          class: \"apexcharts-point-annotations-custom-svg \" + anno.customSVG.cssClass\n        });\n        g.attr({\n          transform: `translate(${x + anno.customSVG.offsetX}, ${y + anno.customSVG.offsetY})`\n        });\n        g.node.innerHTML = anno.customSVG.SVG;\n        parent.appendChild(g.node);\n      }\n      if (anno.image.path) {\n        let imgWidth = anno.image.width ? anno.image.width : 20;\n        let imgHeight = anno.image.height ? anno.image.height : 20;\n        point = this.annoCtx.addImage({\n          x: x + anno.image.offsetX - imgWidth / 2,\n          y: y + anno.image.offsetY - imgHeight / 2,\n          width: imgWidth,\n          height: imgHeight,\n          path: anno.image.path,\n          appendTo: \".apexcharts-point-annotations\"\n        });\n      }\n      if (anno.mouseEnter) {\n        point.node.addEventListener(\"mouseenter\", anno.mouseEnter.bind(this, anno));\n      }\n      if (anno.mouseLeave) {\n        point.node.addEventListener(\"mouseleave\", anno.mouseLeave.bind(this, anno));\n      }\n      if (anno.click) {\n        point.node.addEventListener(\"click\", anno.click.bind(this, anno));\n      }\n    }\n  }\n  drawPointAnnotations() {\n    let w = this.w;\n    let elg = this.annoCtx.graphics.group({\n      class: \"apexcharts-point-annotations\"\n    });\n    w.config.annotations.points.map((anno, index) => {\n      this.addPointAnnotation(anno, elg.node, index);\n    });\n    return elg;\n  }\n}\nconst name = \"en\";\nconst options = {\n  \"months\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  \"shortMonths\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n  \"days\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  \"shortDays\": [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  \"toolbar\": {\n    \"exportToSVG\": \"Download SVG\",\n    \"exportToPNG\": \"Download PNG\",\n    \"exportToCSV\": \"Download CSV\",\n    \"menu\": \"Menu\",\n    \"selection\": \"Selection\",\n    \"selectionZoom\": \"Selection Zoom\",\n    \"zoomIn\": \"Zoom In\",\n    \"zoomOut\": \"Zoom Out\",\n    \"pan\": \"Panning\",\n    \"reset\": \"Reset Zoom\"\n  }\n};\nconst en = {\n  name,\n  options\n};\nclass Options {\n  constructor() {\n    this.yAxis = {\n      show: true,\n      showAlways: false,\n      showForNullSeries: true,\n      seriesName: void 0,\n      opposite: false,\n      reversed: false,\n      logarithmic: false,\n      logBase: 10,\n      tickAmount: void 0,\n      stepSize: void 0,\n      forceNiceScale: false,\n      max: void 0,\n      min: void 0,\n      floating: false,\n      decimalsInFloat: void 0,\n      labels: {\n        show: true,\n        showDuplicates: false,\n        minWidth: 0,\n        maxWidth: 160,\n        offsetX: 0,\n        offsetY: 0,\n        align: void 0,\n        rotate: 0,\n        padding: 20,\n        style: {\n          colors: [],\n          fontSize: \"11px\",\n          fontWeight: 400,\n          fontFamily: void 0,\n          cssClass: \"\"\n        },\n        formatter: void 0\n      },\n      axisBorder: {\n        show: false,\n        color: \"#e0e0e0\",\n        width: 1,\n        offsetX: 0,\n        offsetY: 0\n      },\n      axisTicks: {\n        show: false,\n        color: \"#e0e0e0\",\n        width: 6,\n        offsetX: 0,\n        offsetY: 0\n      },\n      title: {\n        text: void 0,\n        rotate: -90,\n        offsetY: 0,\n        offsetX: 0,\n        style: {\n          color: void 0,\n          fontSize: \"11px\",\n          fontWeight: 900,\n          fontFamily: void 0,\n          cssClass: \"\"\n        }\n      },\n      tooltip: {\n        enabled: false,\n        offsetX: 0\n      },\n      crosshairs: {\n        show: true,\n        position: \"front\",\n        stroke: {\n          color: \"#b6b6b6\",\n          width: 1,\n          dashArray: 0\n        }\n      }\n    };\n    this.pointAnnotation = {\n      id: void 0,\n      x: 0,\n      y: null,\n      yAxisIndex: 0,\n      seriesIndex: void 0,\n      mouseEnter: void 0,\n      mouseLeave: void 0,\n      click: void 0,\n      marker: {\n        size: 4,\n        fillColor: \"#fff\",\n        strokeWidth: 2,\n        strokeColor: \"#333\",\n        shape: \"circle\",\n        offsetX: 0,\n        offsetY: 0,\n        // radius: 2, // DEPRECATED\n        cssClass: \"\"\n      },\n      label: {\n        borderColor: \"#c2c2c2\",\n        borderWidth: 1,\n        borderRadius: 2,\n        text: void 0,\n        textAnchor: \"middle\",\n        offsetX: 0,\n        offsetY: 0,\n        mouseEnter: void 0,\n        mouseLeave: void 0,\n        click: void 0,\n        style: {\n          background: \"#fff\",\n          color: void 0,\n          fontSize: \"11px\",\n          fontFamily: void 0,\n          fontWeight: 400,\n          cssClass: \"\",\n          padding: {\n            left: 5,\n            right: 5,\n            top: 2,\n            bottom: 2\n          }\n        }\n      },\n      customSVG: {\n        // this will be deprecated in the next major version as it is going to be replaced with a better alternative below (image)\n        SVG: void 0,\n        cssClass: void 0,\n        offsetX: 0,\n        offsetY: 0\n      },\n      image: {\n        path: void 0,\n        width: 20,\n        height: 20,\n        offsetX: 0,\n        offsetY: 0\n      }\n    };\n    this.yAxisAnnotation = {\n      id: void 0,\n      y: 0,\n      y2: null,\n      strokeDashArray: 1,\n      fillColor: \"#c2c2c2\",\n      borderColor: \"#c2c2c2\",\n      borderWidth: 1,\n      opacity: 0.3,\n      offsetX: 0,\n      offsetY: 0,\n      width: \"100%\",\n      yAxisIndex: 0,\n      label: {\n        borderColor: \"#c2c2c2\",\n        borderWidth: 1,\n        borderRadius: 2,\n        text: void 0,\n        textAnchor: \"end\",\n        position: \"right\",\n        offsetX: 0,\n        offsetY: -3,\n        mouseEnter: void 0,\n        mouseLeave: void 0,\n        click: void 0,\n        style: {\n          background: \"#fff\",\n          color: void 0,\n          fontSize: \"11px\",\n          fontFamily: void 0,\n          fontWeight: 400,\n          cssClass: \"\",\n          padding: {\n            left: 5,\n            right: 5,\n            top: 2,\n            bottom: 2\n          }\n        }\n      }\n    };\n    this.xAxisAnnotation = {\n      id: void 0,\n      x: 0,\n      x2: null,\n      strokeDashArray: 1,\n      fillColor: \"#c2c2c2\",\n      borderColor: \"#c2c2c2\",\n      borderWidth: 1,\n      opacity: 0.3,\n      offsetX: 0,\n      offsetY: 0,\n      label: {\n        borderColor: \"#c2c2c2\",\n        borderWidth: 1,\n        borderRadius: 2,\n        text: void 0,\n        textAnchor: \"middle\",\n        orientation: \"vertical\",\n        position: \"top\",\n        offsetX: 0,\n        offsetY: 0,\n        mouseEnter: void 0,\n        mouseLeave: void 0,\n        click: void 0,\n        style: {\n          background: \"#fff\",\n          color: void 0,\n          fontSize: \"11px\",\n          fontFamily: void 0,\n          fontWeight: 400,\n          cssClass: \"\",\n          padding: {\n            left: 5,\n            right: 5,\n            top: 2,\n            bottom: 2\n          }\n        }\n      }\n    };\n    this.text = {\n      x: 0,\n      y: 0,\n      text: \"\",\n      textAnchor: \"start\",\n      foreColor: void 0,\n      fontSize: \"13px\",\n      fontFamily: void 0,\n      fontWeight: 400,\n      appendTo: \".apexcharts-annotations\",\n      backgroundColor: \"transparent\",\n      borderColor: \"#c2c2c2\",\n      borderRadius: 0,\n      borderWidth: 0,\n      paddingLeft: 4,\n      paddingRight: 4,\n      paddingTop: 2,\n      paddingBottom: 2\n    };\n  }\n  init() {\n    return {\n      annotations: {\n        yaxis: [this.yAxisAnnotation],\n        xaxis: [this.xAxisAnnotation],\n        points: [this.pointAnnotation],\n        texts: [],\n        images: [],\n        shapes: []\n      },\n      chart: {\n        animations: {\n          enabled: true,\n          speed: 800,\n          animateGradually: {\n            delay: 150,\n            enabled: true\n          },\n          dynamicAnimation: {\n            enabled: true,\n            speed: 350\n          }\n        },\n        background: \"\",\n        locales: [en],\n        defaultLocale: \"en\",\n        dropShadow: {\n          enabled: false,\n          enabledOnSeries: void 0,\n          top: 2,\n          left: 2,\n          blur: 4,\n          color: \"#000\",\n          opacity: 0.7\n        },\n        events: {\n          animationEnd: void 0,\n          beforeMount: void 0,\n          mounted: void 0,\n          updated: void 0,\n          click: void 0,\n          mouseMove: void 0,\n          mouseLeave: void 0,\n          xAxisLabelClick: void 0,\n          legendClick: void 0,\n          markerClick: void 0,\n          selection: void 0,\n          dataPointSelection: void 0,\n          dataPointMouseEnter: void 0,\n          dataPointMouseLeave: void 0,\n          beforeZoom: void 0,\n          beforeResetZoom: void 0,\n          zoomed: void 0,\n          scrolled: void 0,\n          brushScrolled: void 0,\n          keyDown: void 0,\n          keyUp: void 0\n        },\n        foreColor: \"#373d3f\",\n        fontFamily: \"Helvetica, Arial, sans-serif\",\n        height: \"auto\",\n        parentHeightOffset: 15,\n        redrawOnParentResize: true,\n        redrawOnWindowResize: true,\n        id: void 0,\n        group: void 0,\n        nonce: void 0,\n        offsetX: 0,\n        offsetY: 0,\n        injectStyleSheet: true,\n        selection: {\n          enabled: false,\n          type: \"x\",\n          // selectedPoints: undefined, // default datapoints that should be selected automatically\n          fill: {\n            color: \"#24292e\",\n            opacity: 0.1\n          },\n          stroke: {\n            width: 1,\n            color: \"#24292e\",\n            opacity: 0.4,\n            dashArray: 3\n          },\n          xaxis: {\n            min: void 0,\n            max: void 0\n          },\n          yaxis: {\n            min: void 0,\n            max: void 0\n          }\n        },\n        sparkline: {\n          enabled: false\n        },\n        brush: {\n          enabled: false,\n          autoScaleYaxis: true,\n          target: void 0,\n          targets: void 0\n        },\n        stacked: false,\n        stackOnlyBar: true,\n        // mixed chart with stacked bars and line series - incorrect line draw #907\n        stackType: \"normal\",\n        toolbar: {\n          show: true,\n          offsetX: 0,\n          offsetY: 0,\n          tools: {\n            download: true,\n            selection: true,\n            zoom: true,\n            zoomin: true,\n            zoomout: true,\n            pan: true,\n            reset: true,\n            customIcons: []\n          },\n          export: {\n            csv: {\n              filename: void 0,\n              columnDelimiter: \",\",\n              headerCategory: \"category\",\n              headerValue: \"value\",\n              categoryFormatter: void 0,\n              valueFormatter: void 0\n            },\n            png: {\n              filename: void 0\n            },\n            svg: {\n              filename: void 0\n            },\n            scale: void 0,\n            width: void 0\n          },\n          autoSelected: \"zoom\"\n          // accepts -> zoom, pan, selection\n        },\n        type: \"line\",\n        width: \"100%\",\n        zoom: {\n          enabled: true,\n          type: \"x\",\n          autoScaleYaxis: false,\n          allowMouseWheelZoom: true,\n          zoomedArea: {\n            fill: {\n              color: \"#90CAF9\",\n              opacity: 0.4\n            },\n            stroke: {\n              color: \"#0D47A1\",\n              opacity: 0.4,\n              width: 1\n            }\n          }\n        },\n        accessibility: {\n          enabled: true,\n          description: void 0,\n          announcements: {\n            enabled: true\n          },\n          keyboard: {\n            enabled: true\n          }\n        }\n      },\n      parsing: {\n        x: void 0,\n        y: void 0\n      },\n      plotOptions: {\n        line: {\n          isSlopeChart: false,\n          colors: {\n            threshold: 0,\n            colorAboveThreshold: void 0,\n            colorBelowThreshold: void 0\n          }\n        },\n        area: {\n          fillTo: \"origin\"\n        },\n        bar: {\n          horizontal: false,\n          columnWidth: \"70%\",\n          // should be in percent 0 - 100\n          barHeight: \"70%\",\n          // should be in percent 0 - 100\n          distributed: false,\n          borderRadius: 0,\n          borderRadiusApplication: \"around\",\n          // [around, end]\n          borderRadiusWhenStacked: \"last\",\n          // [all, last]\n          rangeBarOverlap: true,\n          rangeBarGroupRows: false,\n          hideZeroBarsWhenGrouped: false,\n          isDumbbell: false,\n          dumbbellColors: void 0,\n          isFunnel: false,\n          isFunnel3d: true,\n          colors: {\n            ranges: [],\n            backgroundBarColors: [],\n            backgroundBarOpacity: 1,\n            backgroundBarRadius: 0\n          },\n          dataLabels: {\n            position: \"top\",\n            // top, center, bottom\n            maxItems: 100,\n            hideOverflowingLabels: true,\n            orientation: \"horizontal\",\n            total: {\n              enabled: false,\n              formatter: void 0,\n              offsetX: 0,\n              offsetY: 0,\n              style: {\n                color: \"#373d3f\",\n                fontSize: \"12px\",\n                fontFamily: void 0,\n                fontWeight: 600\n              }\n            }\n          }\n        },\n        bubble: {\n          zScaling: true,\n          minBubbleRadius: void 0,\n          maxBubbleRadius: void 0\n        },\n        candlestick: {\n          colors: {\n            upward: \"#00B746\",\n            downward: \"#EF403C\"\n          },\n          wick: {\n            useFillColor: true\n          }\n        },\n        boxPlot: {\n          colors: {\n            upper: \"#00E396\",\n            lower: \"#008FFB\"\n          }\n        },\n        heatmap: {\n          radius: 2,\n          enableShades: true,\n          shadeIntensity: 0.5,\n          reverseNegativeShade: false,\n          distributed: false,\n          useFillColorAsStroke: false,\n          colorScale: {\n            inverse: false,\n            ranges: [],\n            min: void 0,\n            max: void 0\n          }\n        },\n        treemap: {\n          enableShades: true,\n          shadeIntensity: 0.5,\n          distributed: false,\n          reverseNegativeShade: false,\n          useFillColorAsStroke: false,\n          borderRadius: 4,\n          dataLabels: {\n            format: \"scale\"\n            // scale | truncate\n          },\n          colorScale: {\n            inverse: false,\n            ranges: [],\n            min: void 0,\n            max: void 0\n          },\n          seriesTitle: {\n            show: true,\n            offsetY: 1,\n            offsetX: 1,\n            borderColor: \"#000\",\n            borderWidth: 1,\n            borderRadius: 2,\n            style: {\n              background: \"rgba(0, 0, 0, 0.6)\",\n              color: \"#fff\",\n              fontSize: \"12px\",\n              fontFamily: void 0,\n              fontWeight: 400,\n              cssClass: \"\",\n              padding: {\n                left: 6,\n                right: 6,\n                top: 2,\n                bottom: 2\n              }\n            }\n          }\n        },\n        radialBar: {\n          inverseOrder: false,\n          startAngle: 0,\n          endAngle: 360,\n          offsetX: 0,\n          offsetY: 0,\n          hollow: {\n            margin: 5,\n            size: \"50%\",\n            background: \"transparent\",\n            image: void 0,\n            imageWidth: 150,\n            imageHeight: 150,\n            imageOffsetX: 0,\n            imageOffsetY: 0,\n            imageClipped: true,\n            position: \"front\",\n            dropShadow: {\n              enabled: false,\n              top: 0,\n              left: 0,\n              blur: 3,\n              color: \"#000\",\n              opacity: 0.5\n            }\n          },\n          track: {\n            show: true,\n            startAngle: void 0,\n            endAngle: void 0,\n            background: \"#f2f2f2\",\n            strokeWidth: \"97%\",\n            opacity: 1,\n            margin: 5,\n            // margin is in pixels\n            dropShadow: {\n              enabled: false,\n              top: 0,\n              left: 0,\n              blur: 3,\n              color: \"#000\",\n              opacity: 0.5\n            }\n          },\n          dataLabels: {\n            show: true,\n            name: {\n              show: true,\n              fontSize: \"16px\",\n              fontFamily: void 0,\n              fontWeight: 600,\n              color: void 0,\n              offsetY: 0,\n              formatter(val) {\n                return val;\n              }\n            },\n            value: {\n              show: true,\n              fontSize: \"14px\",\n              fontFamily: void 0,\n              fontWeight: 400,\n              color: void 0,\n              offsetY: 16,\n              formatter(val) {\n                return val + \"%\";\n              }\n            },\n            total: {\n              show: false,\n              label: \"Total\",\n              fontSize: \"16px\",\n              fontWeight: 600,\n              fontFamily: void 0,\n              color: void 0,\n              formatter(w) {\n                return w.globals.seriesTotals.reduce((a, b) => a + b, 0) / w.globals.series.length + \"%\";\n              }\n            }\n          },\n          barLabels: {\n            enabled: false,\n            offsetX: 0,\n            offsetY: 0,\n            useSeriesColors: true,\n            fontFamily: void 0,\n            fontWeight: 600,\n            fontSize: \"16px\",\n            formatter(val) {\n              return val;\n            },\n            onClick: void 0\n          }\n        },\n        pie: {\n          customScale: 1,\n          offsetX: 0,\n          offsetY: 0,\n          startAngle: 0,\n          endAngle: 360,\n          expandOnClick: true,\n          dataLabels: {\n            // These are the percentage values which are displayed on slice\n            offset: 0,\n            // offset by which labels will move outside\n            minAngleToShowLabel: 10\n          },\n          donut: {\n            size: \"65%\",\n            background: \"transparent\",\n            labels: {\n              // These are the inner labels appearing inside donut\n              show: false,\n              name: {\n                show: true,\n                fontSize: \"16px\",\n                fontFamily: void 0,\n                fontWeight: 600,\n                color: void 0,\n                offsetY: -10,\n                formatter(val) {\n                  return val;\n                }\n              },\n              value: {\n                show: true,\n                fontSize: \"20px\",\n                fontFamily: void 0,\n                fontWeight: 400,\n                color: void 0,\n                offsetY: 10,\n                formatter(val) {\n                  return val;\n                }\n              },\n              total: {\n                show: false,\n                showAlways: false,\n                label: \"Total\",\n                fontSize: \"16px\",\n                fontWeight: 400,\n                fontFamily: void 0,\n                color: void 0,\n                formatter(w) {\n                  return w.globals.seriesTotals.reduce((a, b) => a + b, 0);\n                }\n              }\n            }\n          }\n        },\n        polarArea: {\n          rings: {\n            strokeWidth: 1,\n            strokeColor: \"#e8e8e8\"\n          },\n          spokes: {\n            strokeWidth: 1,\n            connectorColors: \"#e8e8e8\"\n          }\n        },\n        radar: {\n          size: void 0,\n          offsetX: 0,\n          offsetY: 0,\n          polygons: {\n            // strokeColor: '#e8e8e8', // should be deprecated in the minor version i.e 3.2\n            strokeWidth: 1,\n            strokeColors: \"#e8e8e8\",\n            connectorColors: \"#e8e8e8\",\n            fill: {\n              colors: void 0\n            }\n          }\n        }\n      },\n      colors: void 0,\n      dataLabels: {\n        enabled: true,\n        enabledOnSeries: void 0,\n        formatter(val) {\n          return val !== null ? val : \"\";\n        },\n        textAnchor: \"middle\",\n        distributed: false,\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          fontSize: \"12px\",\n          fontFamily: void 0,\n          fontWeight: 600,\n          colors: void 0\n        },\n        background: {\n          enabled: true,\n          foreColor: \"#fff\",\n          backgroundColor: void 0,\n          borderRadius: 2,\n          padding: 4,\n          opacity: 0.9,\n          borderWidth: 1,\n          borderColor: \"#fff\",\n          dropShadow: {\n            enabled: false,\n            top: 1,\n            left: 1,\n            blur: 1,\n            color: \"#000\",\n            opacity: 0.8\n          }\n        },\n        dropShadow: {\n          enabled: false,\n          top: 1,\n          left: 1,\n          blur: 1,\n          color: \"#000\",\n          opacity: 0.8\n        }\n      },\n      fill: {\n        type: \"solid\",\n        colors: void 0,\n        // array of colors\n        opacity: 0.85,\n        gradient: {\n          shade: \"dark\",\n          type: \"horizontal\",\n          shadeIntensity: 0.5,\n          gradientToColors: void 0,\n          inverseColors: true,\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 50, 100],\n          colorStops: []\n        },\n        image: {\n          src: [],\n          width: void 0,\n          // optional\n          height: void 0\n          // optional\n        },\n        pattern: {\n          style: \"squares\",\n          // String | Array of Strings\n          width: 6,\n          height: 6,\n          strokeWidth: 2\n        }\n      },\n      forecastDataPoints: {\n        count: 0,\n        fillOpacity: 0.5,\n        strokeWidth: void 0,\n        dashArray: 4\n      },\n      grid: {\n        show: true,\n        borderColor: \"#e0e0e0\",\n        strokeDashArray: 0,\n        position: \"back\",\n        xaxis: {\n          lines: {\n            show: false\n          }\n        },\n        yaxis: {\n          lines: {\n            show: true\n          }\n        },\n        row: {\n          colors: void 0,\n          // takes as array which will be repeated on rows\n          opacity: 0.5\n        },\n        column: {\n          colors: void 0,\n          // takes an array which will be repeated on columns\n          opacity: 0.5\n        },\n        padding: {\n          top: 0,\n          right: 10,\n          bottom: 0,\n          left: 12\n        }\n      },\n      labels: [],\n      legend: {\n        show: true,\n        showForSingleSeries: false,\n        showForNullSeries: true,\n        showForZeroSeries: true,\n        floating: false,\n        position: \"bottom\",\n        // whether to position legends in 1 of 4\n        // direction - top, bottom, left, right\n        horizontalAlign: \"center\",\n        // when position top/bottom, you can specify whether to align legends left, right or center\n        inverseOrder: false,\n        fontSize: \"12px\",\n        fontFamily: void 0,\n        fontWeight: 400,\n        width: void 0,\n        height: void 0,\n        formatter: void 0,\n        tooltipHoverFormatter: void 0,\n        offsetX: -20,\n        offsetY: 4,\n        customLegendItems: [],\n        clusterGroupedSeries: true,\n        clusterGroupedSeriesOrientation: \"vertical\",\n        labels: {\n          colors: void 0,\n          useSeriesColors: false\n        },\n        markers: {\n          size: 7,\n          fillColors: void 0,\n          strokeWidth: 1,\n          shape: void 0,\n          offsetX: 0,\n          offsetY: 0,\n          customHTML: void 0,\n          onClick: void 0\n        },\n        itemMargin: {\n          horizontal: 5,\n          vertical: 4\n        },\n        onItemClick: {\n          toggleDataSeries: true\n        },\n        onItemHover: {\n          highlightDataSeries: true\n        }\n      },\n      markers: {\n        discrete: [],\n        size: 0,\n        colors: void 0,\n        strokeColors: \"#fff\",\n        strokeWidth: 2,\n        strokeOpacity: 0.9,\n        strokeDashArray: 0,\n        fillOpacity: 1,\n        shape: \"circle\",\n        offsetX: 0,\n        offsetY: 0,\n        showNullDataPoints: true,\n        onClick: void 0,\n        onDblClick: void 0,\n        hover: {\n          size: void 0,\n          sizeOffset: 3\n        }\n      },\n      noData: {\n        text: void 0,\n        align: \"center\",\n        verticalAlign: \"middle\",\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          color: void 0,\n          fontSize: \"14px\",\n          fontFamily: void 0\n        }\n      },\n      responsive: [],\n      // breakpoints should follow ascending order 400, then 700, then 1000\n      series: void 0,\n      states: {\n        hover: {\n          filter: {\n            type: \"lighten\"\n          }\n        },\n        active: {\n          allowMultipleDataPointsSelection: false,\n          filter: {\n            type: \"darken\"\n          }\n        }\n      },\n      title: {\n        text: void 0,\n        align: \"left\",\n        margin: 5,\n        offsetX: 0,\n        offsetY: 0,\n        floating: false,\n        style: {\n          fontSize: \"14px\",\n          fontWeight: 900,\n          fontFamily: void 0,\n          color: void 0\n        }\n      },\n      subtitle: {\n        text: void 0,\n        align: \"left\",\n        margin: 5,\n        offsetX: 0,\n        offsetY: 30,\n        floating: false,\n        style: {\n          fontSize: \"12px\",\n          fontWeight: 400,\n          fontFamily: void 0,\n          color: void 0\n        }\n      },\n      stroke: {\n        show: true,\n        curve: \"smooth\",\n        // \"smooth\" / \"straight\" / \"monotoneCubic\" / \"stepline\" / \"linestep\"\n        lineCap: \"butt\",\n        // round, butt , square\n        width: 2,\n        colors: void 0,\n        // array of colors\n        dashArray: 0,\n        // single value or array of values\n        fill: {\n          type: \"solid\",\n          colors: void 0,\n          // array of colors\n          opacity: 0.85,\n          gradient: {\n            shade: \"dark\",\n            type: \"horizontal\",\n            shadeIntensity: 0.5,\n            gradientToColors: void 0,\n            inverseColors: true,\n            opacityFrom: 1,\n            opacityTo: 1,\n            stops: [0, 50, 100],\n            colorStops: []\n          }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        enabledOnSeries: void 0,\n        shared: true,\n        hideEmptySeries: false,\n        followCursor: false,\n        // when disabled, the tooltip will show on top of the series instead of mouse position\n        intersect: false,\n        // when enabled, tooltip will only show when user directly hovers over point\n        inverseOrder: false,\n        custom: void 0,\n        fillSeriesColor: false,\n        theme: \"light\",\n        cssClass: \"\",\n        style: {\n          fontSize: \"12px\",\n          fontFamily: void 0\n        },\n        onDatasetHover: {\n          highlightDataSeries: false\n        },\n        x: {\n          // x value\n          show: true,\n          format: \"dd MMM\",\n          // dd/MM, dd MMM yy, dd MMM yyyy\n          formatter: void 0\n          // a custom user supplied formatter function\n        },\n        y: {\n          formatter: void 0,\n          title: {\n            formatter(seriesName) {\n              return seriesName ? seriesName + \": \" : \"\";\n            }\n          }\n        },\n        z: {\n          formatter: void 0,\n          title: \"Size: \"\n        },\n        marker: {\n          show: true,\n          fillColors: void 0\n        },\n        items: {\n          display: \"flex\"\n        },\n        fixed: {\n          enabled: false,\n          position: \"topRight\",\n          // topRight, topLeft, bottomRight, bottomLeft\n          offsetX: 0,\n          offsetY: 0\n        }\n      },\n      xaxis: {\n        type: \"category\",\n        categories: [],\n        convertedCatToNumeric: false,\n        // internal property which should not be altered outside\n        offsetX: 0,\n        offsetY: 0,\n        overwriteCategories: void 0,\n        labels: {\n          show: true,\n          rotate: -45,\n          rotateAlways: false,\n          hideOverlappingLabels: true,\n          trim: false,\n          minHeight: void 0,\n          maxHeight: 120,\n          showDuplicates: true,\n          style: {\n            colors: [],\n            fontSize: \"12px\",\n            fontWeight: 400,\n            fontFamily: void 0,\n            cssClass: \"\"\n          },\n          offsetX: 0,\n          offsetY: 0,\n          format: void 0,\n          formatter: void 0,\n          // custom formatter function which will override format\n          datetimeUTC: true,\n          datetimeFormatter: {\n            year: \"yyyy\",\n            month: \"MMM 'yy\",\n            day: \"dd MMM\",\n            hour: \"HH:mm\",\n            minute: \"HH:mm:ss\",\n            second: \"HH:mm:ss\"\n          }\n        },\n        group: {\n          groups: [],\n          style: {\n            colors: [],\n            fontSize: \"12px\",\n            fontWeight: 400,\n            fontFamily: void 0,\n            cssClass: \"\"\n          }\n        },\n        axisBorder: {\n          show: true,\n          color: \"#e0e0e0\",\n          width: \"100%\",\n          height: 1,\n          offsetX: 0,\n          offsetY: 0\n        },\n        axisTicks: {\n          show: true,\n          color: \"#e0e0e0\",\n          height: 6,\n          offsetX: 0,\n          offsetY: 0\n        },\n        stepSize: void 0,\n        tickAmount: void 0,\n        tickPlacement: \"on\",\n        min: void 0,\n        max: void 0,\n        range: void 0,\n        floating: false,\n        decimalsInFloat: void 0,\n        position: \"bottom\",\n        title: {\n          text: void 0,\n          offsetX: 0,\n          offsetY: 0,\n          style: {\n            color: void 0,\n            fontSize: \"12px\",\n            fontWeight: 900,\n            fontFamily: void 0,\n            cssClass: \"\"\n          }\n        },\n        crosshairs: {\n          show: true,\n          width: 1,\n          // tickWidth/barWidth or an integer\n          position: \"back\",\n          opacity: 0.9,\n          stroke: {\n            color: \"#b6b6b6\",\n            width: 1,\n            dashArray: 3\n          },\n          fill: {\n            type: \"solid\",\n            // solid, gradient\n            color: \"#B1B9C4\",\n            gradient: {\n              colorFrom: \"#D8E3F0\",\n              colorTo: \"#BED1E6\",\n              stops: [0, 100],\n              opacityFrom: 0.4,\n              opacityTo: 0.5\n            }\n          },\n          dropShadow: {\n            enabled: false,\n            left: 0,\n            top: 0,\n            blur: 1,\n            opacity: 0.8\n          }\n        },\n        tooltip: {\n          enabled: true,\n          offsetY: 0,\n          formatter: void 0,\n          style: {\n            fontSize: \"12px\",\n            fontFamily: void 0\n          }\n        }\n      },\n      yaxis: this.yAxis,\n      theme: {\n        mode: \"\",\n        palette: \"palette1\",\n        // If defined, it will overwrite globals.colors variable\n        monochrome: {\n          // monochrome allows you to select just 1 color and fill out the rest with light/dark shade (intensity can be selected)\n          enabled: false,\n          color: \"#008FFB\",\n          shadeTo: \"light\",\n          shadeIntensity: 0.65\n        }\n      }\n    };\n  }\n}\nclass Annotations {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.graphics = new Graphics(this.ctx);\n    if (this.w.globals.isBarHorizontal) {\n      this.invertAxis = true;\n    }\n    this.helpers = new Helpers$4(this);\n    this.xAxisAnnotations = new XAnnotations(this);\n    this.yAxisAnnotations = new YAnnotations(this);\n    this.pointsAnnotations = new PointAnnotations(this);\n    if (this.w.globals.isBarHorizontal && this.w.config.yaxis[0].reversed) {\n      this.inversedReversedAxis = true;\n    }\n    this.xDivision = this.w.globals.gridWidth / this.w.globals.dataPoints;\n  }\n  drawAxesAnnotations() {\n    const w = this.w;\n    if (w.globals.axisCharts && w.globals.dataPoints) {\n      let yAnnotations = this.yAxisAnnotations.drawYAxisAnnotations();\n      let xAnnotations = this.xAxisAnnotations.drawXAxisAnnotations();\n      let pointAnnotations = this.pointsAnnotations.drawPointAnnotations();\n      const initialAnim = w.config.chart.animations.enabled;\n      const annoArray = [yAnnotations, xAnnotations, pointAnnotations];\n      const annoElArray = [xAnnotations.node, yAnnotations.node, pointAnnotations.node];\n      for (let i = 0; i < 3; i++) {\n        w.globals.dom.elGraphical.add(annoArray[i]);\n        if (initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n          if (w.config.chart.type !== \"scatter\" && w.config.chart.type !== \"bubble\" && w.globals.dataPoints > 1) {\n            annoElArray[i].classList.add(\"apexcharts-element-hidden\");\n          }\n        }\n        w.globals.delayedElements.push({\n          el: annoElArray[i],\n          index: 0\n        });\n      }\n      this.helpers.annotationsBackground();\n    }\n  }\n  drawImageAnnos() {\n    const w = this.w;\n    w.config.annotations.images.map((s, index) => {\n      this.addImage(s, index);\n    });\n  }\n  drawTextAnnos() {\n    const w = this.w;\n    w.config.annotations.texts.map((t, index) => {\n      this.addText(t, index);\n    });\n  }\n  addXaxisAnnotation(anno, parent, index) {\n    this.xAxisAnnotations.addXaxisAnnotation(anno, parent, index);\n  }\n  addYaxisAnnotation(anno, parent, index) {\n    this.yAxisAnnotations.addYaxisAnnotation(anno, parent, index);\n  }\n  addPointAnnotation(anno, parent, index) {\n    this.pointsAnnotations.addPointAnnotation(anno, parent, index);\n  }\n  addText(params) {\n    const {\n      x,\n      y,\n      text,\n      textAnchor,\n      foreColor,\n      fontSize,\n      fontFamily,\n      fontWeight,\n      cssClass,\n      backgroundColor,\n      borderWidth,\n      strokeDashArray,\n      borderRadius,\n      borderColor,\n      appendTo = \".apexcharts-svg\",\n      paddingLeft = 4,\n      paddingRight = 4,\n      paddingBottom = 2,\n      paddingTop = 2\n    } = params;\n    const w = this.w;\n    let elText = this.graphics.drawText({\n      x,\n      y,\n      text,\n      textAnchor: textAnchor || \"start\",\n      fontSize: fontSize || \"12px\",\n      fontWeight: fontWeight || \"regular\",\n      fontFamily: fontFamily || w.config.chart.fontFamily,\n      foreColor: foreColor || w.config.chart.foreColor,\n      cssClass: \"apexcharts-text \" + cssClass ? cssClass : \"\"\n    });\n    const parent = w.globals.dom.baseEl.querySelector(appendTo);\n    if (parent) {\n      parent.appendChild(elText.node);\n    }\n    const textRect = elText.bbox();\n    if (text) {\n      const elRect = this.graphics.drawRect(textRect.x - paddingLeft, textRect.y - paddingTop, textRect.width + paddingLeft + paddingRight, textRect.height + paddingBottom + paddingTop, borderRadius, backgroundColor ? backgroundColor : \"transparent\", 1, borderWidth, borderColor, strokeDashArray);\n      parent.insertBefore(elRect.node, elText.node);\n    }\n  }\n  addImage(params) {\n    const w = this.w;\n    const {\n      path,\n      x = 0,\n      y = 0,\n      width = 20,\n      height = 20,\n      appendTo = \".apexcharts-svg\"\n    } = params;\n    let img = w.globals.dom.Paper.image(path);\n    img.size(width, height).move(x, y);\n    const parent = w.globals.dom.baseEl.querySelector(appendTo);\n    if (parent) {\n      parent.appendChild(img.node);\n    }\n    return img;\n  }\n  // The addXaxisAnnotation method requires a parent class, and user calling this method externally on the chart instance may not specify parent, hence a different method\n  addXaxisAnnotationExternal(params, pushToMemory, context) {\n    this.addAnnotationExternal({\n      params,\n      pushToMemory,\n      context,\n      type: \"xaxis\",\n      contextMethod: context.addXaxisAnnotation\n    });\n    return context;\n  }\n  addYaxisAnnotationExternal(params, pushToMemory, context) {\n    this.addAnnotationExternal({\n      params,\n      pushToMemory,\n      context,\n      type: \"yaxis\",\n      contextMethod: context.addYaxisAnnotation\n    });\n    return context;\n  }\n  addPointAnnotationExternal(params, pushToMemory, context) {\n    if (typeof this.invertAxis === \"undefined\") {\n      this.invertAxis = context.w.globals.isBarHorizontal;\n    }\n    this.addAnnotationExternal({\n      params,\n      pushToMemory,\n      context,\n      type: \"point\",\n      contextMethod: context.addPointAnnotation\n    });\n    return context;\n  }\n  addAnnotationExternal({\n    params,\n    pushToMemory,\n    context,\n    type,\n    contextMethod\n  }) {\n    const me = context;\n    const w = me.w;\n    const parent = w.globals.dom.baseEl.querySelector(`.apexcharts-${type}-annotations`);\n    const index = parent.childNodes.length + 1;\n    const options2 = new Options();\n    const axesAnno = Object.assign({}, type === \"xaxis\" ? options2.xAxisAnnotation : type === \"yaxis\" ? options2.yAxisAnnotation : options2.pointAnnotation);\n    const anno = Utils$1.extend(axesAnno, params);\n    switch (type) {\n      case \"xaxis\":\n        this.addXaxisAnnotation(anno, parent, index);\n        break;\n      case \"yaxis\":\n        this.addYaxisAnnotation(anno, parent, index);\n        break;\n      case \"point\":\n        this.addPointAnnotation(anno, parent, index);\n        break;\n    }\n    let axesAnnoLabel = w.globals.dom.baseEl.querySelector(`.apexcharts-${type}-annotations .apexcharts-${type}-annotation-label[rel='${index}']`);\n    const elRect = this.helpers.addBackgroundToAnno(axesAnnoLabel, anno);\n    if (elRect) {\n      parent.insertBefore(elRect.node, axesAnnoLabel);\n    }\n    if (pushToMemory) {\n      w.globals.memory.methodsToExec.push({\n        context: me,\n        id: anno.id ? anno.id : Utils$1.randomId(),\n        method: contextMethod,\n        label: \"addAnnotation\",\n        params\n      });\n    }\n    return context;\n  }\n  clearAnnotations(ctx) {\n    const w = ctx.w;\n    let annos = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations\");\n    for (let i = w.globals.memory.methodsToExec.length - 1; i >= 0; i--) {\n      if (w.globals.memory.methodsToExec[i].label === \"addText\" || w.globals.memory.methodsToExec[i].label === \"addAnnotation\") {\n        w.globals.memory.methodsToExec.splice(i, 1);\n      }\n    }\n    annos = Utils$1.listToArray(annos);\n    Array.prototype.forEach.call(annos, a => {\n      while (a.firstChild) {\n        a.removeChild(a.firstChild);\n      }\n    });\n  }\n  removeAnnotation(ctx, id) {\n    const w = ctx.w;\n    let annos = w.globals.dom.baseEl.querySelectorAll(`.${id}`);\n    if (annos) {\n      w.globals.memory.methodsToExec.map((m, i) => {\n        if (m.id === id) {\n          w.globals.memory.methodsToExec.splice(i, 1);\n        }\n      });\n      Object.keys(w.config.annotations).forEach(key => {\n        const annotationArray = w.config.annotations[key];\n        if (Array.isArray(annotationArray)) {\n          w.config.annotations[key] = annotationArray.filter(m => m.id !== id);\n        }\n      });\n      Array.prototype.forEach.call(annos, a => {\n        a.parentElement.removeChild(a);\n      });\n    }\n  }\n}\nconst getRangeValues = ({\n  isTimeline,\n  ctx,\n  seriesIndex,\n  dataPointIndex,\n  y1,\n  y2,\n  w\n}) => {\n  var _a;\n  let start = w.globals.seriesRangeStart[seriesIndex][dataPointIndex];\n  let end = w.globals.seriesRangeEnd[seriesIndex][dataPointIndex];\n  let ylabel = w.globals.labels[dataPointIndex];\n  let seriesName = w.config.series[seriesIndex].name ? w.config.series[seriesIndex].name : \"\";\n  const yLbFormatter = w.globals.ttKeyFormatter;\n  const yLbTitleFormatter = w.config.tooltip.y.title.formatter;\n  const opts = {\n    w,\n    seriesIndex,\n    dataPointIndex,\n    start,\n    end\n  };\n  if (typeof yLbTitleFormatter === \"function\") {\n    seriesName = yLbTitleFormatter(seriesName, opts);\n  }\n  if ((_a = w.config.series[seriesIndex].data[dataPointIndex]) == null ? void 0 : _a.x) {\n    ylabel = w.config.series[seriesIndex].data[dataPointIndex].x;\n  }\n  if (!isTimeline) {\n    if (w.config.xaxis.type === \"datetime\") {\n      let xFormat = new Formatters(ctx);\n      ylabel = xFormat.xLabelFormat(w.globals.ttKeyFormatter, ylabel, ylabel, {\n        i: void 0,\n        dateFormatter: new DateTime(ctx).formatDate,\n        w\n      });\n    }\n  }\n  if (typeof yLbFormatter === \"function\") {\n    ylabel = yLbFormatter(ylabel, opts);\n  }\n  if (Number.isFinite(y1) && Number.isFinite(y2)) {\n    start = y1;\n    end = y2;\n  }\n  let startVal = \"\";\n  let endVal = \"\";\n  const color = w.globals.colors[seriesIndex];\n  if (w.config.tooltip.x.formatter === void 0) {\n    if (w.config.xaxis.type === \"datetime\") {\n      let datetimeObj = new DateTime(ctx);\n      startVal = datetimeObj.formatDate(datetimeObj.getDate(start), w.config.tooltip.x.format);\n      endVal = datetimeObj.formatDate(datetimeObj.getDate(end), w.config.tooltip.x.format);\n    } else {\n      startVal = start;\n      endVal = end;\n    }\n  } else {\n    startVal = w.config.tooltip.x.formatter(start);\n    endVal = w.config.tooltip.x.formatter(end);\n  }\n  return {\n    start,\n    end,\n    startVal,\n    endVal,\n    ylabel,\n    color,\n    seriesName\n  };\n};\nconst buildRangeTooltipHTML = opts => {\n  let {\n    color,\n    seriesName,\n    ylabel,\n    start,\n    end,\n    seriesIndex,\n    dataPointIndex\n  } = opts;\n  const formatter = opts.ctx.tooltip.tooltipLabels.getFormatters(seriesIndex);\n  start = formatter.yLbFormatter(start);\n  end = formatter.yLbFormatter(end);\n  const val = formatter.yLbFormatter(opts.w.globals.series[seriesIndex][dataPointIndex]);\n  let valueHTML = \"\";\n  const rangeValues = `<span class=\"value start-value\">\n  ${start}\n  </span> <span class=\"separator\">-</span> <span class=\"value end-value\">\n  ${end}\n  </span>`;\n  if (opts.w.globals.comboCharts) {\n    if (opts.w.config.series[seriesIndex].type === \"rangeArea\" || opts.w.config.series[seriesIndex].type === \"rangeBar\") {\n      valueHTML = rangeValues;\n    } else {\n      valueHTML = `<span>${val}</span>`;\n    }\n  } else {\n    valueHTML = rangeValues;\n  }\n  return '<div class=\"apexcharts-tooltip-rangebar\"><div> <span class=\"series-name\" style=\"color: ' + color + '\">' + (seriesName ? seriesName : \"\") + '</span></div><div> <span class=\"category\">' + ylabel + \": </span> \" + valueHTML + \" </div></div>\";\n};\nclass Defaults {\n  constructor(opts) {\n    this.opts = opts;\n  }\n  hideYAxis() {\n    this.opts.yaxis[0].show = false;\n    this.opts.yaxis[0].title.text = \"\";\n    this.opts.yaxis[0].axisBorder.show = false;\n    this.opts.yaxis[0].axisTicks.show = false;\n    this.opts.yaxis[0].floating = true;\n  }\n  line() {\n    return {\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        width: 5,\n        curve: \"straight\"\n      },\n      markers: {\n        size: 0,\n        hover: {\n          sizeOffset: 6\n        }\n      },\n      xaxis: {\n        crosshairs: {\n          width: 1\n        }\n      }\n    };\n  }\n  sparkline(defaults) {\n    this.hideYAxis();\n    const ret = {\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      },\n      legend: {\n        show: false\n      },\n      xaxis: {\n        labels: {\n          show: false\n        },\n        tooltip: {\n          enabled: false\n        },\n        axisBorder: {\n          show: false\n        },\n        axisTicks: {\n          show: false\n        }\n      },\n      chart: {\n        toolbar: {\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: false\n      }\n    };\n    return Utils$1.extend(defaults, ret);\n  }\n  slope() {\n    this.hideYAxis();\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: true,\n        formatter(val, opts) {\n          const seriesName = opts.w.config.series[opts.seriesIndex].name;\n          return val !== null ? seriesName + \": \" + val : \"\";\n        },\n        background: {\n          enabled: false\n        },\n        offsetX: -5\n      },\n      grid: {\n        xaxis: {\n          lines: {\n            show: true\n          }\n        },\n        yaxis: {\n          lines: {\n            show: false\n          }\n        }\n      },\n      xaxis: {\n        position: \"top\",\n        labels: {\n          style: {\n            fontSize: 14,\n            fontWeight: 900\n          }\n        },\n        tooltip: {\n          enabled: false\n        },\n        crosshairs: {\n          show: false\n        }\n      },\n      markers: {\n        size: 8,\n        hover: {\n          sizeOffset: 1\n        }\n      },\n      legend: {\n        show: false\n      },\n      tooltip: {\n        shared: false,\n        intersect: true,\n        followCursor: true\n      },\n      stroke: {\n        width: 5,\n        curve: \"straight\"\n      }\n    };\n  }\n  bar() {\n    return {\n      chart: {\n        stacked: false\n      },\n      plotOptions: {\n        bar: {\n          dataLabels: {\n            position: \"center\"\n          }\n        }\n      },\n      dataLabels: {\n        style: {\n          colors: [\"#fff\"]\n        },\n        background: {\n          enabled: false\n        }\n      },\n      stroke: {\n        width: 0,\n        lineCap: \"square\"\n      },\n      fill: {\n        opacity: 0.85\n      },\n      legend: {\n        markers: {\n          shape: \"square\"\n        }\n      },\n      tooltip: {\n        shared: false,\n        intersect: true\n      },\n      xaxis: {\n        tooltip: {\n          enabled: false\n        },\n        tickPlacement: \"between\",\n        crosshairs: {\n          width: \"barWidth\",\n          position: \"back\",\n          fill: {\n            type: \"gradient\"\n          },\n          dropShadow: {\n            enabled: false\n          },\n          stroke: {\n            width: 0\n          }\n        }\n      }\n    };\n  }\n  funnel() {\n    this.hideYAxis();\n    return __spreadProps(__spreadValues({}, this.bar()), {\n      chart: {\n        animations: {\n          speed: 800,\n          animateGradually: {\n            enabled: false\n          }\n        }\n      },\n      plotOptions: {\n        bar: {\n          horizontal: true,\n          borderRadiusApplication: \"around\",\n          borderRadius: 0,\n          dataLabels: {\n            position: \"center\"\n          }\n        }\n      },\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0\n        }\n      },\n      xaxis: {\n        labels: {\n          show: false\n        },\n        tooltip: {\n          enabled: false\n        },\n        axisBorder: {\n          show: false\n        },\n        axisTicks: {\n          show: false\n        }\n      }\n    });\n  }\n  candlestick() {\n    return {\n      stroke: {\n        width: 1\n      },\n      fill: {\n        opacity: 1\n      },\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        shared: true,\n        custom: ({\n          seriesIndex,\n          dataPointIndex,\n          w\n        }) => {\n          return this._getBoxTooltip(w, seriesIndex, dataPointIndex, [\"Open\", \"High\", \"\", \"Low\", \"Close\"], \"candlestick\");\n        }\n      },\n      states: {\n        active: {\n          filter: {\n            type: \"none\"\n          }\n        }\n      },\n      xaxis: {\n        crosshairs: {\n          width: 1\n        }\n      }\n    };\n  }\n  boxPlot() {\n    return {\n      chart: {\n        animations: {\n          dynamicAnimation: {\n            enabled: false\n          }\n        }\n      },\n      stroke: {\n        width: 1,\n        colors: [\"#24292e\"]\n      },\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        shared: true,\n        custom: ({\n          seriesIndex,\n          dataPointIndex,\n          w\n        }) => {\n          return this._getBoxTooltip(w, seriesIndex, dataPointIndex, [\"Minimum\", \"Q1\", \"Median\", \"Q3\", \"Maximum\"], \"boxPlot\");\n        }\n      },\n      markers: {\n        size: 7,\n        strokeWidth: 1,\n        strokeColors: \"#111\"\n      },\n      xaxis: {\n        crosshairs: {\n          width: 1\n        }\n      }\n    };\n  }\n  rangeBar() {\n    const handleTimelineTooltip = opts => {\n      const {\n        color,\n        seriesName,\n        ylabel,\n        startVal,\n        endVal\n      } = getRangeValues(__spreadProps(__spreadValues({}, opts), {\n        isTimeline: true\n      }));\n      return buildRangeTooltipHTML(__spreadProps(__spreadValues({}, opts), {\n        color,\n        seriesName,\n        ylabel,\n        start: startVal,\n        end: endVal\n      }));\n    };\n    const handleRangeColumnTooltip = opts => {\n      const {\n        color,\n        seriesName,\n        ylabel,\n        start,\n        end\n      } = getRangeValues(opts);\n      return buildRangeTooltipHTML(__spreadProps(__spreadValues({}, opts), {\n        color,\n        seriesName,\n        ylabel,\n        start,\n        end\n      }));\n    };\n    return {\n      chart: {\n        animations: {\n          animateGradually: false\n        }\n      },\n      stroke: {\n        width: 0,\n        lineCap: \"square\"\n      },\n      plotOptions: {\n        bar: {\n          borderRadius: 0,\n          dataLabels: {\n            position: \"center\"\n          }\n        }\n      },\n      dataLabels: {\n        enabled: false,\n        formatter(val, {\n          seriesIndex,\n          dataPointIndex,\n          w\n        }) {\n          const getVal = () => {\n            const start = w.globals.seriesRangeStart[seriesIndex][dataPointIndex];\n            const end = w.globals.seriesRangeEnd[seriesIndex][dataPointIndex];\n            return end - start;\n          };\n          if (w.globals.comboCharts) {\n            if (w.config.series[seriesIndex].type === \"rangeBar\" || w.config.series[seriesIndex].type === \"rangeArea\") {\n              return getVal();\n            } else {\n              return val;\n            }\n          } else {\n            return getVal();\n          }\n        },\n        background: {\n          enabled: false\n        },\n        style: {\n          colors: [\"#fff\"]\n        }\n      },\n      markers: {\n        size: 10\n      },\n      tooltip: {\n        shared: false,\n        followCursor: true,\n        custom(opts) {\n          if (opts.w.config.plotOptions && opts.w.config.plotOptions.bar && opts.w.config.plotOptions.bar.horizontal) {\n            return handleTimelineTooltip(opts);\n          } else {\n            return handleRangeColumnTooltip(opts);\n          }\n        }\n      },\n      xaxis: {\n        tickPlacement: \"between\",\n        tooltip: {\n          enabled: false\n        },\n        crosshairs: {\n          stroke: {\n            width: 0\n          }\n        }\n      }\n    };\n  }\n  dumbbell(opts) {\n    var _a, _b;\n    if (!((_a = opts.plotOptions.bar) == null ? void 0 : _a.barHeight)) {\n      opts.plotOptions.bar.barHeight = 2;\n    }\n    if (!((_b = opts.plotOptions.bar) == null ? void 0 : _b.columnWidth)) {\n      opts.plotOptions.bar.columnWidth = 2;\n    }\n    return opts;\n  }\n  area() {\n    return {\n      stroke: {\n        width: 4,\n        fill: {\n          type: \"solid\",\n          gradient: {\n            inverseColors: false,\n            shade: \"light\",\n            type: \"vertical\",\n            opacityFrom: 0.65,\n            opacityTo: 0.5,\n            stops: [0, 100, 100]\n          }\n        }\n      },\n      fill: {\n        type: \"gradient\",\n        gradient: {\n          inverseColors: false,\n          shade: \"light\",\n          type: \"vertical\",\n          opacityFrom: 0.65,\n          opacityTo: 0.5,\n          stops: [0, 100, 100]\n        }\n      },\n      markers: {\n        size: 0,\n        hover: {\n          sizeOffset: 6\n        }\n      },\n      tooltip: {\n        followCursor: false\n      }\n    };\n  }\n  rangeArea() {\n    const handleRangeAreaTooltip = opts => {\n      const {\n        color,\n        seriesName,\n        ylabel,\n        start,\n        end\n      } = getRangeValues(opts);\n      return buildRangeTooltipHTML(__spreadProps(__spreadValues({}, opts), {\n        color,\n        seriesName,\n        ylabel,\n        start,\n        end\n      }));\n    };\n    return {\n      stroke: {\n        curve: \"straight\",\n        width: 0\n      },\n      fill: {\n        type: \"solid\",\n        opacity: 0.6\n      },\n      markers: {\n        size: 0\n      },\n      states: {\n        hover: {\n          filter: {\n            type: \"none\"\n          }\n        },\n        active: {\n          filter: {\n            type: \"none\"\n          }\n        }\n      },\n      tooltip: {\n        intersect: false,\n        shared: true,\n        followCursor: true,\n        custom(opts) {\n          return handleRangeAreaTooltip(opts);\n        }\n      }\n    };\n  }\n  brush(defaults) {\n    const ret = {\n      chart: {\n        toolbar: {\n          autoSelected: \"selection\",\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        width: 1\n      },\n      tooltip: {\n        enabled: false\n      },\n      xaxis: {\n        tooltip: {\n          enabled: false\n        }\n      }\n    };\n    return Utils$1.extend(defaults, ret);\n  }\n  stacked100(opts) {\n    opts.dataLabels = opts.dataLabels || {};\n    opts.dataLabels.formatter = opts.dataLabels.formatter || void 0;\n    const existingDataLabelFormatter = opts.dataLabels.formatter;\n    opts.yaxis.forEach((yaxe, index) => {\n      opts.yaxis[index].min = 0;\n      opts.yaxis[index].max = 100;\n    });\n    const isBar = opts.chart.type === \"bar\";\n    if (isBar) {\n      opts.dataLabels.formatter = existingDataLabelFormatter || function (val) {\n        if (typeof val === \"number\") {\n          return val ? val.toFixed(0) + \"%\" : val;\n        }\n        return val;\n      };\n    }\n    return opts;\n  }\n  stackedBars() {\n    const barDefaults = this.bar();\n    return __spreadProps(__spreadValues({}, barDefaults), {\n      plotOptions: __spreadProps(__spreadValues({}, barDefaults.plotOptions), {\n        bar: __spreadProps(__spreadValues({}, barDefaults.plotOptions.bar), {\n          borderRadiusApplication: \"end\",\n          borderRadiusWhenStacked: \"last\"\n        })\n      })\n    });\n  }\n  // This function removes the left and right spacing in chart for line/area/scatter if xaxis type = category for those charts by converting xaxis = numeric. Numeric/Datetime xaxis prevents the unnecessary spacing in the left/right of the chart area\n  convertCatToNumeric(opts) {\n    opts.xaxis.convertedCatToNumeric = true;\n    return opts;\n  }\n  convertCatToNumericXaxis(opts, ctx, cats) {\n    opts.xaxis.type = \"numeric\";\n    opts.xaxis.labels = opts.xaxis.labels || {};\n    opts.xaxis.labels.formatter = opts.xaxis.labels.formatter || function (val) {\n      return Utils$1.isNumber(val) ? Math.floor(val) : val;\n    };\n    const defaultFormatter = opts.xaxis.labels.formatter;\n    let labels = opts.xaxis.categories && opts.xaxis.categories.length ? opts.xaxis.categories : opts.labels;\n    if (cats && cats.length) {\n      labels = cats.map(c => {\n        return Array.isArray(c) ? c : String(c);\n      });\n    }\n    if (labels && labels.length) {\n      opts.xaxis.labels.formatter = function (val) {\n        return Utils$1.isNumber(val) ? defaultFormatter(labels[Math.floor(val) - 1]) : defaultFormatter(val);\n      };\n    }\n    opts.xaxis.categories = [];\n    opts.labels = [];\n    opts.xaxis.tickAmount = opts.xaxis.tickAmount || \"dataPoints\";\n    return opts;\n  }\n  bubble() {\n    return {\n      dataLabels: {\n        style: {\n          colors: [\"#fff\"]\n        }\n      },\n      tooltip: {\n        shared: false,\n        intersect: true\n      },\n      xaxis: {\n        crosshairs: {\n          width: 0\n        }\n      },\n      fill: {\n        type: \"solid\",\n        gradient: {\n          shade: \"light\",\n          inverse: true,\n          shadeIntensity: 0.55,\n          opacityFrom: 0.4,\n          opacityTo: 0.8\n        }\n      }\n    };\n  }\n  scatter() {\n    return {\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        shared: false,\n        intersect: true\n      },\n      markers: {\n        size: 6,\n        strokeWidth: 1,\n        hover: {\n          sizeOffset: 2\n        }\n      }\n    };\n  }\n  heatmap() {\n    return {\n      chart: {\n        stacked: false\n      },\n      fill: {\n        opacity: 1\n      },\n      dataLabels: {\n        style: {\n          colors: [\"#fff\"]\n        }\n      },\n      stroke: {\n        colors: [\"#fff\"]\n      },\n      tooltip: {\n        followCursor: true,\n        marker: {\n          show: false\n        },\n        x: {\n          show: false\n        }\n      },\n      legend: {\n        position: \"top\",\n        markers: {\n          shape: \"square\"\n        }\n      },\n      grid: {\n        padding: {\n          right: 20\n        }\n      }\n    };\n  }\n  treemap() {\n    return {\n      chart: {\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        style: {\n          fontSize: 14,\n          fontWeight: 600,\n          colors: [\"#fff\"]\n        }\n      },\n      stroke: {\n        show: true,\n        width: 2,\n        colors: [\"#fff\"]\n      },\n      legend: {\n        show: false\n      },\n      fill: {\n        opacity: 1,\n        gradient: {\n          stops: [0, 100]\n        }\n      },\n      tooltip: {\n        followCursor: true,\n        x: {\n          show: false\n        }\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0\n        }\n      },\n      xaxis: {\n        crosshairs: {\n          show: false\n        },\n        tooltip: {\n          enabled: false\n        }\n      }\n    };\n  }\n  pie() {\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      plotOptions: {\n        pie: {\n          donut: {\n            labels: {\n              show: false\n            }\n          }\n        }\n      },\n      dataLabels: {\n        formatter(val) {\n          return val.toFixed(1) + \"%\";\n        },\n        style: {\n          colors: [\"#fff\"]\n        },\n        background: {\n          enabled: false\n        },\n        dropShadow: {\n          enabled: true\n        }\n      },\n      stroke: {\n        colors: [\"#fff\"]\n      },\n      fill: {\n        opacity: 1,\n        gradient: {\n          shade: \"light\",\n          stops: [0, 100]\n        }\n      },\n      tooltip: {\n        theme: \"dark\",\n        fillSeriesColor: true\n      },\n      legend: {\n        position: \"right\"\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  donut() {\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      dataLabels: {\n        formatter(val) {\n          return val.toFixed(1) + \"%\";\n        },\n        style: {\n          colors: [\"#fff\"]\n        },\n        background: {\n          enabled: false\n        },\n        dropShadow: {\n          enabled: true\n        }\n      },\n      stroke: {\n        colors: [\"#fff\"]\n      },\n      fill: {\n        opacity: 1,\n        gradient: {\n          shade: \"light\",\n          shadeIntensity: 0.35,\n          stops: [80, 100],\n          opacityFrom: 1,\n          opacityTo: 1\n        }\n      },\n      tooltip: {\n        theme: \"dark\",\n        fillSeriesColor: true\n      },\n      legend: {\n        position: \"right\"\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  polarArea() {\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      dataLabels: {\n        formatter(val) {\n          return val.toFixed(1) + \"%\";\n        },\n        enabled: false\n      },\n      stroke: {\n        show: true,\n        width: 2\n      },\n      fill: {\n        opacity: 0.7\n      },\n      tooltip: {\n        theme: \"dark\",\n        fillSeriesColor: true\n      },\n      legend: {\n        position: \"right\"\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  radar() {\n    this.opts.yaxis[0].labels.offsetY = this.opts.yaxis[0].labels.offsetY ? this.opts.yaxis[0].labels.offsetY : 6;\n    return {\n      dataLabels: {\n        enabled: false,\n        style: {\n          fontSize: \"11px\"\n        }\n      },\n      stroke: {\n        width: 2\n      },\n      markers: {\n        size: 5,\n        strokeWidth: 1,\n        strokeOpacity: 1\n      },\n      fill: {\n        opacity: 0.2\n      },\n      tooltip: {\n        shared: false,\n        intersect: true,\n        followCursor: true\n      },\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      },\n      xaxis: {\n        labels: {\n          formatter: val => val,\n          style: {\n            colors: [\"#a8a8a8\"],\n            fontSize: \"11px\"\n          }\n        },\n        tooltip: {\n          enabled: false\n        },\n        crosshairs: {\n          show: false\n        }\n      }\n    };\n  }\n  radialBar() {\n    return {\n      chart: {\n        animations: {\n          dynamicAnimation: {\n            enabled: true,\n            speed: 800\n          }\n        },\n        toolbar: {\n          show: false\n        }\n      },\n      fill: {\n        gradient: {\n          shade: \"dark\",\n          shadeIntensity: 0.4,\n          inverseColors: false,\n          type: \"diagonal2\",\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [70, 98, 100]\n        }\n      },\n      legend: {\n        show: false,\n        position: \"right\"\n      },\n      tooltip: {\n        enabled: false,\n        fillSeriesColor: true\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  _getBoxTooltip(w, seriesIndex, dataPointIndex, labels, chartType) {\n    const o = w.globals.seriesCandleO[seriesIndex][dataPointIndex];\n    const h = w.globals.seriesCandleH[seriesIndex][dataPointIndex];\n    const m = w.globals.seriesCandleM[seriesIndex][dataPointIndex];\n    const l = w.globals.seriesCandleL[seriesIndex][dataPointIndex];\n    const c = w.globals.seriesCandleC[seriesIndex][dataPointIndex];\n    if (w.config.series[seriesIndex].type && w.config.series[seriesIndex].type !== chartType) {\n      return `<div class=\"apexcharts-custom-tooltip\">\n          ${w.config.series[seriesIndex].name ? w.config.series[seriesIndex].name : \"series-\" + (seriesIndex + 1)}: <strong>${w.globals.series[seriesIndex][dataPointIndex]}</strong>\n        </div>`;\n    } else {\n      return `<div class=\"apexcharts-tooltip-box apexcharts-tooltip-${w.config.chart.type}\"><div>${labels[0]}: <span class=\"value\">` + o + `</span></div><div>${labels[1]}: <span class=\"value\">` + h + \"</span></div>\" + (m ? `<div>${labels[2]}: <span class=\"value\">` + m + \"</span></div>\" : \"\") + `<div>${labels[3]}: <span class=\"value\">` + l + `</span></div><div>${labels[4]}: <span class=\"value\">` + c + \"</span></div></div>\";\n    }\n  }\n}\nclass Config {\n  constructor(opts) {\n    this.opts = opts;\n  }\n  init({\n    responsiveOverride\n  }) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    let opts = this.opts;\n    let options2 = new Options();\n    let defaults = new Defaults(opts);\n    this.chartType = opts.chart.type;\n    opts = this.extendYAxis(opts);\n    opts = this.extendAnnotations(opts);\n    let config = options2.init();\n    let newDefaults = {};\n    if (opts && typeof opts === \"object\") {\n      let chartDefaults = {};\n      const chartTypes = [\"line\", \"area\", \"bar\", \"candlestick\", \"boxPlot\", \"rangeBar\", \"rangeArea\", \"bubble\", \"scatter\", \"heatmap\", \"treemap\", \"pie\", \"polarArea\", \"donut\", \"radar\", \"radialBar\"];\n      if (chartTypes.indexOf(opts.chart.type) !== -1) {\n        chartDefaults = defaults[opts.chart.type]();\n      } else {\n        chartDefaults = defaults.line();\n      }\n      if ((_b = (_a = opts.plotOptions) == null ? void 0 : _a.bar) == null ? void 0 : _b.isFunnel) {\n        chartDefaults = defaults.funnel();\n      }\n      if (opts.chart.stacked && opts.chart.type === \"bar\") {\n        chartDefaults = defaults.stackedBars();\n      }\n      if ((_c = opts.chart.brush) == null ? void 0 : _c.enabled) {\n        chartDefaults = defaults.brush(chartDefaults);\n      }\n      if ((_e = (_d = opts.plotOptions) == null ? void 0 : _d.line) == null ? void 0 : _e.isSlopeChart) {\n        chartDefaults = defaults.slope();\n      }\n      if (opts.chart.stacked && opts.chart.stackType === \"100%\") {\n        opts = defaults.stacked100(opts);\n      }\n      if ((_g = (_f = opts.plotOptions) == null ? void 0 : _f.bar) == null ? void 0 : _g.isDumbbell) {\n        opts = defaults.dumbbell(opts);\n      }\n      this.checkForDarkTheme(window.Apex);\n      this.checkForDarkTheme(opts);\n      opts.xaxis = opts.xaxis || window.Apex.xaxis || {};\n      if (!responsiveOverride) {\n        opts.xaxis.convertedCatToNumeric = false;\n      }\n      opts = this.checkForCatToNumericXAxis(this.chartType, chartDefaults, opts);\n      if (((_h = opts.chart.sparkline) == null ? void 0 : _h.enabled) || ((_j = (_i = window.Apex.chart) == null ? void 0 : _i.sparkline) == null ? void 0 : _j.enabled)) {\n        chartDefaults = defaults.sparkline(chartDefaults);\n      }\n      newDefaults = Utils$1.extend(config, chartDefaults);\n    }\n    let mergedWithDefaultConfig = Utils$1.extend(newDefaults, window.Apex);\n    config = Utils$1.extend(mergedWithDefaultConfig, opts);\n    config = this.handleUserInputErrors(config);\n    return config;\n  }\n  checkForCatToNumericXAxis(chartType, chartDefaults, opts) {\n    var _a, _b;\n    let defaults = new Defaults(opts);\n    const isBarHorizontal = (chartType === \"bar\" || chartType === \"boxPlot\") && ((_b = (_a = opts.plotOptions) == null ? void 0 : _a.bar) == null ? void 0 : _b.horizontal);\n    const unsupportedZoom = chartType === \"pie\" || chartType === \"polarArea\" || chartType === \"donut\" || chartType === \"radar\" || chartType === \"radialBar\" || chartType === \"heatmap\";\n    const notNumericXAxis = opts.xaxis.type !== \"datetime\" && opts.xaxis.type !== \"numeric\";\n    let tickPlacement = opts.xaxis.tickPlacement ? opts.xaxis.tickPlacement : chartDefaults.xaxis && chartDefaults.xaxis.tickPlacement;\n    if (!isBarHorizontal && !unsupportedZoom && notNumericXAxis && tickPlacement !== \"between\") {\n      opts = defaults.convertCatToNumeric(opts);\n    }\n    return opts;\n  }\n  extendYAxis(opts, w) {\n    let options2 = new Options();\n    if (typeof opts.yaxis === \"undefined\" || !opts.yaxis || Array.isArray(opts.yaxis) && opts.yaxis.length === 0) {\n      opts.yaxis = {};\n    }\n    if (opts.yaxis.constructor !== Array && window.Apex.yaxis && window.Apex.yaxis.constructor !== Array) {\n      opts.yaxis = Utils$1.extend(opts.yaxis, window.Apex.yaxis);\n    }\n    if (opts.yaxis.constructor !== Array) {\n      opts.yaxis = [Utils$1.extend(options2.yAxis, opts.yaxis)];\n    } else {\n      opts.yaxis = Utils$1.extendArray(opts.yaxis, options2.yAxis);\n    }\n    let isLogY = false;\n    opts.yaxis.forEach(y => {\n      if (y.logarithmic) {\n        isLogY = true;\n      }\n    });\n    let series = opts.series;\n    if (w && !series) {\n      series = w.config.series;\n    }\n    if (isLogY && series.length !== opts.yaxis.length && series.length) {\n      opts.yaxis = series.map((s, i) => {\n        if (!s.name) {\n          series[i].name = `series-${i + 1}`;\n        }\n        if (opts.yaxis[i]) {\n          opts.yaxis[i].seriesName = series[i].name;\n          return opts.yaxis[i];\n        } else {\n          const newYaxis = Utils$1.extend(options2.yAxis, opts.yaxis[0]);\n          newYaxis.show = false;\n          return newYaxis;\n        }\n      });\n    }\n    if (isLogY && series.length > 1 && series.length !== opts.yaxis.length) {\n      console.warn(\"A multi-series logarithmic chart should have equal number of series and y-axes\");\n    }\n    return opts;\n  }\n  // annotations also accepts array, so we need to extend them manually\n  extendAnnotations(opts) {\n    if (typeof opts.annotations === \"undefined\") {\n      opts.annotations = {};\n      opts.annotations.yaxis = [];\n      opts.annotations.xaxis = [];\n      opts.annotations.points = [];\n    }\n    opts = this.extendYAxisAnnotations(opts);\n    opts = this.extendXAxisAnnotations(opts);\n    opts = this.extendPointAnnotations(opts);\n    return opts;\n  }\n  extendYAxisAnnotations(opts) {\n    let options2 = new Options();\n    opts.annotations.yaxis = Utils$1.extendArray(typeof opts.annotations.yaxis !== \"undefined\" ? opts.annotations.yaxis : [], options2.yAxisAnnotation);\n    return opts;\n  }\n  extendXAxisAnnotations(opts) {\n    let options2 = new Options();\n    opts.annotations.xaxis = Utils$1.extendArray(typeof opts.annotations.xaxis !== \"undefined\" ? opts.annotations.xaxis : [], options2.xAxisAnnotation);\n    return opts;\n  }\n  extendPointAnnotations(opts) {\n    let options2 = new Options();\n    opts.annotations.points = Utils$1.extendArray(typeof opts.annotations.points !== \"undefined\" ? opts.annotations.points : [], options2.pointAnnotation);\n    return opts;\n  }\n  checkForDarkTheme(opts) {\n    if (opts.theme && opts.theme.mode === \"dark\") {\n      if (!opts.tooltip) {\n        opts.tooltip = {};\n      }\n      if (opts.tooltip.theme !== \"light\") {\n        opts.tooltip.theme = \"dark\";\n      }\n      if (!opts.chart.foreColor) {\n        opts.chart.foreColor = \"#f6f7f8\";\n      }\n      if (!opts.theme.palette) {\n        opts.theme.palette = \"palette4\";\n      }\n    }\n  }\n  handleUserInputErrors(opts) {\n    let config = opts;\n    if (config.tooltip.shared && config.tooltip.intersect) {\n      throw new Error(\"tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.\");\n    }\n    if (config.chart.type === \"bar\" && config.plotOptions.bar.horizontal) {\n      if (config.yaxis.length > 1) {\n        throw new Error(\"Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false\");\n      }\n      if (config.yaxis[0].reversed) {\n        config.yaxis[0].opposite = true;\n      }\n      config.xaxis.tooltip.enabled = false;\n      config.yaxis[0].tooltip.enabled = false;\n      config.chart.zoom.enabled = false;\n    }\n    if (config.chart.type === \"bar\" || config.chart.type === \"rangeBar\") {\n      if (config.tooltip.shared) {\n        if (config.xaxis.crosshairs.width === \"barWidth\" && config.series.length > 1) {\n          config.xaxis.crosshairs.width = \"tickWidth\";\n        }\n      }\n    }\n    if (config.chart.type === \"candlestick\" || config.chart.type === \"boxPlot\") {\n      if (config.yaxis[0].reversed) {\n        console.warn(`Reversed y-axis in ${config.chart.type} chart is not supported.`);\n        config.yaxis[0].reversed = false;\n      }\n    }\n    return config;\n  }\n}\nclass Globals {\n  initGlobalVars(gl) {\n    gl.series = [];\n    gl.seriesCandleO = [];\n    gl.seriesCandleH = [];\n    gl.seriesCandleM = [];\n    gl.seriesCandleL = [];\n    gl.seriesCandleC = [];\n    gl.seriesRangeStart = [];\n    gl.seriesRangeEnd = [];\n    gl.seriesRange = [];\n    gl.seriesPercent = [];\n    gl.seriesGoals = [];\n    gl.seriesX = [];\n    gl.seriesZ = [];\n    gl.seriesNames = [];\n    gl.seriesTotals = [];\n    gl.seriesLog = [];\n    gl.seriesColors = [];\n    gl.stackedSeriesTotals = [];\n    gl.seriesXvalues = [];\n    gl.seriesYvalues = [];\n    gl.dataWasParsed = false;\n    gl.originalSeries = null;\n    gl.labels = [];\n    gl.hasXaxisGroups = false;\n    gl.groups = [];\n    gl.barGroups = [];\n    gl.lineGroups = [];\n    gl.areaGroups = [];\n    gl.hasSeriesGroups = false;\n    gl.seriesGroups = [];\n    gl.categoryLabels = [];\n    gl.timescaleLabels = [];\n    gl.noLabelsProvided = false;\n    gl.resizeTimer = null;\n    gl.selectionResizeTimer = null;\n    gl.lastWheelExecution = 0;\n    gl.delayedElements = [];\n    gl.pointsArray = [];\n    gl.dataLabelsRects = [];\n    gl.textRectsCache = /* @__PURE__ */new Map();\n    gl.domCache = /* @__PURE__ */new Map();\n    gl.dimensionCache = {};\n    gl.cachedSelectors = {};\n    gl.isXNumeric = false;\n    gl.skipLastTimelinelabel = false;\n    gl.skipFirstTimelinelabel = false;\n    gl.isDataXYZ = false;\n    gl.isMultiLineX = false;\n    gl.isMultipleYAxis = false;\n    gl.maxY = -Number.MAX_VALUE;\n    gl.minY = Number.MIN_VALUE;\n    gl.minYArr = [];\n    gl.maxYArr = [];\n    gl.maxX = -Number.MAX_VALUE;\n    gl.minX = Number.MAX_VALUE;\n    gl.initialMaxX = -Number.MAX_VALUE;\n    gl.initialMinX = Number.MAX_VALUE;\n    gl.maxDate = 0;\n    gl.minDate = Number.MAX_VALUE;\n    gl.minZ = Number.MAX_VALUE;\n    gl.maxZ = -Number.MAX_VALUE;\n    gl.minXDiff = Number.MAX_VALUE;\n    gl.yAxisScale = [];\n    gl.xAxisScale = null;\n    gl.xAxisTicksPositions = [];\n    gl.yLabelsCoords = [];\n    gl.yTitleCoords = [];\n    gl.barPadForNumericAxis = 0;\n    gl.padHorizontal = 0;\n    gl.xRange = 0;\n    gl.yRange = [];\n    gl.zRange = 0;\n    gl.dataPoints = 0;\n    gl.xTickAmount = 0;\n    gl.multiAxisTickAmount = 0;\n  }\n  globalVars(config) {\n    return {\n      chartID: null,\n      // chart ID - apexcharts-cuid\n      cuid: null,\n      // chart ID - random numbers excluding \"apexcharts\" part\n      events: {\n        beforeMount: [],\n        mounted: [],\n        updated: [],\n        clicked: [],\n        selection: [],\n        dataPointSelection: [],\n        zoomed: [],\n        scrolled: []\n      },\n      colors: [],\n      clientX: null,\n      clientY: null,\n      fill: {\n        colors: []\n      },\n      stroke: {\n        colors: []\n      },\n      dataLabels: {\n        style: {\n          colors: []\n        }\n      },\n      radarPolygons: {\n        fill: {\n          colors: []\n        }\n      },\n      markers: {\n        colors: [],\n        size: config.markers.size,\n        largestSize: 0\n      },\n      animationEnded: false,\n      isTouchDevice: \"ontouchstart\" in window || navigator.msMaxTouchPoints,\n      isDirty: false,\n      // chart has been updated after the initial render. This is different than dataChanged property. isDirty means user manually called some method to update\n      isExecCalled: false,\n      // whether user updated the chart through the exec method\n      initialConfig: null,\n      // we will store the first config user has set to go back when user finishes interactions like zooming and come out of it\n      initialSeries: [],\n      lastXAxis: [],\n      lastYAxis: [],\n      columnSeries: null,\n      labels: [],\n      // store the text to draw on x axis\n      // Don't mutate the labels, many things including tooltips depends on it!\n      timescaleLabels: [],\n      // store the timescaleLabels Labels in another variable\n      noLabelsProvided: false,\n      // if user didn't provide any categories/labels or x values, fallback to 1,2,3,4...\n      allSeriesCollapsed: false,\n      collapsedSeries: [],\n      // when user collapses a series, it goes into this array\n      collapsedSeriesIndices: [],\n      // this stores the index of the collapsedSeries instead of whole object for quick access\n      ancillaryCollapsedSeries: [],\n      // when user collapses an \"alwaysVisible\" series, it goes into this array\n      ancillaryCollapsedSeriesIndices: [],\n      // this stores the index of the ancillaryCollapsedSeries whose y-axis is always visible\n      risingSeries: [],\n      // when user re-opens a collapsed series, it goes here\n      dataFormatXNumeric: false,\n      // boolean value to indicate user has passed numeric x values\n      capturedSeriesIndex: -1,\n      capturedDataPointIndex: -1,\n      selectedDataPoints: [],\n      invalidLogScale: false,\n      // if a user enabled log scale but the data provided is not valid to generate a log scale, turn on this flag\n      ignoreYAxisIndexes: [],\n      // when series are being collapsed in multiple y axes, ignore certain index\n      maxValsInArrayIndex: 0,\n      radialSize: 0,\n      selection: void 0,\n      zoomEnabled: config.chart.toolbar.autoSelected === \"zoom\" && config.chart.toolbar.tools.zoom && config.chart.zoom.enabled,\n      panEnabled: config.chart.toolbar.autoSelected === \"pan\" && config.chart.toolbar.tools.pan,\n      selectionEnabled: config.chart.toolbar.autoSelected === \"selection\" && config.chart.toolbar.tools.selection,\n      yaxis: null,\n      mousedown: false,\n      lastClientPosition: {},\n      // don't reset this variable this the chart is destroyed. It is used to detect right or left mousemove in panning\n      visibleXRange: void 0,\n      yValueDecimal: 0,\n      // are there floating numbers in the series. If yes, this represent the len of the decimals\n      total: 0,\n      SVGNS: \"http://www.w3.org/2000/svg\",\n      // svg namespace\n      svgWidth: 0,\n      // the whole svg width\n      svgHeight: 0,\n      // the whole svg height\n      noData: false,\n      // whether there is any data to display or not\n      locale: {},\n      // the current locale values will be preserved here for global access\n      dom: {},\n      // for storing all dom nodes in this particular property\n      memory: {\n        methodsToExec: []\n      },\n      domCache: /* @__PURE__ */new Map(),\n      dimensionCache: {},\n      cachedSelectors: {},\n      resizeObserver: null,\n      shouldAnimate: true,\n      skipLastTimelinelabel: false,\n      // when last label is cropped, skip drawing it\n      skipFirstTimelinelabel: false,\n      // when first label is cropped, skip drawing it\n      delayedElements: [],\n      // element which appear after animation has finished\n      axisCharts: true,\n      // chart type = line or area or bar\n      // (refer them also as plot charts in the code)\n      isDataXYZ: false,\n      // bool: data was provided in a {[x,y,z]} pattern\n      isSlopeChart: config.plotOptions.line.isSlopeChart,\n      resized: false,\n      // bool: user has resized\n      resizeTimer: null,\n      // timeout function to make a small delay before\n      // drawing when user resized\n      comboCharts: false,\n      // bool: whether it's a combination of line/column\n      dataChanged: false,\n      // bool: has data changed dynamically\n      previousPaths: [],\n      // array: when data is changed, it will animate from\n      // previous paths\n      allSeriesHasEqualX: true,\n      pointsArray: [],\n      // store the points positions here to draw later on hover\n      // format is - [[x,y],[x,y]... [x,y]]\n      dataLabelsRects: [],\n      // store the positions of datalabels to prevent collision\n      lastDrawnDataLabelsIndexes: [],\n      hasNullValues: false,\n      // bool: whether series contains null values\n      zoomed: false,\n      // whether user has zoomed or not\n      gridWidth: 0,\n      // drawable width of actual graphs (series paths)\n      gridHeight: 0,\n      // drawable height of actual graphs (series paths)\n      rotateXLabels: false,\n      defaultLabels: false,\n      xLabelFormatter: void 0,\n      // formatter for x axis labels\n      yLabelFormatters: [],\n      xaxisTooltipFormatter: void 0,\n      // formatter for x axis tooltip\n      ttKeyFormatter: void 0,\n      ttVal: void 0,\n      ttZFormatter: void 0,\n      LINE_HEIGHT_RATIO: 1.618,\n      xAxisLabelsHeight: 0,\n      xAxisGroupLabelsHeight: 0,\n      xAxisLabelsWidth: 0,\n      yAxisLabelsWidth: 0,\n      scaleX: 1,\n      scaleY: 1,\n      translateX: 0,\n      translateY: 0,\n      translateYAxisX: [],\n      yAxisWidths: [],\n      translateXAxisY: 0,\n      translateXAxisX: 0,\n      tooltip: null,\n      // Rules for niceScaleAllowedMagMsd:\n      // 1) An array of two arrays only ([[],[]]):\n      //    * array[0][]: influences labelling of data series that contain only integers\n      //       - must contain only integers (or expect ugly ticks)\n      //    * array[1][]: influences labelling of data series that contain at least one float\n      //       - may contain floats\n      //    * both arrays:\n      //       - each array[][i] ideally satisfy: 10 mod array[][i] == 0 (or expect ugly ticks)\n      //       - to avoid clipping data point keep each array[][i] >= i\n      // 2) each array[i][] contains 11 values, for all possible index values 0..10.\n      //    array[][0] should not be needed (not proven) but ensures non-zero is returned.\n      //\n      // Users can effectively force their preferred \"magMsd\" through stepSize and\n      // forceNiceScale. With forceNiceScale: true, stepSize becomes normalizable to the\n      // axis's min..max range, which allows users to set stepSize to an integer 1..10, for\n      // example, stepSize: 3. This value will be preferred to the value determined through\n      // this array. The range-normalized value is checked for consistency with other\n      // user defined options and will be ignored if inconsistent.\n      niceScaleAllowedMagMsd: [[1, 1, 2, 5, 5, 5, 10, 10, 10, 10, 10], [1, 1, 2, 5, 5, 5, 10, 10, 10, 10, 10]],\n      // Default ticks based on SVG size. These values have high numbers\n      // of divisors. The array is indexed using a calculated maxTicks value\n      // divided by 2 simply to halve the array size. See Scales.niceScale().\n      niceScaleDefaultTicks: [1, 2, 4, 4, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 12, 12, 12, 12, 12, 12, 12, 12, 12, 24],\n      seriesYAxisMap: [],\n      // Given yAxis index, return all series indices belonging to it. Multiple series can be referenced to each yAxis.\n      seriesYAxisReverseMap: []\n      // Given a Series index, return its yAxis index.\n    };\n  }\n  init(config) {\n    let globals = this.globalVars(config);\n    this.initGlobalVars(globals);\n    globals.initialConfig = Utils$1.extend({}, config);\n    globals.initialSeries = Utils$1.clone(config.series);\n    globals.lastXAxis = Utils$1.clone(globals.initialConfig.xaxis);\n    globals.lastYAxis = Utils$1.clone(globals.initialConfig.yaxis);\n    return globals;\n  }\n}\nclass Base {\n  constructor(opts) {\n    this.opts = opts;\n  }\n  init() {\n    const config = new Config(this.opts).init({\n      responsiveOverride: false\n    });\n    const globals = new Globals().init(config);\n    const w = {\n      config,\n      globals\n    };\n    return w;\n  }\n}\nclass Fill {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.opts = null;\n    this.seriesIndex = 0;\n    this.patternIDs = [];\n  }\n  clippedImgArea(params) {\n    let w = this.w;\n    let cnf = w.config;\n    let svgW = parseInt(w.globals.gridWidth, 10);\n    let svgH = parseInt(w.globals.gridHeight, 10);\n    let size = svgW > svgH ? svgW : svgH;\n    let fillImg = params.image;\n    let imgWidth = 0;\n    let imgHeight = 0;\n    if (typeof params.width === \"undefined\" && typeof params.height === \"undefined\") {\n      if (cnf.fill.image.width !== void 0 && cnf.fill.image.height !== void 0) {\n        imgWidth = cnf.fill.image.width + 1;\n        imgHeight = cnf.fill.image.height;\n      } else {\n        imgWidth = size + 1;\n        imgHeight = size;\n      }\n    } else {\n      imgWidth = params.width;\n      imgHeight = params.height;\n    }\n    let elPattern = document.createElementNS(w.globals.SVGNS, \"pattern\");\n    Graphics.setAttrs(elPattern, {\n      id: params.patternID,\n      patternUnits: params.patternUnits ? params.patternUnits : \"userSpaceOnUse\",\n      width: imgWidth + \"px\",\n      height: imgHeight + \"px\"\n    });\n    let elImage = document.createElementNS(w.globals.SVGNS, \"image\");\n    elPattern.appendChild(elImage);\n    elImage.setAttributeNS(window.SVG.xlink, \"href\", fillImg);\n    Graphics.setAttrs(elImage, {\n      x: 0,\n      y: 0,\n      preserveAspectRatio: \"none\",\n      width: imgWidth + \"px\",\n      height: imgHeight + \"px\"\n    });\n    elImage.style.opacity = params.opacity;\n    w.globals.dom.elDefs.node.appendChild(elPattern);\n  }\n  getSeriesIndex(opts) {\n    const w = this.w;\n    const cType = w.config.chart.type;\n    if ((cType === \"bar\" || cType === \"rangeBar\") && w.config.plotOptions.bar.distributed || cType === \"heatmap\" || cType === \"treemap\") {\n      this.seriesIndex = opts.seriesNumber;\n    } else {\n      this.seriesIndex = opts.seriesNumber % w.globals.series.length;\n    }\n    return this.seriesIndex;\n  }\n  computeColorStops(data, multiColorConfig) {\n    const w = this.w;\n    let maxPositive = null;\n    let minNegative = null;\n    for (let value of data) {\n      if (value >= multiColorConfig.threshold) {\n        if (maxPositive === null || value > maxPositive) {\n          maxPositive = value;\n        }\n      } else {\n        if (minNegative === null || value < minNegative) {\n          minNegative = value;\n        }\n      }\n    }\n    if (maxPositive === null) {\n      maxPositive = multiColorConfig.threshold;\n    }\n    if (minNegative === null) {\n      minNegative = multiColorConfig.threshold;\n    }\n    let totalRange = maxPositive - multiColorConfig.threshold + (multiColorConfig.threshold - minNegative);\n    if (totalRange === 0) {\n      totalRange = 1;\n    }\n    let negativePercentage = (multiColorConfig.threshold - minNegative) / totalRange * 100;\n    let offset = 100 - negativePercentage;\n    offset = Math.max(0, Math.min(offset, 100));\n    return [{\n      offset,\n      color: multiColorConfig.colorAboveThreshold,\n      opacity: w.config.fill.opacity\n    }, {\n      offset: 0,\n      color: multiColorConfig.colorBelowThreshold,\n      opacity: w.config.fill.opacity\n    }];\n  }\n  fillPath(opts) {\n    var _a, _b, _c, _d, _e, _f;\n    let w = this.w;\n    this.opts = opts;\n    let cnf = this.w.config;\n    let pathFill;\n    let patternFill, gradientFill;\n    this.seriesIndex = this.getSeriesIndex(opts);\n    const drawMultiColorLine = cnf.plotOptions.line.colors.colorAboveThreshold && cnf.plotOptions.line.colors.colorBelowThreshold;\n    let fillColors = this.getFillColors();\n    let fillColor = fillColors[this.seriesIndex];\n    if (w.globals.seriesColors[this.seriesIndex] !== void 0) {\n      fillColor = w.globals.seriesColors[this.seriesIndex];\n    }\n    if (typeof fillColor === \"function\") {\n      fillColor = fillColor({\n        seriesIndex: this.seriesIndex,\n        dataPointIndex: opts.dataPointIndex,\n        value: opts.value,\n        w\n      });\n    }\n    let fillType = opts.fillType ? opts.fillType : this.getFillType(this.seriesIndex);\n    let fillOpacity = Array.isArray(cnf.fill.opacity) ? cnf.fill.opacity[this.seriesIndex] : cnf.fill.opacity;\n    const useGradient = fillType === \"gradient\" || drawMultiColorLine;\n    if (opts.color) {\n      fillColor = opts.color;\n    }\n    if ((_c = (_b = (_a = w.config.series[this.seriesIndex]) == null ? void 0 : _a.data) == null ? void 0 : _b[opts.dataPointIndex]) == null ? void 0 : _c.fillColor) {\n      fillColor = (_f = (_e = (_d = w.config.series[this.seriesIndex]) == null ? void 0 : _d.data) == null ? void 0 : _e[opts.dataPointIndex]) == null ? void 0 : _f.fillColor;\n    }\n    if (!fillColor) {\n      fillColor = \"#fff\";\n      console.warn(\"undefined color - ApexCharts\");\n    }\n    if (Utils$1.isCSSVariable(fillColor)) {\n      fillColor = Utils$1.getThemeColor(fillColor);\n    }\n    let defaultColor = fillColor;\n    if (fillColor.indexOf(\"rgb\") === -1) {\n      if (fillColor.indexOf(\"#\") === -1) {\n        defaultColor = fillColor;\n      } else if (fillColor.length < 9) {\n        defaultColor = Utils$1.hexToRgba(fillColor, fillOpacity);\n      }\n    } else {\n      if (fillColor.indexOf(\"rgba\") > -1) {\n        fillOpacity = Utils$1.getOpacityFromRGBA(fillColor);\n      } else {\n        defaultColor = Utils$1.hexToRgba(Utils$1.rgb2hex(fillColor), fillOpacity);\n      }\n    }\n    if (opts.opacity) fillOpacity = opts.opacity;\n    if (fillType === \"pattern\") {\n      patternFill = this.handlePatternFill({\n        fillConfig: opts.fillConfig,\n        patternFill,\n        fillColor,\n        fillOpacity,\n        defaultColor\n      });\n    }\n    if (useGradient) {\n      let colorStops = cnf.fill.gradient.colorStops ? [...cnf.fill.gradient.colorStops] : [];\n      let type = cnf.fill.gradient.type;\n      if (drawMultiColorLine) {\n        colorStops[this.seriesIndex] = this.computeColorStops(w.globals.series[this.seriesIndex], cnf.plotOptions.line.colors);\n        type = \"vertical\";\n      }\n      gradientFill = this.handleGradientFill({\n        type,\n        fillConfig: opts.fillConfig,\n        fillColor,\n        fillOpacity,\n        colorStops,\n        i: this.seriesIndex\n      });\n    }\n    if (fillType === \"image\") {\n      let imgSrc = cnf.fill.image.src;\n      let patternID = opts.patternID ? opts.patternID : \"\";\n      const patternKey = `pattern${w.globals.cuid}${opts.seriesNumber + 1}${patternID}`;\n      if (this.patternIDs.indexOf(patternKey) === -1) {\n        this.clippedImgArea({\n          opacity: fillOpacity,\n          image: Array.isArray(imgSrc) ? opts.seriesNumber < imgSrc.length ? imgSrc[opts.seriesNumber] : imgSrc[0] : imgSrc,\n          width: opts.width ? opts.width : void 0,\n          height: opts.height ? opts.height : void 0,\n          patternUnits: opts.patternUnits,\n          patternID: patternKey\n        });\n        this.patternIDs.push(patternKey);\n      }\n      pathFill = `url(#${patternKey})`;\n    } else if (useGradient) {\n      pathFill = gradientFill;\n    } else if (fillType === \"pattern\") {\n      pathFill = patternFill;\n    } else {\n      pathFill = defaultColor;\n    }\n    if (opts.solid) {\n      pathFill = defaultColor;\n    }\n    return pathFill;\n  }\n  getFillType(seriesIndex) {\n    const w = this.w;\n    if (Array.isArray(w.config.fill.type)) {\n      return w.config.fill.type[seriesIndex];\n    } else {\n      return w.config.fill.type;\n    }\n  }\n  getFillColors() {\n    const w = this.w;\n    const cnf = w.config;\n    const opts = this.opts;\n    let fillColors = [];\n    if (w.globals.comboCharts) {\n      if (w.config.series[this.seriesIndex].type === \"line\") {\n        if (Array.isArray(w.globals.stroke.colors)) {\n          fillColors = w.globals.stroke.colors;\n        } else {\n          fillColors.push(w.globals.stroke.colors);\n        }\n      } else {\n        if (Array.isArray(w.globals.fill.colors)) {\n          fillColors = w.globals.fill.colors;\n        } else {\n          fillColors.push(w.globals.fill.colors);\n        }\n      }\n    } else {\n      if (cnf.chart.type === \"line\") {\n        if (Array.isArray(w.globals.stroke.colors)) {\n          fillColors = w.globals.stroke.colors;\n        } else {\n          fillColors.push(w.globals.stroke.colors);\n        }\n      } else {\n        if (Array.isArray(w.globals.fill.colors)) {\n          fillColors = w.globals.fill.colors;\n        } else {\n          fillColors.push(w.globals.fill.colors);\n        }\n      }\n    }\n    if (typeof opts.fillColors !== \"undefined\") {\n      fillColors = [];\n      if (Array.isArray(opts.fillColors)) {\n        fillColors = opts.fillColors.slice();\n      } else {\n        fillColors.push(opts.fillColors);\n      }\n    }\n    return fillColors;\n  }\n  handlePatternFill({\n    fillConfig,\n    patternFill,\n    fillColor,\n    fillOpacity,\n    defaultColor\n  }) {\n    let fillCnf = this.w.config.fill;\n    if (fillConfig) {\n      fillCnf = fillConfig;\n    }\n    const opts = this.opts;\n    let graphics = new Graphics(this.ctx);\n    let patternStrokeWidth = Array.isArray(fillCnf.pattern.strokeWidth) ? fillCnf.pattern.strokeWidth[this.seriesIndex] : fillCnf.pattern.strokeWidth;\n    let patternLineColor = fillColor;\n    if (Array.isArray(fillCnf.pattern.style)) {\n      if (typeof fillCnf.pattern.style[opts.seriesNumber] !== \"undefined\") {\n        let pf = graphics.drawPattern(fillCnf.pattern.style[opts.seriesNumber], fillCnf.pattern.width, fillCnf.pattern.height, patternLineColor, patternStrokeWidth, fillOpacity);\n        patternFill = pf;\n      } else {\n        patternFill = defaultColor;\n      }\n    } else {\n      patternFill = graphics.drawPattern(fillCnf.pattern.style, fillCnf.pattern.width, fillCnf.pattern.height, patternLineColor, patternStrokeWidth, fillOpacity);\n    }\n    return patternFill;\n  }\n  handleGradientFill({\n    type,\n    fillColor,\n    fillOpacity,\n    fillConfig,\n    colorStops,\n    i\n  }) {\n    let fillCnf = this.w.config.fill;\n    if (fillConfig) {\n      fillCnf = __spreadValues(__spreadValues({}, fillCnf), fillConfig);\n    }\n    const opts = this.opts;\n    let graphics = new Graphics(this.ctx);\n    let utils = new Utils$1();\n    type = type || fillCnf.gradient.type;\n    let gradientFrom = fillColor;\n    let gradientTo;\n    let opacityFrom = fillCnf.gradient.opacityFrom === void 0 ? fillOpacity : Array.isArray(fillCnf.gradient.opacityFrom) ? fillCnf.gradient.opacityFrom[i] : fillCnf.gradient.opacityFrom;\n    if (gradientFrom.indexOf(\"rgba\") > -1) {\n      opacityFrom = Utils$1.getOpacityFromRGBA(gradientFrom);\n    }\n    let opacityTo = fillCnf.gradient.opacityTo === void 0 ? fillOpacity : Array.isArray(fillCnf.gradient.opacityTo) ? fillCnf.gradient.opacityTo[i] : fillCnf.gradient.opacityTo;\n    if (fillCnf.gradient.gradientToColors === void 0 || fillCnf.gradient.gradientToColors.length === 0) {\n      if (fillCnf.gradient.shade === \"dark\") {\n        gradientTo = utils.shadeColor(parseFloat(fillCnf.gradient.shadeIntensity) * -1, fillColor.indexOf(\"rgb\") > -1 ? Utils$1.rgb2hex(fillColor) : fillColor);\n      } else {\n        gradientTo = utils.shadeColor(parseFloat(fillCnf.gradient.shadeIntensity), fillColor.indexOf(\"rgb\") > -1 ? Utils$1.rgb2hex(fillColor) : fillColor);\n      }\n    } else {\n      if (fillCnf.gradient.gradientToColors[opts.seriesNumber]) {\n        const gToColor = fillCnf.gradient.gradientToColors[opts.seriesNumber];\n        gradientTo = gToColor;\n        if (gToColor.indexOf(\"rgba\") > -1) {\n          opacityTo = Utils$1.getOpacityFromRGBA(gToColor);\n        }\n      } else {\n        gradientTo = fillColor;\n      }\n    }\n    if (fillCnf.gradient.gradientFrom) {\n      gradientFrom = fillCnf.gradient.gradientFrom;\n    }\n    if (fillCnf.gradient.gradientTo) {\n      gradientTo = fillCnf.gradient.gradientTo;\n    }\n    if (fillCnf.gradient.inverseColors) {\n      let t = gradientFrom;\n      gradientFrom = gradientTo;\n      gradientTo = t;\n    }\n    if (gradientFrom.indexOf(\"rgb\") > -1) {\n      gradientFrom = Utils$1.rgb2hex(gradientFrom);\n    }\n    if (gradientTo.indexOf(\"rgb\") > -1) {\n      gradientTo = Utils$1.rgb2hex(gradientTo);\n    }\n    return graphics.drawGradient(type, gradientFrom, gradientTo, opacityFrom, opacityTo, opts.size, fillCnf.gradient.stops, colorStops, i);\n  }\n}\nclass Markers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this._filters = new Filters(this.ctx);\n    this._graphics = new Graphics(this.ctx);\n  }\n  setGlobalMarkerSize() {\n    const w = this.w;\n    w.globals.markers.size = Array.isArray(w.config.markers.size) ? w.config.markers.size : [w.config.markers.size];\n    if (w.globals.markers.size.length > 0) {\n      if (w.globals.markers.size.length < w.globals.series.length + 1) {\n        for (let i = 0; i <= w.globals.series.length; i++) {\n          if (typeof w.globals.markers.size[i] === \"undefined\") {\n            w.globals.markers.size.push(w.globals.markers.size[0]);\n          }\n        }\n      }\n    } else {\n      w.globals.markers.size = w.config.series.map(() => w.config.markers.size);\n    }\n  }\n  plotChartMarkers({\n    pointsPos,\n    seriesIndex,\n    j,\n    pSize,\n    alwaysDrawMarker = false,\n    isVirtualPoint = false\n  }) {\n    let w = this.w;\n    let i = seriesIndex;\n    let p = pointsPos;\n    let elMarkersWrap = null;\n    let graphics = new Graphics(this.ctx);\n    const hasDiscreteMarkers = w.config.markers.discrete && w.config.markers.discrete.length;\n    if (Array.isArray(p.x)) {\n      for (let q = 0; q < p.x.length; q++) {\n        let markerElement;\n        let dataPointIndex = j;\n        let invalidMarker = !Utils$1.isNumber(p.y[q]);\n        if (w.globals.markers.largestSize === 0 && w.globals.hasNullValues && w.globals.series[i][j + 1] !== null && !isVirtualPoint) {\n          invalidMarker = true;\n        }\n        if (j === 1 && q === 0) dataPointIndex = 0;\n        if (j === 1 && q === 1) dataPointIndex = 1;\n        let markerClasses = \"apexcharts-marker\";\n        if ((w.config.chart.type === \"line\" || w.config.chart.type === \"area\") && !w.globals.comboCharts && !w.config.tooltip.intersect) {\n          markerClasses += \" no-pointer-events\";\n        }\n        const shouldMarkerDraw = Array.isArray(w.config.markers.size) ? w.globals.markers.size[seriesIndex] > 0 : w.config.markers.size > 0;\n        if (shouldMarkerDraw || alwaysDrawMarker || hasDiscreteMarkers) {\n          if (!invalidMarker) {\n            markerClasses += ` w${Utils$1.randomId()}`;\n          }\n          let opts = this.getMarkerConfig({\n            cssClass: markerClasses,\n            seriesIndex,\n            dataPointIndex\n          });\n          if (w.config.series[i].data[dataPointIndex]) {\n            if (w.config.series[i].data[dataPointIndex].fillColor) {\n              opts.pointFillColor = w.config.series[i].data[dataPointIndex].fillColor;\n            }\n            if (w.config.series[i].data[dataPointIndex].strokeColor) {\n              opts.pointStrokeColor = w.config.series[i].data[dataPointIndex].strokeColor;\n            }\n          }\n          if (typeof pSize !== \"undefined\") {\n            opts.pSize = pSize;\n          }\n          if (p.x[q] < -w.globals.markers.largestSize || p.x[q] > w.globals.gridWidth + w.globals.markers.largestSize || p.y[q] < -w.globals.markers.largestSize || p.y[q] > w.globals.gridHeight + w.globals.markers.largestSize) {\n            opts.pSize = 0;\n          }\n          if (!invalidMarker) {\n            const shouldCreateMarkerWrap = w.globals.markers.size[seriesIndex] > 0 || alwaysDrawMarker || hasDiscreteMarkers;\n            if (shouldCreateMarkerWrap && !elMarkersWrap) {\n              elMarkersWrap = graphics.group({\n                class: alwaysDrawMarker || hasDiscreteMarkers ? \"\" : \"apexcharts-series-markers\"\n              });\n              elMarkersWrap.attr(\"clip-path\", `url(#gridRectMarkerMask${w.globals.cuid})`);\n              this.setupMarkerDelegation(elMarkersWrap);\n            }\n            markerElement = graphics.drawMarker(p.x[q], p.y[q], opts);\n            markerElement.attr(\"rel\", dataPointIndex);\n            markerElement.attr(\"j\", dataPointIndex);\n            markerElement.attr(\"index\", seriesIndex);\n            markerElement.node.setAttribute(\"default-marker-size\", opts.pSize);\n            this._filters.setSelectionFilter(markerElement, seriesIndex, dataPointIndex);\n            if (elMarkersWrap) {\n              elMarkersWrap.add(markerElement);\n            }\n          }\n        } else {\n          if (typeof w.globals.pointsArray[seriesIndex] === \"undefined\") w.globals.pointsArray[seriesIndex] = [];\n          w.globals.pointsArray[seriesIndex].push([p.x[q], p.y[q]]);\n        }\n      }\n    }\n    return elMarkersWrap;\n  }\n  getMarkerConfig({\n    cssClass,\n    seriesIndex,\n    dataPointIndex = null,\n    radius = null,\n    size = null,\n    strokeWidth = null\n  }) {\n    const w = this.w;\n    let pStyle = this.getMarkerStyle(seriesIndex);\n    let pSize = size === null ? w.globals.markers.size[seriesIndex] : size;\n    const m = w.config.markers;\n    if (dataPointIndex !== null && m.discrete.length) {\n      m.discrete.map(marker => {\n        if (marker.seriesIndex === seriesIndex && marker.dataPointIndex === dataPointIndex) {\n          pStyle.pointStrokeColor = marker.strokeColor;\n          pStyle.pointFillColor = marker.fillColor;\n          pSize = marker.size;\n          pStyle.pointShape = marker.shape;\n        }\n      });\n    }\n    return {\n      pSize: radius === null ? pSize : radius,\n      pRadius: radius !== null ? radius : m.radius,\n      pointStrokeWidth: strokeWidth !== null ? strokeWidth : Array.isArray(m.strokeWidth) ? m.strokeWidth[seriesIndex] : m.strokeWidth,\n      pointStrokeColor: pStyle.pointStrokeColor,\n      pointFillColor: pStyle.pointFillColor,\n      shape: pStyle.pointShape || (Array.isArray(m.shape) ? m.shape[seriesIndex] : m.shape),\n      class: cssClass,\n      pointStrokeOpacity: Array.isArray(m.strokeOpacity) ? m.strokeOpacity[seriesIndex] : m.strokeOpacity,\n      pointStrokeDashArray: Array.isArray(m.strokeDashArray) ? m.strokeDashArray[seriesIndex] : m.strokeDashArray,\n      pointFillOpacity: Array.isArray(m.fillOpacity) ? m.fillOpacity[seriesIndex] : m.fillOpacity,\n      seriesIndex\n    };\n  }\n  setupMarkerDelegation(parentGroup) {\n    const w = this.w;\n    const selector = \".apexcharts-marker\";\n    this._graphics.setupEventDelegation(parentGroup, selector);\n    parentGroup.node.addEventListener(\"click\", e => {\n      if (w.config.markers.onClick) {\n        const targetNode = Graphics._findDelegateTarget(e.target, parentGroup.node, selector);\n        if (targetNode) w.config.markers.onClick(e);\n      }\n    });\n    parentGroup.node.addEventListener(\"dblclick\", e => {\n      if (w.config.markers.onDblClick) {\n        const targetNode = Graphics._findDelegateTarget(e.target, parentGroup.node, selector);\n        if (targetNode) w.config.markers.onDblClick(e);\n      }\n    });\n    parentGroup.node.addEventListener(\"touchstart\", e => {\n      const targetNode = Graphics._findDelegateTarget(e.target, parentGroup.node, selector);\n      if (targetNode && targetNode.instance) {\n        this._graphics.pathMouseDown(targetNode.instance, e);\n      }\n    }, {\n      passive: true\n    });\n  }\n  addEvents(marker) {\n    const w = this.w;\n    marker.node.addEventListener(\"mouseenter\", this._graphics.pathMouseEnter.bind(this.ctx, marker));\n    marker.node.addEventListener(\"mouseleave\", this._graphics.pathMouseLeave.bind(this.ctx, marker));\n    marker.node.addEventListener(\"mousedown\", this._graphics.pathMouseDown.bind(this.ctx, marker));\n    marker.node.addEventListener(\"click\", w.config.markers.onClick);\n    marker.node.addEventListener(\"dblclick\", w.config.markers.onDblClick);\n    marker.node.addEventListener(\"touchstart\", this._graphics.pathMouseDown.bind(this.ctx, marker), {\n      passive: true\n    });\n  }\n  getMarkerStyle(seriesIndex) {\n    let w = this.w;\n    let colors = w.globals.markers.colors;\n    let strokeColors = w.config.markers.strokeColor || w.config.markers.strokeColors;\n    let pointStrokeColor = Array.isArray(strokeColors) ? strokeColors[seriesIndex] : strokeColors;\n    let pointFillColor = Array.isArray(colors) ? colors[seriesIndex] : colors;\n    return {\n      pointStrokeColor,\n      pointFillColor\n    };\n  }\n}\nclass Scatter {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.initialAnim = this.w.config.chart.animations.enabled;\n    this.anim = new Animations(this.ctx);\n    this.filters = new Filters(this.ctx);\n    this.fill = new Fill(this.ctx);\n    this.markers = new Markers(this.ctx);\n    this.graphics = new Graphics(this.ctx);\n  }\n  draw(elSeries, j, opts) {\n    let w = this.w;\n    let graphics = this.graphics;\n    let realIndex = opts.realIndex;\n    let pointsPos = opts.pointsPos;\n    let zRatio = opts.zRatio;\n    let elPointsMain = opts.elParent;\n    let elPointsWrap = graphics.group({\n      class: `apexcharts-series-markers apexcharts-series-${w.config.chart.type}`\n    });\n    elPointsWrap.attr(\"clip-path\", `url(#gridRectMarkerMask${w.globals.cuid})`);\n    this.markers.setupMarkerDelegation(elPointsWrap);\n    if (Array.isArray(pointsPos.x)) {\n      for (let q = 0; q < pointsPos.x.length; q++) {\n        let dataPointIndex = j + 1;\n        let shouldDraw = true;\n        if (j === 0 && q === 0) dataPointIndex = 0;\n        if (j === 0 && q === 1) dataPointIndex = 1;\n        let radius = w.globals.markers.size[realIndex];\n        if (zRatio !== Infinity) {\n          const bubble = w.config.plotOptions.bubble;\n          radius = w.globals.seriesZ[realIndex][dataPointIndex];\n          if (bubble.zScaling) {\n            radius /= zRatio;\n          }\n          if (bubble.minBubbleRadius && radius < bubble.minBubbleRadius) {\n            radius = bubble.minBubbleRadius;\n          }\n          if (bubble.maxBubbleRadius && radius > bubble.maxBubbleRadius) {\n            radius = bubble.maxBubbleRadius;\n          }\n        }\n        let x = pointsPos.x[q];\n        let y = pointsPos.y[q];\n        radius = radius || 0;\n        if (y === null || typeof w.globals.series[realIndex][dataPointIndex] === \"undefined\") {\n          shouldDraw = false;\n        }\n        if (shouldDraw) {\n          const point = this.drawPoint(x, y, radius, realIndex, dataPointIndex, j);\n          elPointsWrap.add(point);\n        }\n        elPointsMain.add(elPointsWrap);\n      }\n    }\n  }\n  drawPoint(x, y, radius, realIndex, dataPointIndex, j) {\n    const w = this.w;\n    let i = realIndex;\n    const anim = this.anim;\n    const filters = this.filters;\n    const fill = this.fill;\n    const markers = this.markers;\n    const graphics = this.graphics;\n    const markerConfig = markers.getMarkerConfig({\n      cssClass: \"apexcharts-marker\",\n      seriesIndex: i,\n      dataPointIndex,\n      radius: w.config.chart.type === \"bubble\" || w.globals.comboCharts && w.config.series[realIndex] && w.config.series[realIndex].type === \"bubble\" ? radius : null\n    });\n    let pathFillCircle = fill.fillPath({\n      seriesNumber: realIndex,\n      dataPointIndex,\n      color: markerConfig.pointFillColor,\n      patternUnits: \"objectBoundingBox\",\n      value: w.globals.series[realIndex][j]\n    });\n    let el = graphics.drawMarker(x, y, markerConfig);\n    if (w.config.series[i].data[dataPointIndex]) {\n      if (w.config.series[i].data[dataPointIndex].fillColor) {\n        pathFillCircle = w.config.series[i].data[dataPointIndex].fillColor;\n      }\n    }\n    el.attr({\n      fill: pathFillCircle\n    });\n    if (w.config.chart.dropShadow.enabled) {\n      const dropShadow = w.config.chart.dropShadow;\n      filters.dropShadow(el, dropShadow, realIndex);\n    }\n    if (this.initialAnim && !w.globals.dataChanged && !w.globals.resized) {\n      let speed = w.config.chart.animations.speed;\n      anim.animateMarker(el, speed, w.globals.easing, () => {\n        window.setTimeout(() => {\n          anim.animationCompleted(el);\n        }, 100);\n      });\n    } else {\n      w.globals.animationEnded = true;\n    }\n    el.attr({\n      rel: dataPointIndex,\n      j: dataPointIndex,\n      index: realIndex,\n      \"default-marker-size\": markerConfig.pSize\n    });\n    filters.setSelectionFilter(el, realIndex, dataPointIndex);\n    el.node.classList.add(\"apexcharts-marker\");\n    return el;\n  }\n  centerTextInBubble(y) {\n    let w = this.w;\n    y = y + parseInt(w.config.dataLabels.style.fontSize, 10) / 4;\n    return {\n      y\n    };\n  }\n}\nclass DataLabels {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // When there are many datalabels to be printed, and some of them overlaps each other in the same series, this method will take care of that\n  // Also, when datalabels exceeds the drawable area and get clipped off, we need to adjust and move some pixels to make them visible again\n  dataLabelsCorrection(x, y, val, i, dataPointIndex, alwaysDrawDataLabel, fontSize) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let drawnextLabel = false;\n    let textRects = graphics.getTextRects(val, fontSize);\n    let width = textRects.width;\n    let height = textRects.height;\n    if (y < 0) y = 0;\n    if (y > w.globals.gridHeight + height) y = w.globals.gridHeight + height / 2;\n    if (typeof w.globals.dataLabelsRects[i] === \"undefined\") w.globals.dataLabelsRects[i] = [];\n    w.globals.dataLabelsRects[i].push({\n      x,\n      y,\n      width,\n      height\n    });\n    let len = w.globals.dataLabelsRects[i].length - 2;\n    let lastDrawnIndex = typeof w.globals.lastDrawnDataLabelsIndexes[i] !== \"undefined\" ? w.globals.lastDrawnDataLabelsIndexes[i][w.globals.lastDrawnDataLabelsIndexes[i].length - 1] : 0;\n    if (typeof w.globals.dataLabelsRects[i][len] !== \"undefined\") {\n      let lastDataLabelRect = w.globals.dataLabelsRects[i][lastDrawnIndex];\n      if (\n      // next label forward and x not intersecting\n      x > lastDataLabelRect.x + lastDataLabelRect.width || y > lastDataLabelRect.y + lastDataLabelRect.height || y + height < lastDataLabelRect.y || x + width < lastDataLabelRect.x) {\n        drawnextLabel = true;\n      }\n    }\n    if (dataPointIndex === 0 || alwaysDrawDataLabel) {\n      drawnextLabel = true;\n    }\n    return {\n      x,\n      y,\n      textRects,\n      drawnextLabel\n    };\n  }\n  drawDataLabel({\n    type,\n    pos,\n    i,\n    j,\n    isRangeStart,\n    strokeWidth = 2\n  }) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let dataLabelsConfig = w.config.dataLabels;\n    let x = 0;\n    let y = 0;\n    let dataPointIndex = j;\n    let elDataLabelsWrap = null;\n    const seriesCollapsed = w.globals.collapsedSeriesIndices.indexOf(i) !== -1;\n    if (seriesCollapsed || !dataLabelsConfig.enabled || !Array.isArray(pos.x)) {\n      return elDataLabelsWrap;\n    }\n    elDataLabelsWrap = graphics.group({\n      class: \"apexcharts-data-labels\"\n    });\n    for (let q = 0; q < pos.x.length; q++) {\n      x = pos.x[q] + dataLabelsConfig.offsetX;\n      y = pos.y[q] + dataLabelsConfig.offsetY + strokeWidth;\n      if (!isNaN(x)) {\n        if (j === 1 && q === 0) dataPointIndex = 0;\n        if (j === 1 && q === 1) dataPointIndex = 1;\n        let val = w.globals.series[i][dataPointIndex];\n        if (type === \"rangeArea\") {\n          if (isRangeStart) {\n            val = w.globals.seriesRangeStart[i][dataPointIndex];\n          } else {\n            val = w.globals.seriesRangeEnd[i][dataPointIndex];\n          }\n        }\n        let text = \"\";\n        const getText = v => {\n          return w.config.dataLabels.formatter(v, {\n            ctx: this.ctx,\n            seriesIndex: i,\n            dataPointIndex,\n            w\n          });\n        };\n        if (w.config.chart.type === \"bubble\") {\n          val = w.globals.seriesZ[i][dataPointIndex];\n          text = getText(val);\n          y = pos.y[q];\n          const scatter = new Scatter(this.ctx);\n          let centerTextInBubbleCoords = scatter.centerTextInBubble(y, i, dataPointIndex);\n          y = centerTextInBubbleCoords.y;\n        } else {\n          if (typeof val !== \"undefined\") {\n            text = getText(val);\n          }\n        }\n        let textAnchor = w.config.dataLabels.textAnchor;\n        if (w.globals.isSlopeChart) {\n          if (dataPointIndex === 0) {\n            textAnchor = \"end\";\n          } else if (dataPointIndex === w.config.series[i].data.length - 1) {\n            textAnchor = \"start\";\n          } else {\n            textAnchor = \"middle\";\n          }\n        }\n        this.plotDataLabelsText({\n          x,\n          y,\n          text,\n          i,\n          j: dataPointIndex,\n          parent: elDataLabelsWrap,\n          offsetCorrection: true,\n          dataLabelsConfig: w.config.dataLabels,\n          textAnchor\n        });\n      }\n    }\n    return elDataLabelsWrap;\n  }\n  plotDataLabelsText(opts) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let {\n      x,\n      y,\n      i,\n      j,\n      text,\n      textAnchor,\n      fontSize,\n      parent,\n      dataLabelsConfig,\n      color,\n      alwaysDrawDataLabel,\n      offsetCorrection,\n      className\n    } = opts;\n    let dataLabelText = null;\n    if (Array.isArray(w.config.dataLabels.enabledOnSeries)) {\n      if (w.config.dataLabels.enabledOnSeries.indexOf(i) < 0) {\n        return dataLabelText;\n      }\n    }\n    let correctedLabels = {\n      x,\n      y,\n      drawnextLabel: true,\n      textRects: null\n    };\n    if (offsetCorrection) {\n      correctedLabels = this.dataLabelsCorrection(x, y, text, i, j, alwaysDrawDataLabel, parseInt(dataLabelsConfig.style.fontSize, 10));\n    }\n    if (!w.globals.zoomed) {\n      x = correctedLabels.x;\n      y = correctedLabels.y;\n    }\n    if (correctedLabels.textRects) {\n      if (x < -20 - correctedLabels.textRects.width || x > w.globals.gridWidth + correctedLabels.textRects.width + 30) {\n        text = \"\";\n      }\n    }\n    let dataLabelColor = w.globals.dataLabels.style.colors[i];\n    if ((w.config.chart.type === \"bar\" || w.config.chart.type === \"rangeBar\") && w.config.plotOptions.bar.distributed || w.config.dataLabels.distributed) {\n      dataLabelColor = w.globals.dataLabels.style.colors[j];\n    }\n    if (typeof dataLabelColor === \"function\") {\n      dataLabelColor = dataLabelColor({\n        series: w.globals.series,\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    if (color) {\n      dataLabelColor = color;\n    }\n    let offX = dataLabelsConfig.offsetX;\n    let offY = dataLabelsConfig.offsetY;\n    if (w.config.chart.type === \"bar\" || w.config.chart.type === \"rangeBar\") {\n      offX = 0;\n      offY = 0;\n    }\n    if (w.globals.isSlopeChart) {\n      if (j !== 0) {\n        offX = dataLabelsConfig.offsetX * -2 + 5;\n      }\n      if (j !== 0 && j !== w.config.series[i].data.length - 1) {\n        offX = 0;\n      }\n    }\n    if (correctedLabels.drawnextLabel) {\n      if (textAnchor === \"middle\") {\n        if (x === w.globals.gridWidth) {\n          textAnchor = \"end\";\n        }\n      }\n      dataLabelText = graphics.drawText({\n        width: 100,\n        height: parseInt(dataLabelsConfig.style.fontSize, 10),\n        x: x + offX,\n        y: y + offY,\n        foreColor: dataLabelColor,\n        textAnchor: textAnchor || dataLabelsConfig.textAnchor,\n        text,\n        fontSize: fontSize || dataLabelsConfig.style.fontSize,\n        fontFamily: dataLabelsConfig.style.fontFamily,\n        fontWeight: dataLabelsConfig.style.fontWeight || \"normal\"\n      });\n      dataLabelText.attr({\n        class: className || \"apexcharts-datalabel\",\n        cx: x,\n        cy: y\n      });\n      if (dataLabelsConfig.dropShadow.enabled) {\n        const textShadow = dataLabelsConfig.dropShadow;\n        const filters = new Filters(this.ctx);\n        filters.dropShadow(dataLabelText, textShadow);\n      }\n      parent.add(dataLabelText);\n      if (typeof w.globals.lastDrawnDataLabelsIndexes[i] === \"undefined\") {\n        w.globals.lastDrawnDataLabelsIndexes[i] = [];\n      }\n      w.globals.lastDrawnDataLabelsIndexes[i].push(j);\n    }\n    return dataLabelText;\n  }\n  addBackgroundToDataLabel(el, coords) {\n    const w = this.w;\n    const bCnf = w.config.dataLabels.background;\n    const paddingH = bCnf.padding;\n    const paddingV = bCnf.padding / 2;\n    const width = coords.width;\n    const height = coords.height;\n    const graphics = new Graphics(this.ctx);\n    const elRect = graphics.drawRect(coords.x - paddingH, coords.y - paddingV / 2, width + paddingH * 2, height + paddingV, bCnf.borderRadius, w.config.chart.background === \"transparent\" || !w.config.chart.background ? \"#fff\" : w.config.chart.background, bCnf.opacity, bCnf.borderWidth, bCnf.borderColor);\n    if (bCnf.dropShadow.enabled) {\n      const filters = new Filters(this.ctx);\n      filters.dropShadow(elRect, bCnf.dropShadow);\n    }\n    return elRect;\n  }\n  dataLabelsBackground() {\n    const w = this.w;\n    if (w.config.chart.type === \"bubble\") return;\n    const elDataLabels = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-datalabels text\");\n    for (let i = 0; i < elDataLabels.length; i++) {\n      const el = elDataLabels[i];\n      const coords = el.getBBox();\n      let elRect = null;\n      if (coords.width && coords.height) {\n        elRect = this.addBackgroundToDataLabel(el, coords);\n      }\n      if (elRect) {\n        el.parentNode.insertBefore(elRect.node, el);\n        const background = w.config.dataLabels.background.backgroundColor || el.getAttribute(\"fill\");\n        const shouldAnim = w.config.chart.animations.enabled && !w.globals.resized && !w.globals.dataChanged;\n        if (shouldAnim) {\n          elRect.animate().attr({\n            fill: background\n          });\n        } else {\n          elRect.attr({\n            fill: background\n          });\n        }\n        el.setAttribute(\"fill\", w.config.dataLabels.background.foreColor);\n      }\n    }\n  }\n  bringForward() {\n    const w = this.w;\n    const elDataLabelsNodes = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-datalabels\");\n    const elSeries = w.globals.dom.baseEl.querySelector(\".apexcharts-plot-series:last-child\");\n    for (let i = 0; i < elDataLabelsNodes.length; i++) {\n      if (elSeries) {\n        elSeries.insertBefore(elDataLabelsNodes[i], elSeries.nextSibling);\n      }\n    }\n  }\n}\nconst apexchartsLegendCSS = \".apexcharts-flip-y {\\n  transform: scaleY(-1) translateY(-100%);\\n  transform-origin: top;\\n  transform-box: fill-box;\\n}\\n.apexcharts-flip-x {\\n  transform: scaleX(-1);\\n  transform-origin: center;\\n  transform-box: fill-box;\\n}\\n.apexcharts-legend {\\n  display: flex;\\n  overflow: auto;\\n  padding: 0 10px;\\n}\\n.apexcharts-legend.apexcharts-legend-group-horizontal {\\n  flex-direction: column;\\n}\\n.apexcharts-legend-group {\\n  display: flex;\\n}\\n.apexcharts-legend-group-vertical {\\n  flex-direction: column-reverse;\\n}\\n.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\\n  flex-wrap: wrap\\n}\\n.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\\n  flex-direction: column;\\n  bottom: 0;\\n}\\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n}\\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\\n  justify-content: center;\\n  align-items: center;\\n}\\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\\n  justify-content: flex-end;\\n  align-items: flex-end;\\n}\\n.apexcharts-legend-series {\\n  cursor: pointer;\\n  line-height: normal;\\n  display: flex;\\n  align-items: center;\\n}\\n.apexcharts-legend-text {\\n  position: relative;\\n  font-size: 14px;\\n}\\n.apexcharts-legend-text *, .apexcharts-legend-marker * {\\n  pointer-events: none;\\n}\\n.apexcharts-legend-marker {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  margin-right: 1px;\\n}\\n\\n.apexcharts-legend-series.apexcharts-no-click {\\n  cursor: auto;\\n}\\n.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\\n  display: none !important;\\n}\\n.apexcharts-inactive-legend {\\n  opacity: 0.45;\\n} \";\nclass Series {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.legendInactiveClass = \"legend-mouseover-inactive\";\n  }\n  clearSeriesCache() {\n    const w = this.w;\n    if (w.globals.cachedSelectors) {\n      delete w.globals.cachedSelectors.allSeriesEls;\n      delete w.globals.cachedSelectors.highlightSeriesEls;\n    }\n  }\n  getAllSeriesEls() {\n    const w = this.w;\n    const cacheKey = \"allSeriesEls\";\n    if (!w.globals.cachedSelectors[cacheKey]) {\n      w.globals.cachedSelectors[cacheKey] = w.globals.dom.baseEl.getElementsByClassName(`apexcharts-series`);\n    }\n    return w.globals.cachedSelectors[cacheKey];\n  }\n  getSeriesByName(seriesName) {\n    return this.w.globals.dom.baseEl.querySelector(`.apexcharts-inner .apexcharts-series[seriesName='${Utils$1.escapeString(seriesName)}']`);\n  }\n  isSeriesHidden(seriesName) {\n    const targetElement = this.getSeriesByName(seriesName);\n    let realIndex = parseInt(targetElement.getAttribute(\"data:realIndex\"), 10);\n    let isHidden = targetElement.classList.contains(\"apexcharts-series-collapsed\");\n    return {\n      isHidden,\n      realIndex\n    };\n  }\n  addCollapsedClassToSeries(elSeries, index) {\n    const w = this.w;\n    function iterateOnAllCollapsedSeries(series) {\n      for (let cs = 0; cs < series.length; cs++) {\n        if (series[cs].index === index) {\n          elSeries.node.classList.add(\"apexcharts-series-collapsed\");\n        }\n      }\n    }\n    iterateOnAllCollapsedSeries(w.globals.collapsedSeries);\n    iterateOnAllCollapsedSeries(w.globals.ancillaryCollapsedSeries);\n  }\n  toggleSeries(seriesName) {\n    let isSeriesHidden = this.isSeriesHidden(seriesName);\n    this.ctx.legend.legendHelpers.toggleDataSeries(isSeriesHidden.realIndex, isSeriesHidden.isHidden);\n    return isSeriesHidden.isHidden;\n  }\n  showSeries(seriesName) {\n    let isSeriesHidden = this.isSeriesHidden(seriesName);\n    if (isSeriesHidden.isHidden) {\n      this.ctx.legend.legendHelpers.toggleDataSeries(isSeriesHidden.realIndex, true);\n    }\n  }\n  hideSeries(seriesName) {\n    let isSeriesHidden = this.isSeriesHidden(seriesName);\n    if (!isSeriesHidden.isHidden) {\n      this.ctx.legend.legendHelpers.toggleDataSeries(isSeriesHidden.realIndex, false);\n    }\n  }\n  resetSeries(shouldUpdateChart = true, shouldResetZoom = true, shouldResetCollapsed = true) {\n    const w = this.w;\n    this.clearSeriesCache();\n    let series = Utils$1.clone(w.globals.initialSeries);\n    w.globals.previousPaths = [];\n    if (shouldResetCollapsed) {\n      w.globals.collapsedSeries = [];\n      w.globals.ancillaryCollapsedSeries = [];\n      w.globals.collapsedSeriesIndices = [];\n      w.globals.ancillaryCollapsedSeriesIndices = [];\n    } else {\n      series = this.emptyCollapsedSeries(series);\n    }\n    w.config.series = series;\n    if (shouldUpdateChart) {\n      if (shouldResetZoom) {\n        w.globals.zoomed = false;\n        this.ctx.updateHelpers.revertDefaultAxisMinMax();\n      }\n      this.ctx.updateHelpers._updateSeries(series, w.config.chart.animations.dynamicAnimation.enabled);\n    }\n  }\n  emptyCollapsedSeries(series) {\n    const w = this.w;\n    for (let i = 0; i < series.length; i++) {\n      if (w.globals.collapsedSeriesIndices.indexOf(i) > -1) {\n        series[i].data = [];\n      }\n    }\n    return series;\n  }\n  highlightSeries(seriesName) {\n    const w = this.w;\n    const targetElement = this.getSeriesByName(seriesName);\n    let realIndex = parseInt(targetElement == null ? void 0 : targetElement.getAttribute(\"data:realIndex\"), 10);\n    const cacheKey = \"highlightSeriesEls\";\n    let allSeriesEls = w.globals.cachedSelectors[cacheKey];\n    if (!allSeriesEls) {\n      allSeriesEls = w.globals.dom.baseEl.querySelectorAll(`.apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis`);\n      w.globals.cachedSelectors[cacheKey] = allSeriesEls;\n    }\n    let seriesEl = null;\n    let dataLabelEl = null;\n    let yaxisEl = null;\n    if (w.globals.axisCharts || w.config.chart.type === \"radialBar\") {\n      if (w.globals.axisCharts) {\n        seriesEl = w.globals.dom.baseEl.querySelector(`.apexcharts-series[data\\\\:realIndex='${realIndex}']`);\n        dataLabelEl = w.globals.dom.baseEl.querySelector(`.apexcharts-datalabels[data\\\\:realIndex='${realIndex}']`);\n        let yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex];\n        yaxisEl = w.globals.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${yaxisIndex}']`);\n      } else {\n        seriesEl = w.globals.dom.baseEl.querySelector(`.apexcharts-series[rel='${realIndex + 1}']`);\n      }\n    } else {\n      seriesEl = w.globals.dom.baseEl.querySelector(`.apexcharts-series[rel='${realIndex + 1}'] path`);\n    }\n    for (let se = 0; se < allSeriesEls.length; se++) {\n      allSeriesEls[se].classList.add(this.legendInactiveClass);\n    }\n    if (seriesEl) {\n      if (!w.globals.axisCharts) {\n        seriesEl.parentNode.classList.remove(this.legendInactiveClass);\n      }\n      seriesEl.classList.remove(this.legendInactiveClass);\n      if (dataLabelEl !== null) {\n        dataLabelEl.classList.remove(this.legendInactiveClass);\n      }\n      if (yaxisEl !== null) {\n        yaxisEl.classList.remove(this.legendInactiveClass);\n      }\n    } else {\n      for (let se = 0; se < allSeriesEls.length; se++) {\n        allSeriesEls[se].classList.remove(this.legendInactiveClass);\n      }\n    }\n  }\n  toggleSeriesOnHover(e, targetElement) {\n    const w = this.w;\n    if (!targetElement) targetElement = e.target;\n    let allSeriesEls = w.globals.dom.baseEl.querySelectorAll(`.apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis`);\n    if (e.type === \"mousemove\") {\n      let realIndex = parseInt(targetElement.getAttribute(\"rel\"), 10) - 1;\n      this.highlightSeries(w.globals.seriesNames[realIndex]);\n    } else if (e.type === \"mouseout\") {\n      for (let se = 0; se < allSeriesEls.length; se++) {\n        allSeriesEls[se].classList.remove(this.legendInactiveClass);\n      }\n    }\n  }\n  highlightRangeInSeries(e, targetElement) {\n    const w = this.w;\n    const allHeatMapElements = w.globals.dom.baseEl.getElementsByClassName(\"apexcharts-heatmap-rect\");\n    const activeInactive = action => {\n      for (let i = 0; i < allHeatMapElements.length; i++) {\n        allHeatMapElements[i].classList[action](this.legendInactiveClass);\n      }\n    };\n    const removeInactiveClassFromHoveredRange = (range, rangeMax) => {\n      for (let i = 0; i < allHeatMapElements.length; i++) {\n        const val = Number(allHeatMapElements[i].getAttribute(\"val\"));\n        if (val >= range.from && (val < range.to || range.to === rangeMax && val === rangeMax)) {\n          allHeatMapElements[i].classList.remove(this.legendInactiveClass);\n        }\n      }\n    };\n    if (e.type === \"mousemove\") {\n      let seriesCnt = parseInt(targetElement.getAttribute(\"rel\"), 10) - 1;\n      activeInactive(\"add\");\n      const ranges = w.config.plotOptions.heatmap.colorScale.ranges;\n      const range = ranges[seriesCnt];\n      const rangeMax = ranges.reduce((acc, cur) => Math.max(acc, cur.to), 0);\n      removeInactiveClassFromHoveredRange(range, rangeMax);\n    } else if (e.type === \"mouseout\") {\n      activeInactive(\"remove\");\n    }\n  }\n  getActiveConfigSeriesIndex(order = \"asc\", chartTypes = []) {\n    const w = this.w;\n    let activeIndex = 0;\n    if (w.config.series.length > 1) {\n      let activeSeriesIndex = w.config.series.map((s, index) => {\n        const checkChartType = () => {\n          if (w.globals.comboCharts) {\n            return chartTypes.length === 0 || chartTypes.length && chartTypes.indexOf(w.config.series[index].type) > -1;\n          }\n          return true;\n        };\n        const hasData = s.data && s.data.length > 0 && w.globals.collapsedSeriesIndices.indexOf(index) === -1;\n        return hasData && checkChartType() ? index : -1;\n      });\n      for (let a = order === \"asc\" ? 0 : activeSeriesIndex.length - 1; order === \"asc\" ? a < activeSeriesIndex.length : a >= 0; order === \"asc\" ? a++ : a--) {\n        if (activeSeriesIndex[a] !== -1) {\n          activeIndex = activeSeriesIndex[a];\n          break;\n        }\n      }\n    }\n    return activeIndex;\n  }\n  getBarSeriesIndices() {\n    const w = this.w;\n    if (w.globals.comboCharts) {\n      return this.w.config.series.map((s, i) => {\n        return s.type === \"bar\" || s.type === \"column\" ? i : -1;\n      }).filter(i => {\n        return i !== -1;\n      });\n    }\n    return this.w.config.series.map((s, i) => {\n      return i;\n    });\n  }\n  getPreviousPaths() {\n    let w = this.w;\n    w.globals.previousPaths = [];\n    function pushPaths(seriesEls, i, type) {\n      let paths = seriesEls[i].childNodes;\n      let dArr = {\n        type,\n        paths: [],\n        realIndex: seriesEls[i].getAttribute(\"data:realIndex\")\n      };\n      for (let j = 0; j < paths.length; j++) {\n        if (paths[j].hasAttribute(\"pathTo\")) {\n          let d = paths[j].getAttribute(\"pathTo\");\n          dArr.paths.push({\n            d\n          });\n        }\n      }\n      w.globals.previousPaths.push(dArr);\n    }\n    const getPaths = chartType => {\n      return w.globals.dom.baseEl.querySelectorAll(`.apexcharts-${chartType}-series .apexcharts-series`);\n    };\n    const chartTypes = [\"line\", \"area\", \"bar\", \"rangebar\", \"rangeArea\", \"candlestick\", \"radar\"];\n    chartTypes.forEach(type => {\n      const paths = getPaths(type);\n      for (let p = 0; p < paths.length; p++) {\n        pushPaths(paths, p, type);\n      }\n    });\n    let heatTreeSeries = w.globals.dom.baseEl.querySelectorAll(`.apexcharts-${w.config.chart.type} .apexcharts-series`);\n    if (heatTreeSeries.length > 0) {\n      for (let h = 0; h < heatTreeSeries.length; h++) {\n        let seriesEls = w.globals.dom.baseEl.querySelectorAll(`.apexcharts-${w.config.chart.type} .apexcharts-series[data\\\\:realIndex='${h}'] rect`);\n        let dArr = [];\n        for (let i = 0; i < seriesEls.length; i++) {\n          const getAttr = x => {\n            return seriesEls[i].getAttribute(x);\n          };\n          const rect = {\n            x: parseFloat(getAttr(\"x\")),\n            y: parseFloat(getAttr(\"y\")),\n            width: parseFloat(getAttr(\"width\")),\n            height: parseFloat(getAttr(\"height\"))\n          };\n          dArr.push({\n            rect,\n            color: seriesEls[i].getAttribute(\"color\")\n          });\n        }\n        w.globals.previousPaths.push(dArr);\n      }\n    }\n    if (!w.globals.axisCharts) {\n      w.globals.previousPaths = w.globals.series;\n    }\n  }\n  clearPreviousPaths() {\n    const w = this.w;\n    w.globals.previousPaths = [];\n    w.globals.allSeriesCollapsed = false;\n  }\n  handleNoData() {\n    const w = this.w;\n    const me = this;\n    const noDataOpts = w.config.noData;\n    const graphics = new Graphics(me.ctx);\n    let x = w.globals.svgWidth / 2;\n    let y = w.globals.svgHeight / 2;\n    let textAnchor = \"middle\";\n    w.globals.noData = true;\n    w.globals.animationEnded = true;\n    if (noDataOpts.align === \"left\") {\n      x = 10;\n      textAnchor = \"start\";\n    } else if (noDataOpts.align === \"right\") {\n      x = w.globals.svgWidth - 10;\n      textAnchor = \"end\";\n    }\n    if (noDataOpts.verticalAlign === \"top\") {\n      y = 50;\n    } else if (noDataOpts.verticalAlign === \"bottom\") {\n      y = w.globals.svgHeight - 50;\n    }\n    x = x + noDataOpts.offsetX;\n    y = y + parseInt(noDataOpts.style.fontSize, 10) + 2 + noDataOpts.offsetY;\n    if (noDataOpts.text !== void 0 && noDataOpts.text !== \"\") {\n      let titleText = graphics.drawText({\n        x,\n        y,\n        text: noDataOpts.text,\n        textAnchor,\n        fontSize: noDataOpts.style.fontSize,\n        fontFamily: noDataOpts.style.fontFamily,\n        foreColor: noDataOpts.style.color,\n        opacity: 1,\n        class: \"apexcharts-text-nodata\"\n      });\n      w.globals.dom.Paper.add(titleText);\n    }\n  }\n  // When user clicks on legends, the collapsed series is filled with [0,0,0,...,0]\n  // This is because we don't want to alter the series' length as it is used at many places\n  setNullSeriesToZeroValues(series) {\n    let w = this.w;\n    for (let sl = 0; sl < series.length; sl++) {\n      if (series[sl].length === 0) {\n        for (let j = 0; j < series[w.globals.maxValsInArrayIndex].length; j++) {\n          series[sl].push(0);\n        }\n      }\n    }\n    return series;\n  }\n  hasAllSeriesEqualX() {\n    let equalLen = true;\n    const w = this.w;\n    const filteredSerX = this.filteredSeriesX();\n    for (let i = 0; i < filteredSerX.length - 1; i++) {\n      if (filteredSerX[i][0] !== filteredSerX[i + 1][0]) {\n        equalLen = false;\n        break;\n      }\n    }\n    w.globals.allSeriesHasEqualX = equalLen;\n    return equalLen;\n  }\n  filteredSeriesX() {\n    const w = this.w;\n    const filteredSeriesX = w.globals.seriesX.map(ser => ser.length > 0 ? ser : []);\n    return filteredSeriesX;\n  }\n}\nclass Data {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.twoDSeries = [];\n    this.threeDSeries = [];\n    this.twoDSeriesX = [];\n    this.seriesGoals = [];\n    this.coreUtils = new CoreUtils(this.ctx);\n  }\n  // Helper to get the first valid data point from the active series\n  getFirstDataPoint() {\n    const series = this.w.config.series;\n    const sr = new Series(this.ctx);\n    this.activeSeriesIndex = sr.getActiveConfigSeriesIndex();\n    if (series[this.activeSeriesIndex] && series[this.activeSeriesIndex].data && series[this.activeSeriesIndex].data.length > 0 && series[this.activeSeriesIndex].data[0] !== null && typeof series[this.activeSeriesIndex].data[0] !== \"undefined\") {\n      return series[this.activeSeriesIndex].data[0];\n    }\n    return null;\n  }\n  isMultiFormat() {\n    return this.isFormatXY() || this.isFormat2DArray();\n  }\n  // given format is [{x, y}, {x, y}]\n  isFormatXY() {\n    const firstDataPoint = this.getFirstDataPoint();\n    return firstDataPoint && typeof firstDataPoint.x !== \"undefined\";\n  }\n  // given format is [[x, y], [x, y]]\n  isFormat2DArray() {\n    const firstDataPoint = this.getFirstDataPoint();\n    return firstDataPoint && Array.isArray(firstDataPoint);\n  }\n  handleFormat2DArray(ser, i) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const data = ser[i].data;\n    const isBoxPlot = cnf.chart.type === \"boxPlot\" || cnf.series[i].type === \"boxPlot\";\n    for (let j = 0; j < data.length; j++) {\n      const point = data[j];\n      const x = point[0];\n      const y = point[1];\n      const z = point[2];\n      if (typeof y !== \"undefined\") {\n        if (Array.isArray(y) && y.length === 4 && !isBoxPlot) {\n          this.twoDSeries.push(Utils$1.parseNumber(y[3]));\n        } else if (point.length >= 5) {\n          this.twoDSeries.push(Utils$1.parseNumber(point[4]));\n        } else {\n          this.twoDSeries.push(Utils$1.parseNumber(y));\n        }\n        gl.dataFormatXNumeric = true;\n      }\n      if (cnf.xaxis.type === \"datetime\") {\n        let ts = new Date(x);\n        ts = ts.getTime();\n        this.twoDSeriesX.push(ts);\n      } else {\n        this.twoDSeriesX.push(x);\n      }\n      if (typeof z !== \"undefined\") {\n        this.threeDSeries.push(z);\n        gl.isDataXYZ = true;\n      }\n    }\n  }\n  handleFormatXY(ser, i) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const dt = new DateTime(this.ctx);\n    const data = ser[i].data;\n    let activeI = i;\n    if (gl.collapsedSeriesIndices.indexOf(i) > -1) {\n      activeI = this.activeSeriesIndex;\n    }\n    const activeData = ser[activeI].data;\n    for (let j = 0; j < data.length; j++) {\n      const point = data[j];\n      if (typeof point.y !== \"undefined\") {\n        const val = Array.isArray(point.y) ? Utils$1.parseNumber(point.y[point.y.length - 1]) : Utils$1.parseNumber(point.y);\n        this.twoDSeries.push(val);\n      }\n      if (typeof this.seriesGoals[i] === \"undefined\") {\n        this.seriesGoals[i] = [];\n      }\n      if (typeof point.goals !== \"undefined\" && Array.isArray(point.goals)) {\n        this.seriesGoals[i].push(point.goals);\n      } else {\n        this.seriesGoals[i].push(null);\n      }\n      if (typeof point.z !== \"undefined\") {\n        this.threeDSeries.push(point.z);\n        gl.isDataXYZ = true;\n      }\n    }\n    for (let j = 0; j < activeData.length; j++) {\n      const point = activeData[j];\n      const x = point.x;\n      const isXString = typeof x === \"string\";\n      const isXArr = Array.isArray(x);\n      const isXDate = !isXArr && !!dt.isValidDate(x);\n      if (isXString || isXDate) {\n        if (isXString || cnf.xaxis.convertedCatToNumeric) {\n          const isRangeColumn = gl.isBarHorizontal && gl.isRangeData;\n          if (cnf.xaxis.type === \"datetime\" && !isRangeColumn) {\n            this.twoDSeriesX.push(dt.parseDate(x));\n          } else {\n            this.fallbackToCategory = true;\n            this.twoDSeriesX.push(x);\n            if (!isNaN(x) && this.w.config.xaxis.type !== \"category\" && typeof x !== \"string\") {\n              gl.isXNumeric = true;\n            }\n          }\n        } else {\n          if (cnf.xaxis.type === \"datetime\") {\n            this.twoDSeriesX.push(dt.parseDate(x.toString()));\n          } else {\n            gl.dataFormatXNumeric = true;\n            gl.isXNumeric = true;\n            this.twoDSeriesX.push(parseFloat(x));\n          }\n        }\n      } else if (isXArr) {\n        this.fallbackToCategory = true;\n        this.twoDSeriesX.push(x);\n      } else {\n        gl.isXNumeric = true;\n        gl.dataFormatXNumeric = true;\n        this.twoDSeriesX.push(x);\n      }\n    }\n  }\n  handleRangeData(ser, i) {\n    const gl = this.w.globals;\n    let range = {};\n    if (this.isFormat2DArray()) {\n      range = this.handleRangeDataFormat(\"array\", ser, i);\n    } else if (this.isFormatXY()) {\n      range = this.handleRangeDataFormat(\"xy\", ser, i);\n    }\n    gl.seriesRangeStart[i] = range.start === void 0 ? [] : range.start;\n    gl.seriesRangeEnd[i] = range.end === void 0 ? [] : range.end;\n    gl.seriesRange[i] = range.rangeUniques;\n    gl.seriesRange.forEach(sr => {\n      if (!sr) return;\n      sr.forEach(sarr => {\n        const yItems = sarr.y;\n        const len = yItems.length;\n        if (len <= 1) return;\n        for (let arri = 0; arri < len; arri++) {\n          const arr = yItems[arri];\n          const range1y1 = arr.y1;\n          const range1y2 = arr.y2;\n          for (let sri = arri + 1; sri < len; sri++) {\n            const range2 = yItems[sri];\n            const range2y1 = range2.y1;\n            const range2y2 = range2.y2;\n            if (range1y1 <= range2y2 && range2y1 <= range1y2) {\n              if (sarr.overlaps.indexOf(arr.rangeName) < 0) {\n                sarr.overlaps.push(arr.rangeName);\n              }\n              if (sarr.overlaps.indexOf(range2.rangeName) < 0) {\n                sarr.overlaps.push(range2.rangeName);\n              }\n            }\n          }\n        }\n      });\n    });\n    return range;\n  }\n  handleCandleStickBoxData(ser, i) {\n    const gl = this.w.globals;\n    let ohlc = {};\n    if (this.isFormat2DArray()) {\n      ohlc = this.handleCandleStickBoxDataFormat(\"array\", ser, i);\n    } else if (this.isFormatXY()) {\n      ohlc = this.handleCandleStickBoxDataFormat(\"xy\", ser, i);\n    }\n    gl.seriesCandleO[i] = ohlc.o;\n    gl.seriesCandleH[i] = ohlc.h;\n    gl.seriesCandleM[i] = ohlc.m;\n    gl.seriesCandleL[i] = ohlc.l;\n    gl.seriesCandleC[i] = ohlc.c;\n    return ohlc;\n  }\n  handleRangeDataFormat(format, ser, i) {\n    const rangeStart = [];\n    const rangeEnd = [];\n    const uniqueKeysMap = /* @__PURE__ */new Map();\n    const uniqueKeys = [];\n    ser[i].data.forEach(item => {\n      if (!uniqueKeysMap.has(item.x)) {\n        const keyObj = {\n          x: item.x,\n          overlaps: [],\n          y: []\n        };\n        uniqueKeysMap.set(item.x, keyObj);\n        uniqueKeys.push(keyObj);\n      }\n    });\n    if (format === \"array\") {\n      for (let j = 0; j < ser[i].data.length; j++) {\n        if (Array.isArray(ser[i].data[j])) {\n          rangeStart.push(ser[i].data[j][1][0]);\n          rangeEnd.push(ser[i].data[j][1][1]);\n        } else {\n          rangeStart.push(ser[i].data[j]);\n          rangeEnd.push(ser[i].data[j]);\n        }\n      }\n    } else if (format === \"xy\") {\n      for (let j = 0; j < ser[i].data.length; j++) {\n        let isDataPoint2D = Array.isArray(ser[i].data[j].y);\n        const id = Utils$1.randomId();\n        const x = ser[i].data[j].x;\n        const y = {\n          y1: isDataPoint2D ? ser[i].data[j].y[0] : ser[i].data[j].y,\n          y2: isDataPoint2D ? ser[i].data[j].y[1] : ser[i].data[j].y,\n          rangeName: id\n        };\n        ser[i].data[j].rangeName = id;\n        const keyObj = uniqueKeysMap.get(x);\n        if (keyObj) {\n          keyObj.y.push(y);\n        }\n        rangeStart.push(y.y1);\n        rangeEnd.push(y.y2);\n      }\n    }\n    return {\n      start: rangeStart,\n      end: rangeEnd,\n      rangeUniques: uniqueKeys\n    };\n  }\n  handleCandleStickBoxDataFormat(format, ser, i) {\n    const w = this.w;\n    const isBoxPlot = w.config.chart.type === \"boxPlot\" || w.config.series[i].type === \"boxPlot\";\n    const serO = [];\n    const serH = [];\n    const serM = [];\n    const serL = [];\n    const serC = [];\n    const data = ser[i].data;\n    let getVals;\n    if (format === \"array\") {\n      const isFlat = isBoxPlot && data[0].length === 6 || !isBoxPlot && data[0].length === 5;\n      if (isFlat) {\n        getVals = d => d.slice(1);\n      } else {\n        getVals = d => Array.isArray(d[1]) ? d[1] : [];\n      }\n    } else {\n      getVals = d => Array.isArray(d.y) ? d.y : [];\n    }\n    for (let j = 0; j < data.length; j++) {\n      const vals = getVals(data[j]);\n      if (vals && vals.length >= 2) {\n        serO.push(vals[0]);\n        serH.push(vals[1]);\n        if (isBoxPlot) {\n          serM.push(vals[2]);\n          serL.push(vals[3]);\n          serC.push(vals[4]);\n        } else {\n          serL.push(vals[2]);\n          serC.push(vals[3]);\n        }\n      }\n    }\n    return {\n      o: serO,\n      h: serH,\n      m: serM,\n      l: serL,\n      c: serC\n    };\n  }\n  parseDataAxisCharts(ser, ctx = this.ctx) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const dt = new DateTime(ctx);\n    const xlabels = cnf.labels.length > 0 ? cnf.labels.slice() : cnf.xaxis.categories.slice();\n    gl.isRangeBar = cnf.chart.type === \"rangeBar\" && gl.isBarHorizontal;\n    gl.hasXaxisGroups = cnf.xaxis.type === \"category\" && cnf.xaxis.group.groups.length > 0;\n    if (gl.hasXaxisGroups) {\n      gl.groups = cnf.xaxis.group.groups;\n    }\n    ser.forEach((s, i) => {\n      if (s.name !== void 0) {\n        gl.seriesNames.push(s.name);\n      } else {\n        gl.seriesNames.push(\"series-\" + parseInt(i + 1, 10));\n      }\n    });\n    this.coreUtils.setSeriesYAxisMappings();\n    let buckets = [];\n    let groups = [...new Set(cnf.series.map(s => s.group))];\n    cnf.series.forEach((s, i) => {\n      let index = groups.indexOf(s.group);\n      if (!buckets[index]) buckets[index] = [];\n      buckets[index].push(gl.seriesNames[i]);\n    });\n    gl.seriesGroups = buckets;\n    const handleDates = () => {\n      for (let j = 0; j < xlabels.length; j++) {\n        if (typeof xlabels[j] === \"string\") {\n          let isDate = dt.isValidDate(xlabels[j]);\n          if (isDate) {\n            this.twoDSeriesX.push(dt.parseDate(xlabels[j]));\n          } else {\n            throw new Error(\"You have provided invalid Date format. Please provide a valid JavaScript Date\");\n          }\n        } else {\n          this.twoDSeriesX.push(xlabels[j]);\n        }\n      }\n    };\n    for (let i = 0; i < ser.length; i++) {\n      this.twoDSeries = [];\n      this.twoDSeriesX = [];\n      this.threeDSeries = [];\n      if (typeof ser[i].data === \"undefined\") {\n        console.error(\"It is a possibility that you may have not included 'data' property in series.\");\n        return;\n      }\n      if (cnf.chart.type === \"rangeBar\" || cnf.chart.type === \"rangeArea\" || ser[i].type === \"rangeBar\" || ser[i].type === \"rangeArea\") {\n        gl.isRangeData = true;\n        this.handleRangeData(ser, i);\n      }\n      if (this.isMultiFormat()) {\n        if (this.isFormat2DArray()) {\n          this.handleFormat2DArray(ser, i);\n        } else if (this.isFormatXY()) {\n          this.handleFormatXY(ser, i);\n        }\n        if (cnf.chart.type === \"candlestick\" || ser[i].type === \"candlestick\" || cnf.chart.type === \"boxPlot\" || ser[i].type === \"boxPlot\") {\n          this.handleCandleStickBoxData(ser, i);\n        }\n        gl.series.push(this.twoDSeries);\n        gl.labels.push(this.twoDSeriesX);\n        gl.seriesX.push(this.twoDSeriesX);\n        gl.seriesGoals = this.seriesGoals;\n        if (i === this.activeSeriesIndex && !this.fallbackToCategory) {\n          gl.isXNumeric = true;\n        }\n      } else {\n        if (cnf.xaxis.type === \"datetime\") {\n          gl.isXNumeric = true;\n          handleDates();\n          gl.seriesX.push(this.twoDSeriesX);\n        } else if (cnf.xaxis.type === \"numeric\") {\n          gl.isXNumeric = true;\n          if (xlabels.length > 0) {\n            this.twoDSeriesX = xlabels;\n            gl.seriesX.push(this.twoDSeriesX);\n          }\n        }\n        gl.labels.push(this.twoDSeriesX);\n        const singleArray = ser[i].data.map(d => Utils$1.parseNumber(d));\n        gl.series.push(singleArray);\n      }\n      gl.seriesZ.push(this.threeDSeries);\n      if (ser[i].color !== void 0) {\n        gl.seriesColors.push(ser[i].color);\n      } else {\n        gl.seriesColors.push(void 0);\n      }\n    }\n    return this.w;\n  }\n  parseDataNonAxisCharts(ser) {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    const hasOldFormat = Array.isArray(ser) && ser.every(s => typeof s === \"number\") && cnf.labels.length > 0;\n    const hasNewFormat = Array.isArray(ser) && ser.some(s => s && typeof s === \"object\" && s.data || s && typeof s === \"object\" && s.parsing);\n    if (hasOldFormat && hasNewFormat) {\n      console.warn(\"ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility.\");\n    }\n    if (hasOldFormat) {\n      gl.series = ser.slice();\n      gl.seriesNames = cnf.labels.slice();\n      for (let i = 0; i < gl.series.length; i++) {\n        if (gl.seriesNames[i] === void 0) {\n          gl.seriesNames.push(\"series-\" + (i + 1));\n        }\n      }\n      return this.w;\n    }\n    if (Array.isArray(ser) && ser.every(s => typeof s === \"number\")) {\n      gl.series = ser.slice();\n      gl.seriesNames = [];\n      for (let i = 0; i < gl.series.length; i++) {\n        gl.seriesNames.push(cnf.labels[i] || `series-${i + 1}`);\n      }\n      return this.w;\n    }\n    const processedData = this.extractPieDataFromSeries(ser);\n    gl.series = processedData.values;\n    gl.seriesNames = processedData.labels;\n    if (cnf.chart.type === \"radialBar\") {\n      gl.series = gl.series.map(val => {\n        const numVal = Utils$1.parseNumber(val);\n        if (numVal > 100) {\n          console.warn(`ApexCharts: RadialBar value ${numVal} > 100, consider using percentage values (0-100)`);\n        }\n        return numVal;\n      });\n    }\n    for (let i = 0; i < gl.series.length; i++) {\n      if (gl.seriesNames[i] === void 0) {\n        gl.seriesNames.push(\"series-\" + (i + 1));\n      }\n    }\n    return this.w;\n  }\n  /**\n   * Reset parsing flags to allow re-parsing of data during updates\n   */\n  resetParsingFlags() {\n    const w = this.w;\n    w.globals.dataWasParsed = false;\n    w.globals.originalSeries = null;\n    if (w.config.series) {\n      w.config.series.forEach(serie => {\n        if (serie.__apexParsed) {\n          delete serie.__apexParsed;\n        }\n      });\n    }\n  }\n  extractPieDataFromSeries(ser) {\n    const values = [];\n    const labels = [];\n    if (!Array.isArray(ser)) {\n      console.warn(\"ApexCharts: Expected array for series data\");\n      return {\n        values: [],\n        labels: []\n      };\n    }\n    if (ser.length === 0) {\n      console.warn(\"ApexCharts: Empty series array\");\n      return {\n        values: [],\n        labels: []\n      };\n    }\n    const firstItem = ser[0];\n    if (typeof firstItem === \"object\" && firstItem !== null && firstItem.data) {\n      this.extractPieDataFromSeriesObjects(ser, values, labels);\n    } else {\n      console.warn(\"ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property.\");\n      return {\n        values: [],\n        labels: []\n      };\n    }\n    return {\n      values,\n      labels\n    };\n  }\n  // Extract data from series objects: [{ data: [...], parsing: {...} }]\n  extractPieDataFromSeriesObjects(seriesArray, values, labels) {\n    seriesArray.forEach((serie, serieIndex) => {\n      if (!serie.data || !Array.isArray(serie.data)) {\n        console.warn(`ApexCharts: Series ${serieIndex} has no valid data array`);\n        return;\n      }\n      serie.data.forEach(dataPoint => {\n        if (typeof dataPoint === \"object\" && dataPoint !== null) {\n          if (dataPoint.x !== void 0 && dataPoint.y !== void 0) {\n            labels.push(String(dataPoint.x));\n            values.push(Utils$1.parseNumber(dataPoint.y));\n          } else {\n            console.warn(\"ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:\", dataPoint);\n          }\n        } else {\n          console.warn(\"ApexCharts: Expected object data point, got:\", typeof dataPoint);\n        }\n      });\n    });\n  }\n  /** User possibly set string categories in xaxis.categories or labels prop\n   * Or didn't set xaxis labels at all - in which case we manually do it.\n   * If user passed series data as [[3, 2], [4, 5]] or [{ x: 3, y: 55 }],\n   * this shouldn't be called\n   * @param {array} ser - the series which user passed to the config\n   */\n  handleExternalLabelsData(ser) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    if (cnf.xaxis.categories.length > 0) {\n      gl.labels = cnf.xaxis.categories;\n    } else if (cnf.labels.length > 0) {\n      gl.labels = cnf.labels.slice();\n    } else if (this.fallbackToCategory) {\n      gl.labels = gl.labels[0];\n      if (gl.seriesRange.length) {\n        gl.seriesRange.map(srt => {\n          srt.forEach(sr => {\n            if (gl.labels.indexOf(sr.x) < 0 && sr.x) {\n              gl.labels.push(sr.x);\n            }\n          });\n        });\n        gl.labels = Array.from(new Set(gl.labels.map(JSON.stringify)), JSON.parse);\n      }\n      if (cnf.xaxis.convertedCatToNumeric) {\n        const defaults = new Defaults(cnf);\n        defaults.convertCatToNumericXaxis(cnf, this.ctx, gl.seriesX[0]);\n        this._generateExternalLabels(ser);\n      }\n    } else {\n      this._generateExternalLabels(ser);\n    }\n  }\n  _generateExternalLabels(ser) {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    let labelArr = [];\n    if (gl.axisCharts) {\n      if (gl.series.length > 0) {\n        if (this.isFormatXY()) {\n          const seriesDataFiltered = cnf.series.map(serie => {\n            return serie.data.filter((v, i, a) => a.findIndex(t => t.x === v.x) === i);\n          });\n          const len = seriesDataFiltered.reduce((p, c, i, a) => a[p].length > c.length ? p : i, 0);\n          for (let i = 0; i < seriesDataFiltered[len].length; i++) {\n            labelArr.push(i + 1);\n          }\n        } else {\n          for (let i = 0; i < gl.series[gl.maxValsInArrayIndex].length; i++) {\n            labelArr.push(i + 1);\n          }\n        }\n      }\n      gl.seriesX = [];\n      for (let i = 0; i < ser.length; i++) {\n        gl.seriesX.push(labelArr);\n      }\n      if (!this.w.globals.isBarHorizontal) {\n        gl.isXNumeric = true;\n      }\n    }\n    if (labelArr.length === 0) {\n      labelArr = gl.axisCharts ? [] : gl.series.map((gls, glsi) => {\n        return glsi + 1;\n      });\n      for (let i = 0; i < ser.length; i++) {\n        gl.seriesX.push(labelArr);\n      }\n    }\n    gl.labels = labelArr;\n    if (cnf.xaxis.convertedCatToNumeric) {\n      gl.categoryLabels = labelArr.map(l => {\n        return cnf.xaxis.labels.formatter(l);\n      });\n    }\n    gl.noLabelsProvided = true;\n  }\n  parseRawDataIfNeeded(series) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const globalParsing = cnf.parsing;\n    if (gl.dataWasParsed) {\n      return series;\n    }\n    if (!globalParsing && !series.some(s => s.parsing)) {\n      return series;\n    }\n    const processedSeries = series.map((serie, index) => {\n      var _a, _b, _c;\n      if (!serie.data || !Array.isArray(serie.data) || serie.data.length === 0) {\n        return serie;\n      }\n      const effectiveParsing = {\n        x: ((_a = serie.parsing) == null ? void 0 : _a.x) || (globalParsing == null ? void 0 : globalParsing.x),\n        y: ((_b = serie.parsing) == null ? void 0 : _b.y) || (globalParsing == null ? void 0 : globalParsing.y),\n        z: ((_c = serie.parsing) == null ? void 0 : _c.z) || (globalParsing == null ? void 0 : globalParsing.z)\n      };\n      if (!effectiveParsing.x && !effectiveParsing.y) {\n        return serie;\n      }\n      const firstDataPoint = serie.data[0];\n      if (typeof firstDataPoint === \"object\" && firstDataPoint !== null && (Object.prototype.hasOwnProperty.call(firstDataPoint, \"x\") || Object.prototype.hasOwnProperty.call(firstDataPoint, \"y\")) || Array.isArray(firstDataPoint)) {\n        return serie;\n      }\n      if (!effectiveParsing.x || !effectiveParsing.y || Array.isArray(effectiveParsing.y) && effectiveParsing.y.length === 0) {\n        console.warn(`ApexCharts: Series ${index} has parsing config but missing x or y field specification`);\n        return serie;\n      }\n      const transformedData = serie.data.map((item, itemIndex) => {\n        if (typeof item !== \"object\" || item === null) {\n          console.warn(`ApexCharts: Series ${index}, data point ${itemIndex} is not an object, skipping parsing`);\n          return item;\n        }\n        const x = this.getNestedValue(item, effectiveParsing.x);\n        let y;\n        let z = void 0;\n        if (Array.isArray(effectiveParsing.y)) {\n          const yValues = effectiveParsing.y.map(fieldName => this.getNestedValue(item, fieldName));\n          if (this.w.config.chart.type === \"bubble\" && yValues.length === 2) {\n            y = yValues[0];\n          } else {\n            y = yValues;\n          }\n        } else {\n          y = this.getNestedValue(item, effectiveParsing.y);\n        }\n        if (effectiveParsing.z) {\n          z = this.getNestedValue(item, effectiveParsing.z);\n        }\n        if (x === void 0) {\n          console.warn(`ApexCharts: Series ${index}, data point ${itemIndex} missing field '${effectiveParsing.x}'`);\n        }\n        if (y === void 0) {\n          console.warn(`ApexCharts: Series ${index}, data point ${itemIndex} missing field '${effectiveParsing.y}'`);\n        }\n        const result = {\n          x,\n          y\n        };\n        if (this.w.config.chart.type === \"bubble\" && Array.isArray(effectiveParsing.y) && effectiveParsing.y.length === 2) {\n          const zValue = this.getNestedValue(item, effectiveParsing.y[1]);\n          if (zValue !== void 0) {\n            result.z = zValue;\n          }\n        }\n        if (z !== void 0) {\n          result.z = z;\n        }\n        return result;\n      });\n      return __spreadProps(__spreadValues({}, serie), {\n        data: transformedData,\n        __apexParsed: true\n      });\n    });\n    gl.dataWasParsed = true;\n    if (!gl.originalSeries) {\n      gl.originalSeries = Utils$1.clone(series);\n    }\n    return processedSeries;\n  }\n  /**\n   * Get nested object value using dot notation path\n   * @param {Object} obj - The object to search in\n   * @param {string} path - Dot notation path (e.g., 'user.profile.name')\n   * @returns {*} The value at the path, or undefined if not found\n   */\n  getNestedValue(obj, path) {\n    if (!obj || typeof obj !== \"object\" || !path) {\n      return void 0;\n    }\n    if (path.indexOf(\".\") === -1) {\n      return obj[path];\n    }\n    const keys = path.split(\".\");\n    let current = obj;\n    for (let i = 0; i < keys.length; i++) {\n      if (current === null || current === void 0 || typeof current !== \"object\") {\n        return void 0;\n      }\n      current = current[keys[i]];\n    }\n    return current;\n  }\n  // Segregate user provided data into appropriate vars\n  parseData(ser) {\n    let w = this.w;\n    let cnf = w.config;\n    let gl = w.globals;\n    ser = this.parseRawDataIfNeeded(ser);\n    cnf.series = ser;\n    gl.initialSeries = Utils$1.clone(ser);\n    this.excludeCollapsedSeriesInYAxis();\n    this.fallbackToCategory = false;\n    this.ctx.core.resetGlobals();\n    this.ctx.core.isMultipleY();\n    if (gl.axisCharts) {\n      this.parseDataAxisCharts(ser);\n      this.coreUtils.getLargestSeries();\n    } else {\n      this.parseDataNonAxisCharts(ser);\n    }\n    if (cnf.chart.stacked) {\n      const series = new Series(this.ctx);\n      gl.series = series.setNullSeriesToZeroValues(gl.series);\n    }\n    this.coreUtils.getSeriesTotals();\n    if (gl.axisCharts) {\n      gl.stackedSeriesTotals = this.coreUtils.getStackedSeriesTotals();\n      gl.stackedSeriesTotalsByGroups = this.coreUtils.getStackedSeriesTotalsByGroups();\n    }\n    this.coreUtils.getPercentSeries();\n    if (!gl.dataFormatXNumeric && (!gl.isXNumeric || cnf.xaxis.type === \"numeric\" && cnf.labels.length === 0 && cnf.xaxis.categories.length === 0)) {\n      this.handleExternalLabelsData(ser);\n    }\n    const catLabels = this.coreUtils.getCategoryLabels(gl.labels);\n    for (let l = 0; l < catLabels.length; l++) {\n      if (Array.isArray(catLabels[l])) {\n        gl.isMultiLineX = true;\n        break;\n      }\n    }\n  }\n  excludeCollapsedSeriesInYAxis() {\n    const w = this.w;\n    let yAxisIndexes = [];\n    w.globals.seriesYAxisMap.forEach((yAxisArr, yi) => {\n      let collapsedCount = 0;\n      yAxisArr.forEach(seriesIndex => {\n        if (w.globals.collapsedSeriesIndices.indexOf(seriesIndex) !== -1) {\n          collapsedCount++;\n        }\n      });\n      if (collapsedCount > 0 && collapsedCount == yAxisArr.length) {\n        yAxisIndexes.push(yi);\n      }\n    });\n    w.globals.ignoreYAxisIndexes = yAxisIndexes.map(x => x);\n  }\n}\nclass Exports {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  svgStringToNode(svgString) {\n    const parser = new DOMParser();\n    const svgDoc = parser.parseFromString(svgString, \"image/svg+xml\");\n    return svgDoc.documentElement;\n  }\n  scaleSvgNode(svg, scale) {\n    let svgWidth = parseFloat(svg.getAttributeNS(null, \"width\"));\n    let svgHeight = parseFloat(svg.getAttributeNS(null, \"height\"));\n    svg.setAttributeNS(null, \"width\", svgWidth * scale);\n    svg.setAttributeNS(null, \"height\", svgHeight * scale);\n    svg.setAttributeNS(null, \"viewBox\", \"0 0 \" + svgWidth + \" \" + svgHeight);\n  }\n  getSvgString(_scale) {\n    return new Promise(resolve => {\n      const w = this.w;\n      let scale = _scale || w.config.chart.toolbar.export.scale || w.config.chart.toolbar.export.width / w.globals.svgWidth;\n      if (!scale) {\n        scale = 1;\n      }\n      const width = w.globals.svgWidth * scale;\n      const height = w.globals.svgHeight * scale;\n      const clonedNode = w.globals.dom.elWrap.cloneNode(true);\n      clonedNode.style.width = width + \"px\";\n      clonedNode.style.height = height + \"px\";\n      const serializedNode = new XMLSerializer().serializeToString(clonedNode);\n      const shouldIncludeLegendStyles = w.config.legend.show && w.globals.dom.elLegendWrap && w.globals.dom.elLegendWrap.children.length > 0;\n      let exportStyles = `\n        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {\n          display: none;\n        }\n      `;\n      if (shouldIncludeLegendStyles) {\n        exportStyles += apexchartsLegendCSS;\n      }\n      let svgString = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n          version=\"1.1\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          class=\"apexcharts-svg\"\n          xmlns:data=\"ApexChartsNS\"\n          transform=\"translate(0, 0)\"\n          width=\"${w.globals.svgWidth}px\" height=\"${w.globals.svgHeight}px\">\n          <foreignObject width=\"100%\" height=\"100%\">\n            <div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"width:${width}px; height:${height}px;\">\n            <style type=\"text/css\">\n              ${exportStyles}\n            </style>\n              ${serializedNode}\n            </div>\n          </foreignObject>\n        </svg>\n      `;\n      const svgNode = this.svgStringToNode(svgString);\n      if (scale !== 1) {\n        this.scaleSvgNode(svgNode, scale);\n      }\n      this.convertImagesToBase64(svgNode).then(() => {\n        svgString = new XMLSerializer().serializeToString(svgNode);\n        resolve(svgString.replace(/&nbsp;/g, \"&#160;\"));\n      });\n    });\n  }\n  convertImagesToBase64(svgNode) {\n    const images = svgNode.getElementsByTagName(\"image\");\n    const promises = Array.from(images).map(img => {\n      const href = img.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n      if (href && !href.startsWith(\"data:\")) {\n        return this.getBase64FromUrl(href).then(base64 => {\n          img.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", base64);\n        }).catch(error => {\n          console.error(\"Error converting image to base64:\", error);\n        });\n      }\n      return Promise.resolve();\n    });\n    return Promise.all(promises);\n  }\n  getBase64FromUrl(url) {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.crossOrigin = \"Anonymous\";\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        resolve(canvas.toDataURL());\n      };\n      img.onerror = reject;\n      img.src = url;\n    });\n  }\n  svgUrl() {\n    return new Promise(resolve => {\n      this.getSvgString().then(svgData => {\n        const svgBlob = new Blob([svgData], {\n          type: \"image/svg+xml;charset=utf-8\"\n        });\n        resolve(URL.createObjectURL(svgBlob));\n      });\n    });\n  }\n  dataURI(options2) {\n    return new Promise(resolve => {\n      const w = this.w;\n      const scale = options2 ? options2.scale || options2.width / w.globals.svgWidth : 1;\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = w.globals.svgWidth * scale;\n      canvas.height = parseInt(w.globals.dom.elWrap.style.height, 10) * scale;\n      const canvasBg = w.config.chart.background === \"transparent\" || !w.config.chart.background ? \"#fff\" : w.config.chart.background;\n      let ctx = canvas.getContext(\"2d\");\n      ctx.fillStyle = canvasBg;\n      ctx.fillRect(0, 0, canvas.width * scale, canvas.height * scale);\n      this.getSvgString(scale).then(svgData => {\n        const svgUrl = \"data:image/svg+xml,\" + encodeURIComponent(svgData);\n        let img = new Image();\n        img.crossOrigin = \"anonymous\";\n        img.onload = () => {\n          ctx.drawImage(img, 0, 0);\n          if (canvas.msToBlob) {\n            let blob = canvas.msToBlob();\n            resolve({\n              blob\n            });\n          } else {\n            let imgURI = canvas.toDataURL(\"image/png\");\n            resolve({\n              imgURI\n            });\n          }\n        };\n        img.src = svgUrl;\n      });\n    });\n  }\n  exportToSVG() {\n    this.svgUrl().then(url => {\n      this.triggerDownload(url, this.w.config.chart.toolbar.export.svg.filename, \".svg\");\n    });\n  }\n  exportToPng() {\n    const scale = this.w.config.chart.toolbar.export.scale;\n    const width = this.w.config.chart.toolbar.export.width;\n    const option = scale ? {\n      scale\n    } : width ? {\n      width\n    } : void 0;\n    this.dataURI(option).then(({\n      imgURI,\n      blob\n    }) => {\n      if (blob) {\n        navigator.msSaveOrOpenBlob(blob, this.w.globals.chartID + \".png\");\n      } else {\n        this.triggerDownload(imgURI, this.w.config.chart.toolbar.export.png.filename, \".png\");\n      }\n    });\n  }\n  exportToCSV({\n    series,\n    fileName,\n    columnDelimiter = \",\",\n    lineDelimiter = \"\\n\"\n  }) {\n    const w = this.w;\n    if (!series) series = w.config.series;\n    let columns = [];\n    let rows = [];\n    let result = \"\";\n    let universalBOM = \"\\uFEFF\";\n    let gSeries = w.globals.series.map((s, i) => {\n      return w.globals.collapsedSeriesIndices.indexOf(i) === -1 ? s : [];\n    });\n    const getFormattedCategory = cat => {\n      if (typeof w.config.chart.toolbar.export.csv.categoryFormatter === \"function\") {\n        return w.config.chart.toolbar.export.csv.categoryFormatter(cat);\n      }\n      if (w.config.xaxis.type === \"datetime\" && String(cat).length >= 10) {\n        return new Date(cat).toDateString();\n      }\n      return Utils$1.isNumber(cat) ? cat : cat.split(columnDelimiter).join(\"\");\n    };\n    const getFormattedValue = value => {\n      return typeof w.config.chart.toolbar.export.csv.valueFormatter === \"function\" ? w.config.chart.toolbar.export.csv.valueFormatter(value) : value;\n    };\n    const seriesMaxDataLength = Math.max(...series.map(s => {\n      return s.data ? s.data.length : 0;\n    }));\n    const dataFormat = new Data(this.ctx);\n    const axesUtils = new AxesUtils(this.ctx);\n    const getCat = i => {\n      let cat = \"\";\n      if (!w.globals.axisCharts) {\n        cat = w.config.labels[i];\n      } else {\n        if (w.config.xaxis.type === \"category\" || w.config.xaxis.convertedCatToNumeric) {\n          if (w.globals.isBarHorizontal) {\n            let lbFormatter = w.globals.yLabelFormatters[0];\n            let sr = new Series(this.ctx);\n            let activeSeries = sr.getActiveConfigSeriesIndex();\n            cat = lbFormatter(w.globals.labels[i], {\n              seriesIndex: activeSeries,\n              dataPointIndex: i,\n              w\n            });\n          } else {\n            cat = axesUtils.getLabel(w.globals.labels, w.globals.timescaleLabels, 0, i).text;\n          }\n        }\n        if (w.config.xaxis.type === \"datetime\") {\n          if (w.config.xaxis.categories.length) {\n            cat = w.config.xaxis.categories[i];\n          } else if (w.config.labels.length) {\n            cat = w.config.labels[i];\n          }\n        }\n      }\n      if (cat === null) return \"nullvalue\";\n      if (Array.isArray(cat)) {\n        cat = cat.join(\" \");\n      }\n      return Utils$1.isNumber(cat) ? cat : cat.split(columnDelimiter).join(\"\");\n    };\n    const getEmptyDataForCsvColumn = () => {\n      return [...Array(seriesMaxDataLength)].map(() => \"\");\n    };\n    const handleAxisRowsColumns = (s, sI) => {\n      var _a;\n      if (columns.length && sI === 0) {\n        rows.push(columns.join(columnDelimiter));\n      }\n      if (s.data) {\n        s.data = s.data.length && s.data || getEmptyDataForCsvColumn();\n        for (let i = 0; i < s.data.length; i++) {\n          columns = [];\n          let cat = getCat(i);\n          if (cat === \"nullvalue\") continue;\n          if (!cat) {\n            if (dataFormat.isFormatXY()) {\n              cat = series[sI].data[i].x;\n            } else if (dataFormat.isFormat2DArray()) {\n              cat = series[sI].data[i] ? series[sI].data[i][0] : \"\";\n            }\n          }\n          if (sI === 0) {\n            columns.push(getFormattedCategory(cat));\n            for (let ci = 0; ci < w.globals.series.length; ci++) {\n              const value = dataFormat.isFormatXY() ? (_a = series[ci].data[i]) == null ? void 0 : _a.y : gSeries[ci][i];\n              columns.push(getFormattedValue(value));\n            }\n          }\n          if (w.config.chart.type === \"candlestick\" || s.type && s.type === \"candlestick\") {\n            columns.pop();\n            columns.push(w.globals.seriesCandleO[sI][i]);\n            columns.push(w.globals.seriesCandleH[sI][i]);\n            columns.push(w.globals.seriesCandleL[sI][i]);\n            columns.push(w.globals.seriesCandleC[sI][i]);\n          }\n          if (w.config.chart.type === \"boxPlot\" || s.type && s.type === \"boxPlot\") {\n            columns.pop();\n            columns.push(w.globals.seriesCandleO[sI][i]);\n            columns.push(w.globals.seriesCandleH[sI][i]);\n            columns.push(w.globals.seriesCandleM[sI][i]);\n            columns.push(w.globals.seriesCandleL[sI][i]);\n            columns.push(w.globals.seriesCandleC[sI][i]);\n          }\n          if (w.config.chart.type === \"rangeBar\") {\n            columns.pop();\n            columns.push(w.globals.seriesRangeStart[sI][i]);\n            columns.push(w.globals.seriesRangeEnd[sI][i]);\n          }\n          if (columns.length) {\n            rows.push(columns.join(columnDelimiter));\n          }\n        }\n      }\n    };\n    const handleUnequalXValues = () => {\n      const categories = /* @__PURE__ */new Set();\n      const data = {};\n      series.forEach((s, sI) => {\n        s == null ? void 0 : s.data.forEach(dataItem => {\n          let cat, value;\n          if (dataFormat.isFormatXY()) {\n            cat = dataItem.x;\n            value = dataItem.y;\n          } else if (dataFormat.isFormat2DArray()) {\n            cat = dataItem[0];\n            value = dataItem[1];\n          } else {\n            return;\n          }\n          if (!data[cat]) {\n            data[cat] = Array(series.length).fill(\"\");\n          }\n          data[cat][sI] = getFormattedValue(value);\n          categories.add(cat);\n        });\n      });\n      if (columns.length) {\n        rows.push(columns.join(columnDelimiter));\n      }\n      Array.from(categories).sort().forEach(cat => {\n        rows.push([getFormattedCategory(cat), data[cat].join(columnDelimiter)]);\n      });\n    };\n    columns.push(w.config.chart.toolbar.export.csv.headerCategory);\n    if (w.config.chart.type === \"boxPlot\") {\n      columns.push(\"minimum\");\n      columns.push(\"q1\");\n      columns.push(\"median\");\n      columns.push(\"q3\");\n      columns.push(\"maximum\");\n    } else if (w.config.chart.type === \"candlestick\") {\n      columns.push(\"open\");\n      columns.push(\"high\");\n      columns.push(\"low\");\n      columns.push(\"close\");\n    } else if (w.config.chart.type === \"rangeBar\") {\n      columns.push(\"minimum\");\n      columns.push(\"maximum\");\n    } else {\n      series.map((s, sI) => {\n        const sname = (s.name ? s.name : `series-${sI}`) + \"\";\n        if (w.globals.axisCharts) {\n          columns.push(sname.split(columnDelimiter).join(\"\") ? sname.split(columnDelimiter).join(\"\") : `series-${sI}`);\n        }\n      });\n    }\n    if (!w.globals.axisCharts) {\n      columns.push(w.config.chart.toolbar.export.csv.headerValue);\n      rows.push(columns.join(columnDelimiter));\n    }\n    if (!w.globals.allSeriesHasEqualX && w.globals.axisCharts && !w.config.xaxis.categories.length && !w.config.labels.length) {\n      handleUnequalXValues();\n    } else {\n      series.map((s, sI) => {\n        if (w.globals.axisCharts) {\n          handleAxisRowsColumns(s, sI);\n        } else {\n          columns = [];\n          columns.push(getFormattedCategory(w.globals.labels[sI]));\n          columns.push(getFormattedValue(gSeries[sI]));\n          rows.push(columns.join(columnDelimiter));\n        }\n      });\n    }\n    result += rows.join(lineDelimiter);\n    this.triggerDownload(\"data:text/csv; charset=utf-8,\" + encodeURIComponent(universalBOM + result), fileName ? fileName : w.config.chart.toolbar.export.csv.filename, \".csv\");\n  }\n  triggerDownload(href, filename, ext) {\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = href;\n    downloadLink.download = (filename ? filename : this.w.globals.chartID) + ext;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n}\nclass XAxis {\n  constructor(ctx, elgrid) {\n    this.ctx = ctx;\n    this.elgrid = elgrid;\n    this.w = ctx.w;\n    const w = this.w;\n    this.axesUtils = new AxesUtils(ctx);\n    this.xaxisLabels = w.globals.labels.slice();\n    if (w.globals.timescaleLabels.length > 0 && !w.globals.isBarHorizontal) {\n      this.xaxisLabels = w.globals.timescaleLabels.slice();\n    }\n    if (w.config.xaxis.overwriteCategories) {\n      this.xaxisLabels = w.config.xaxis.overwriteCategories;\n    }\n    this.drawnLabels = [];\n    this.drawnLabelsRects = [];\n    if (w.config.xaxis.position === \"top\") {\n      this.offY = 0;\n    } else {\n      this.offY = w.globals.gridHeight;\n    }\n    this.offY = this.offY + w.config.xaxis.axisBorder.offsetY;\n    this.isCategoryBarHorizontal = w.config.chart.type === \"bar\" && w.config.plotOptions.bar.horizontal;\n    this.xaxisFontSize = w.config.xaxis.labels.style.fontSize;\n    this.xaxisFontFamily = w.config.xaxis.labels.style.fontFamily;\n    this.xaxisForeColors = w.config.xaxis.labels.style.colors;\n    this.xaxisBorderWidth = w.config.xaxis.axisBorder.width;\n    if (this.isCategoryBarHorizontal) {\n      this.xaxisBorderWidth = w.config.yaxis[0].axisBorder.width.toString();\n    }\n    if (String(this.xaxisBorderWidth).indexOf(\"%\") > -1) {\n      this.xaxisBorderWidth = w.globals.gridWidth * parseInt(this.xaxisBorderWidth, 10) / 100;\n    } else {\n      this.xaxisBorderWidth = parseInt(this.xaxisBorderWidth, 10);\n    }\n    this.xaxisBorderHeight = w.config.xaxis.axisBorder.height;\n    this.yaxis = w.config.yaxis[0];\n  }\n  drawXaxis() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let elXaxis = graphics.group({\n      class: \"apexcharts-xaxis\",\n      transform: `translate(${w.config.xaxis.offsetX}, ${w.config.xaxis.offsetY})`\n    });\n    let elXaxisTexts = graphics.group({\n      class: \"apexcharts-xaxis-texts-g\",\n      transform: `translate(${w.globals.translateXAxisX}, ${w.globals.translateXAxisY})`\n    });\n    elXaxis.add(elXaxisTexts);\n    let labels = [];\n    for (let i = 0; i < this.xaxisLabels.length; i++) {\n      labels.push(this.xaxisLabels[i]);\n    }\n    this.drawXAxisLabelAndGroup(true, graphics, elXaxisTexts, labels, w.globals.isXNumeric, (i, colWidth) => colWidth);\n    if (w.globals.hasXaxisGroups) {\n      let labelsGroup = w.globals.groups;\n      labels = [];\n      for (let i = 0; i < labelsGroup.length; i++) {\n        labels.push(labelsGroup[i].title);\n      }\n      let overwriteStyles = {};\n      if (w.config.xaxis.group.style) {\n        overwriteStyles.xaxisFontSize = w.config.xaxis.group.style.fontSize;\n        overwriteStyles.xaxisFontFamily = w.config.xaxis.group.style.fontFamily;\n        overwriteStyles.xaxisForeColors = w.config.xaxis.group.style.colors;\n        overwriteStyles.fontWeight = w.config.xaxis.group.style.fontWeight;\n        overwriteStyles.cssClass = w.config.xaxis.group.style.cssClass;\n      }\n      this.drawXAxisLabelAndGroup(false, graphics, elXaxisTexts, labels, false, (i, colWidth) => labelsGroup[i].cols * colWidth, overwriteStyles);\n    }\n    if (w.config.xaxis.title.text !== void 0) {\n      let elXaxisTitle = graphics.group({\n        class: \"apexcharts-xaxis-title\"\n      });\n      let elXAxisTitleText = graphics.drawText({\n        x: w.globals.gridWidth / 2 + w.config.xaxis.title.offsetX,\n        y: this.offY + parseFloat(this.xaxisFontSize) + (w.config.xaxis.position === \"bottom\" ? w.globals.xAxisLabelsHeight : -w.globals.xAxisLabelsHeight - 10) + w.config.xaxis.title.offsetY,\n        text: w.config.xaxis.title.text,\n        textAnchor: \"middle\",\n        fontSize: w.config.xaxis.title.style.fontSize,\n        fontFamily: w.config.xaxis.title.style.fontFamily,\n        fontWeight: w.config.xaxis.title.style.fontWeight,\n        foreColor: w.config.xaxis.title.style.color,\n        cssClass: \"apexcharts-xaxis-title-text \" + w.config.xaxis.title.style.cssClass\n      });\n      elXaxisTitle.add(elXAxisTitleText);\n      elXaxis.add(elXaxisTitle);\n    }\n    if (w.config.xaxis.axisBorder.show) {\n      const offX = w.globals.barPadForNumericAxis;\n      let elHorzLine = graphics.drawLine(w.globals.padHorizontal + w.config.xaxis.axisBorder.offsetX - offX, this.offY, this.xaxisBorderWidth + offX, this.offY, w.config.xaxis.axisBorder.color, 0, this.xaxisBorderHeight);\n      if (this.elgrid && this.elgrid.elGridBorders && w.config.grid.show) {\n        this.elgrid.elGridBorders.add(elHorzLine);\n      } else {\n        elXaxis.add(elHorzLine);\n      }\n    }\n    return elXaxis;\n  }\n  drawXAxisLabelAndGroup(isLeafGroup, graphics, elXaxisTexts, labels, isXNumeric, colWidthCb, overwriteStyles = {}) {\n    let drawnLabels = [];\n    let drawnLabelsRects = [];\n    let w = this.w;\n    const xaxisFontSize = overwriteStyles.xaxisFontSize || this.xaxisFontSize;\n    const xaxisFontFamily = overwriteStyles.xaxisFontFamily || this.xaxisFontFamily;\n    const xaxisForeColors = overwriteStyles.xaxisForeColors || this.xaxisForeColors;\n    const fontWeight = overwriteStyles.fontWeight || w.config.xaxis.labels.style.fontWeight;\n    const cssClass = overwriteStyles.cssClass || w.config.xaxis.labels.style.cssClass;\n    let colWidth;\n    let xPos = w.globals.padHorizontal;\n    let labelsLen = labels.length;\n    let dataPoints = w.config.xaxis.type === \"category\" ? w.globals.dataPoints : labelsLen;\n    if (dataPoints === 0 && labelsLen > dataPoints) dataPoints = labelsLen;\n    if (isXNumeric) {\n      let len = Math.max(Number(w.config.xaxis.tickAmount) || 1, dataPoints > 1 ? dataPoints - 1 : dataPoints);\n      colWidth = w.globals.gridWidth / Math.min(len, labelsLen - 1);\n      xPos = xPos + colWidthCb(0, colWidth) / 2 + w.config.xaxis.labels.offsetX;\n    } else {\n      colWidth = w.globals.gridWidth / dataPoints;\n      xPos = xPos + colWidthCb(0, colWidth) + w.config.xaxis.labels.offsetX;\n    }\n    for (let i = 0; i <= labelsLen - 1; i++) {\n      let x = xPos - colWidthCb(i, colWidth) / 2 + w.config.xaxis.labels.offsetX;\n      if (i === 0 && labelsLen === 1 && colWidth / 2 === xPos && dataPoints === 1) {\n        x = w.globals.gridWidth / 2;\n      }\n      let label = this.axesUtils.getLabel(labels, w.globals.timescaleLabels, x, i, drawnLabels, xaxisFontSize, isLeafGroup);\n      let offsetYCorrection = 28;\n      if (w.globals.rotateXLabels && isLeafGroup) {\n        offsetYCorrection = 22;\n      }\n      if (w.config.xaxis.title.text && w.config.xaxis.position === \"top\") {\n        offsetYCorrection += parseFloat(w.config.xaxis.title.style.fontSize) + 2;\n      }\n      if (!isLeafGroup) {\n        offsetYCorrection = offsetYCorrection + parseFloat(xaxisFontSize) + (w.globals.xAxisLabelsHeight - w.globals.xAxisGroupLabelsHeight) + (w.globals.rotateXLabels ? 10 : 0);\n      }\n      const isCategoryTickAmounts = typeof w.config.xaxis.tickAmount !== \"undefined\" && w.config.xaxis.tickAmount !== \"dataPoints\" && w.config.xaxis.type !== \"datetime\";\n      if (isCategoryTickAmounts) {\n        label = this.axesUtils.checkLabelBasedOnTickamount(i, label, labelsLen);\n      } else {\n        label = this.axesUtils.checkForOverflowingLabels(i, label, labelsLen, drawnLabels, drawnLabelsRects);\n      }\n      const getCatForeColor = () => {\n        return isLeafGroup && w.config.xaxis.convertedCatToNumeric ? xaxisForeColors[w.globals.minX + i - 1] : xaxisForeColors[i];\n      };\n      if (w.config.xaxis.labels.show) {\n        let elText = graphics.drawText({\n          x: label.x,\n          y: this.offY + w.config.xaxis.labels.offsetY + offsetYCorrection - (w.config.xaxis.position === \"top\" ? w.globals.xAxisHeight + w.config.xaxis.axisTicks.height - 2 : 0),\n          text: label.text,\n          textAnchor: \"middle\",\n          fontWeight: label.isBold ? 600 : fontWeight,\n          fontSize: xaxisFontSize,\n          fontFamily: xaxisFontFamily,\n          foreColor: Array.isArray(xaxisForeColors) ? getCatForeColor() : xaxisForeColors,\n          isPlainText: false,\n          cssClass: (isLeafGroup ? \"apexcharts-xaxis-label \" : \"apexcharts-xaxis-group-label \") + cssClass\n        });\n        elXaxisTexts.add(elText);\n        elText.on(\"click\", e => {\n          if (typeof w.config.chart.events.xAxisLabelClick === \"function\") {\n            const opts = Object.assign({}, w, {\n              labelIndex: i\n            });\n            w.config.chart.events.xAxisLabelClick(e, this.ctx, opts);\n          }\n        });\n        if (isLeafGroup) {\n          let elTooltipTitle = document.createElementNS(w.globals.SVGNS, \"title\");\n          elTooltipTitle.textContent = Array.isArray(label.text) ? label.text.join(\" \") : label.text;\n          elText.node.appendChild(elTooltipTitle);\n          if (label.text !== \"\") {\n            drawnLabels.push(label.text);\n            drawnLabelsRects.push(label);\n          }\n        }\n      }\n      if (i < labelsLen - 1) {\n        xPos = xPos + colWidthCb(i + 1, colWidth);\n      }\n    }\n  }\n  // this actually becomes the vertical axis (for bar charts)\n  drawXaxisInversed(realIndex) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let translateYAxisX = w.config.yaxis[0].opposite ? w.globals.translateYAxisX[realIndex] : 0;\n    let elYaxis = graphics.group({\n      class: \"apexcharts-yaxis apexcharts-xaxis-inversed\",\n      rel: realIndex\n    });\n    let elYaxisTexts = graphics.group({\n      class: \"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g\",\n      transform: \"translate(\" + translateYAxisX + \", 0)\"\n    });\n    elYaxis.add(elYaxisTexts);\n    let colHeight;\n    let yPos;\n    let labels = [];\n    if (w.config.yaxis[realIndex].show) {\n      for (let i = 0; i < this.xaxisLabels.length; i++) {\n        labels.push(this.xaxisLabels[i]);\n      }\n    }\n    colHeight = w.globals.gridHeight / labels.length;\n    yPos = -(colHeight / 2.2);\n    let lbFormatter = w.globals.yLabelFormatters[0];\n    const ylabels = w.config.yaxis[0].labels;\n    if (ylabels.show) {\n      for (let i = 0; i <= labels.length - 1; i++) {\n        let label = typeof labels[i] === \"undefined\" ? \"\" : labels[i];\n        label = lbFormatter(label, {\n          seriesIndex: realIndex,\n          dataPointIndex: i,\n          w\n        });\n        const yColors = this.axesUtils.getYAxisForeColor(ylabels.style.colors, realIndex);\n        const getForeColor = () => {\n          return Array.isArray(yColors) ? yColors[i] : yColors;\n        };\n        let multiY = 0;\n        if (Array.isArray(label)) {\n          multiY = label.length / 2 * parseInt(ylabels.style.fontSize, 10);\n        }\n        let offsetX = ylabels.offsetX - 15;\n        let textAnchor = \"end\";\n        if (this.yaxis.opposite) {\n          textAnchor = \"start\";\n        }\n        if (w.config.yaxis[0].labels.align === \"left\") {\n          offsetX = ylabels.offsetX;\n          textAnchor = \"start\";\n        } else if (w.config.yaxis[0].labels.align === \"center\") {\n          offsetX = ylabels.offsetX;\n          textAnchor = \"middle\";\n        } else if (w.config.yaxis[0].labels.align === \"right\") {\n          textAnchor = \"end\";\n        }\n        let elLabel = graphics.drawText({\n          x: offsetX,\n          y: yPos + colHeight + ylabels.offsetY - multiY,\n          text: label,\n          textAnchor,\n          foreColor: getForeColor(),\n          fontSize: ylabels.style.fontSize,\n          fontFamily: ylabels.style.fontFamily,\n          fontWeight: ylabels.style.fontWeight,\n          isPlainText: false,\n          cssClass: \"apexcharts-yaxis-label \" + ylabels.style.cssClass,\n          maxWidth: ylabels.maxWidth\n        });\n        elYaxisTexts.add(elLabel);\n        elLabel.on(\"click\", e => {\n          if (typeof w.config.chart.events.xAxisLabelClick === \"function\") {\n            const opts = Object.assign({}, w, {\n              labelIndex: i\n            });\n            w.config.chart.events.xAxisLabelClick(e, this.ctx, opts);\n          }\n        });\n        let elTooltipTitle = document.createElementNS(w.globals.SVGNS, \"title\");\n        elTooltipTitle.textContent = Array.isArray(label) ? label.join(\" \") : label;\n        elLabel.node.appendChild(elTooltipTitle);\n        if (w.config.yaxis[realIndex].labels.rotate !== 0) {\n          let labelRotatingCenter = graphics.rotateAroundCenter(elLabel.node);\n          elLabel.node.setAttribute(\"transform\", `rotate(${w.config.yaxis[realIndex].labels.rotate} 0 ${labelRotatingCenter.y})`);\n        }\n        yPos = yPos + colHeight;\n      }\n    }\n    if (w.config.yaxis[0].title.text !== void 0) {\n      let elXaxisTitle = graphics.group({\n        class: \"apexcharts-yaxis-title apexcharts-xaxis-title-inversed\",\n        transform: \"translate(\" + translateYAxisX + \", 0)\"\n      });\n      let elXAxisTitleText = graphics.drawText({\n        x: w.config.yaxis[0].title.offsetX,\n        y: w.globals.gridHeight / 2 + w.config.yaxis[0].title.offsetY,\n        text: w.config.yaxis[0].title.text,\n        textAnchor: \"middle\",\n        foreColor: w.config.yaxis[0].title.style.color,\n        fontSize: w.config.yaxis[0].title.style.fontSize,\n        fontWeight: w.config.yaxis[0].title.style.fontWeight,\n        fontFamily: w.config.yaxis[0].title.style.fontFamily,\n        cssClass: \"apexcharts-yaxis-title-text \" + w.config.yaxis[0].title.style.cssClass\n      });\n      elXaxisTitle.add(elXAxisTitleText);\n      elYaxis.add(elXaxisTitle);\n    }\n    let offX = 0;\n    if (this.isCategoryBarHorizontal && w.config.yaxis[0].opposite) {\n      offX = w.globals.gridWidth;\n    }\n    const axisBorder = w.config.xaxis.axisBorder;\n    if (axisBorder.show) {\n      let elVerticalLine = graphics.drawLine(w.globals.padHorizontal + axisBorder.offsetX + offX, 1 + axisBorder.offsetY, w.globals.padHorizontal + axisBorder.offsetX + offX, w.globals.gridHeight + axisBorder.offsetY, axisBorder.color, 0);\n      if (this.elgrid && this.elgrid.elGridBorders && w.config.grid.show) {\n        this.elgrid.elGridBorders.add(elVerticalLine);\n      } else {\n        elYaxis.add(elVerticalLine);\n      }\n    }\n    if (w.config.yaxis[0].axisTicks.show) {\n      this.axesUtils.drawYAxisTicks(offX, labels.length, w.config.yaxis[0].axisBorder, w.config.yaxis[0].axisTicks, 0, colHeight, elYaxis);\n    }\n    return elYaxis;\n  }\n  drawXaxisTicks(x1, y2, appendToElement) {\n    let w = this.w;\n    let x2 = x1;\n    if (x1 < 0 || x1 - 2 > w.globals.gridWidth) return;\n    let y1 = this.offY + w.config.xaxis.axisTicks.offsetY;\n    y2 = y2 + y1 + w.config.xaxis.axisTicks.height;\n    if (w.config.xaxis.position === \"top\") {\n      y2 = y1 - w.config.xaxis.axisTicks.height;\n    }\n    if (w.config.xaxis.axisTicks.show) {\n      let graphics = new Graphics(this.ctx);\n      let line = graphics.drawLine(x1 + w.config.xaxis.axisTicks.offsetX, y1 + w.config.xaxis.offsetY, x2 + w.config.xaxis.axisTicks.offsetX, y2 + w.config.xaxis.offsetY, w.config.xaxis.axisTicks.color);\n      appendToElement.add(line);\n      line.node.classList.add(\"apexcharts-xaxis-tick\");\n    }\n  }\n  getXAxisTicksPositions() {\n    const w = this.w;\n    let xAxisTicksPositions = [];\n    const xCount = this.xaxisLabels.length;\n    let x1 = w.globals.padHorizontal;\n    if (w.globals.timescaleLabels.length > 0) {\n      for (let i = 0; i < xCount; i++) {\n        x1 = this.xaxisLabels[i].position;\n        xAxisTicksPositions.push(x1);\n      }\n    } else {\n      let xCountForCategoryCharts = xCount;\n      for (let i = 0; i < xCountForCategoryCharts; i++) {\n        let x1Count = xCountForCategoryCharts;\n        if (w.globals.isXNumeric && w.config.chart.type !== \"bar\") {\n          x1Count -= 1;\n        }\n        x1 = x1 + w.globals.gridWidth / x1Count;\n        xAxisTicksPositions.push(x1);\n      }\n    }\n    return xAxisTicksPositions;\n  }\n  // to rotate x-axis labels or to put ... for longer text in xaxis\n  xAxisLabelCorrections() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let xAxis = w.globals.dom.baseEl.querySelector(\".apexcharts-xaxis-texts-g\");\n    let xAxisTexts = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)\");\n    let yAxisTextsInversed = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-yaxis-inversed text\");\n    let xAxisTextsInversed = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-xaxis-inversed-texts-g text tspan\");\n    if (w.globals.rotateXLabels || w.config.xaxis.labels.rotateAlways) {\n      for (let xat = 0; xat < xAxisTexts.length; xat++) {\n        let textRotatingCenter = graphics.rotateAroundCenter(xAxisTexts[xat]);\n        textRotatingCenter.y = textRotatingCenter.y - 1;\n        textRotatingCenter.x = textRotatingCenter.x + 1;\n        xAxisTexts[xat].setAttribute(\"transform\", `rotate(${w.config.xaxis.labels.rotate} ${textRotatingCenter.x} ${textRotatingCenter.y})`);\n        xAxisTexts[xat].setAttribute(\"text-anchor\", `end`);\n        xAxis.setAttribute(\"transform\", `translate(0, ${-10})`);\n        let tSpan = xAxisTexts[xat].childNodes;\n        if (w.config.xaxis.labels.trim) {\n          Array.prototype.forEach.call(tSpan, ts => {\n            graphics.placeTextWithEllipsis(ts, ts.textContent, w.globals.xAxisLabelsHeight - (w.config.legend.position === \"bottom\" ? 20 : 10));\n          });\n        }\n      }\n    } else {\n      let width = w.globals.gridWidth / (w.globals.labels.length + 1);\n      for (let xat = 0; xat < xAxisTexts.length; xat++) {\n        let tSpan = xAxisTexts[xat].childNodes;\n        if (w.config.xaxis.labels.trim && w.config.xaxis.type !== \"datetime\") {\n          Array.prototype.forEach.call(tSpan, ts => {\n            graphics.placeTextWithEllipsis(ts, ts.textContent, width);\n          });\n        }\n      }\n    }\n    if (yAxisTextsInversed.length > 0) {\n      let firstLabelPosX = yAxisTextsInversed[yAxisTextsInversed.length - 1].getBBox();\n      let lastLabelPosX = yAxisTextsInversed[0].getBBox();\n      if (firstLabelPosX.x < -20) {\n        yAxisTextsInversed[yAxisTextsInversed.length - 1].parentNode.removeChild(yAxisTextsInversed[yAxisTextsInversed.length - 1]);\n      }\n      if (lastLabelPosX.x + lastLabelPosX.width > w.globals.gridWidth && !w.globals.isBarHorizontal) {\n        yAxisTextsInversed[0].parentNode.removeChild(yAxisTextsInversed[0]);\n      }\n      for (let xat = 0; xat < xAxisTextsInversed.length; xat++) {\n        graphics.placeTextWithEllipsis(xAxisTextsInversed[xat], xAxisTextsInversed[xat].textContent, w.config.yaxis[0].labels.maxWidth - (w.config.yaxis[0].title.text ? parseFloat(w.config.yaxis[0].title.style.fontSize) * 2 : 0) - 15);\n      }\n    }\n  }\n  // renderXAxisBands() {\n  //   let w = this.w;\n  //   let plotBand = document.createElementNS(w.globals.SVGNS, 'rect')\n  //   w.globals.dom.elGraphical.add(plotBand)\n  // }\n}\nclass Grid {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.xaxisLabels = w.globals.labels.slice();\n    this.axesUtils = new AxesUtils(ctx);\n    this.isRangeBar = w.globals.seriesRange.length && w.globals.isBarHorizontal;\n    if (w.globals.timescaleLabels.length > 0) {\n      this.xaxisLabels = w.globals.timescaleLabels.slice();\n    }\n  }\n  drawGridArea(elGrid = null) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    if (!elGrid) {\n      elGrid = graphics.group({\n        class: \"apexcharts-grid\"\n      });\n    }\n    const elVerticalLine = graphics.drawLine(w.globals.padHorizontal, 1, w.globals.padHorizontal, w.globals.gridHeight, \"transparent\");\n    const elHorzLine = graphics.drawLine(w.globals.padHorizontal, w.globals.gridHeight, w.globals.gridWidth, w.globals.gridHeight, \"transparent\");\n    elGrid.add(elHorzLine);\n    elGrid.add(elVerticalLine);\n    return elGrid;\n  }\n  drawGrid() {\n    const gl = this.w.globals;\n    if (gl.axisCharts) {\n      const elgrid = this.renderGrid();\n      this.drawGridArea(elgrid.el);\n      return elgrid;\n    }\n    return null;\n  }\n  createGridMask() {\n    const w = this.w;\n    const gl = w.globals;\n    const graphics = new Graphics(this.ctx);\n    const strokeSize = Array.isArray(w.config.stroke.width) ? Math.max(...w.config.stroke.width) : w.config.stroke.width;\n    const createClipPath = id => {\n      const clipPath = document.createElementNS(gl.SVGNS, \"clipPath\");\n      clipPath.setAttribute(\"id\", id);\n      return clipPath;\n    };\n    gl.dom.elGridRectMask = createClipPath(`gridRectMask${gl.cuid}`);\n    gl.dom.elGridRectBarMask = createClipPath(`gridRectBarMask${gl.cuid}`);\n    gl.dom.elGridRectMarkerMask = createClipPath(`gridRectMarkerMask${gl.cuid}`);\n    gl.dom.elForecastMask = createClipPath(`forecastMask${gl.cuid}`);\n    gl.dom.elNonForecastMask = createClipPath(`nonForecastMask${gl.cuid}`);\n    const hasBar = [\"bar\", \"rangeBar\", \"candlestick\", \"boxPlot\"].includes(w.config.chart.type) || w.globals.comboBarCount > 0;\n    let barWidthLeft = 0;\n    let barWidthRight = 0;\n    if (hasBar && w.globals.isXNumeric && !w.globals.isBarHorizontal) {\n      barWidthLeft = Math.max(w.config.grid.padding.left, gl.barPadForNumericAxis);\n      barWidthRight = Math.max(w.config.grid.padding.right, gl.barPadForNumericAxis);\n    }\n    gl.dom.elGridRect = graphics.drawRect(-strokeSize / 2 - 2, -strokeSize / 2 - 2, gl.gridWidth + strokeSize + 4, gl.gridHeight + strokeSize + 4, 0, \"#fff\");\n    gl.dom.elGridRectBar = graphics.drawRect(-strokeSize / 2 - barWidthLeft - 2, -strokeSize / 2 - 2, gl.gridWidth + strokeSize + barWidthRight + barWidthLeft + 4, gl.gridHeight + strokeSize + 4, 0, \"#fff\");\n    const markerSize = w.globals.markers.largestSize;\n    gl.dom.elGridRectMarker = graphics.drawRect(Math.min(-strokeSize / 2 - barWidthLeft - 2, -markerSize), -markerSize, gl.gridWidth + Math.max(strokeSize + barWidthRight + barWidthLeft + 4, markerSize * 2), gl.gridHeight + markerSize * 2, 0, \"#fff\");\n    gl.dom.elGridRectMask.appendChild(gl.dom.elGridRect.node);\n    gl.dom.elGridRectBarMask.appendChild(gl.dom.elGridRectBar.node);\n    gl.dom.elGridRectMarkerMask.appendChild(gl.dom.elGridRectMarker.node);\n    const defs = gl.dom.baseEl.querySelector(\"defs\");\n    defs.appendChild(gl.dom.elGridRectMask);\n    defs.appendChild(gl.dom.elGridRectBarMask);\n    defs.appendChild(gl.dom.elGridRectMarkerMask);\n    defs.appendChild(gl.dom.elForecastMask);\n    defs.appendChild(gl.dom.elNonForecastMask);\n  }\n  _drawGridLines({\n    i,\n    x1,\n    y1,\n    x2,\n    y2,\n    xCount,\n    parent\n  }) {\n    const w = this.w;\n    const shouldDraw = () => {\n      if (i === 0 && w.globals.skipFirstTimelinelabel) return false;\n      if (i === xCount - 1 && w.globals.skipLastTimelinelabel && !w.config.xaxis.labels.formatter) return false;\n      if (w.config.chart.type === \"radar\") return false;\n      return true;\n    };\n    if (shouldDraw()) {\n      if (w.config.grid.xaxis.lines.show) {\n        this._drawGridLine({\n          i,\n          x1,\n          y1,\n          x2,\n          y2,\n          xCount,\n          parent\n        });\n      }\n      let y_2 = 0;\n      if (w.globals.hasXaxisGroups && w.config.xaxis.tickPlacement === \"between\") {\n        const groups = w.globals.groups;\n        if (groups) {\n          let gacc = 0;\n          for (let gi = 0; gacc < i && gi < groups.length; gi++) {\n            gacc += groups[gi].cols;\n          }\n          if (gacc === i) {\n            y_2 = w.globals.xAxisLabelsHeight * 0.6;\n          }\n        }\n      }\n      const xAxis = new XAxis(this.ctx);\n      xAxis.drawXaxisTicks(x1, y_2, w.globals.dom.elGraphical);\n    }\n  }\n  _drawGridLine({\n    i,\n    x1,\n    y1,\n    x2,\n    y2,\n    xCount,\n    parent\n  }) {\n    const w = this.w;\n    const isHorzLine = parent.node.classList.contains(\"apexcharts-gridlines-horizontal\");\n    const offX = w.globals.barPadForNumericAxis;\n    const excludeBorders = y1 === 0 && y2 === 0 || x1 === 0 && x2 === 0 || y1 === w.globals.gridHeight && y2 === w.globals.gridHeight || w.globals.isBarHorizontal && (i === 0 || i === xCount - 1);\n    const graphics = new Graphics(this);\n    const line = graphics.drawLine(x1 - (isHorzLine ? offX : 0), y1, x2 + (isHorzLine ? offX : 0), y2, w.config.grid.borderColor, w.config.grid.strokeDashArray);\n    line.node.classList.add(\"apexcharts-gridline\");\n    if (excludeBorders && w.config.grid.show) {\n      this.elGridBorders.add(line);\n    } else {\n      parent.add(line);\n    }\n  }\n  _drawGridBandRect({\n    c,\n    x1,\n    y1,\n    x2,\n    y2,\n    type\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const offX = w.globals.barPadForNumericAxis;\n    const color = w.config.grid[type].colors[c];\n    const rect = graphics.drawRect(x1 - (type === \"row\" ? offX : 0), y1, x2 + (type === \"row\" ? offX * 2 : 0), y2, 0, color, w.config.grid[type].opacity);\n    this.elg.add(rect);\n    rect.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n    rect.node.classList.add(`apexcharts-grid-${type}`);\n  }\n  _drawXYLines({\n    xCount,\n    tickAmount\n  }) {\n    const w = this.w;\n    const datetimeLines = ({\n      xC,\n      x1,\n      y1,\n      x2,\n      y2\n    }) => {\n      for (let i = 0; i < xC; i++) {\n        x1 = this.xaxisLabels[i].position;\n        x2 = this.xaxisLabels[i].position;\n        this._drawGridLines({\n          i,\n          x1,\n          y1,\n          x2,\n          y2,\n          xCount,\n          parent: this.elgridLinesV\n        });\n      }\n    };\n    const categoryLines = ({\n      xC,\n      x1,\n      y1,\n      x2,\n      y2\n    }) => {\n      for (let i = 0; i < xC + (w.globals.isXNumeric ? 0 : 1); i++) {\n        if (i === 0 && xC === 1 && w.globals.dataPoints === 1) {\n          x1 = w.globals.gridWidth / 2;\n          x2 = x1;\n        }\n        this._drawGridLines({\n          i,\n          x1,\n          y1,\n          x2,\n          y2,\n          xCount,\n          parent: this.elgridLinesV\n        });\n        x1 += w.globals.gridWidth / (w.globals.isXNumeric ? xC - 1 : xC);\n        x2 = x1;\n      }\n    };\n    if (w.config.grid.xaxis.lines.show || w.config.xaxis.axisTicks.show) {\n      let x1 = w.globals.padHorizontal;\n      let y1 = 0;\n      let x2;\n      let y2 = w.globals.gridHeight;\n      if (w.globals.timescaleLabels.length) {\n        datetimeLines({\n          xC: xCount,\n          x1,\n          y1,\n          x2,\n          y2\n        });\n      } else {\n        if (w.globals.isXNumeric) {\n          xCount = w.globals.xAxisScale.result.length;\n        }\n        categoryLines({\n          xC: xCount,\n          x1,\n          y1,\n          x2,\n          y2\n        });\n      }\n    }\n    if (w.config.grid.yaxis.lines.show) {\n      let x1 = 0;\n      let y1 = 0;\n      let y2 = 0;\n      let x2 = w.globals.gridWidth;\n      let tA = tickAmount + 1;\n      if (this.isRangeBar) {\n        tA = w.globals.labels.length;\n      }\n      for (let i = 0; i < tA + (this.isRangeBar ? 1 : 0); i++) {\n        this._drawGridLine({\n          i,\n          xCount: tA + (this.isRangeBar ? 1 : 0),\n          x1,\n          y1,\n          x2,\n          y2,\n          parent: this.elgridLinesH\n        });\n        y1 += w.globals.gridHeight / (this.isRangeBar ? tA : tickAmount);\n        y2 = y1;\n      }\n    }\n  }\n  _drawInvertedXYLines({\n    xCount\n  }) {\n    const w = this.w;\n    if (w.config.grid.xaxis.lines.show || w.config.xaxis.axisTicks.show) {\n      let x1 = w.globals.padHorizontal;\n      let y1 = 0;\n      let x2;\n      let y2 = w.globals.gridHeight;\n      for (let i = 0; i < xCount + 1; i++) {\n        if (w.config.grid.xaxis.lines.show) {\n          this._drawGridLine({\n            i,\n            xCount: xCount + 1,\n            x1,\n            y1,\n            x2,\n            y2,\n            parent: this.elgridLinesV\n          });\n        }\n        const xAxis = new XAxis(this.ctx);\n        xAxis.drawXaxisTicks(x1, 0, w.globals.dom.elGraphical);\n        x1 += w.globals.gridWidth / xCount;\n        x2 = x1;\n      }\n    }\n    if (w.config.grid.yaxis.lines.show) {\n      let x1 = 0;\n      let y1 = 0;\n      let y2 = 0;\n      let x2 = w.globals.gridWidth;\n      for (let i = 0; i < w.globals.dataPoints + 1; i++) {\n        this._drawGridLine({\n          i,\n          xCount: w.globals.dataPoints + 1,\n          x1,\n          y1,\n          x2,\n          y2,\n          parent: this.elgridLinesH\n        });\n        y1 += w.globals.gridHeight / w.globals.dataPoints;\n        y2 = y1;\n      }\n    }\n  }\n  renderGrid() {\n    var _a, _b, _c;\n    const w = this.w;\n    const gl = w.globals;\n    const graphics = new Graphics(this.ctx);\n    this.elg = graphics.group({\n      class: \"apexcharts-grid\"\n    });\n    this.elgridLinesH = graphics.group({\n      class: \"apexcharts-gridlines-horizontal\"\n    });\n    this.elgridLinesV = graphics.group({\n      class: \"apexcharts-gridlines-vertical\"\n    });\n    this.elGridBorders = graphics.group({\n      class: \"apexcharts-grid-borders\"\n    });\n    this.elg.add(this.elgridLinesH);\n    this.elg.add(this.elgridLinesV);\n    if (!w.config.grid.show) {\n      this.elgridLinesV.hide();\n      this.elgridLinesH.hide();\n      this.elGridBorders.hide();\n    }\n    let gridAxisIndex = 0;\n    while (gridAxisIndex < gl.seriesYAxisMap.length && gl.ignoreYAxisIndexes.includes(gridAxisIndex)) {\n      gridAxisIndex++;\n    }\n    if (gridAxisIndex === gl.seriesYAxisMap.length) {\n      gridAxisIndex = 0;\n    }\n    let yTickAmount = gl.yAxisScale[gridAxisIndex].result.length - 1;\n    let xCount;\n    if (!gl.isBarHorizontal || this.isRangeBar) {\n      xCount = this.xaxisLabels.length;\n      if (this.isRangeBar) {\n        yTickAmount = gl.labels.length;\n        if (w.config.xaxis.tickAmount && w.config.xaxis.labels.formatter) {\n          xCount = w.config.xaxis.tickAmount;\n        }\n        if (((_c = (_b = (_a = gl.yAxisScale) == null ? void 0 : _a[gridAxisIndex]) == null ? void 0 : _b.result) == null ? void 0 : _c.length) > 0 && w.config.xaxis.type !== \"datetime\") {\n          xCount = gl.yAxisScale[gridAxisIndex].result.length - 1;\n        }\n      }\n      this._drawXYLines({\n        xCount,\n        tickAmount: yTickAmount\n      });\n    } else {\n      xCount = yTickAmount;\n      yTickAmount = gl.xTickAmount;\n      this._drawInvertedXYLines({\n        xCount,\n        tickAmount: yTickAmount\n      });\n    }\n    this.drawGridBands(xCount, yTickAmount);\n    return {\n      el: this.elg,\n      elGridBorders: this.elGridBorders,\n      xAxisTickWidth: gl.gridWidth / xCount\n    };\n  }\n  drawGridBands(xCount, tickAmount) {\n    var _a, _b, _c;\n    const w = this.w;\n    const drawBands = (type, count, x1, y1, x2, y2) => {\n      for (let i = 0, c = 0; i < count; i++, c++) {\n        if (c >= w.config.grid[type].colors.length) {\n          c = 0;\n        }\n        this._drawGridBandRect({\n          c,\n          x1,\n          y1,\n          x2,\n          y2,\n          type\n        });\n        y1 += w.globals.gridHeight / tickAmount;\n      }\n    };\n    if (((_a = w.config.grid.row.colors) == null ? void 0 : _a.length) > 0) {\n      drawBands(\"row\", tickAmount, 0, 0, w.globals.gridWidth, w.globals.gridHeight / tickAmount);\n    }\n    if (((_b = w.config.grid.column.colors) == null ? void 0 : _b.length) > 0) {\n      let xc = !w.globals.isBarHorizontal && w.config.xaxis.tickPlacement === \"on\" && (w.config.xaxis.type === \"category\" || w.config.xaxis.convertedCatToNumeric) ? xCount - 1 : xCount;\n      if (w.globals.isXNumeric) {\n        xc = w.globals.xAxisScale.result.length - 1;\n      }\n      let x1 = w.globals.padHorizontal;\n      let y1 = 0;\n      let x2 = w.globals.padHorizontal + w.globals.gridWidth / xc;\n      let y2 = w.globals.gridHeight;\n      for (let i = 0, c = 0; i < xCount; i++, c++) {\n        if (c >= w.config.grid.column.colors.length) {\n          c = 0;\n        }\n        if (w.config.xaxis.type === \"datetime\") {\n          x1 = this.xaxisLabels[i].position;\n          x2 = (((_c = this.xaxisLabels[i + 1]) == null ? void 0 : _c.position) || w.globals.gridWidth) - this.xaxisLabels[i].position;\n        }\n        this._drawGridBandRect({\n          c,\n          x1,\n          y1,\n          x2,\n          y2,\n          type: \"column\"\n        });\n        x1 += w.globals.gridWidth / xc;\n      }\n    }\n  }\n}\nclass Scales {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.coreUtils = new CoreUtils(this.ctx);\n  }\n  // http://stackoverflow.com/questions/326679/choosing-an-attractive-linear-scale-for-a-graphs-y-axis\n  // This routine creates the Y axis values for a graph.\n  niceScale(yMin, yMax, index = 0) {\n    const jsPrecision = 1e-11;\n    const w = this.w;\n    const gl = w.globals;\n    let axisCnf;\n    let maxTicks;\n    let gotMin;\n    let gotMax;\n    if (gl.isBarHorizontal) {\n      axisCnf = w.config.xaxis;\n      maxTicks = Math.max((gl.svgWidth - 100) / 25, 2);\n    } else {\n      axisCnf = w.config.yaxis[index];\n      maxTicks = Math.max((gl.svgHeight - 100) / 15, 2);\n    }\n    if (!Utils$1.isNumber(maxTicks)) {\n      maxTicks = 10;\n    }\n    gotMin = axisCnf.min !== void 0 && axisCnf.min !== null;\n    gotMax = axisCnf.max !== void 0 && axisCnf.min !== null;\n    let gotStepSize = axisCnf.stepSize !== void 0 && axisCnf.stepSize !== null;\n    let gotTickAmount = axisCnf.tickAmount !== void 0 && axisCnf.tickAmount !== null;\n    let ticks = gotTickAmount ? axisCnf.tickAmount : gl.niceScaleDefaultTicks[Math.min(Math.round(maxTicks / 2), gl.niceScaleDefaultTicks.length - 1)];\n    if (gl.isMultipleYAxis && !gotTickAmount && gl.multiAxisTickAmount > 0) {\n      ticks = gl.multiAxisTickAmount;\n      gotTickAmount = true;\n    }\n    if (ticks === \"dataPoints\") {\n      ticks = gl.dataPoints - 1;\n    } else {\n      ticks = Math.abs(Math.round(ticks));\n    }\n    if (yMin === Number.MIN_VALUE && yMax === 0 || !Utils$1.isNumber(yMin) && !Utils$1.isNumber(yMax) || yMin === Number.MIN_VALUE && yMax === -Number.MAX_VALUE) {\n      yMin = Utils$1.isNumber(axisCnf.min) ? axisCnf.min : 0;\n      yMax = Utils$1.isNumber(axisCnf.max) ? axisCnf.max : yMin + ticks;\n      gl.allSeriesCollapsed = false;\n    }\n    if (yMin > yMax) {\n      console.warn(\"axis.min cannot be greater than axis.max: swapping min and max\");\n      let temp = yMax;\n      yMax = yMin;\n      yMin = temp;\n    } else if (yMin === yMax) {\n      yMin = yMin === 0 ? 0 : yMin - 1;\n      yMax = yMax === 0 ? 2 : yMax + 1;\n    }\n    let result = [];\n    if (ticks < 1) {\n      ticks = 1;\n    }\n    let tiks = ticks;\n    let range = Math.abs(yMax - yMin);\n    let proximityRatio = 0.15;\n    if (!gotMin && yMin > 0 && yMin / range < proximityRatio) {\n      yMin = 0;\n      gotMin = true;\n    }\n    if (!gotMax && yMax < 0 && -yMax / range < proximityRatio) {\n      yMax = 0;\n      gotMax = true;\n    }\n    range = Math.abs(yMax - yMin);\n    let stepSize = range / tiks;\n    let niceStep = stepSize;\n    let mag = Math.floor(Math.log10(niceStep));\n    let magPow = Math.pow(10, mag);\n    let magMsd = Math.ceil(niceStep / magPow);\n    magMsd = gl.niceScaleAllowedMagMsd[gl.yValueDecimal === 0 ? 0 : 1][magMsd];\n    niceStep = magMsd * magPow;\n    stepSize = niceStep;\n    if (gl.isBarHorizontal && axisCnf.stepSize && axisCnf.type !== \"datetime\") {\n      stepSize = axisCnf.stepSize;\n      gotStepSize = true;\n    } else if (gotStepSize) {\n      stepSize = axisCnf.stepSize;\n    }\n    if (gotStepSize) {\n      if (axisCnf.forceNiceScale) {\n        let stepMag = Math.floor(Math.log10(stepSize));\n        stepSize *= Math.pow(10, mag - stepMag);\n      }\n    }\n    if (gotMin && gotMax) {\n      let crudeStep = range / tiks;\n      if (gotTickAmount) {\n        if (gotStepSize) {\n          if (Utils$1.mod(range, stepSize) != 0) {\n            let gcdStep = Utils$1.getGCD(stepSize, crudeStep);\n            if (crudeStep / gcdStep < 10) {\n              stepSize = gcdStep;\n            } else {\n              stepSize = crudeStep;\n            }\n          } else {\n            if (Utils$1.mod(stepSize, crudeStep) == 0) {\n              stepSize = crudeStep;\n            } else {\n              crudeStep = stepSize;\n              gotTickAmount = false;\n            }\n          }\n        } else {\n          stepSize = crudeStep;\n        }\n      } else {\n        if (gotStepSize) {\n          if (Utils$1.mod(range, stepSize) == 0) {\n            crudeStep = stepSize;\n          } else {\n            stepSize = crudeStep;\n          }\n        } else {\n          if (Utils$1.mod(range, stepSize) == 0) {\n            crudeStep = stepSize;\n          } else {\n            tiks = Math.ceil(range / stepSize);\n            crudeStep = range / tiks;\n            let gcdStep = Utils$1.getGCD(range, stepSize);\n            if (range / gcdStep < maxTicks) {\n              crudeStep = gcdStep;\n            }\n            stepSize = crudeStep;\n          }\n        }\n      }\n      tiks = Math.round(range / stepSize);\n    } else {\n      if (!gotMin && !gotMax) {\n        if (gl.isMultipleYAxis && gotTickAmount) {\n          let tMin = stepSize * Math.floor(yMin / stepSize);\n          let tMax = tMin + stepSize * tiks;\n          if (tMax < yMax) {\n            stepSize *= 2;\n          }\n          yMin = tMin;\n          tMax = yMax;\n          yMax = yMin + stepSize * tiks;\n          range = Math.abs(yMax - yMin);\n          if (yMin > 0 && yMin < Math.abs(tMax - yMax)) {\n            yMin = 0;\n            yMax = stepSize * tiks;\n          }\n          if (yMax < 0 && -yMax < Math.abs(tMin - yMin)) {\n            yMax = 0;\n            yMin = -stepSize * tiks;\n          }\n        } else {\n          yMin = stepSize * Math.floor(yMin / stepSize);\n          yMax = stepSize * Math.ceil(yMax / stepSize);\n        }\n      } else if (gotMax) {\n        if (gotTickAmount) {\n          yMin = yMax - stepSize * tiks;\n        } else {\n          let yMinPrev = yMin;\n          yMin = stepSize * Math.floor(yMin / stepSize);\n          if (Math.abs(yMax - yMin) / Utils$1.getGCD(range, stepSize) > maxTicks) {\n            yMin = yMax - stepSize * ticks;\n            yMin += stepSize * Math.floor((yMinPrev - yMin) / stepSize);\n          }\n        }\n      } else if (gotMin) {\n        if (gotTickAmount) {\n          yMax = yMin + stepSize * tiks;\n        } else {\n          let yMaxPrev = yMax;\n          yMax = stepSize * Math.ceil(yMax / stepSize);\n          if (Math.abs(yMax - yMin) / Utils$1.getGCD(range, stepSize) > maxTicks) {\n            yMax = yMin + stepSize * ticks;\n            yMax += stepSize * Math.ceil((yMaxPrev - yMax) / stepSize);\n          }\n        }\n      }\n      range = Math.abs(yMax - yMin);\n      stepSize = Utils$1.getGCD(range, stepSize);\n      tiks = Math.round(range / stepSize);\n    }\n    if (!gotTickAmount && !(gotMin || gotMax)) {\n      tiks = Math.ceil((range - jsPrecision) / (stepSize + jsPrecision));\n      if (tiks > 16 && Utils$1.getPrimeFactors(tiks).length < 2) {\n        tiks++;\n      }\n    }\n    if (!gotTickAmount && axisCnf.forceNiceScale && gl.yValueDecimal === 0 && tiks > range) {\n      tiks = range;\n      stepSize = Math.round(range / tiks);\n    }\n    if (tiks > maxTicks && (!(gotTickAmount || gotStepSize) || axisCnf.forceNiceScale)) {\n      let pf = Utils$1.getPrimeFactors(tiks);\n      let last = pf.length - 1;\n      let tt = tiks;\n      reduceLoop: for (var xFactors = 0; xFactors < last; xFactors++) {\n        for (var lowest = 0; lowest <= last - xFactors; lowest++) {\n          let stop = Math.min(lowest + xFactors, last);\n          let t = tt;\n          let div = 1;\n          for (var next = lowest; next <= stop; next++) {\n            div *= pf[next];\n          }\n          t /= div;\n          if (t < maxTicks) {\n            tt = t;\n            break reduceLoop;\n          }\n        }\n      }\n      if (tt === tiks) {\n        stepSize = range;\n      } else {\n        stepSize = range / tt;\n      }\n      tiks = Math.round(range / stepSize);\n    }\n    if (gl.isMultipleYAxis && gl.multiAxisTickAmount == 0 && gl.ignoreYAxisIndexes.indexOf(index) < 0) {\n      gl.multiAxisTickAmount = tiks;\n    }\n    let val = yMin - stepSize;\n    let err = stepSize * jsPrecision;\n    do {\n      val += stepSize;\n      result.push(Utils$1.stripNumber(val, 7));\n    } while (yMax - val > err);\n    return {\n      result,\n      niceMin: result[0],\n      niceMax: result[result.length - 1]\n    };\n  }\n  linearScale(yMin, yMax, ticks = 10, index = 0, step = void 0) {\n    let range = Math.abs(yMax - yMin);\n    let result = [];\n    if (yMin === yMax) {\n      result = [yMin];\n      return {\n        result,\n        niceMin: result[0],\n        niceMax: result[result.length - 1]\n      };\n    }\n    ticks = this._adjustTicksForSmallRange(ticks, index, range);\n    if (ticks === \"dataPoints\") {\n      ticks = this.w.globals.dataPoints - 1;\n    }\n    if (!step) {\n      step = range / ticks;\n    }\n    const MIN_PRECISION = 2;\n    if (step !== 0 && isFinite(step)) {\n      const magnitude = Math.floor(Math.log10(Math.abs(step)));\n      const precision = Math.max(MIN_PRECISION, -magnitude + MIN_PRECISION);\n      const multiplier = Math.pow(10, precision);\n      step = Math.round((step + Number.EPSILON) * multiplier) / multiplier;\n    }\n    if (ticks === Number.MAX_VALUE) {\n      ticks = 5;\n      step = 1;\n    }\n    let v = yMin;\n    while (ticks >= 0) {\n      result.push(v);\n      v = Utils$1.preciseAddition(v, step);\n      ticks -= 1;\n    }\n    return {\n      result,\n      niceMin: result[0],\n      niceMax: result[result.length - 1]\n    };\n  }\n  logarithmicScaleNice(yMin, yMax, base) {\n    if (yMax <= 0) yMax = Math.max(yMin, base);\n    if (yMin <= 0) yMin = Math.min(yMax, base);\n    const logs = [];\n    const logMax = Math.ceil(Math.log(yMax) / Math.log(base) + 1);\n    const logMin = Math.floor(Math.log(yMin) / Math.log(base));\n    for (let i = logMin; i < logMax; i++) {\n      logs.push(Math.pow(base, i));\n    }\n    return {\n      result: logs,\n      niceMin: logs[0],\n      niceMax: logs[logs.length - 1]\n    };\n  }\n  logarithmicScale(yMin, yMax, base) {\n    if (yMax <= 0) yMax = Math.max(yMin, base);\n    if (yMin <= 0) yMin = Math.min(yMax, base);\n    const logs = [];\n    const logMax = Math.log(yMax) / Math.log(base);\n    const logMin = Math.log(yMin) / Math.log(base);\n    const logRange = logMax - logMin;\n    const ticks = Math.round(logRange);\n    const logTickSpacing = logRange / ticks;\n    for (let i = 0, logTick = logMin; i < ticks; i++, logTick += logTickSpacing) {\n      logs.push(Math.pow(base, logTick));\n    }\n    logs.push(Math.pow(base, logMax));\n    return {\n      result: logs,\n      niceMin: yMin,\n      niceMax: yMax\n    };\n  }\n  _adjustTicksForSmallRange(ticks, index, range) {\n    let newTicks = ticks;\n    if (typeof index !== \"undefined\" && this.w.config.yaxis[index].labels.formatter && this.w.config.yaxis[index].tickAmount === void 0) {\n      const formattedVal = Number(this.w.config.yaxis[index].labels.formatter(1));\n      if (Utils$1.isNumber(formattedVal) && this.w.globals.yValueDecimal === 0) {\n        newTicks = Math.ceil(range);\n      }\n    }\n    return newTicks < ticks ? newTicks : ticks;\n  }\n  setYScaleForIndex(index, minY, maxY) {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    let y = gl.isBarHorizontal ? cnf.xaxis : cnf.yaxis[index];\n    if (typeof gl.yAxisScale[index] === \"undefined\") {\n      gl.yAxisScale[index] = [];\n    }\n    let range = Math.abs(maxY - minY);\n    if (y.logarithmic && range <= 5) {\n      gl.invalidLogScale = true;\n    }\n    if (y.logarithmic && range > 5) {\n      gl.allSeriesCollapsed = false;\n      gl.yAxisScale[index] = y.forceNiceScale ? this.logarithmicScaleNice(minY, maxY, y.logBase) : this.logarithmicScale(minY, maxY, y.logBase);\n    } else {\n      if (maxY === -Number.MAX_VALUE || !Utils$1.isNumber(maxY) || minY === Number.MAX_VALUE || !Utils$1.isNumber(minY)) {\n        gl.yAxisScale[index] = this.niceScale(Number.MIN_VALUE, 0, index);\n      } else {\n        gl.allSeriesCollapsed = false;\n        gl.yAxisScale[index] = this.niceScale(minY, maxY, index);\n      }\n    }\n  }\n  setXScale(minX, maxX) {\n    const w = this.w;\n    const gl = w.globals;\n    if (maxX === -Number.MAX_VALUE || !Utils$1.isNumber(maxX)) {\n      gl.xAxisScale = this.linearScale(0, 10, 10);\n    } else {\n      let ticks = gl.xTickAmount;\n      gl.xAxisScale = this.linearScale(minX, maxX, ticks, 0, w.config.xaxis.max === void 0 ? w.config.xaxis.stepSize : void 0);\n    }\n    return gl.xAxisScale;\n  }\n  scaleMultipleYAxes() {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    this.coreUtils.setSeriesYAxisMappings();\n    let axisSeriesMap = gl.seriesYAxisMap;\n    let minYArr = gl.minYArr;\n    let maxYArr = gl.maxYArr;\n    gl.allSeriesCollapsed = true;\n    gl.barGroups = [];\n    axisSeriesMap.forEach((axisSeries, ai) => {\n      let groupNames = [];\n      axisSeries.forEach(as => {\n        var _a;\n        let group = (_a = cnf.series[as]) == null ? void 0 : _a.group;\n        if (groupNames.indexOf(group) < 0) {\n          groupNames.push(group);\n        }\n      });\n      if (axisSeries.length > 0) {\n        let minY = Number.MAX_VALUE;\n        let maxY = -Number.MAX_VALUE;\n        let lowestY = minY;\n        let highestY = maxY;\n        let seriesType;\n        let seriesGroupName;\n        if (cnf.chart.stacked) {\n          let mapSeries = new Array(gl.dataPoints).fill(0);\n          let sumSeries = [];\n          let posSeries = [];\n          let negSeries = [];\n          groupNames.forEach(() => {\n            sumSeries.push(mapSeries.map(() => Number.MIN_VALUE));\n            posSeries.push(mapSeries.map(() => Number.MIN_VALUE));\n            negSeries.push(mapSeries.map(() => Number.MIN_VALUE));\n          });\n          for (let i = 0; i < axisSeries.length; i++) {\n            if (!seriesType && cnf.series[axisSeries[i]].type) {\n              seriesType = cnf.series[axisSeries[i]].type;\n            }\n            let si = axisSeries[i];\n            if (cnf.series[si].group) {\n              seriesGroupName = cnf.series[si].group;\n            } else {\n              seriesGroupName = \"axis-\".concat(ai);\n            }\n            let collapsed = !(gl.collapsedSeriesIndices.indexOf(si) < 0 && gl.ancillaryCollapsedSeriesIndices.indexOf(si) < 0);\n            if (!collapsed) {\n              gl.allSeriesCollapsed = false;\n              groupNames.forEach((gn, gni) => {\n                if (cnf.series[si].group === gn) {\n                  for (let j = 0; j < gl.series[si].length; j++) {\n                    let val = gl.series[si][j];\n                    if (val >= 0) {\n                      posSeries[gni][j] += val;\n                    } else {\n                      negSeries[gni][j] += val;\n                    }\n                    sumSeries[gni][j] += val;\n                    lowestY = Math.min(lowestY, val);\n                    highestY = Math.max(highestY, val);\n                  }\n                }\n              });\n            }\n            if (seriesType === \"bar\" || seriesType === \"column\") {\n              gl.barGroups.push(seriesGroupName);\n            }\n          }\n          if (!seriesType) {\n            seriesType = cnf.chart.type;\n          }\n          if (seriesType === \"bar\" || seriesType === \"column\") {\n            groupNames.forEach((gn, gni) => {\n              minY = Math.min(minY, Math.min.apply(null, negSeries[gni]));\n              maxY = Math.max(maxY, Math.max.apply(null, posSeries[gni]));\n            });\n          } else {\n            groupNames.forEach((gn, gni) => {\n              lowestY = Math.min(lowestY, Math.min.apply(null, sumSeries[gni]));\n              highestY = Math.max(highestY, Math.max.apply(null, sumSeries[gni]));\n            });\n            minY = lowestY;\n            maxY = highestY;\n          }\n          if (minY === Number.MIN_VALUE && maxY === Number.MIN_VALUE) {\n            maxY = -Number.MAX_VALUE;\n          }\n        } else {\n          for (let i = 0; i < axisSeries.length; i++) {\n            let si = axisSeries[i];\n            minY = Math.min(minY, minYArr[si]);\n            maxY = Math.max(maxY, maxYArr[si]);\n            let collapsed = !(gl.collapsedSeriesIndices.indexOf(si) < 0 && gl.ancillaryCollapsedSeriesIndices.indexOf(si) < 0);\n            if (!collapsed) {\n              gl.allSeriesCollapsed = false;\n            }\n          }\n        }\n        if (cnf.yaxis[ai].min !== void 0) {\n          if (typeof cnf.yaxis[ai].min === \"function\") {\n            minY = cnf.yaxis[ai].min(minY);\n          } else {\n            minY = cnf.yaxis[ai].min;\n          }\n        }\n        if (cnf.yaxis[ai].max !== void 0) {\n          if (typeof cnf.yaxis[ai].max === \"function\") {\n            maxY = cnf.yaxis[ai].max(maxY);\n          } else {\n            maxY = cnf.yaxis[ai].max;\n          }\n        }\n        gl.barGroups = gl.barGroups.filter((v, i, a) => a.indexOf(v) === i);\n        this.setYScaleForIndex(ai, minY, maxY);\n        axisSeries.forEach(si => {\n          minYArr[si] = gl.yAxisScale[ai].niceMin;\n          maxYArr[si] = gl.yAxisScale[ai].niceMax;\n        });\n      } else {\n        this.setYScaleForIndex(ai, 0, -Number.MAX_VALUE);\n      }\n    });\n  }\n}\nclass Range {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.scales = new Scales(ctx);\n  }\n  init() {\n    this.setYRange();\n    this.setXRange();\n    this.setZRange();\n  }\n  getMinYMaxY(startingSeriesIndex, lowestY = Number.MAX_VALUE, highestY = -Number.MAX_VALUE, endingSeriesIndex = null) {\n    var _a, _b, _c, _d, _e;\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    let maxY = -Number.MAX_VALUE;\n    let minY = Number.MIN_VALUE;\n    if (endingSeriesIndex === null) {\n      endingSeriesIndex = startingSeriesIndex + 1;\n    }\n    let series = gl.series;\n    let seriesMin = series;\n    let seriesMax = series;\n    if (cnf.chart.type === \"candlestick\") {\n      seriesMin = gl.seriesCandleL;\n      seriesMax = gl.seriesCandleH;\n    } else if (cnf.chart.type === \"boxPlot\") {\n      seriesMin = gl.seriesCandleO;\n      seriesMax = gl.seriesCandleC;\n    } else if (gl.isRangeData) {\n      seriesMin = gl.seriesRangeStart;\n      seriesMax = gl.seriesRangeEnd;\n    }\n    let autoScaleYaxis = false;\n    if (gl.seriesX.length >= endingSeriesIndex) {\n      let brush = (_a = gl.brushSource) == null ? void 0 : _a.w.config.chart.brush;\n      if (cnf.chart.zoom.enabled && cnf.chart.zoom.autoScaleYaxis || (brush == null ? void 0 : brush.enabled) && (brush == null ? void 0 : brush.autoScaleYaxis)) {\n        autoScaleYaxis = true;\n      }\n    }\n    for (let i = startingSeriesIndex; i < endingSeriesIndex; i++) {\n      gl.dataPoints = Math.max(gl.dataPoints, series[i].length);\n      const seriesType = cnf.series[i].type;\n      if (gl.categoryLabels.length) {\n        gl.dataPoints = gl.categoryLabels.filter(label => typeof label !== \"undefined\").length;\n      }\n      if (gl.labels.length && cnf.xaxis.type !== \"datetime\" && gl.series.reduce((a, c) => a + c.length, 0) !== 0) {\n        gl.dataPoints = Math.max(gl.dataPoints, gl.labels.length);\n      }\n      let firstXIndex = 0;\n      let lastXIndex = series[i].length - 1;\n      if (autoScaleYaxis) {\n        if (cnf.xaxis.min) {\n          for (; firstXIndex < lastXIndex && gl.seriesX[i][firstXIndex] < cnf.xaxis.min; firstXIndex++) {}\n        }\n        if (cnf.xaxis.max) {\n          for (; lastXIndex > firstXIndex && gl.seriesX[i][lastXIndex] > cnf.xaxis.max; lastXIndex--) {}\n        }\n      }\n      for (let j = firstXIndex; j <= lastXIndex && j < gl.series[i].length; j++) {\n        let val = series[i][j];\n        if (val !== null && Utils$1.isNumber(val)) {\n          if (typeof ((_b = seriesMax[i]) == null ? void 0 : _b[j]) !== \"undefined\") {\n            maxY = Math.max(maxY, seriesMax[i][j]);\n            lowestY = Math.min(lowestY, seriesMax[i][j]);\n          }\n          if (typeof ((_c = seriesMin[i]) == null ? void 0 : _c[j]) !== \"undefined\") {\n            lowestY = Math.min(lowestY, seriesMin[i][j]);\n            highestY = Math.max(highestY, seriesMin[i][j]);\n          }\n          switch (seriesType) {\n            case \"candlestick\":\n              {\n                if (typeof gl.seriesCandleC[i][j] !== \"undefined\") {\n                  maxY = Math.max(maxY, gl.seriesCandleH[i][j]);\n                  lowestY = Math.min(lowestY, gl.seriesCandleL[i][j]);\n                }\n              }\n              break;\n            case \"boxPlot\":\n              {\n                if (typeof gl.seriesCandleC[i][j] !== \"undefined\") {\n                  maxY = Math.max(maxY, gl.seriesCandleC[i][j]);\n                  lowestY = Math.min(lowestY, gl.seriesCandleO[i][j]);\n                }\n              }\n              break;\n          }\n          if (seriesType && seriesType !== \"candlestick\" && seriesType !== \"boxPlot\" && seriesType !== \"rangeArea\" && seriesType !== \"rangeBar\") {\n            maxY = Math.max(maxY, gl.series[i][j]);\n            lowestY = Math.min(lowestY, gl.series[i][j]);\n          }\n          if (gl.seriesGoals[i] && gl.seriesGoals[i][j] && Array.isArray(gl.seriesGoals[i][j])) {\n            gl.seriesGoals[i][j].forEach(g => {\n              maxY = Math.max(maxY, g.value);\n              lowestY = Math.min(lowestY, g.value);\n            });\n          }\n          highestY = maxY;\n          val = Utils$1.noExponents(val);\n          if (Utils$1.isFloat(val)) {\n            gl.yValueDecimal = Math.max(gl.yValueDecimal, val.toString().split(\".\")[1].length);\n          }\n          if (minY > ((_d = seriesMin[i]) == null ? void 0 : _d[j]) && ((_e = seriesMin[i]) == null ? void 0 : _e[j]) < 0) {\n            minY = seriesMin[i][j];\n          }\n        } else {\n          gl.hasNullValues = true;\n        }\n      }\n      if (seriesType === \"bar\" || seriesType === \"column\") {\n        if (minY < 0 && maxY < 0) {\n          maxY = 0;\n          highestY = Math.max(highestY, 0);\n        }\n        if (minY === Number.MIN_VALUE) {\n          minY = 0;\n          lowestY = Math.min(lowestY, 0);\n        }\n      }\n    }\n    if (cnf.chart.type === \"rangeBar\" && gl.seriesRangeStart.length && gl.isBarHorizontal) {\n      minY = lowestY;\n    }\n    if (cnf.chart.type === \"bar\") {\n      if (minY < 0 && maxY < 0) {\n        maxY = 0;\n      }\n      if (minY === Number.MIN_VALUE) {\n        minY = 0;\n      }\n    }\n    return {\n      minY,\n      maxY,\n      lowestY,\n      highestY\n    };\n  }\n  setYRange() {\n    let gl = this.w.globals;\n    let cnf = this.w.config;\n    gl.maxY = -Number.MAX_VALUE;\n    gl.minY = Number.MIN_VALUE;\n    let lowestYInAllSeries = Number.MAX_VALUE;\n    let minYMaxY;\n    if (gl.isMultipleYAxis) {\n      lowestYInAllSeries = Number.MAX_VALUE;\n      for (let i = 0; i < gl.series.length; i++) {\n        minYMaxY = this.getMinYMaxY(i);\n        gl.minYArr[i] = minYMaxY.lowestY;\n        gl.maxYArr[i] = minYMaxY.highestY;\n        lowestYInAllSeries = Math.min(lowestYInAllSeries, minYMaxY.lowestY);\n      }\n    }\n    minYMaxY = this.getMinYMaxY(0, lowestYInAllSeries, null, gl.series.length);\n    if (cnf.chart.type === \"bar\") {\n      gl.minY = minYMaxY.minY;\n      gl.maxY = minYMaxY.maxY;\n    } else {\n      gl.minY = minYMaxY.lowestY;\n      gl.maxY = minYMaxY.highestY;\n    }\n    lowestYInAllSeries = minYMaxY.lowestY;\n    if (cnf.chart.stacked) {\n      this._setStackedMinMax();\n    }\n    if (cnf.chart.type === \"line\" || cnf.chart.type === \"area\" || cnf.chart.type === \"scatter\" || cnf.chart.type === \"candlestick\" || cnf.chart.type === \"boxPlot\" || cnf.chart.type === \"rangeBar\" && !gl.isBarHorizontal) {\n      if (gl.minY === Number.MIN_VALUE && lowestYInAllSeries !== -Number.MAX_VALUE && lowestYInAllSeries !== gl.maxY) {\n        gl.minY = lowestYInAllSeries;\n      }\n    } else {\n      gl.minY = gl.minY !== Number.MIN_VALUE ? Math.min(minYMaxY.minY, gl.minY) : minYMaxY.minY;\n    }\n    cnf.yaxis.forEach((yaxe, index) => {\n      if (yaxe.max !== void 0) {\n        if (typeof yaxe.max === \"number\") {\n          gl.maxYArr[index] = yaxe.max;\n        } else if (typeof yaxe.max === \"function\") {\n          gl.maxYArr[index] = yaxe.max(gl.isMultipleYAxis ? gl.maxYArr[index] : gl.maxY);\n        }\n        gl.maxY = gl.maxYArr[index];\n      }\n      if (yaxe.min !== void 0) {\n        if (typeof yaxe.min === \"number\") {\n          gl.minYArr[index] = yaxe.min;\n        } else if (typeof yaxe.min === \"function\") {\n          gl.minYArr[index] = yaxe.min(gl.isMultipleYAxis ? gl.minYArr[index] === Number.MIN_VALUE ? 0 : gl.minYArr[index] : gl.minY);\n        }\n        gl.minY = gl.minYArr[index];\n      }\n    });\n    if (gl.isBarHorizontal) {\n      const minmax = [\"min\", \"max\"];\n      minmax.forEach(m => {\n        if (cnf.xaxis[m] !== void 0 && typeof cnf.xaxis[m] === \"number\") {\n          m === \"min\" ? gl.minY = cnf.xaxis[m] : gl.maxY = cnf.xaxis[m];\n        }\n      });\n    }\n    if (gl.isMultipleYAxis) {\n      this.scales.scaleMultipleYAxes();\n      gl.minY = lowestYInAllSeries;\n    } else {\n      this.scales.setYScaleForIndex(0, gl.minY, gl.maxY);\n      gl.minY = gl.yAxisScale[0].niceMin;\n      gl.maxY = gl.yAxisScale[0].niceMax;\n      gl.minYArr[0] = gl.minY;\n      gl.maxYArr[0] = gl.maxY;\n    }\n    gl.barGroups = [];\n    gl.lineGroups = [];\n    gl.areaGroups = [];\n    cnf.series.forEach(s => {\n      let type = s.type || cnf.chart.type;\n      switch (type) {\n        case \"bar\":\n        case \"column\":\n          gl.barGroups.push(s.group);\n          break;\n        case \"line\":\n          gl.lineGroups.push(s.group);\n          break;\n        case \"area\":\n          gl.areaGroups.push(s.group);\n          break;\n      }\n    });\n    gl.barGroups = gl.barGroups.filter((v, i, a) => a.indexOf(v) === i);\n    gl.lineGroups = gl.lineGroups.filter((v, i, a) => a.indexOf(v) === i);\n    gl.areaGroups = gl.areaGroups.filter((v, i, a) => a.indexOf(v) === i);\n    return {\n      minY: gl.minY,\n      maxY: gl.maxY,\n      minYArr: gl.minYArr,\n      maxYArr: gl.maxYArr,\n      yAxisScale: gl.yAxisScale\n    };\n  }\n  setXRange() {\n    let gl = this.w.globals;\n    let cnf = this.w.config;\n    const isXNumeric = cnf.xaxis.type === \"numeric\" || cnf.xaxis.type === \"datetime\" || cnf.xaxis.type === \"category\" && !gl.noLabelsProvided || gl.noLabelsProvided || gl.isXNumeric;\n    const getInitialMinXMaxX = () => {\n      for (let i = 0; i < gl.series.length; i++) {\n        if (gl.labels[i]) {\n          for (let j = 0; j < gl.labels[i].length; j++) {\n            if (gl.labels[i][j] !== null && Utils$1.isNumber(gl.labels[i][j])) {\n              gl.maxX = Math.max(gl.maxX, gl.labels[i][j]);\n              gl.initialMaxX = Math.max(gl.maxX, gl.labels[i][j]);\n              gl.minX = Math.min(gl.minX, gl.labels[i][j]);\n              gl.initialMinX = Math.min(gl.minX, gl.labels[i][j]);\n            }\n          }\n        }\n      }\n    };\n    if (gl.isXNumeric) {\n      getInitialMinXMaxX();\n    }\n    if (gl.noLabelsProvided) {\n      if (cnf.xaxis.categories.length === 0) {\n        gl.maxX = gl.labels[gl.labels.length - 1];\n        gl.initialMaxX = gl.labels[gl.labels.length - 1];\n        gl.minX = 1;\n        gl.initialMinX = 1;\n      }\n    }\n    if (gl.isXNumeric || gl.noLabelsProvided || gl.dataFormatXNumeric) {\n      let ticks = 10;\n      if (cnf.xaxis.tickAmount === void 0) {\n        ticks = Math.round(gl.svgWidth / 150);\n        if (cnf.xaxis.type === \"numeric\" && gl.dataPoints < 30) {\n          ticks = gl.dataPoints - 1;\n        }\n        if (ticks > gl.dataPoints && gl.dataPoints !== 0) {\n          ticks = gl.dataPoints - 1;\n        }\n      } else if (cnf.xaxis.tickAmount === \"dataPoints\") {\n        if (gl.series.length > 1) {\n          ticks = gl.series[gl.maxValsInArrayIndex].length - 1;\n        }\n        if (gl.isXNumeric) {\n          const diff = Math.round(gl.maxX - gl.minX);\n          if (diff < 30) {\n            ticks = diff;\n          }\n        }\n      } else {\n        ticks = cnf.xaxis.tickAmount;\n      }\n      gl.xTickAmount = ticks;\n      if (cnf.xaxis.max !== void 0 && typeof cnf.xaxis.max === \"number\") {\n        gl.maxX = cnf.xaxis.max;\n      }\n      if (cnf.xaxis.min !== void 0 && typeof cnf.xaxis.min === \"number\") {\n        gl.minX = cnf.xaxis.min;\n      }\n      if (cnf.xaxis.range !== void 0) {\n        gl.minX = gl.maxX - cnf.xaxis.range;\n      }\n      if (gl.minX !== Number.MAX_VALUE && gl.maxX !== -Number.MAX_VALUE) {\n        if (cnf.xaxis.convertedCatToNumeric && !gl.dataFormatXNumeric) {\n          let catScale = [];\n          for (let i = gl.minX - 1; i < gl.maxX; i++) {\n            catScale.push(i + 1);\n          }\n          gl.xAxisScale = {\n            result: catScale,\n            niceMin: catScale[0],\n            niceMax: catScale[catScale.length - 1]\n          };\n        } else {\n          gl.xAxisScale = this.scales.setXScale(gl.minX, gl.maxX);\n        }\n      } else {\n        gl.xAxisScale = this.scales.linearScale(0, ticks, ticks, 0, cnf.xaxis.stepSize);\n        if (gl.noLabelsProvided && gl.labels.length > 0) {\n          gl.xAxisScale = this.scales.linearScale(1, gl.labels.length, ticks - 1, 0, cnf.xaxis.stepSize);\n          gl.seriesX = gl.labels.slice();\n        }\n      }\n      if (isXNumeric) {\n        gl.labels = gl.xAxisScale.result.slice();\n      }\n    }\n    if (gl.isBarHorizontal && gl.labels.length) {\n      gl.xTickAmount = gl.labels.length;\n    }\n    this._handleSingleDataPoint();\n    this._getMinXDiff();\n    return {\n      minX: gl.minX,\n      maxX: gl.maxX\n    };\n  }\n  setZRange() {\n    let gl = this.w.globals;\n    if (!gl.isDataXYZ) return;\n    for (let i = 0; i < gl.series.length; i++) {\n      if (typeof gl.seriesZ[i] !== \"undefined\") {\n        for (let j = 0; j < gl.seriesZ[i].length; j++) {\n          if (gl.seriesZ[i][j] !== null && Utils$1.isNumber(gl.seriesZ[i][j])) {\n            gl.maxZ = Math.max(gl.maxZ, gl.seriesZ[i][j]);\n            gl.minZ = Math.min(gl.minZ, gl.seriesZ[i][j]);\n          }\n        }\n      }\n    }\n  }\n  _handleSingleDataPoint() {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    if (gl.minX === gl.maxX) {\n      let datetimeObj = new DateTime(this.ctx);\n      if (cnf.xaxis.type === \"datetime\") {\n        const newMinX = datetimeObj.getDate(gl.minX);\n        if (cnf.xaxis.labels.datetimeUTC) {\n          newMinX.setUTCDate(newMinX.getUTCDate() - 2);\n        } else {\n          newMinX.setDate(newMinX.getDate() - 2);\n        }\n        gl.minX = new Date(newMinX).getTime();\n        const newMaxX = datetimeObj.getDate(gl.maxX);\n        if (cnf.xaxis.labels.datetimeUTC) {\n          newMaxX.setUTCDate(newMaxX.getUTCDate() + 2);\n        } else {\n          newMaxX.setDate(newMaxX.getDate() + 2);\n        }\n        gl.maxX = new Date(newMaxX).getTime();\n      } else if (cnf.xaxis.type === \"numeric\" || cnf.xaxis.type === \"category\" && !gl.noLabelsProvided) {\n        gl.minX = gl.minX - 2;\n        gl.initialMinX = gl.minX;\n        gl.maxX = gl.maxX + 2;\n        gl.initialMaxX = gl.maxX;\n      }\n    }\n  }\n  _getMinXDiff() {\n    const gl = this.w.globals;\n    if (gl.isXNumeric) {\n      gl.seriesX.forEach(sX => {\n        if (sX.length) {\n          if (sX.length === 1) {\n            sX.push(gl.seriesX[gl.maxValsInArrayIndex][gl.seriesX[gl.maxValsInArrayIndex].length - 1]);\n          }\n          const seriesX = sX.slice();\n          seriesX.sort((a, b) => a - b);\n          seriesX.forEach((s, j) => {\n            if (j > 0) {\n              let xDiff = s - seriesX[j - 1];\n              if (xDiff > 0) {\n                gl.minXDiff = Math.min(xDiff, gl.minXDiff);\n              }\n            }\n          });\n          if (gl.dataPoints === 1 || gl.minXDiff === Number.MAX_VALUE) {\n            gl.minXDiff = 0.5;\n          }\n        }\n      });\n    }\n  }\n  _setStackedMinMax() {\n    const gl = this.w.globals;\n    if (!gl.series.length) return;\n    let seriesGroups = gl.seriesGroups;\n    if (!seriesGroups.length) {\n      seriesGroups = [this.w.globals.seriesNames.map(name2 => name2)];\n    }\n    let stackedPoss = {};\n    let stackedNegs = {};\n    seriesGroups.forEach(group => {\n      stackedPoss[group] = [];\n      stackedNegs[group] = [];\n      const indicesOfSeriesInGroup = this.w.config.series.map((serie, si) => group.indexOf(gl.seriesNames[si]) > -1 ? si : null).filter(f => f !== null);\n      indicesOfSeriesInGroup.forEach(i => {\n        var _a, _b, _c, _d;\n        for (let j = 0; j < gl.series[gl.maxValsInArrayIndex].length; j++) {\n          if (typeof stackedPoss[group][j] === \"undefined\") {\n            stackedPoss[group][j] = 0;\n            stackedNegs[group][j] = 0;\n          }\n          let stackSeries = this.w.config.chart.stacked && !gl.comboCharts || this.w.config.chart.stacked && gl.comboCharts && (!this.w.config.chart.stackOnlyBar || ((_b = (_a = this.w.config.series) == null ? void 0 : _a[i]) == null ? void 0 : _b.type) === \"bar\" || ((_d = (_c = this.w.config.series) == null ? void 0 : _c[i]) == null ? void 0 : _d.type) === \"column\");\n          if (stackSeries) {\n            if (gl.series[i][j] !== null && Utils$1.isNumber(gl.series[i][j])) {\n              gl.series[i][j] > 0 ? stackedPoss[group][j] += parseFloat(gl.series[i][j]) + 1e-4 : stackedNegs[group][j] += parseFloat(gl.series[i][j]);\n            }\n          }\n        }\n      });\n    });\n    Object.entries(stackedPoss).forEach(([key]) => {\n      stackedPoss[key].forEach((_, stgi) => {\n        gl.maxY = Math.max(gl.maxY, stackedPoss[key][stgi]);\n        gl.minY = Math.min(gl.minY, stackedNegs[key][stgi]);\n      });\n    });\n  }\n}\nclass YAxis {\n  constructor(ctx, elgrid) {\n    this.ctx = ctx;\n    this.elgrid = elgrid;\n    this.w = ctx.w;\n    const w = this.w;\n    this.xaxisFontSize = w.config.xaxis.labels.style.fontSize;\n    this.axisFontFamily = w.config.xaxis.labels.style.fontFamily;\n    this.xaxisForeColors = w.config.xaxis.labels.style.colors;\n    this.isCategoryBarHorizontal = w.config.chart.type === \"bar\" && w.config.plotOptions.bar.horizontal;\n    this.xAxisoffX = w.config.xaxis.position === \"bottom\" ? w.globals.gridHeight : 0;\n    this.drawnLabels = [];\n    this.axesUtils = new AxesUtils(ctx);\n  }\n  drawYaxis(realIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const yaxisStyle = w.config.yaxis[realIndex].labels.style;\n    const {\n      fontSize: yaxisFontSize,\n      fontFamily: yaxisFontFamily,\n      fontWeight: yaxisFontWeight\n    } = yaxisStyle;\n    const elYaxis = graphics.group({\n      class: \"apexcharts-yaxis\",\n      rel: realIndex,\n      transform: `translate(${w.globals.translateYAxisX[realIndex]}, 0)`\n    });\n    if (this.axesUtils.isYAxisHidden(realIndex)) return elYaxis;\n    const elYaxisTexts = graphics.group({\n      class: \"apexcharts-yaxis-texts-g\"\n    });\n    elYaxis.add(elYaxisTexts);\n    const tickAmount = w.globals.yAxisScale[realIndex].result.length - 1;\n    const labelsDivider = w.globals.gridHeight / tickAmount;\n    const lbFormatter = w.globals.yLabelFormatters[realIndex];\n    let labels = this.axesUtils.checkForReversedLabels(realIndex, w.globals.yAxisScale[realIndex].result.slice());\n    if (w.config.yaxis[realIndex].labels.show) {\n      let lY = w.globals.translateY + w.config.yaxis[realIndex].labels.offsetY;\n      if (w.globals.isBarHorizontal) lY = 0;else if (w.config.chart.type === \"heatmap\") lY -= labelsDivider / 2;\n      lY += parseInt(yaxisFontSize, 10) / 3;\n      let firstLabel = null;\n      for (let i = tickAmount; i >= 0; i--) {\n        let val = lbFormatter(labels[i], i, w);\n        let xPad = w.config.yaxis[realIndex].labels.padding;\n        if (w.config.yaxis[realIndex].opposite && w.config.yaxis.length !== 0) xPad *= -1;\n        const textAnchor = this.getTextAnchor(w.config.yaxis[realIndex].labels.align, w.config.yaxis[realIndex].opposite);\n        const yColors = this.axesUtils.getYAxisForeColor(yaxisStyle.colors, realIndex);\n        const foreColor = Array.isArray(yColors) ? yColors[i] : yColors;\n        const existingYLabels = Utils$1.listToArray(w.globals.dom.baseEl.querySelectorAll(`.apexcharts-yaxis[rel='${realIndex}'] .apexcharts-yaxis-label tspan`)).map(label2 => label2.textContent);\n        const label = graphics.drawText({\n          x: xPad,\n          y: lY,\n          text: existingYLabels.includes(val) && !w.config.yaxis[realIndex].labels.showDuplicates ? \"\" : val,\n          textAnchor,\n          fontSize: yaxisFontSize,\n          fontFamily: yaxisFontFamily,\n          fontWeight: yaxisFontWeight,\n          maxWidth: w.config.yaxis[realIndex].labels.maxWidth,\n          foreColor,\n          isPlainText: false,\n          cssClass: `apexcharts-yaxis-label ${yaxisStyle.cssClass}`\n        });\n        elYaxisTexts.add(label);\n        this.addTooltip(label, val);\n        if (firstLabel === null) {\n          firstLabel = label;\n        }\n        if (w.config.yaxis[realIndex].labels.rotate !== 0) {\n          this.rotateLabel(graphics, label, firstLabel, w.config.yaxis[realIndex].labels.rotate);\n        }\n        lY += labelsDivider;\n      }\n    }\n    this.addYAxisTitle(graphics, elYaxis, realIndex);\n    this.addAxisBorder(graphics, elYaxis, realIndex, tickAmount, labelsDivider);\n    return elYaxis;\n  }\n  getTextAnchor(align, opposite) {\n    if (align === \"left\") return \"start\";\n    if (align === \"center\") return \"middle\";\n    if (align === \"right\") return \"end\";\n    return opposite ? \"start\" : \"end\";\n  }\n  addTooltip(label, val) {\n    const elTooltipTitle = document.createElementNS(this.w.globals.SVGNS, \"title\");\n    elTooltipTitle.textContent = Array.isArray(val) ? val.join(\" \") : val;\n    label.node.appendChild(elTooltipTitle);\n  }\n  rotateLabel(graphics, label, firstLabel, rotate) {\n    const firstLabelCenter = graphics.rotateAroundCenter(firstLabel.node);\n    const labelCenter = graphics.rotateAroundCenter(label.node);\n    label.node.setAttribute(\"transform\", `rotate(${rotate} ${firstLabelCenter.x} ${labelCenter.y})`);\n  }\n  addYAxisTitle(graphics, elYaxis, realIndex) {\n    const w = this.w;\n    if (w.config.yaxis[realIndex].title.text !== void 0) {\n      const elYaxisTitle = graphics.group({\n        class: \"apexcharts-yaxis-title\"\n      });\n      const x = w.config.yaxis[realIndex].opposite ? w.globals.translateYAxisX[realIndex] : 0;\n      const elYAxisTitleText = graphics.drawText({\n        x,\n        y: w.globals.gridHeight / 2 + w.globals.translateY + w.config.yaxis[realIndex].title.offsetY,\n        text: w.config.yaxis[realIndex].title.text,\n        textAnchor: \"end\",\n        foreColor: w.config.yaxis[realIndex].title.style.color,\n        fontSize: w.config.yaxis[realIndex].title.style.fontSize,\n        fontWeight: w.config.yaxis[realIndex].title.style.fontWeight,\n        fontFamily: w.config.yaxis[realIndex].title.style.fontFamily,\n        cssClass: `apexcharts-yaxis-title-text ${w.config.yaxis[realIndex].title.style.cssClass}`\n      });\n      elYaxisTitle.add(elYAxisTitleText);\n      elYaxis.add(elYaxisTitle);\n    }\n  }\n  addAxisBorder(graphics, elYaxis, realIndex, tickAmount, labelsDivider) {\n    const w = this.w;\n    const axisBorder = w.config.yaxis[realIndex].axisBorder;\n    let x = 31 + axisBorder.offsetX;\n    if (w.config.yaxis[realIndex].opposite) x = -31 - axisBorder.offsetX;\n    if (axisBorder.show) {\n      const elVerticalLine = graphics.drawLine(x, w.globals.translateY + axisBorder.offsetY - 2, x, w.globals.gridHeight + w.globals.translateY + axisBorder.offsetY + 2, axisBorder.color, 0, axisBorder.width);\n      elYaxis.add(elVerticalLine);\n    }\n    if (w.config.yaxis[realIndex].axisTicks.show) {\n      this.axesUtils.drawYAxisTicks(x, tickAmount, axisBorder, w.config.yaxis[realIndex].axisTicks, realIndex, labelsDivider, elYaxis);\n    }\n  }\n  drawYaxisInversed(realIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const elXaxis = graphics.group({\n      class: \"apexcharts-xaxis apexcharts-yaxis-inversed\"\n    });\n    const elXaxisTexts = graphics.group({\n      class: \"apexcharts-xaxis-texts-g\",\n      transform: `translate(${w.globals.translateXAxisX}, ${w.globals.translateXAxisY})`\n    });\n    elXaxis.add(elXaxisTexts);\n    let tickAmount = w.globals.yAxisScale[realIndex].result.length - 1;\n    const labelsDivider = w.globals.gridWidth / tickAmount + 0.1;\n    let l = labelsDivider + w.config.xaxis.labels.offsetX;\n    const lbFormatter = w.globals.xLabelFormatter;\n    let labels = this.axesUtils.checkForReversedLabels(realIndex, w.globals.yAxisScale[realIndex].result.slice());\n    const timescaleLabels = w.globals.timescaleLabels;\n    if (timescaleLabels.length > 0) {\n      this.xaxisLabels = timescaleLabels.slice();\n      labels = timescaleLabels.slice();\n      tickAmount = labels.length;\n    }\n    if (w.config.xaxis.labels.show) {\n      for (let i = timescaleLabels.length ? 0 : tickAmount; timescaleLabels.length ? i < timescaleLabels.length : i >= 0; timescaleLabels.length ? i++ : i--) {\n        let val = lbFormatter(labels[i], i, w);\n        let x = w.globals.gridWidth + w.globals.padHorizontal - (l - labelsDivider + w.config.xaxis.labels.offsetX);\n        if (timescaleLabels.length) {\n          const label = this.axesUtils.getLabel(labels, timescaleLabels, x, i, this.drawnLabels, this.xaxisFontSize);\n          x = label.x;\n          val = label.text;\n          this.drawnLabels.push(label.text);\n          if (i === 0 && w.globals.skipFirstTimelinelabel) val = \"\";\n          if (i === labels.length - 1 && w.globals.skipLastTimelinelabel) val = \"\";\n        }\n        const elTick = graphics.drawText({\n          x,\n          y: this.xAxisoffX + w.config.xaxis.labels.offsetY + 30 - (w.config.xaxis.position === \"top\" ? w.globals.xAxisHeight + w.config.xaxis.axisTicks.height - 2 : 0),\n          text: val,\n          textAnchor: \"middle\",\n          foreColor: Array.isArray(this.xaxisForeColors) ? this.xaxisForeColors[realIndex] : this.xaxisForeColors,\n          fontSize: this.xaxisFontSize,\n          fontFamily: this.xaxisFontFamily,\n          fontWeight: w.config.xaxis.labels.style.fontWeight,\n          isPlainText: false,\n          cssClass: `apexcharts-xaxis-label ${w.config.xaxis.labels.style.cssClass}`\n        });\n        elXaxisTexts.add(elTick);\n        this.addTooltip(elTick, val);\n        l += labelsDivider;\n      }\n    }\n    this.inversedYAxisTitleText(elXaxis);\n    this.inversedYAxisBorder(elXaxis);\n    return elXaxis;\n  }\n  inversedYAxisBorder(parent) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const axisBorder = w.config.xaxis.axisBorder;\n    if (axisBorder.show) {\n      let lineCorrection = 0;\n      if (w.config.chart.type === \"bar\" && w.globals.isXNumeric) lineCorrection -= 15;\n      const elHorzLine = graphics.drawLine(w.globals.padHorizontal + lineCorrection + axisBorder.offsetX, this.xAxisoffX, w.globals.gridWidth, this.xAxisoffX, axisBorder.color, 0, axisBorder.height);\n      if (this.elgrid && this.elgrid.elGridBorders && w.config.grid.show) {\n        this.elgrid.elGridBorders.add(elHorzLine);\n      } else {\n        parent.add(elHorzLine);\n      }\n    }\n  }\n  inversedYAxisTitleText(parent) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    if (w.config.xaxis.title.text !== void 0) {\n      const elYaxisTitle = graphics.group({\n        class: \"apexcharts-xaxis-title apexcharts-yaxis-title-inversed\"\n      });\n      const elYAxisTitleText = graphics.drawText({\n        x: w.globals.gridWidth / 2 + w.config.xaxis.title.offsetX,\n        y: this.xAxisoffX + parseFloat(this.xaxisFontSize) + parseFloat(w.config.xaxis.title.style.fontSize) + w.config.xaxis.title.offsetY + 20,\n        text: w.config.xaxis.title.text,\n        textAnchor: \"middle\",\n        fontSize: w.config.xaxis.title.style.fontSize,\n        fontFamily: w.config.xaxis.title.style.fontFamily,\n        fontWeight: w.config.xaxis.title.style.fontWeight,\n        foreColor: w.config.xaxis.title.style.color,\n        cssClass: `apexcharts-xaxis-title-text ${w.config.xaxis.title.style.cssClass}`\n      });\n      elYaxisTitle.add(elYAxisTitleText);\n      parent.add(elYaxisTitle);\n    }\n  }\n  yAxisTitleRotate(realIndex, yAxisOpposite) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const elYAxisLabelsWrap = w.globals.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${realIndex}'] .apexcharts-yaxis-texts-g`);\n    const yAxisLabelsCoord = elYAxisLabelsWrap ? elYAxisLabelsWrap.getBoundingClientRect() : {\n      width: 0,\n      height: 0\n    };\n    const yAxisTitle = w.globals.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${realIndex}'] .apexcharts-yaxis-title text`);\n    const yAxisTitleCoord = yAxisTitle ? yAxisTitle.getBoundingClientRect() : {\n      width: 0,\n      height: 0\n    };\n    if (yAxisTitle) {\n      const x = this.xPaddingForYAxisTitle(realIndex, yAxisLabelsCoord, yAxisTitleCoord, yAxisOpposite);\n      yAxisTitle.setAttribute(\"x\", x.xPos - (yAxisOpposite ? 10 : 0));\n      const titleRotatingCenter = graphics.rotateAroundCenter(yAxisTitle);\n      yAxisTitle.setAttribute(\"transform\", `rotate(${yAxisOpposite ? w.config.yaxis[realIndex].title.rotate * -1 : w.config.yaxis[realIndex].title.rotate} ${titleRotatingCenter.x} ${titleRotatingCenter.y})`);\n    }\n  }\n  xPaddingForYAxisTitle(realIndex, yAxisLabelsCoord, yAxisTitleCoord, yAxisOpposite) {\n    const w = this.w;\n    let x = 0;\n    let padd = 10;\n    if (w.config.yaxis[realIndex].title.text === void 0 || realIndex < 0) {\n      return {\n        xPos: x,\n        padd: 0\n      };\n    }\n    if (yAxisOpposite) {\n      x = yAxisLabelsCoord.width + w.config.yaxis[realIndex].title.offsetX + yAxisTitleCoord.width / 2 + padd / 2;\n    } else {\n      x = yAxisLabelsCoord.width * -1 + w.config.yaxis[realIndex].title.offsetX + padd / 2 + yAxisTitleCoord.width / 2;\n      if (w.globals.isBarHorizontal) {\n        padd = 25;\n        x = yAxisLabelsCoord.width * -1 - w.config.yaxis[realIndex].title.offsetX - padd;\n      }\n    }\n    return {\n      xPos: x,\n      padd\n    };\n  }\n  setYAxisXPosition(yaxisLabelCoords, yTitleCoords) {\n    const w = this.w;\n    let xLeft = 0;\n    let xRight = 0;\n    let leftOffsetX = 18;\n    let rightOffsetX = 1;\n    if (w.config.yaxis.length > 1) this.multipleYs = true;\n    w.config.yaxis.forEach((yaxe, index) => {\n      const shouldNotDrawAxis = w.globals.ignoreYAxisIndexes.includes(index) || !yaxe.show || yaxe.floating || yaxisLabelCoords[index].width === 0;\n      const axisWidth = yaxisLabelCoords[index].width + yTitleCoords[index].width;\n      if (!yaxe.opposite) {\n        xLeft = w.globals.translateX - leftOffsetX;\n        if (!shouldNotDrawAxis) leftOffsetX += axisWidth + 20;\n        w.globals.translateYAxisX[index] = xLeft + yaxe.labels.offsetX;\n      } else {\n        if (w.globals.isBarHorizontal) {\n          xRight = w.globals.gridWidth + w.globals.translateX - 1;\n          w.globals.translateYAxisX[index] = xRight - yaxe.labels.offsetX;\n        } else {\n          xRight = w.globals.gridWidth + w.globals.translateX + rightOffsetX;\n          if (!shouldNotDrawAxis) rightOffsetX += axisWidth + 20;\n          w.globals.translateYAxisX[index] = xRight - yaxe.labels.offsetX + 20;\n        }\n      }\n    });\n  }\n  setYAxisTextAlignments() {\n    const w = this.w;\n    const yaxis = Utils$1.listToArray(w.globals.dom.baseEl.getElementsByClassName(\"apexcharts-yaxis\"));\n    yaxis.forEach((y, index) => {\n      const yaxe = w.config.yaxis[index];\n      if (yaxe && !yaxe.floating && yaxe.labels.align !== void 0) {\n        const yAxisInner = w.globals.dom.baseEl.querySelector(`.apexcharts-yaxis[rel='${index}'] .apexcharts-yaxis-texts-g`);\n        const yAxisTexts = Utils$1.listToArray(w.globals.dom.baseEl.querySelectorAll(`.apexcharts-yaxis[rel='${index}'] .apexcharts-yaxis-label`));\n        const rect = yAxisInner.getBoundingClientRect();\n        yAxisTexts.forEach(label => {\n          label.setAttribute(\"text-anchor\", yaxe.labels.align);\n        });\n        if (yaxe.labels.align === \"left\" && !yaxe.opposite) {\n          yAxisInner.setAttribute(\"transform\", `translate(-${rect.width}, 0)`);\n        } else if (yaxe.labels.align === \"center\") {\n          yAxisInner.setAttribute(\"transform\", `translate(${rect.width / 2 * (!yaxe.opposite ? -1 : 1)}, 0)`);\n        } else if (yaxe.labels.align === \"right\" && yaxe.opposite) {\n          yAxisInner.setAttribute(\"transform\", `translate(${rect.width}, 0)`);\n        }\n      }\n    });\n  }\n}\nclass Events {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.documentEvent = Utils$1.bind(this.documentEvent, this);\n  }\n  addEventListener(name2, handler) {\n    const w = this.w;\n    if (Object.prototype.hasOwnProperty.call(w.globals.events, name2)) {\n      w.globals.events[name2].push(handler);\n    } else {\n      w.globals.events[name2] = [handler];\n    }\n  }\n  removeEventListener(name2, handler) {\n    const w = this.w;\n    if (!Object.prototype.hasOwnProperty.call(w.globals.events, name2)) {\n      return;\n    }\n    let index = w.globals.events[name2].indexOf(handler);\n    if (index !== -1) {\n      w.globals.events[name2].splice(index, 1);\n    }\n  }\n  fireEvent(name2, args) {\n    const w = this.w;\n    if (!Object.prototype.hasOwnProperty.call(w.globals.events, name2)) {\n      return;\n    }\n    if (!args || !args.length) {\n      args = [];\n    }\n    let evs = w.globals.events[name2];\n    let l = evs.length;\n    for (let i = 0; i < l; i++) {\n      evs[i].apply(null, args);\n    }\n  }\n  setupEventHandlers() {\n    const w = this.w;\n    const me = this.ctx;\n    let clickableArea = w.globals.dom.baseEl.querySelector(w.globals.chartClass);\n    this.ctx.eventList.forEach(event => {\n      clickableArea.addEventListener(event, e => {\n        let capturedSeriesIndex = e.target.getAttribute(\"i\") === null && w.globals.capturedSeriesIndex !== -1 ? w.globals.capturedSeriesIndex : e.target.getAttribute(\"i\");\n        let capturedDataPointIndex = e.target.getAttribute(\"j\") === null && w.globals.capturedDataPointIndex !== -1 ? w.globals.capturedDataPointIndex : e.target.getAttribute(\"j\");\n        const opts = Object.assign({}, w, {\n          seriesIndex: w.globals.axisCharts ? capturedSeriesIndex : 0,\n          dataPointIndex: capturedDataPointIndex\n        });\n        if (e.type === \"keydown\") {\n          if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n            if (typeof w.config.chart.events.keyDown === \"function\") {\n              w.config.chart.events.keyDown(e, me, opts);\n            }\n            me.ctx.events.fireEvent(\"keydown\", [e, me, opts]);\n          }\n        } else if (e.type === \"keyup\") {\n          if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n            if (typeof w.config.chart.events.keyUp === \"function\") {\n              w.config.chart.events.keyUp(e, me, opts);\n            }\n            me.ctx.events.fireEvent(\"keyup\", [e, me, opts]);\n          }\n        } else if (e.type === \"mousemove\" || e.type === \"touchmove\") {\n          if (typeof w.config.chart.events.mouseMove === \"function\") {\n            w.config.chart.events.mouseMove(e, me, opts);\n          }\n        } else if (e.type === \"mouseleave\" || e.type === \"touchleave\") {\n          if (typeof w.config.chart.events.mouseLeave === \"function\") {\n            w.config.chart.events.mouseLeave(e, me, opts);\n          }\n        } else if (e.type === \"mouseup\" && e.which === 1 || e.type === \"touchend\") {\n          if (typeof w.config.chart.events.click === \"function\") {\n            w.config.chart.events.click(e, me, opts);\n          }\n          me.ctx.events.fireEvent(\"click\", [e, me, opts]);\n        }\n      }, {\n        capture: false,\n        passive: true\n      });\n    });\n    this.ctx.eventList.forEach(event => {\n      w.globals.dom.baseEl.addEventListener(event, this.documentEvent, {\n        passive: true\n      });\n    });\n    this.ctx.core.setupBrushHandler();\n  }\n  documentEvent(e) {\n    const w = this.w;\n    const target = e.target.className;\n    if (e.type === \"click\") {\n      let elMenu = w.globals.dom.baseEl.querySelector(\".apexcharts-menu\");\n      if (elMenu && elMenu.classList.contains(\"apexcharts-menu-open\") && target !== \"apexcharts-menu-icon\") {\n        elMenu.classList.remove(\"apexcharts-menu-open\");\n      }\n    }\n    w.globals.clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n    w.globals.clientY = e.type === \"touchmove\" ? e.touches[0].clientY : e.clientY;\n  }\n}\nclass Localization {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  setCurrentLocaleValues(localeName) {\n    let locales = this.w.config.chart.locales;\n    if (window.Apex.chart && window.Apex.chart.locales && window.Apex.chart.locales.length > 0) {\n      locales = this.w.config.chart.locales.concat(window.Apex.chart.locales);\n    }\n    const selectedLocale = locales.filter(c => c.name === localeName)[0];\n    if (selectedLocale) {\n      let ret = Utils$1.extend(en, selectedLocale);\n      this.w.globals.locale = ret.options;\n    } else {\n      throw new Error(\"Wrong locale name provided. Please make sure you set the correct locale name in options\");\n    }\n  }\n}\nclass Axes {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  drawAxis(type, elgrid) {\n    let gl = this.w.globals;\n    let cnf = this.w.config;\n    let xAxis = new XAxis(this.ctx, elgrid);\n    let yAxis = new YAxis(this.ctx, elgrid);\n    if (gl.axisCharts && type !== \"radar\") {\n      let elXaxis, elYaxis;\n      if (gl.isBarHorizontal) {\n        elYaxis = yAxis.drawYaxisInversed(0);\n        elXaxis = xAxis.drawXaxisInversed(0);\n        gl.dom.elGraphical.add(elXaxis);\n        gl.dom.elGraphical.add(elYaxis);\n      } else {\n        elXaxis = xAxis.drawXaxis();\n        gl.dom.elGraphical.add(elXaxis);\n        cnf.yaxis.map((yaxe, index) => {\n          if (gl.ignoreYAxisIndexes.indexOf(index) === -1) {\n            elYaxis = yAxis.drawYaxis(index);\n            gl.dom.Paper.add(elYaxis);\n            if (this.w.config.grid.position === \"back\") {\n              const inner = gl.dom.Paper.children()[1];\n              inner.remove();\n              gl.dom.Paper.add(inner);\n            }\n          }\n        });\n      }\n    }\n  }\n}\nclass Crosshairs {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  drawXCrosshairs() {\n    const w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let filters = new Filters(this.ctx);\n    let crosshairGradient = w.config.xaxis.crosshairs.fill.gradient;\n    let crosshairShadow = w.config.xaxis.crosshairs.dropShadow;\n    let fillType = w.config.xaxis.crosshairs.fill.type;\n    let gradientFrom = crosshairGradient.colorFrom;\n    let gradientTo = crosshairGradient.colorTo;\n    let opacityFrom = crosshairGradient.opacityFrom;\n    let opacityTo = crosshairGradient.opacityTo;\n    let stops = crosshairGradient.stops;\n    let shadow = \"none\";\n    let dropShadow = crosshairShadow.enabled;\n    let shadowLeft = crosshairShadow.left;\n    let shadowTop = crosshairShadow.top;\n    let shadowBlur = crosshairShadow.blur;\n    let shadowColor = crosshairShadow.color;\n    let shadowOpacity = crosshairShadow.opacity;\n    let xcrosshairsFill = w.config.xaxis.crosshairs.fill.color;\n    if (w.config.xaxis.crosshairs.show) {\n      if (fillType === \"gradient\") {\n        xcrosshairsFill = graphics.drawGradient(\"vertical\", gradientFrom, gradientTo, opacityFrom, opacityTo, null, stops, null);\n      }\n      let xcrosshairs = graphics.drawRect();\n      if (w.config.xaxis.crosshairs.width === 1) {\n        xcrosshairs = graphics.drawLine();\n      }\n      let gridHeight = w.globals.gridHeight;\n      if (!Utils$1.isNumber(gridHeight) || gridHeight < 0) {\n        gridHeight = 0;\n      }\n      let crosshairsWidth = w.config.xaxis.crosshairs.width;\n      if (!Utils$1.isNumber(crosshairsWidth) || crosshairsWidth < 0) {\n        crosshairsWidth = 0;\n      }\n      xcrosshairs.attr({\n        class: \"apexcharts-xcrosshairs\",\n        x: 0,\n        y: 0,\n        y2: gridHeight,\n        width: crosshairsWidth,\n        height: gridHeight,\n        fill: xcrosshairsFill,\n        filter: shadow,\n        \"fill-opacity\": w.config.xaxis.crosshairs.opacity,\n        stroke: w.config.xaxis.crosshairs.stroke.color,\n        \"stroke-width\": w.config.xaxis.crosshairs.stroke.width,\n        \"stroke-dasharray\": w.config.xaxis.crosshairs.stroke.dashArray\n      });\n      if (dropShadow) {\n        xcrosshairs = filters.dropShadow(xcrosshairs, {\n          left: shadowLeft,\n          top: shadowTop,\n          blur: shadowBlur,\n          color: shadowColor,\n          opacity: shadowOpacity\n        });\n      }\n      w.globals.dom.elGraphical.add(xcrosshairs);\n    }\n  }\n  drawYCrosshairs() {\n    const w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let crosshair = w.config.yaxis[0].crosshairs;\n    const offX = w.globals.barPadForNumericAxis;\n    if (w.config.yaxis[0].crosshairs.show) {\n      let ycrosshairs = graphics.drawLine(-offX, 0, w.globals.gridWidth + offX, 0, crosshair.stroke.color, crosshair.stroke.dashArray, crosshair.stroke.width);\n      ycrosshairs.attr({\n        class: \"apexcharts-ycrosshairs\"\n      });\n      w.globals.dom.elGraphical.add(ycrosshairs);\n    }\n    let ycrosshairsHidden = graphics.drawLine(-offX, 0, w.globals.gridWidth + offX, 0, crosshair.stroke.color, 0, 0);\n    ycrosshairsHidden.attr({\n      class: \"apexcharts-ycrosshairs-hidden\"\n    });\n    w.globals.dom.elGraphical.add(ycrosshairsHidden);\n  }\n}\nclass Responsive {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // the opts parameter if not null has to be set overriding everything\n  // as the opts is set by user externally\n  checkResponsiveConfig(opts) {\n    const w = this.w;\n    const cnf = w.config;\n    if (cnf.responsive.length === 0) return;\n    let res = cnf.responsive.slice();\n    res.sort((a, b) => a.breakpoint > b.breakpoint ? 1 : b.breakpoint > a.breakpoint ? -1 : 0).reverse();\n    let config = new Config({});\n    const iterateResponsiveOptions = (newOptions = {}) => {\n      let largestBreakpoint = res[0].breakpoint;\n      const width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n      if (width > largestBreakpoint) {\n        let initialConfig = Utils$1.clone(w.globals.initialConfig);\n        initialConfig.series = Utils$1.clone(w.config.series);\n        let options2 = CoreUtils.extendArrayProps(config, initialConfig, w);\n        newOptions = Utils$1.extend(options2, newOptions);\n        newOptions = Utils$1.extend(w.config, newOptions);\n        this.overrideResponsiveOptions(newOptions);\n      } else {\n        for (let i = 0; i < res.length; i++) {\n          if (width < res[i].breakpoint) {\n            newOptions = CoreUtils.extendArrayProps(config, res[i].options, w);\n            newOptions = Utils$1.extend(w.config, newOptions);\n            this.overrideResponsiveOptions(newOptions);\n          }\n        }\n      }\n    };\n    if (opts) {\n      let options2 = CoreUtils.extendArrayProps(config, opts, w);\n      options2 = Utils$1.extend(w.config, options2);\n      options2 = Utils$1.extend(options2, opts);\n      iterateResponsiveOptions(options2);\n    } else {\n      iterateResponsiveOptions({});\n    }\n  }\n  overrideResponsiveOptions(newOptions) {\n    let newConfig = new Config(newOptions).init({\n      responsiveOverride: true\n    });\n    this.w.config = newConfig;\n  }\n}\nclass Theme {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.colors = [];\n    this.isColorFn = false;\n    this.isHeatmapDistributed = this.checkHeatmapDistributed();\n    this.isBarDistributed = this.checkBarDistributed();\n  }\n  checkHeatmapDistributed() {\n    const {\n      chart,\n      plotOptions\n    } = this.w.config;\n    return chart.type === \"treemap\" && plotOptions.treemap && plotOptions.treemap.distributed || chart.type === \"heatmap\" && plotOptions.heatmap && plotOptions.heatmap.distributed;\n  }\n  checkBarDistributed() {\n    const {\n      chart,\n      plotOptions\n    } = this.w.config;\n    return plotOptions.bar && plotOptions.bar.distributed && (chart.type === \"bar\" || chart.type === \"rangeBar\");\n  }\n  init() {\n    this.setDefaultColors();\n  }\n  setDefaultColors() {\n    const w = this.w;\n    const utils = new Utils$1();\n    w.globals.dom.elWrap.classList.add(`apexcharts-theme-${w.config.theme.mode || \"light\"}`);\n    const configColors = [...(w.config.colors || w.config.fill.colors || [])];\n    w.globals.colors = this.getColors(configColors);\n    this.applySeriesColors(w.globals.seriesColors, w.globals.colors);\n    if (w.config.theme.monochrome.enabled) {\n      w.globals.colors = this.getMonochromeColors(w.config.theme.monochrome, w.globals.series, utils);\n    }\n    const defaultColors = w.globals.colors.slice();\n    this.pushExtraColors(w.globals.colors);\n    this.applyColorTypes([\"fill\", \"stroke\"], defaultColors);\n    this.applyDataLabelsColors(defaultColors);\n    this.applyRadarPolygonsColors();\n    this.applyMarkersColors(defaultColors);\n  }\n  getColors(configColors) {\n    const w = this.w;\n    if (!configColors || configColors.length === 0) {\n      return this.predefined();\n    }\n    if (Array.isArray(configColors) && configColors.length > 0 && typeof configColors[0] === \"function\") {\n      this.isColorFn = true;\n      return w.config.series.map((s, i) => {\n        let c = configColors[i] || configColors[0];\n        return typeof c === \"function\" ? c({\n          value: w.globals.axisCharts ? w.globals.series[i][0] || 0 : w.globals.series[i],\n          seriesIndex: i,\n          dataPointIndex: i,\n          w: this.w\n        }) : c;\n      });\n    }\n    return configColors;\n  }\n  applySeriesColors(seriesColors, globalsColors) {\n    seriesColors.forEach((c, i) => {\n      if (c) {\n        globalsColors[i] = c;\n      }\n    });\n  }\n  getMonochromeColors(monochrome, series, utils) {\n    const {\n      color,\n      shadeIntensity,\n      shadeTo\n    } = monochrome;\n    const glsCnt = this.isBarDistributed || this.isHeatmapDistributed ? series[0].length * series.length : series.length;\n    const part = 1 / (glsCnt / shadeIntensity);\n    let percent = 0;\n    return Array.from({\n      length: glsCnt\n    }, () => {\n      const newColor = shadeTo === \"dark\" ? utils.shadeColor(percent * -1, color) : utils.shadeColor(percent, color);\n      percent += part;\n      return newColor;\n    });\n  }\n  applyColorTypes(colorTypes, defaultColors) {\n    const w = this.w;\n    colorTypes.forEach(c => {\n      w.globals[c].colors = w.config[c].colors === void 0 ? this.isColorFn ? w.config.colors : defaultColors : w.config[c].colors.slice();\n      this.pushExtraColors(w.globals[c].colors);\n    });\n  }\n  applyDataLabelsColors(defaultColors) {\n    const w = this.w;\n    w.globals.dataLabels.style.colors = w.config.dataLabels.style.colors === void 0 ? defaultColors : w.config.dataLabels.style.colors.slice();\n    this.pushExtraColors(w.globals.dataLabels.style.colors, 50);\n  }\n  applyRadarPolygonsColors() {\n    const w = this.w;\n    w.globals.radarPolygons.fill.colors = w.config.plotOptions.radar.polygons.fill.colors === void 0 ? [w.config.theme.mode === \"dark\" ? \"#343A3F\" : \"none\"] : w.config.plotOptions.radar.polygons.fill.colors.slice();\n    this.pushExtraColors(w.globals.radarPolygons.fill.colors, 20);\n  }\n  applyMarkersColors(defaultColors) {\n    const w = this.w;\n    w.globals.markers.colors = w.config.markers.colors === void 0 ? defaultColors : w.config.markers.colors.slice();\n    this.pushExtraColors(w.globals.markers.colors);\n  }\n  pushExtraColors(colorSeries, length, distributed = null) {\n    const w = this.w;\n    let len = length || w.globals.series.length;\n    if (distributed === null) {\n      distributed = this.isBarDistributed || this.isHeatmapDistributed || w.config.chart.type === \"heatmap\" && w.config.plotOptions.heatmap && w.config.plotOptions.heatmap.colorScale.inverse;\n    }\n    if (distributed && w.globals.series.length) {\n      len = w.globals.series[w.globals.maxValsInArrayIndex].length * w.globals.series.length;\n    }\n    if (colorSeries.length < len) {\n      let diff = len - colorSeries.length;\n      for (let i = 0; i < diff; i++) {\n        colorSeries.push(colorSeries[i]);\n      }\n    }\n  }\n  updateThemeOptions(options2) {\n    options2.chart = options2.chart || {};\n    options2.tooltip = options2.tooltip || {};\n    const mode = options2.theme.mode;\n    const palette = mode === \"dark\" ? \"palette4\" : mode === \"light\" ? \"palette1\" : options2.theme.palette || \"palette1\";\n    const foreColor = mode === \"dark\" ? \"#f6f7f8\" : mode === \"light\" ? \"#373d3f\" : options2.chart.foreColor || \"#373d3f\";\n    options2.tooltip.theme = mode || \"light\";\n    options2.chart.foreColor = foreColor;\n    options2.theme.palette = palette;\n    return options2;\n  }\n  predefined() {\n    const palette = this.w.config.theme.palette;\n    const palettes = this.ctx.constructor.getThemePalettes();\n    return palettes[palette] || palettes.palette1;\n  }\n}\nclass TitleSubtitle {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  draw() {\n    this.drawTitleSubtitle(\"title\");\n    this.drawTitleSubtitle(\"subtitle\");\n  }\n  drawTitleSubtitle(type) {\n    let w = this.w;\n    const tsConfig = type === \"title\" ? w.config.title : w.config.subtitle;\n    let x = w.globals.svgWidth / 2;\n    let y = tsConfig.offsetY;\n    let textAnchor = \"middle\";\n    if (tsConfig.align === \"left\") {\n      x = 10;\n      textAnchor = \"start\";\n    } else if (tsConfig.align === \"right\") {\n      x = w.globals.svgWidth - 10;\n      textAnchor = \"end\";\n    }\n    x = x + tsConfig.offsetX;\n    y = y + parseInt(tsConfig.style.fontSize, 10) + tsConfig.margin / 2;\n    if (tsConfig.text !== void 0) {\n      let graphics = new Graphics(this.ctx);\n      let titleText = graphics.drawText({\n        x,\n        y,\n        text: tsConfig.text,\n        textAnchor,\n        fontSize: tsConfig.style.fontSize,\n        fontFamily: tsConfig.style.fontFamily,\n        fontWeight: tsConfig.style.fontWeight,\n        foreColor: tsConfig.style.color,\n        opacity: 1\n      });\n      titleText.node.setAttribute(\"class\", `apexcharts-${type}-text`);\n      w.globals.dom.Paper.add(titleText);\n    }\n  }\n}\nlet Helpers$3 = class Helpers2 {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  /**\n   * Get Chart Title/Subtitle Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getTitleSubtitleCoords(type) {\n    let w = this.w;\n    let width = 0;\n    let height = 0;\n    const floating = type === \"title\" ? w.config.title.floating : w.config.subtitle.floating;\n    let el = w.globals.dom.baseEl.querySelector(`.apexcharts-${type}-text`);\n    if (el !== null && !floating) {\n      let coord = el.getBoundingClientRect();\n      width = coord.width;\n      height = w.globals.axisCharts ? coord.height + 5 : coord.height;\n    }\n    return {\n      width,\n      height\n    };\n  }\n  getLegendsRect() {\n    let w = this.w;\n    let elLegendWrap = w.globals.dom.elLegendWrap;\n    if (!w.config.legend.height && (w.config.legend.position === \"top\" || w.config.legend.position === \"bottom\")) {\n      elLegendWrap.style.maxHeight = w.globals.svgHeight / 2 + \"px\";\n    }\n    let lgRect = Object.assign({}, Utils$1.getBoundingClientRect(elLegendWrap));\n    if (elLegendWrap !== null && !w.config.legend.floating && w.config.legend.show) {\n      this.dCtx.lgRect = {\n        x: lgRect.x,\n        y: lgRect.y,\n        height: lgRect.height,\n        width: lgRect.height === 0 ? 0 : lgRect.width\n      };\n    } else {\n      this.dCtx.lgRect = {\n        x: 0,\n        y: 0,\n        height: 0,\n        width: 0\n      };\n    }\n    if (w.config.legend.position === \"left\" || w.config.legend.position === \"right\") {\n      if (this.dCtx.lgRect.width * 1.5 > w.globals.svgWidth) {\n        this.dCtx.lgRect.width = w.globals.svgWidth / 1.5;\n      }\n    }\n    return this.dCtx.lgRect;\n  }\n  /**\n   * Get Y Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getDatalabelsRect() {\n    let w = this.w;\n    let allLabels = [];\n    w.config.series.forEach((serie, seriesIndex) => {\n      serie.data.forEach((datum, dataPointIndex) => {\n        const getText = v => {\n          return w.config.dataLabels.formatter(v, {\n            ctx: this.dCtx.ctx,\n            seriesIndex,\n            dataPointIndex,\n            w\n          });\n        };\n        const labelText = getText(w.globals.series[seriesIndex][dataPointIndex]);\n        allLabels.push(labelText);\n      });\n    });\n    let val = Utils$1.getLargestStringFromArr(allLabels);\n    let graphics = new Graphics(this.dCtx.ctx);\n    const dataLabelsStyle = w.config.dataLabels.style;\n    let labelrect = graphics.getTextRects(val, parseInt(dataLabelsStyle.fontSize), dataLabelsStyle.fontFamily);\n    return {\n      width: labelrect.width * 1.05,\n      height: labelrect.height\n    };\n  }\n  getLargestStringFromMultiArr(val, arr) {\n    const w = this.w;\n    let valArr = val;\n    if (w.globals.isMultiLineX) {\n      let maxArrs = arr.map(xl => {\n        return Array.isArray(xl) ? xl.length : 1;\n      });\n      let maxArrLen = Math.max(...maxArrs);\n      let maxArrIndex = maxArrs.indexOf(maxArrLen);\n      valArr = arr[maxArrIndex];\n    }\n    return valArr;\n  }\n};\nclass DimXAxis {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  /**\n   * Get X Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getxAxisLabelsCoords() {\n    let w = this.w;\n    let xaxisLabels = w.globals.labels.slice();\n    if (w.config.xaxis.convertedCatToNumeric && xaxisLabels.length === 0) {\n      xaxisLabels = w.globals.categoryLabels;\n    }\n    let rect;\n    if (w.globals.timescaleLabels.length > 0) {\n      const coords = this.getxAxisTimeScaleLabelsCoords();\n      rect = {\n        width: coords.width,\n        height: coords.height\n      };\n      w.globals.rotateXLabels = false;\n    } else {\n      this.dCtx.lgWidthForSideLegends = (w.config.legend.position === \"left\" || w.config.legend.position === \"right\") && !w.config.legend.floating ? this.dCtx.lgRect.width : 0;\n      let xlbFormatter = w.globals.xLabelFormatter;\n      let val = Utils$1.getLargestStringFromArr(xaxisLabels);\n      let valArr = this.dCtx.dimHelpers.getLargestStringFromMultiArr(val, xaxisLabels);\n      if (w.globals.isBarHorizontal) {\n        val = w.globals.yAxisScale[0].result.reduce((a, b) => a.length > b.length ? a : b, 0);\n        valArr = val;\n      }\n      let xFormat = new Formatters(this.dCtx.ctx);\n      let timestamp = val;\n      val = xFormat.xLabelFormat(xlbFormatter, val, timestamp, {\n        i: void 0,\n        dateFormatter: new DateTime(this.dCtx.ctx).formatDate,\n        w\n      });\n      valArr = xFormat.xLabelFormat(xlbFormatter, valArr, timestamp, {\n        i: void 0,\n        dateFormatter: new DateTime(this.dCtx.ctx).formatDate,\n        w\n      });\n      if (w.config.xaxis.convertedCatToNumeric && typeof val === \"undefined\" || String(val).trim() === \"\") {\n        val = \"1\";\n        valArr = val;\n      }\n      let graphics = new Graphics(this.dCtx.ctx);\n      let xLabelrect = graphics.getTextRects(val, w.config.xaxis.labels.style.fontSize);\n      let xArrLabelrect = xLabelrect;\n      if (val !== valArr) {\n        xArrLabelrect = graphics.getTextRects(valArr, w.config.xaxis.labels.style.fontSize);\n      }\n      rect = {\n        width: xLabelrect.width >= xArrLabelrect.width ? xLabelrect.width : xArrLabelrect.width,\n        height: xLabelrect.height >= xArrLabelrect.height ? xLabelrect.height : xArrLabelrect.height\n      };\n      if (rect.width * xaxisLabels.length > w.globals.svgWidth - this.dCtx.lgWidthForSideLegends - this.dCtx.yAxisWidth - this.dCtx.gridPad.left - this.dCtx.gridPad.right && w.config.xaxis.labels.rotate !== 0 || w.config.xaxis.labels.rotateAlways) {\n        if (!w.globals.isBarHorizontal) {\n          w.globals.rotateXLabels = true;\n          const getRotatedTextRects = text => {\n            return graphics.getTextRects(text, w.config.xaxis.labels.style.fontSize, w.config.xaxis.labels.style.fontFamily, `rotate(${w.config.xaxis.labels.rotate} 0 0)`, false);\n          };\n          xLabelrect = getRotatedTextRects(val);\n          if (val !== valArr) {\n            xArrLabelrect = getRotatedTextRects(valArr);\n          }\n          rect.height = (xLabelrect.height > xArrLabelrect.height ? xLabelrect.height : xArrLabelrect.height) / 1.5;\n          rect.width = xLabelrect.width > xArrLabelrect.width ? xLabelrect.width : xArrLabelrect.width;\n        }\n      } else {\n        w.globals.rotateXLabels = false;\n      }\n    }\n    if (!w.config.xaxis.labels.show) {\n      rect = {\n        width: 0,\n        height: 0\n      };\n    }\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n  /**\n   * Get X Axis Label Group height\n   * @memberof Dimensions\n   * @return {{width, height}}\n   */\n  getxAxisGroupLabelsCoords() {\n    var _a;\n    let w = this.w;\n    if (!w.globals.hasXaxisGroups) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n    const fontSize = ((_a = w.config.xaxis.group.style) == null ? void 0 : _a.fontSize) || w.config.xaxis.labels.style.fontSize;\n    let xaxisLabels = w.globals.groups.map(g => g.title);\n    let rect;\n    let val = Utils$1.getLargestStringFromArr(xaxisLabels);\n    let valArr = this.dCtx.dimHelpers.getLargestStringFromMultiArr(val, xaxisLabels);\n    let graphics = new Graphics(this.dCtx.ctx);\n    let xLabelrect = graphics.getTextRects(val, fontSize);\n    let xArrLabelrect = xLabelrect;\n    if (val !== valArr) {\n      xArrLabelrect = graphics.getTextRects(valArr, fontSize);\n    }\n    rect = {\n      width: xLabelrect.width >= xArrLabelrect.width ? xLabelrect.width : xArrLabelrect.width,\n      height: xLabelrect.height >= xArrLabelrect.height ? xLabelrect.height : xArrLabelrect.height\n    };\n    if (!w.config.xaxis.labels.show) {\n      rect = {\n        width: 0,\n        height: 0\n      };\n    }\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n  /**\n   * Get X Axis Title Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getxAxisTitleCoords() {\n    let w = this.w;\n    let width = 0;\n    let height = 0;\n    if (w.config.xaxis.title.text !== void 0) {\n      let graphics = new Graphics(this.dCtx.ctx);\n      let rect = graphics.getTextRects(w.config.xaxis.title.text, w.config.xaxis.title.style.fontSize);\n      width = rect.width;\n      height = rect.height;\n    }\n    return {\n      width,\n      height\n    };\n  }\n  getxAxisTimeScaleLabelsCoords() {\n    let w = this.w;\n    let rect;\n    this.dCtx.timescaleLabels = w.globals.timescaleLabels.slice();\n    let labels = this.dCtx.timescaleLabels.map(label => label.value);\n    let val = labels.reduce((a, b) => {\n      if (typeof a === \"undefined\") {\n        console.error(\"You have possibly supplied invalid Date format. Please supply a valid JavaScript Date\");\n        return 0;\n      } else {\n        return a.length > b.length ? a : b;\n      }\n    }, 0);\n    let graphics = new Graphics(this.dCtx.ctx);\n    rect = graphics.getTextRects(val, w.config.xaxis.labels.style.fontSize);\n    let totalWidthRotated = rect.width * 1.05 * labels.length;\n    if (totalWidthRotated > w.globals.gridWidth && w.config.xaxis.labels.rotate !== 0) {\n      w.globals.overlappingXLabels = true;\n    }\n    return rect;\n  }\n  // In certain cases, the last labels gets cropped in xaxis.\n  // Hence, we add some additional padding based on the label length to avoid the last label being cropped or we don't draw it at all\n  additionalPaddingXLabels(xaxisLabelCoords) {\n    const w = this.w;\n    const gl = w.globals;\n    const cnf = w.config;\n    const xtype = cnf.xaxis.type;\n    let lbWidth = xaxisLabelCoords.width;\n    gl.skipLastTimelinelabel = false;\n    gl.skipFirstTimelinelabel = false;\n    const isBarOpposite = w.config.yaxis[0].opposite && w.globals.isBarHorizontal;\n    const isCollapsed = i => gl.collapsedSeriesIndices.indexOf(i) !== -1;\n    const rightPad = yaxe => {\n      if (this.dCtx.timescaleLabels && this.dCtx.timescaleLabels.length) {\n        const firstimescaleLabel = this.dCtx.timescaleLabels[0];\n        const lastTimescaleLabel = this.dCtx.timescaleLabels[this.dCtx.timescaleLabels.length - 1];\n        const lastLabelPosition = lastTimescaleLabel.position + lbWidth / 1.75 - this.dCtx.yAxisWidthRight;\n        const firstLabelPosition = firstimescaleLabel.position - lbWidth / 1.75 + this.dCtx.yAxisWidthLeft;\n        let lgRightRectWidth = w.config.legend.position === \"right\" && this.dCtx.lgRect.width > 0 ? this.dCtx.lgRect.width : 0;\n        if (lastLabelPosition > gl.svgWidth - gl.translateX - lgRightRectWidth) {\n          gl.skipLastTimelinelabel = true;\n        }\n        if (firstLabelPosition < -((!yaxe.show || yaxe.floating) && (cnf.chart.type === \"bar\" || cnf.chart.type === \"candlestick\" || cnf.chart.type === \"rangeBar\" || cnf.chart.type === \"boxPlot\") ? lbWidth / 1.75 : 10)) {\n          gl.skipFirstTimelinelabel = true;\n        }\n      } else if (xtype === \"datetime\") {\n        if (this.dCtx.gridPad.right < lbWidth && !gl.rotateXLabels) {\n          gl.skipLastTimelinelabel = true;\n        }\n      } else if (xtype !== \"datetime\") {\n        if (this.dCtx.gridPad.right < lbWidth / 2 - this.dCtx.yAxisWidthRight && !gl.rotateXLabels && !w.config.xaxis.labels.trim) {\n          this.dCtx.xPadRight = lbWidth / 2 + 1;\n        }\n      }\n    };\n    const padYAxe = (yaxe, i) => {\n      if (cnf.yaxis.length > 1 && isCollapsed(i)) return;\n      rightPad(yaxe);\n    };\n    cnf.yaxis.forEach((yaxe, i) => {\n      if (isBarOpposite) {\n        if (this.dCtx.gridPad.left < lbWidth) {\n          this.dCtx.xPadLeft = lbWidth / 2 + 1;\n        }\n        this.dCtx.xPadRight = lbWidth / 2 + 1;\n      } else {\n        padYAxe(yaxe, i);\n      }\n    });\n  }\n}\nclass DimYAxis {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  /**\n   * Get Y Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getyAxisLabelsCoords() {\n    let w = this.w;\n    let width = 0;\n    let height = 0;\n    let ret = [];\n    let labelPad = 10;\n    const axesUtils = new AxesUtils(this.dCtx.ctx);\n    w.config.yaxis.map((yaxe, index) => {\n      const formatterArgs = {\n        seriesIndex: index,\n        dataPointIndex: -1,\n        w\n      };\n      const yS = w.globals.yAxisScale[index];\n      let yAxisMinWidth = 0;\n      if (!axesUtils.isYAxisHidden(index) && yaxe.labels.show && yaxe.labels.minWidth !== void 0) yAxisMinWidth = yaxe.labels.minWidth;\n      if (!axesUtils.isYAxisHidden(index) && yaxe.labels.show && yS.result.length) {\n        let lbFormatter = w.globals.yLabelFormatters[index];\n        let minV = yS.niceMin === Number.MIN_VALUE ? 0 : yS.niceMin;\n        let val = yS.result.reduce((acc, curr) => {\n          var _a, _b;\n          return ((_a = String(lbFormatter(acc, formatterArgs))) == null ? void 0 : _a.length) > ((_b = String(lbFormatter(curr, formatterArgs))) == null ? void 0 : _b.length) ? acc : curr;\n        }, minV);\n        val = lbFormatter(val, formatterArgs);\n        let valArr = val;\n        if (typeof val === \"undefined\" || val.length === 0) {\n          val = yS.niceMax;\n        }\n        if (String(val).length === 1) {\n          val = val + \".0\";\n          valArr = val;\n        }\n        if (w.globals.isBarHorizontal) {\n          labelPad = 0;\n          let barYaxisLabels = w.globals.labels.slice();\n          val = Utils$1.getLargestStringFromArr(barYaxisLabels);\n          val = lbFormatter(val, {\n            seriesIndex: index,\n            dataPointIndex: -1,\n            w\n          });\n          valArr = this.dCtx.dimHelpers.getLargestStringFromMultiArr(val, barYaxisLabels);\n        }\n        let graphics = new Graphics(this.dCtx.ctx);\n        let rotateStr = \"rotate(\".concat(yaxe.labels.rotate, \" 0 0)\");\n        let rect = graphics.getTextRects(val, yaxe.labels.style.fontSize, yaxe.labels.style.fontFamily, rotateStr, false);\n        let arrLabelrect = rect;\n        if (val !== valArr) {\n          arrLabelrect = graphics.getTextRects(valArr, yaxe.labels.style.fontSize, yaxe.labels.style.fontFamily, rotateStr, false);\n        }\n        ret.push({\n          width: (yAxisMinWidth > arrLabelrect.width || yAxisMinWidth > rect.width ? yAxisMinWidth : arrLabelrect.width > rect.width ? arrLabelrect.width : rect.width) + labelPad,\n          height: arrLabelrect.height > rect.height ? arrLabelrect.height : rect.height\n        });\n      } else {\n        ret.push({\n          width,\n          height\n        });\n      }\n    });\n    return ret;\n  }\n  /**\n   * Get Y Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getyAxisTitleCoords() {\n    let w = this.w;\n    let ret = [];\n    w.config.yaxis.map(yaxe => {\n      if (yaxe.show && yaxe.title.text !== void 0) {\n        let graphics = new Graphics(this.dCtx.ctx);\n        let rotateStr = \"rotate(\".concat(yaxe.title.rotate, \" 0 0)\");\n        let rect = graphics.getTextRects(yaxe.title.text, yaxe.title.style.fontSize, yaxe.title.style.fontFamily, rotateStr, false);\n        ret.push({\n          width: rect.width,\n          height: rect.height\n        });\n      } else {\n        ret.push({\n          width: 0,\n          height: 0\n        });\n      }\n    });\n    return ret;\n  }\n  getTotalYAxisWidth() {\n    let w = this.w;\n    let yAxisWidth = 0;\n    let yAxisWidthLeft = 0;\n    let yAxisWidthRight = 0;\n    let padding = w.globals.yAxisScale.length > 1 ? 10 : 0;\n    const axesUtils = new AxesUtils(this.dCtx.ctx);\n    const isHiddenYAxis = function (index) {\n      return w.globals.ignoreYAxisIndexes.indexOf(index) > -1;\n    };\n    const padForLabelTitle = (coord, index) => {\n      let floating = w.config.yaxis[index].floating;\n      let width = 0;\n      if (coord.width > 0 && !floating) {\n        width = coord.width + padding;\n        if (isHiddenYAxis(index)) {\n          width = width - coord.width - padding;\n        }\n      } else {\n        width = floating || axesUtils.isYAxisHidden(index) ? 0 : 5;\n      }\n      w.config.yaxis[index].opposite ? yAxisWidthRight = yAxisWidthRight + width : yAxisWidthLeft = yAxisWidthLeft + width;\n      yAxisWidth = yAxisWidth + width;\n    };\n    w.globals.yLabelsCoords.map((yLabelCoord, index) => {\n      padForLabelTitle(yLabelCoord, index);\n    });\n    w.globals.yTitleCoords.map((yTitleCoord, index) => {\n      padForLabelTitle(yTitleCoord, index);\n    });\n    if (w.globals.isBarHorizontal && !w.config.yaxis[0].floating) {\n      yAxisWidth = w.globals.yLabelsCoords[0].width + w.globals.yTitleCoords[0].width + 15;\n    }\n    this.dCtx.yAxisWidthLeft = yAxisWidthLeft;\n    this.dCtx.yAxisWidthRight = yAxisWidthRight;\n    return yAxisWidth;\n  }\n}\nclass DimGrid {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  gridPadForColumnsInNumericAxis(gridWidth) {\n    const {\n      w\n    } = this;\n    const {\n      config: cnf,\n      globals: gl\n    } = w;\n    if (gl.noData || gl.collapsedSeries.length + gl.ancillaryCollapsedSeries.length === cnf.series.length) {\n      return 0;\n    }\n    const hasBar = type2 => [\"bar\", \"rangeBar\", \"candlestick\", \"boxPlot\"].includes(type2);\n    const type = cnf.chart.type;\n    let barWidth = 0;\n    let seriesLen = hasBar(type) ? cnf.series.length : 1;\n    if (gl.comboBarCount > 0) {\n      seriesLen = gl.comboBarCount;\n    }\n    gl.collapsedSeries.forEach(c => {\n      if (hasBar(c.type)) {\n        seriesLen -= 1;\n      }\n    });\n    if (cnf.chart.stacked) {\n      seriesLen = 1;\n    }\n    const barsPresent = hasBar(type) || gl.comboBarCount > 0;\n    let xRange = Math.abs(gl.initialMaxX - gl.initialMinX);\n    if (barsPresent && gl.isXNumeric && !gl.isBarHorizontal && seriesLen > 0 && xRange !== 0) {\n      if (xRange <= 3) {\n        xRange = gl.dataPoints;\n      }\n      const xRatio = xRange / gridWidth;\n      let xDivision = gl.minXDiff && gl.minXDiff / xRatio > 0 ? gl.minXDiff / xRatio : 0;\n      if (xDivision > gridWidth / 2) {\n        xDivision /= 2;\n      }\n      barWidth = xDivision * parseInt(cnf.plotOptions.bar.columnWidth, 10) / 100;\n      if (barWidth < 1) {\n        barWidth = 1;\n      }\n      gl.barPadForNumericAxis = barWidth;\n    }\n    return barWidth;\n  }\n  gridPadFortitleSubtitle() {\n    const {\n      w\n    } = this;\n    const {\n      globals: gl\n    } = w;\n    let gridShrinkOffset = this.dCtx.isSparkline || !gl.axisCharts ? 0 : 10;\n    const titleSubtitle = [\"title\", \"subtitle\"];\n    titleSubtitle.forEach(t => {\n      if (w.config[t].text !== void 0) {\n        gridShrinkOffset += w.config[t].margin;\n      } else {\n        gridShrinkOffset += this.dCtx.isSparkline || !gl.axisCharts ? 0 : 5;\n      }\n    });\n    if (w.config.legend.show && w.config.legend.position === \"bottom\" && !w.config.legend.floating && !gl.axisCharts) {\n      gridShrinkOffset += 10;\n    }\n    const titleCoords = this.dCtx.dimHelpers.getTitleSubtitleCoords(\"title\");\n    const subtitleCoords = this.dCtx.dimHelpers.getTitleSubtitleCoords(\"subtitle\");\n    gl.gridHeight -= titleCoords.height + subtitleCoords.height + gridShrinkOffset;\n    gl.translateY += titleCoords.height + subtitleCoords.height + gridShrinkOffset;\n  }\n  setGridXPosForDualYAxis(yTitleCoords, yaxisLabelCoords) {\n    const {\n      w\n    } = this;\n    const axesUtils = new AxesUtils(this.dCtx.ctx);\n    w.config.yaxis.forEach((yaxe, index) => {\n      if (w.globals.ignoreYAxisIndexes.indexOf(index) === -1 && !yaxe.floating && !axesUtils.isYAxisHidden(index)) {\n        if (yaxe.opposite) {\n          w.globals.translateX -= yaxisLabelCoords[index].width + yTitleCoords[index].width + parseInt(yaxe.labels.style.fontSize, 10) / 1.2 + 12;\n        }\n        if (w.globals.translateX < 2) {\n          w.globals.translateX = 2;\n        }\n      }\n    });\n  }\n}\nclass Dimensions {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.lgRect = {};\n    this.yAxisWidth = 0;\n    this.yAxisWidthLeft = 0;\n    this.yAxisWidthRight = 0;\n    this.xAxisHeight = 0;\n    this.isSparkline = this.w.config.chart.sparkline.enabled;\n    this.dimHelpers = new Helpers$3(this);\n    this.dimYAxis = new DimYAxis(this);\n    this.dimXAxis = new DimXAxis(this);\n    this.dimGrid = new DimGrid(this);\n    this.lgWidthForSideLegends = 0;\n    this.gridPad = this.w.config.grid.padding;\n    this.xPadRight = 0;\n    this.xPadLeft = 0;\n  }\n  /**\n   * @memberof Dimensions\n   * @param {object} w - chart context\n   **/\n  plotCoords() {\n    let w = this.w;\n    let gl = w.globals;\n    this.lgRect = this.dimHelpers.getLegendsRect();\n    this.datalabelsCoords = {\n      width: 0,\n      height: 0\n    };\n    const maxStrokeWidth = Array.isArray(w.config.stroke.width) ? Math.max(...w.config.stroke.width) : w.config.stroke.width;\n    if (this.isSparkline) {\n      if (w.config.markers.discrete.length > 0 || w.config.markers.size > 0) {\n        Object.entries(this.gridPad).forEach(([k, v]) => {\n          this.gridPad[k] = Math.max(v, this.w.globals.markers.largestSize / 1.5);\n        });\n      }\n      this.gridPad.top = Math.max(maxStrokeWidth / 2, this.gridPad.top);\n      this.gridPad.bottom = Math.max(maxStrokeWidth / 2, this.gridPad.bottom);\n    }\n    if (gl.axisCharts) {\n      this.setDimensionsForAxisCharts();\n    } else {\n      this.setDimensionsForNonAxisCharts();\n    }\n    this.dimGrid.gridPadFortitleSubtitle();\n    gl.gridHeight = gl.gridHeight - this.gridPad.top - this.gridPad.bottom;\n    gl.gridWidth = gl.gridWidth - this.gridPad.left - this.gridPad.right - this.xPadRight - this.xPadLeft;\n    let barWidth = this.dimGrid.gridPadForColumnsInNumericAxis(gl.gridWidth);\n    gl.gridWidth = gl.gridWidth - barWidth * 2;\n    gl.translateX = gl.translateX + this.gridPad.left + this.xPadLeft + (barWidth > 0 ? barWidth : 0);\n    gl.translateY = gl.translateY + this.gridPad.top;\n  }\n  setDimensionsForAxisCharts() {\n    let w = this.w;\n    let gl = w.globals;\n    let yaxisLabelCoords = this.dimYAxis.getyAxisLabelsCoords();\n    let yTitleCoords = this.dimYAxis.getyAxisTitleCoords();\n    if (gl.isSlopeChart) {\n      this.datalabelsCoords = this.dimHelpers.getDatalabelsRect();\n    }\n    w.globals.yLabelsCoords = [];\n    w.globals.yTitleCoords = [];\n    w.config.yaxis.map((yaxe, index) => {\n      w.globals.yLabelsCoords.push({\n        width: yaxisLabelCoords[index].width,\n        index\n      });\n      w.globals.yTitleCoords.push({\n        width: yTitleCoords[index].width,\n        index\n      });\n    });\n    this.yAxisWidth = this.dimYAxis.getTotalYAxisWidth();\n    let xaxisLabelCoords = this.dimXAxis.getxAxisLabelsCoords();\n    let xaxisGroupLabelCoords = this.dimXAxis.getxAxisGroupLabelsCoords();\n    let xtitleCoords = this.dimXAxis.getxAxisTitleCoords();\n    this.conditionalChecksForAxisCoords(xaxisLabelCoords, xtitleCoords, xaxisGroupLabelCoords);\n    gl.translateXAxisY = w.globals.rotateXLabels ? this.xAxisHeight / 8 : -4;\n    gl.translateXAxisX = w.globals.rotateXLabels && w.globals.isXNumeric && w.config.xaxis.labels.rotate <= -45 ? -this.xAxisWidth / 4 : 0;\n    if (w.globals.isBarHorizontal) {\n      gl.rotateXLabels = false;\n      gl.translateXAxisY = -1 * (parseInt(w.config.xaxis.labels.style.fontSize, 10) / 1.5);\n    }\n    gl.translateXAxisY = gl.translateXAxisY + w.config.xaxis.labels.offsetY;\n    gl.translateXAxisX = gl.translateXAxisX + w.config.xaxis.labels.offsetX;\n    let yAxisWidth = this.yAxisWidth;\n    let xAxisHeight = this.xAxisHeight;\n    gl.xAxisLabelsHeight = this.xAxisHeight - xtitleCoords.height;\n    gl.xAxisGroupLabelsHeight = gl.xAxisLabelsHeight - xaxisLabelCoords.height;\n    gl.xAxisLabelsWidth = this.xAxisWidth;\n    gl.xAxisHeight = this.xAxisHeight;\n    let translateY = 10;\n    if (w.config.chart.type === \"radar\" || this.isSparkline) {\n      yAxisWidth = 0;\n      xAxisHeight = 0;\n    }\n    if (this.isSparkline) {\n      this.lgRect = {\n        height: 0,\n        width: 0\n      };\n    }\n    if (this.isSparkline || w.config.chart.type === \"treemap\") {\n      yAxisWidth = 0;\n      xAxisHeight = 0;\n      translateY = 0;\n    }\n    if (!this.isSparkline && w.config.chart.type !== \"treemap\") {\n      this.dimXAxis.additionalPaddingXLabels(xaxisLabelCoords);\n    }\n    const legendTopBottom = () => {\n      gl.translateX = yAxisWidth + this.datalabelsCoords.width;\n      gl.gridHeight = gl.svgHeight - this.lgRect.height - xAxisHeight - (!this.isSparkline && w.config.chart.type !== \"treemap\" ? w.globals.rotateXLabels ? 10 : 15 : 0);\n      gl.gridWidth = gl.svgWidth - yAxisWidth - this.datalabelsCoords.width * 2;\n    };\n    if (w.config.xaxis.position === \"top\") translateY = gl.xAxisHeight - w.config.xaxis.axisTicks.height - 5;\n    switch (w.config.legend.position) {\n      case \"bottom\":\n        gl.translateY = translateY;\n        legendTopBottom();\n        break;\n      case \"top\":\n        gl.translateY = this.lgRect.height + translateY;\n        legendTopBottom();\n        break;\n      case \"left\":\n        gl.translateY = translateY;\n        gl.translateX = this.lgRect.width + yAxisWidth + this.datalabelsCoords.width;\n        gl.gridHeight = gl.svgHeight - xAxisHeight - 12;\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - yAxisWidth - this.datalabelsCoords.width * 2;\n        break;\n      case \"right\":\n        gl.translateY = translateY;\n        gl.translateX = yAxisWidth + this.datalabelsCoords.width;\n        gl.gridHeight = gl.svgHeight - xAxisHeight - 12;\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - yAxisWidth - this.datalabelsCoords.width * 2 - 5;\n        break;\n      default:\n        throw new Error(\"Legend position not supported\");\n    }\n    this.dimGrid.setGridXPosForDualYAxis(yTitleCoords, yaxisLabelCoords);\n    let objyAxis = new YAxis(this.ctx);\n    objyAxis.setYAxisXPosition(yaxisLabelCoords, yTitleCoords);\n  }\n  setDimensionsForNonAxisCharts() {\n    let w = this.w;\n    let gl = w.globals;\n    let cnf = w.config;\n    let xPad = 0;\n    if (w.config.legend.show && !w.config.legend.floating) {\n      xPad = 20;\n    }\n    const type = cnf.chart.type === \"pie\" || cnf.chart.type === \"polarArea\" || cnf.chart.type === \"donut\" ? \"pie\" : \"radialBar\";\n    let offY = cnf.plotOptions[type].offsetY;\n    let offX = cnf.plotOptions[type].offsetX;\n    if (!cnf.legend.show || cnf.legend.floating) {\n      gl.gridHeight = gl.svgHeight;\n      const maxWidth = gl.dom.elWrap.getBoundingClientRect().width;\n      gl.gridWidth = Math.min(maxWidth, gl.gridHeight);\n      gl.translateY = offY;\n      gl.translateX = offX + (gl.svgWidth - gl.gridWidth) / 2;\n      return;\n    }\n    switch (cnf.legend.position) {\n      case \"bottom\":\n        gl.gridHeight = gl.svgHeight - this.lgRect.height;\n        gl.gridWidth = gl.svgWidth;\n        gl.translateY = offY - 10;\n        gl.translateX = offX + (gl.svgWidth - gl.gridWidth) / 2;\n        break;\n      case \"top\":\n        gl.gridHeight = gl.svgHeight - this.lgRect.height;\n        gl.gridWidth = gl.svgWidth;\n        gl.translateY = this.lgRect.height + offY + 10;\n        gl.translateX = offX + (gl.svgWidth - gl.gridWidth) / 2;\n        break;\n      case \"left\":\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - xPad;\n        gl.gridHeight = cnf.chart.height !== \"auto\" ? gl.svgHeight : gl.gridWidth;\n        gl.translateY = offY;\n        gl.translateX = offX + this.lgRect.width + xPad;\n        break;\n      case \"right\":\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - xPad - 5;\n        gl.gridHeight = cnf.chart.height !== \"auto\" ? gl.svgHeight : gl.gridWidth;\n        gl.translateY = offY;\n        gl.translateX = offX + 10;\n        break;\n      default:\n        throw new Error(\"Legend position not supported\");\n    }\n  }\n  conditionalChecksForAxisCoords(xaxisLabelCoords, xtitleCoords, xaxisGroupLabelCoords) {\n    const w = this.w;\n    const xAxisNum = w.globals.hasXaxisGroups ? 2 : 1;\n    const baseXAxisHeight = xaxisGroupLabelCoords.height + xaxisLabelCoords.height + xtitleCoords.height;\n    const xAxisHeightMultiplicate = w.globals.isMultiLineX ? 1.2 : w.globals.LINE_HEIGHT_RATIO;\n    const rotatedXAxisOffset = w.globals.rotateXLabels ? 22 : 10;\n    const rotatedXAxisLegendOffset = w.globals.rotateXLabels && w.config.legend.position === \"bottom\";\n    const additionalOffset = rotatedXAxisLegendOffset ? 10 : 0;\n    this.xAxisHeight = baseXAxisHeight * xAxisHeightMultiplicate + xAxisNum * rotatedXAxisOffset + additionalOffset;\n    this.xAxisWidth = xaxisLabelCoords.width;\n    if (this.xAxisHeight - xtitleCoords.height > w.config.xaxis.labels.maxHeight) {\n      this.xAxisHeight = w.config.xaxis.labels.maxHeight;\n    }\n    if (w.config.xaxis.labels.minHeight && this.xAxisHeight < w.config.xaxis.labels.minHeight) {\n      this.xAxisHeight = w.config.xaxis.labels.minHeight;\n    }\n    if (w.config.xaxis.floating) {\n      this.xAxisHeight = 0;\n    }\n    let minYAxisWidth = 0;\n    let maxYAxisWidth = 0;\n    w.config.yaxis.forEach(y => {\n      minYAxisWidth += y.labels.minWidth;\n      maxYAxisWidth += y.labels.maxWidth;\n    });\n    if (this.yAxisWidth < minYAxisWidth) {\n      this.yAxisWidth = minYAxisWidth;\n    }\n    if (this.yAxisWidth > maxYAxisWidth) {\n      this.yAxisWidth = maxYAxisWidth;\n    }\n  }\n}\nlet Helpers$2 = class Helpers3 {\n  constructor(lgCtx) {\n    this.w = lgCtx.w;\n    this.lgCtx = lgCtx;\n  }\n  getLegendStyles() {\n    var _a, _b, _c;\n    let stylesheet = document.createElement(\"style\");\n    stylesheet.setAttribute(\"type\", \"text/css\");\n    const nonce = ((_c = (_b = (_a = this.lgCtx.ctx) == null ? void 0 : _a.opts) == null ? void 0 : _b.chart) == null ? void 0 : _c.nonce) || this.w.config.chart.nonce;\n    if (nonce) {\n      stylesheet.setAttribute(\"nonce\", nonce);\n    }\n    const rule = document.createTextNode(apexchartsLegendCSS);\n    stylesheet.appendChild(rule);\n    return stylesheet;\n  }\n  getLegendDimensions() {\n    const w = this.w;\n    let currLegendsWrap = w.globals.dom.baseEl.querySelector(\".apexcharts-legend\");\n    let {\n      width: currLegendsWrapWidth,\n      height: currLegendsWrapHeight\n    } = currLegendsWrap.getBoundingClientRect();\n    return {\n      clwh: currLegendsWrapHeight,\n      clww: currLegendsWrapWidth\n    };\n  }\n  appendToForeignObject() {\n    const gl = this.w.globals;\n    if (this.w.config.chart.injectStyleSheet !== false) {\n      gl.dom.elLegendForeign.appendChild(this.getLegendStyles());\n    }\n  }\n  toggleDataSeries(seriesCnt, isHidden) {\n    const w = this.w;\n    if (w.globals.axisCharts || w.config.chart.type === \"radialBar\") {\n      w.globals.resized = true;\n      let seriesEl = null;\n      let realIndex = null;\n      w.globals.risingSeries = [];\n      if (w.globals.axisCharts) {\n        seriesEl = w.globals.dom.baseEl.querySelector(`.apexcharts-series[data\\\\:realIndex='${seriesCnt}']`);\n        if (!seriesEl) return;\n        realIndex = parseInt(seriesEl.getAttribute(\"data:realIndex\"), 10);\n      } else {\n        seriesEl = w.globals.dom.baseEl.querySelector(`.apexcharts-series[rel='${seriesCnt + 1}']`);\n        if (!seriesEl) return;\n        realIndex = parseInt(seriesEl.getAttribute(\"rel\"), 10) - 1;\n      }\n      if (isHidden) {\n        const seriesToMakeVisible = [{\n          cs: w.globals.collapsedSeries,\n          csi: w.globals.collapsedSeriesIndices\n        }, {\n          cs: w.globals.ancillaryCollapsedSeries,\n          csi: w.globals.ancillaryCollapsedSeriesIndices\n        }];\n        seriesToMakeVisible.forEach(r => {\n          this.riseCollapsedSeries(r.cs, r.csi, realIndex);\n        });\n      } else {\n        this.hideSeries({\n          seriesEl,\n          realIndex\n        });\n      }\n      if (w.config.chart.accessibility.enabled) {\n        const legendItem = w.globals.dom.baseEl.querySelector(`.apexcharts-legend-series[rel=\"${seriesCnt + 1}\"]`);\n        if (legendItem) {\n          const isCollapsed = w.globals.collapsedSeriesIndices.includes(realIndex) || w.globals.ancillaryCollapsedSeriesIndices.includes(realIndex);\n          legendItem.setAttribute(\"aria-pressed\", isCollapsed ? \"true\" : \"false\");\n          const legendTextEl = legendItem.querySelector(\".apexcharts-legend-text\");\n          const seriesName = legendTextEl ? legendTextEl.textContent : w.globals.seriesNames[seriesCnt];\n          const statusText = isCollapsed ? \"hidden\" : \"visible\";\n          legendItem.setAttribute(\"aria-label\", `${seriesName}, ${statusText}. Press Enter or Space to toggle.`);\n        }\n      }\n    } else {\n      let seriesEl = w.globals.dom.Paper.findOne(` .apexcharts-series[rel='${seriesCnt + 1}'] path`);\n      const type = w.config.chart.type;\n      if (type === \"pie\" || type === \"polarArea\" || type === \"donut\") {\n        let dataLabels = w.config.plotOptions.pie.donut.labels;\n        const graphics = new Graphics(this.lgCtx.ctx);\n        graphics.pathMouseDown(seriesEl, null);\n        this.lgCtx.ctx.pie.printDataLabelsInner(seriesEl.node, dataLabels);\n      }\n      if (w.config.chart.accessibility.enabled) {\n        const legendItem = w.globals.dom.baseEl.querySelector(`.apexcharts-legend-series[rel=\"${seriesCnt + 1}\"]`);\n        if (legendItem) {\n          const isCollapsed = w.globals.collapsedSeriesIndices.includes(seriesCnt);\n          legendItem.setAttribute(\"aria-pressed\", isCollapsed ? \"true\" : \"false\");\n          const legendTextEl = legendItem.querySelector(\".apexcharts-legend-text\");\n          const seriesName = legendTextEl ? legendTextEl.textContent : w.globals.seriesNames[seriesCnt];\n          const statusText = isCollapsed ? \"hidden\" : \"visible\";\n          legendItem.setAttribute(\"aria-label\", `${seriesName}, ${statusText}. Press Enter or Space to toggle.`);\n        }\n      }\n    }\n  }\n  getSeriesAfterCollapsing({\n    realIndex\n  }) {\n    const w = this.w;\n    const gl = w.globals;\n    let series = Utils$1.clone(w.config.series);\n    if (gl.axisCharts) {\n      let yaxis = w.config.yaxis[gl.seriesYAxisReverseMap[realIndex]];\n      const collapseData = {\n        index: realIndex,\n        data: series[realIndex].data.slice(),\n        type: series[realIndex].type || w.config.chart.type\n      };\n      if (yaxis && yaxis.show && yaxis.showAlways) {\n        if (gl.ancillaryCollapsedSeriesIndices.indexOf(realIndex) < 0) {\n          gl.ancillaryCollapsedSeries.push(collapseData);\n          gl.ancillaryCollapsedSeriesIndices.push(realIndex);\n        }\n      } else {\n        if (gl.collapsedSeriesIndices.indexOf(realIndex) < 0) {\n          gl.collapsedSeries.push(collapseData);\n          gl.collapsedSeriesIndices.push(realIndex);\n          let removeIndexOfRising = gl.risingSeries.indexOf(realIndex);\n          gl.risingSeries.splice(removeIndexOfRising, 1);\n        }\n      }\n    } else {\n      gl.collapsedSeries.push({\n        index: realIndex,\n        data: series[realIndex]\n      });\n      gl.collapsedSeriesIndices.push(realIndex);\n    }\n    gl.allSeriesCollapsed = gl.collapsedSeries.length + gl.ancillaryCollapsedSeries.length === w.config.series.length;\n    return this._getSeriesBasedOnCollapsedState(series);\n  }\n  hideSeries({\n    seriesEl,\n    realIndex\n  }) {\n    const w = this.w;\n    let series = this.getSeriesAfterCollapsing({\n      realIndex\n    });\n    let seriesChildren = seriesEl.childNodes;\n    for (let sc = 0; sc < seriesChildren.length; sc++) {\n      if (seriesChildren[sc].classList.contains(\"apexcharts-series-markers-wrap\")) {\n        if (seriesChildren[sc].classList.contains(\"apexcharts-hide\")) {\n          seriesChildren[sc].classList.remove(\"apexcharts-hide\");\n        } else {\n          seriesChildren[sc].classList.add(\"apexcharts-hide\");\n        }\n      }\n    }\n    this.lgCtx.ctx.updateHelpers._updateSeries(series, w.config.chart.animations.dynamicAnimation.enabled);\n  }\n  riseCollapsedSeries(collapsedSeries, seriesIndices, realIndex) {\n    const w = this.w;\n    let series = Utils$1.clone(w.config.series);\n    if (collapsedSeries.length > 0) {\n      for (let c = 0; c < collapsedSeries.length; c++) {\n        if (collapsedSeries[c].index === realIndex) {\n          if (w.globals.axisCharts) {\n            series[realIndex].data = collapsedSeries[c].data.slice();\n          } else {\n            series[realIndex] = collapsedSeries[c].data;\n          }\n          if (typeof series[realIndex] !== \"number\") {\n            series[realIndex].hidden = false;\n          }\n          collapsedSeries.splice(c, 1);\n          seriesIndices.splice(c, 1);\n          w.globals.risingSeries.push(realIndex);\n          c--;\n        }\n      }\n      series = this._getSeriesBasedOnCollapsedState(series);\n      this.lgCtx.ctx.updateHelpers._updateSeries(series, w.config.chart.animations.dynamicAnimation.enabled);\n    }\n  }\n  _getSeriesBasedOnCollapsedState(series) {\n    const w = this.w;\n    let collapsed = 0;\n    if (w.globals.axisCharts) {\n      series.forEach((s, sI) => {\n        if (!(w.globals.collapsedSeriesIndices.indexOf(sI) < 0 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(sI) < 0)) {\n          series[sI].data = [];\n          collapsed++;\n        }\n      });\n    } else {\n      series.forEach((s, sI) => {\n        if (!(w.globals.collapsedSeriesIndices.indexOf(sI) < 0)) {\n          series[sI] = 0;\n          collapsed++;\n        }\n      });\n    }\n    w.globals.allSeriesCollapsed = collapsed === series.length;\n    return series;\n  }\n};\nclass Legend {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.onLegendClick = this.onLegendClick.bind(this);\n    this.onLegendHovered = this.onLegendHovered.bind(this);\n    this.isBarsDistributed = this.w.config.chart.type === \"bar\" && this.w.config.plotOptions.bar.distributed && this.w.config.series.length === 1;\n    this.legendHelpers = new Helpers$2(this);\n  }\n  init() {\n    const w = this.w;\n    const gl = w.globals;\n    const cnf = w.config;\n    const showLegendAlways = cnf.legend.showForSingleSeries && gl.series.length === 1 || this.isBarsDistributed || gl.series.length > 1;\n    this.legendHelpers.appendToForeignObject();\n    if ((showLegendAlways || !gl.axisCharts) && cnf.legend.show) {\n      while (gl.dom.elLegendWrap.firstChild) {\n        gl.dom.elLegendWrap.removeChild(gl.dom.elLegendWrap.firstChild);\n      }\n      this.drawLegends();\n      if (cnf.legend.position === \"bottom\" || cnf.legend.position === \"top\") {\n        this.legendAlignHorizontal();\n      } else if (cnf.legend.position === \"right\" || cnf.legend.position === \"left\") {\n        this.legendAlignVertical();\n      }\n    }\n  }\n  createLegendMarker({\n    i,\n    fillcolor\n  }) {\n    const w = this.w;\n    const elMarker = document.createElement(\"span\");\n    elMarker.classList.add(\"apexcharts-legend-marker\");\n    let mShape = w.config.legend.markers.shape || w.config.markers.shape;\n    let shape = mShape;\n    if (Array.isArray(mShape)) {\n      shape = mShape[i];\n    }\n    let mSize = Array.isArray(w.config.legend.markers.size) ? parseFloat(w.config.legend.markers.size[i]) : parseFloat(w.config.legend.markers.size);\n    let mOffsetX = Array.isArray(w.config.legend.markers.offsetX) ? parseFloat(w.config.legend.markers.offsetX[i]) : parseFloat(w.config.legend.markers.offsetX);\n    let mOffsetY = Array.isArray(w.config.legend.markers.offsetY) ? parseFloat(w.config.legend.markers.offsetY[i]) : parseFloat(w.config.legend.markers.offsetY);\n    let mBorderWidth = Array.isArray(w.config.legend.markers.strokeWidth) ? parseFloat(w.config.legend.markers.strokeWidth[i]) : parseFloat(w.config.legend.markers.strokeWidth);\n    let mStyle = elMarker.style;\n    mStyle.height = (mSize + mBorderWidth) * 2 + \"px\";\n    mStyle.width = (mSize + mBorderWidth) * 2 + \"px\";\n    mStyle.left = mOffsetX + \"px\";\n    mStyle.top = mOffsetY + \"px\";\n    if (w.config.legend.markers.customHTML) {\n      mStyle.background = \"transparent\";\n      mStyle.color = fillcolor[i];\n      if (Array.isArray(w.config.legend.markers.customHTML)) {\n        if (w.config.legend.markers.customHTML[i]) {\n          elMarker.innerHTML = w.config.legend.markers.customHTML[i]();\n        }\n      } else {\n        elMarker.innerHTML = w.config.legend.markers.customHTML();\n      }\n    } else {\n      let markers = new Markers(this.ctx);\n      const markerConfig = markers.getMarkerConfig({\n        cssClass: `apexcharts-legend-marker apexcharts-marker apexcharts-marker-${shape}`,\n        seriesIndex: i,\n        strokeWidth: mBorderWidth,\n        size: mSize\n      });\n      const SVGMarker = window.SVG().addTo(elMarker).size(\"100%\", \"100%\");\n      const marker = new Graphics(this.ctx).drawMarker(0, 0, __spreadProps(__spreadValues({}, markerConfig), {\n        pointFillColor: Array.isArray(fillcolor) ? fillcolor[i] : markerConfig.pointFillColor,\n        shape\n      }));\n      const shapesEls = w.globals.dom.Paper.find(\".apexcharts-legend-marker.apexcharts-marker\");\n      shapesEls.forEach(shapeEl => {\n        if (shapeEl.node.classList.contains(\"apexcharts-marker-triangle\")) {\n          shapeEl.node.style.transform = \"translate(50%, 45%)\";\n        } else {\n          shapeEl.node.style.transform = \"translate(50%, 50%)\";\n        }\n      });\n      SVGMarker.add(marker);\n    }\n    return elMarker;\n  }\n  drawLegends() {\n    var _a;\n    let me = this;\n    let w = this.w;\n    let fontFamily = w.config.legend.fontFamily;\n    let legendNames = w.globals.seriesNames;\n    let fillcolor = w.config.legend.markers.fillColors ? w.config.legend.markers.fillColors.slice() : w.globals.colors.slice();\n    if (w.config.chart.type === \"heatmap\") {\n      const ranges = w.config.plotOptions.heatmap.colorScale.ranges;\n      legendNames = ranges.map(colorScale => {\n        return colorScale.name ? colorScale.name : colorScale.from + \" - \" + colorScale.to;\n      });\n      fillcolor = ranges.map(color => color.color);\n    } else if (this.isBarsDistributed) {\n      legendNames = w.globals.labels.slice();\n    }\n    if (w.config.legend.customLegendItems.length) {\n      legendNames = w.config.legend.customLegendItems;\n    }\n    let legendFormatter = w.globals.legendFormatter;\n    let isLegendInversed = w.config.legend.inverseOrder;\n    let legendGroups = [];\n    if (w.globals.seriesGroups.length > 1 && w.config.legend.clusterGroupedSeries) {\n      w.globals.seriesGroups.forEach((_, gi) => {\n        legendGroups[gi] = document.createElement(\"div\");\n        legendGroups[gi].classList.add(\"apexcharts-legend-group\", `apexcharts-legend-group-${gi}`);\n        if (w.config.legend.clusterGroupedSeriesOrientation === \"horizontal\") {\n          w.globals.dom.elLegendWrap.classList.add(\"apexcharts-legend-group-horizontal\");\n        } else {\n          legendGroups[gi].classList.add(\"apexcharts-legend-group-vertical\");\n        }\n      });\n    }\n    for (let i = isLegendInversed ? legendNames.length - 1 : 0; isLegendInversed ? i >= 0 : i <= legendNames.length - 1; isLegendInversed ? i-- : i++) {\n      let text = legendFormatter(legendNames[i], {\n        seriesIndex: i,\n        w\n      });\n      let collapsedSeries = false;\n      let ancillaryCollapsedSeries = false;\n      if (w.globals.collapsedSeries.length > 0) {\n        for (let c = 0; c < w.globals.collapsedSeries.length; c++) {\n          if (w.globals.collapsedSeries[c].index === i) {\n            collapsedSeries = true;\n          }\n        }\n      }\n      if (w.globals.ancillaryCollapsedSeriesIndices.length > 0) {\n        for (let c = 0; c < w.globals.ancillaryCollapsedSeriesIndices.length; c++) {\n          if (w.globals.ancillaryCollapsedSeriesIndices[c] === i) {\n            ancillaryCollapsedSeries = true;\n          }\n        }\n      }\n      let elMarker = this.createLegendMarker({\n        i,\n        fillcolor\n      });\n      Graphics.setAttrs(elMarker, {\n        rel: i + 1,\n        \"data:collapsed\": collapsedSeries || ancillaryCollapsedSeries\n      });\n      if (collapsedSeries || ancillaryCollapsedSeries) {\n        elMarker.classList.add(\"apexcharts-inactive-legend\");\n      }\n      let elLegend = document.createElement(\"div\");\n      if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n        elLegend.setAttribute(\"role\", \"button\");\n        elLegend.setAttribute(\"tabindex\", \"0\");\n        const seriesName = Array.isArray(text) ? text.join(\" \") : text;\n        const isCollapsed = collapsedSeries || ancillaryCollapsedSeries;\n        const statusText = isCollapsed ? \"hidden\" : \"visible\";\n        elLegend.setAttribute(\"aria-label\", `${seriesName}, ${statusText}. Press Enter or Space to toggle.`);\n        elLegend.setAttribute(\"aria-pressed\", isCollapsed ? \"true\" : \"false\");\n      }\n      let elLegendText = document.createElement(\"span\");\n      elLegendText.classList.add(\"apexcharts-legend-text\");\n      elLegendText.innerHTML = Array.isArray(text) ? text.join(\" \") : text;\n      let textColor = w.config.legend.labels.useSeriesColors ? w.globals.colors[i] : Array.isArray(w.config.legend.labels.colors) ? (_a = w.config.legend.labels.colors) == null ? void 0 : _a[i] : w.config.legend.labels.colors;\n      if (!textColor) {\n        textColor = w.config.chart.foreColor;\n      }\n      elLegendText.style.color = textColor;\n      elLegendText.style.fontSize = w.config.legend.fontSize;\n      elLegendText.style.fontWeight = w.config.legend.fontWeight;\n      elLegendText.style.fontFamily = fontFamily || w.config.chart.fontFamily;\n      Graphics.setAttrs(elLegendText, {\n        rel: i + 1,\n        i,\n        \"data:default-text\": encodeURIComponent(text),\n        \"data:collapsed\": collapsedSeries || ancillaryCollapsedSeries\n      });\n      elLegend.appendChild(elMarker);\n      elLegend.appendChild(elLegendText);\n      const coreUtils = new CoreUtils(this.ctx);\n      if (!w.config.legend.showForZeroSeries) {\n        const total = coreUtils.getSeriesTotalByIndex(i);\n        if (total === 0 && coreUtils.seriesHaveSameValues(i) && !coreUtils.isSeriesNull(i) && w.globals.collapsedSeriesIndices.indexOf(i) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(i) === -1) {\n          elLegend.classList.add(\"apexcharts-hidden-zero-series\");\n        }\n      }\n      if (!w.config.legend.showForNullSeries) {\n        if (coreUtils.isSeriesNull(i) && w.globals.collapsedSeriesIndices.indexOf(i) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(i) === -1) {\n          elLegend.classList.add(\"apexcharts-hidden-null-series\");\n        }\n      }\n      if (legendGroups.length) {\n        w.globals.seriesGroups.forEach((group, gi) => {\n          var _a2;\n          if (group.includes((_a2 = w.config.series[i]) == null ? void 0 : _a2.name)) {\n            w.globals.dom.elLegendWrap.appendChild(legendGroups[gi]);\n            legendGroups[gi].appendChild(elLegend);\n          }\n        });\n      } else {\n        w.globals.dom.elLegendWrap.appendChild(elLegend);\n      }\n      w.globals.dom.elLegendWrap.classList.add(`apexcharts-align-${w.config.legend.horizontalAlign}`);\n      w.globals.dom.elLegendWrap.classList.add(\"apx-legend-position-\" + w.config.legend.position);\n      elLegend.classList.add(\"apexcharts-legend-series\");\n      elLegend.style.margin = `${w.config.legend.itemMargin.vertical}px ${w.config.legend.itemMargin.horizontal}px`;\n      w.globals.dom.elLegendWrap.style.width = w.config.legend.width ? w.config.legend.width + \"px\" : \"\";\n      w.globals.dom.elLegendWrap.style.height = w.config.legend.height ? w.config.legend.height + \"px\" : \"\";\n      Graphics.setAttrs(elLegend, {\n        rel: i + 1,\n        seriesName: Utils$1.escapeString(legendNames[i]),\n        \"data:collapsed\": collapsedSeries || ancillaryCollapsedSeries\n      });\n      if (collapsedSeries || ancillaryCollapsedSeries) {\n        elLegend.classList.add(\"apexcharts-inactive-legend\");\n      }\n      if (!w.config.legend.onItemClick.toggleDataSeries) {\n        elLegend.classList.add(\"apexcharts-no-click\");\n      }\n    }\n    w.globals.dom.elWrap.addEventListener(\"click\", me.onLegendClick, true);\n    if (w.config.legend.onItemHover.highlightDataSeries && w.config.legend.customLegendItems.length === 0) {\n      w.globals.dom.elWrap.addEventListener(\"mousemove\", me.onLegendHovered, true);\n      w.globals.dom.elWrap.addEventListener(\"mouseout\", me.onLegendHovered, true);\n    }\n    if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n      w.globals.dom.elWrap.addEventListener(\"keydown\", me.onLegendKeyDown.bind(me), true);\n    }\n  }\n  setLegendWrapXY(offsetX, offsetY) {\n    let w = this.w;\n    let elLegendWrap = w.globals.dom.elLegendWrap;\n    const legendHeight = elLegendWrap.clientHeight;\n    let x = 0;\n    let y = 0;\n    if (w.config.legend.position === \"bottom\") {\n      y = w.globals.svgHeight - Math.min(legendHeight, w.globals.svgHeight / 2) - 5;\n    } else if (w.config.legend.position === \"top\") {\n      const dim = new Dimensions(this.ctx);\n      const titleH = dim.dimHelpers.getTitleSubtitleCoords(\"title\").height;\n      const subtitleH = dim.dimHelpers.getTitleSubtitleCoords(\"subtitle\").height;\n      y = (titleH > 0 ? titleH - 10 : 0) + (subtitleH > 0 ? subtitleH - 10 : 0);\n    }\n    elLegendWrap.style.position = \"absolute\";\n    x = x + offsetX + w.config.legend.offsetX;\n    y = y + offsetY + w.config.legend.offsetY;\n    elLegendWrap.style.left = x + \"px\";\n    elLegendWrap.style.top = y + \"px\";\n    if (w.config.legend.position === \"right\") {\n      elLegendWrap.style.left = \"auto\";\n      elLegendWrap.style.right = 25 + w.config.legend.offsetX + \"px\";\n    }\n    const fixedHeigthWidth = [\"width\", \"height\"];\n    fixedHeigthWidth.forEach(hw => {\n      if (elLegendWrap.style[hw]) {\n        elLegendWrap.style[hw] = parseInt(w.config.legend[hw], 10) + \"px\";\n      }\n    });\n  }\n  legendAlignHorizontal() {\n    let w = this.w;\n    let elLegendWrap = w.globals.dom.elLegendWrap;\n    elLegendWrap.style.right = 0;\n    let dimensions = new Dimensions(this.ctx);\n    let titleRect = dimensions.dimHelpers.getTitleSubtitleCoords(\"title\");\n    let subtitleRect = dimensions.dimHelpers.getTitleSubtitleCoords(\"subtitle\");\n    let offsetX = 20;\n    let offsetY = 0;\n    if (w.config.legend.position === \"top\") {\n      offsetY = titleRect.height + subtitleRect.height + w.config.title.margin + w.config.subtitle.margin - 10;\n    }\n    this.setLegendWrapXY(offsetX, offsetY);\n  }\n  legendAlignVertical() {\n    let w = this.w;\n    let lRect = this.legendHelpers.getLegendDimensions();\n    let offsetY = 20;\n    let offsetX = 0;\n    if (w.config.legend.position === \"left\") {\n      offsetX = 20;\n    }\n    if (w.config.legend.position === \"right\") {\n      offsetX = w.globals.svgWidth - lRect.clww - 10;\n    }\n    this.setLegendWrapXY(offsetX, offsetY);\n  }\n  onLegendHovered(e) {\n    const w = this.w;\n    const hoverOverLegend = e.target.classList.contains(\"apexcharts-legend-series\") || e.target.classList.contains(\"apexcharts-legend-text\") || e.target.classList.contains(\"apexcharts-legend-marker\");\n    if (w.config.chart.type !== \"heatmap\" && !this.isBarsDistributed) {\n      if (!e.target.classList.contains(\"apexcharts-inactive-legend\") && hoverOverLegend) {\n        let series = new Series(this.ctx);\n        series.toggleSeriesOnHover(e, e.target);\n      }\n    } else {\n      if (hoverOverLegend) {\n        let seriesCnt = parseInt(e.target.getAttribute(\"rel\"), 10) - 1;\n        this.ctx.events.fireEvent(\"legendHover\", [this.ctx, seriesCnt, this.w]);\n        let series = new Series(this.ctx);\n        series.highlightRangeInSeries(e, e.target);\n      }\n    }\n  }\n  onLegendKeyDown(e) {\n    const me = this;\n    const isLegendItem = e.target.classList.contains(\"apexcharts-legend-series\") || e.target.classList.contains(\"apexcharts-legend-text\") || e.target.classList.contains(\"apexcharts-legend-marker\");\n    if (!isLegendItem) return;\n    if (e.key === \"Enter\" || e.key === \" \") {\n      e.preventDefault();\n      me.onLegendClick(e);\n    }\n  }\n  onLegendClick(e) {\n    const w = this.w;\n    if (w.config.legend.customLegendItems.length) return;\n    if (e.target.classList.contains(\"apexcharts-legend-series\") || e.target.classList.contains(\"apexcharts-legend-text\") || e.target.classList.contains(\"apexcharts-legend-marker\")) {\n      let seriesCnt = parseInt(e.target.getAttribute(\"rel\"), 10) - 1;\n      let isHidden = e.target.getAttribute(\"data:collapsed\") === \"true\";\n      const legendClick = this.w.config.chart.events.legendClick;\n      if (typeof legendClick === \"function\") {\n        legendClick(this.ctx, seriesCnt, this.w);\n      }\n      this.ctx.events.fireEvent(\"legendClick\", [this.ctx, seriesCnt, this.w]);\n      const markerClick = this.w.config.legend.markers.onClick;\n      if (typeof markerClick === \"function\" && e.target.classList.contains(\"apexcharts-legend-marker\")) {\n        markerClick(this.ctx, seriesCnt, this.w);\n        this.ctx.events.fireEvent(\"legendMarkerClick\", [this.ctx, seriesCnt, this.w]);\n      }\n      const clickAllowed = w.config.chart.type !== \"treemap\" && w.config.chart.type !== \"heatmap\" && !this.isBarsDistributed;\n      if (clickAllowed && w.config.legend.onItemClick.toggleDataSeries) {\n        this.legendHelpers.toggleDataSeries(seriesCnt, isHidden);\n      }\n    }\n  }\n}\nconst icoPan = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\\n    <defs>\\n        <path d=\"M0 0h24v24H0z\" id=\"a\"/>\\n    </defs>\\n    <clipPath id=\"b\">\\n        <use overflow=\"visible\" xlink:href=\"#a\"/>\\n    </clipPath>\\n    <path clip-path=\"url(#b)\" d=\"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z\"/>\\n</svg>';\nconst icoZoom = '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\\n    <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\\n    <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\\n</svg>';\nconst icoReset = '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\\n    <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/>\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n</svg>';\nconst icoZoomIn = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n    <path d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\\n</svg>\\n';\nconst icoZoomOut = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n    <path d=\"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\\n</svg>\\n';\nconst icoSelect = '<svg fill=\"#6E8192\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n    <path d=\"M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z\"/>\\n</svg>';\nconst icoMenu = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/></svg>';\nclass Toolbar {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.ev = this.w.config.chart.events;\n    this.selectedClass = \"apexcharts-selected\";\n    this.localeValues = this.w.globals.locale.toolbar;\n    this.minX = w.globals.minX;\n    this.maxX = w.globals.maxX;\n  }\n  createToolbar() {\n    let w = this.w;\n    const createDiv = () => {\n      return document.createElement(\"div\");\n    };\n    const elToolbarWrap = createDiv();\n    elToolbarWrap.setAttribute(\"class\", \"apexcharts-toolbar\");\n    elToolbarWrap.style.top = w.config.chart.toolbar.offsetY + \"px\";\n    elToolbarWrap.style.right = -w.config.chart.toolbar.offsetX + 3 + \"px\";\n    w.globals.dom.elWrap.appendChild(elToolbarWrap);\n    this.elZoom = createDiv();\n    this.elZoomIn = createDiv();\n    this.elZoomOut = createDiv();\n    this.elPan = createDiv();\n    this.elSelection = createDiv();\n    this.elZoomReset = createDiv();\n    this.elMenuIcon = createDiv();\n    this.elMenu = createDiv();\n    this.elCustomIcons = [];\n    this.t = w.config.chart.toolbar.tools;\n    if (Array.isArray(this.t.customIcons)) {\n      for (let i = 0; i < this.t.customIcons.length; i++) {\n        this.elCustomIcons.push(createDiv());\n      }\n    }\n    let toolbarControls = [];\n    const appendZoomControl = (type, el, ico) => {\n      const tool = type.toLowerCase();\n      if (this.t[tool] && w.config.chart.zoom.enabled) {\n        toolbarControls.push({\n          el,\n          icon: typeof this.t[tool] === \"string\" ? this.t[tool] : ico,\n          title: this.localeValues[type],\n          class: `apexcharts-${tool}-icon`\n        });\n      }\n    };\n    appendZoomControl(\"zoomIn\", this.elZoomIn, icoZoomIn);\n    appendZoomControl(\"zoomOut\", this.elZoomOut, icoZoomOut);\n    const zoomSelectionCtrls = z => {\n      if (this.t[z] && w.config.chart[z].enabled) {\n        toolbarControls.push({\n          el: z === \"zoom\" ? this.elZoom : this.elSelection,\n          icon: typeof this.t[z] === \"string\" ? this.t[z] : z === \"zoom\" ? icoZoom : icoSelect,\n          title: this.localeValues[z === \"zoom\" ? \"selectionZoom\" : \"selection\"],\n          class: `apexcharts-${z}-icon`\n        });\n      }\n    };\n    zoomSelectionCtrls(\"zoom\");\n    zoomSelectionCtrls(\"selection\");\n    if (this.t.pan && w.config.chart.zoom.enabled) {\n      toolbarControls.push({\n        el: this.elPan,\n        icon: typeof this.t.pan === \"string\" ? this.t.pan : icoPan,\n        title: this.localeValues.pan,\n        class: \"apexcharts-pan-icon\"\n      });\n    }\n    appendZoomControl(\"reset\", this.elZoomReset, icoReset);\n    if (this.t.download) {\n      toolbarControls.push({\n        el: this.elMenuIcon,\n        icon: typeof this.t.download === \"string\" ? this.t.download : icoMenu,\n        title: this.localeValues.menu,\n        class: \"apexcharts-menu-icon\"\n      });\n    }\n    for (let i = 0; i < this.elCustomIcons.length; i++) {\n      toolbarControls.push({\n        el: this.elCustomIcons[i],\n        icon: this.t.customIcons[i].icon,\n        title: this.t.customIcons[i].title,\n        index: this.t.customIcons[i].index,\n        class: \"apexcharts-toolbar-custom-icon \" + this.t.customIcons[i].class\n      });\n    }\n    toolbarControls.forEach((t, index) => {\n      if (t.index) {\n        Utils$1.moveIndexInArray(toolbarControls, index, t.index);\n      }\n    });\n    for (let i = 0; i < toolbarControls.length; i++) {\n      Graphics.setAttrs(toolbarControls[i].el, {\n        class: toolbarControls[i].class,\n        title: toolbarControls[i].title\n      });\n      toolbarControls[i].el.innerHTML = toolbarControls[i].icon;\n      elToolbarWrap.appendChild(toolbarControls[i].el);\n    }\n    this._createHamburgerMenu(elToolbarWrap);\n    if (w.globals.zoomEnabled) {\n      this.elZoom.classList.add(this.selectedClass);\n    } else if (w.globals.panEnabled) {\n      this.elPan.classList.add(this.selectedClass);\n    } else if (w.globals.selectionEnabled) {\n      this.elSelection.classList.add(this.selectedClass);\n    }\n    this.addToolbarEventListeners();\n  }\n  _createHamburgerMenu(parent) {\n    this.elMenuItems = [];\n    parent.appendChild(this.elMenu);\n    Graphics.setAttrs(this.elMenu, {\n      class: \"apexcharts-menu\"\n    });\n    const menuItems = [{\n      name: \"exportSVG\",\n      title: this.localeValues.exportToSVG\n    }, {\n      name: \"exportPNG\",\n      title: this.localeValues.exportToPNG\n    }, {\n      name: \"exportCSV\",\n      title: this.localeValues.exportToCSV\n    }];\n    for (let i = 0; i < menuItems.length; i++) {\n      this.elMenuItems.push(document.createElement(\"div\"));\n      this.elMenuItems[i].innerHTML = menuItems[i].title;\n      Graphics.setAttrs(this.elMenuItems[i], {\n        class: `apexcharts-menu-item ${menuItems[i].name}`,\n        title: menuItems[i].title\n      });\n      this.elMenu.appendChild(this.elMenuItems[i]);\n    }\n  }\n  addToolbarEventListeners() {\n    this.elZoomReset.addEventListener(\"click\", this.handleZoomReset.bind(this));\n    this.elSelection.addEventListener(\"click\", this.toggleZoomSelection.bind(this, \"selection\"));\n    this.elZoom.addEventListener(\"click\", this.toggleZoomSelection.bind(this, \"zoom\"));\n    this.elZoomIn.addEventListener(\"click\", this.handleZoomIn.bind(this));\n    this.elZoomOut.addEventListener(\"click\", this.handleZoomOut.bind(this));\n    this.elPan.addEventListener(\"click\", this.togglePanning.bind(this));\n    this.elMenuIcon.addEventListener(\"click\", this.toggleMenu.bind(this));\n    this.elMenuItems.forEach(m => {\n      if (m.classList.contains(\"exportSVG\")) {\n        m.addEventListener(\"click\", this.handleDownload.bind(this, \"svg\"));\n      } else if (m.classList.contains(\"exportPNG\")) {\n        m.addEventListener(\"click\", this.handleDownload.bind(this, \"png\"));\n      } else if (m.classList.contains(\"exportCSV\")) {\n        m.addEventListener(\"click\", this.handleDownload.bind(this, \"csv\"));\n      }\n    });\n    for (let i = 0; i < this.t.customIcons.length; i++) {\n      this.elCustomIcons[i].addEventListener(\"click\", this.t.customIcons[i].click.bind(this, this.ctx, this.ctx.w));\n    }\n  }\n  toggleZoomSelection(type) {\n    const charts = this.ctx.getSyncedCharts();\n    charts.forEach(ch => {\n      ch.ctx.toolbar.toggleOtherControls();\n      let el = type === \"selection\" ? ch.ctx.toolbar.elSelection : ch.ctx.toolbar.elZoom;\n      let enabledType = type === \"selection\" ? \"selectionEnabled\" : \"zoomEnabled\";\n      ch.w.globals[enabledType] = !ch.w.globals[enabledType];\n      if (!el.classList.contains(ch.ctx.toolbar.selectedClass)) {\n        el.classList.add(ch.ctx.toolbar.selectedClass);\n      } else {\n        el.classList.remove(ch.ctx.toolbar.selectedClass);\n      }\n    });\n  }\n  getToolbarIconsReference() {\n    const w = this.w;\n    if (!this.elZoom) {\n      this.elZoom = w.globals.dom.baseEl.querySelector(\".apexcharts-zoom-icon\");\n    }\n    if (!this.elPan) {\n      this.elPan = w.globals.dom.baseEl.querySelector(\".apexcharts-pan-icon\");\n    }\n    if (!this.elSelection) {\n      this.elSelection = w.globals.dom.baseEl.querySelector(\".apexcharts-selection-icon\");\n    }\n  }\n  enableZoomPanFromToolbar(type) {\n    this.toggleOtherControls();\n    type === \"pan\" ? this.w.globals.panEnabled = true : this.w.globals.zoomEnabled = true;\n    const el = type === \"pan\" ? this.elPan : this.elZoom;\n    const el2 = type === \"pan\" ? this.elZoom : this.elPan;\n    if (el) {\n      el.classList.add(this.selectedClass);\n    }\n    if (el2) {\n      el2.classList.remove(this.selectedClass);\n    }\n  }\n  togglePanning() {\n    const charts = this.ctx.getSyncedCharts();\n    charts.forEach(ch => {\n      ch.ctx.toolbar.toggleOtherControls();\n      ch.w.globals.panEnabled = !ch.w.globals.panEnabled;\n      if (!ch.ctx.toolbar.elPan.classList.contains(ch.ctx.toolbar.selectedClass)) {\n        ch.ctx.toolbar.elPan.classList.add(ch.ctx.toolbar.selectedClass);\n      } else {\n        ch.ctx.toolbar.elPan.classList.remove(ch.ctx.toolbar.selectedClass);\n      }\n    });\n  }\n  toggleOtherControls() {\n    const w = this.w;\n    w.globals.panEnabled = false;\n    w.globals.zoomEnabled = false;\n    w.globals.selectionEnabled = false;\n    this.getToolbarIconsReference();\n    const toggleEls = [this.elPan, this.elSelection, this.elZoom];\n    toggleEls.forEach(el => {\n      if (el) {\n        el.classList.remove(this.selectedClass);\n      }\n    });\n  }\n  handleZoomIn() {\n    const w = this.w;\n    if (w.globals.isRangeBar) {\n      this.minX = w.globals.minY;\n      this.maxX = w.globals.maxY;\n    }\n    const centerX = (this.minX + this.maxX) / 2;\n    let newMinX = (this.minX + centerX) / 2;\n    let newMaxX = (this.maxX + centerX) / 2;\n    const newMinXMaxX = this._getNewMinXMaxX(newMinX, newMaxX);\n    if (!w.globals.disableZoomIn) {\n      this.zoomUpdateOptions(newMinXMaxX.minX, newMinXMaxX.maxX);\n    }\n  }\n  handleZoomOut() {\n    const w = this.w;\n    if (w.globals.isRangeBar) {\n      this.minX = w.globals.minY;\n      this.maxX = w.globals.maxY;\n    }\n    if (w.config.xaxis.type === \"datetime\" && new Date(this.minX).getUTCFullYear() < 1e3) {\n      return;\n    }\n    const centerX = (this.minX + this.maxX) / 2;\n    let newMinX = this.minX - (centerX - this.minX);\n    let newMaxX = this.maxX - (centerX - this.maxX);\n    const newMinXMaxX = this._getNewMinXMaxX(newMinX, newMaxX);\n    if (!w.globals.disableZoomOut) {\n      this.zoomUpdateOptions(newMinXMaxX.minX, newMinXMaxX.maxX);\n    }\n  }\n  _getNewMinXMaxX(newMinX, newMaxX) {\n    const shouldFloor = this.w.config.xaxis.convertedCatToNumeric;\n    return {\n      minX: shouldFloor ? Math.floor(newMinX) : newMinX,\n      maxX: shouldFloor ? Math.floor(newMaxX) : newMaxX\n    };\n  }\n  zoomUpdateOptions(newMinX, newMaxX) {\n    const w = this.w;\n    if (newMinX === void 0 && newMaxX === void 0) {\n      this.handleZoomReset();\n      return;\n    }\n    if (w.config.xaxis.convertedCatToNumeric) {\n      if (newMinX < 1) {\n        newMinX = 1;\n        newMaxX = w.globals.dataPoints;\n      }\n      if (newMaxX - newMinX < 2) {\n        return;\n      }\n    }\n    let xaxis = {\n      min: newMinX,\n      max: newMaxX\n    };\n    const beforeZoomRange = this.getBeforeZoomRange(xaxis);\n    if (beforeZoomRange) {\n      xaxis = beforeZoomRange.xaxis;\n    }\n    let options2 = {\n      xaxis\n    };\n    let yaxis = Utils$1.clone(w.globals.initialConfig.yaxis);\n    if (!w.config.chart.group) {\n      options2.yaxis = yaxis;\n    }\n    this.w.globals.zoomed = true;\n    this.ctx.updateHelpers._updateOptions(options2, false, this.w.config.chart.animations.dynamicAnimation.enabled);\n    this.zoomCallback(xaxis, yaxis);\n  }\n  zoomCallback(xaxis, yaxis) {\n    if (typeof this.ev.zoomed === \"function\") {\n      this.ev.zoomed(this.ctx, {\n        xaxis,\n        yaxis\n      });\n      this.ctx.events.fireEvent(\"zoomed\", {\n        xaxis,\n        yaxis\n      });\n    }\n  }\n  getBeforeZoomRange(xaxis, yaxis) {\n    let newRange = null;\n    if (typeof this.ev.beforeZoom === \"function\") {\n      newRange = this.ev.beforeZoom(this, {\n        xaxis,\n        yaxis\n      });\n    }\n    return newRange;\n  }\n  toggleMenu() {\n    window.setTimeout(() => {\n      if (this.elMenu.classList.contains(\"apexcharts-menu-open\")) {\n        this.elMenu.classList.remove(\"apexcharts-menu-open\");\n      } else {\n        this.elMenu.classList.add(\"apexcharts-menu-open\");\n      }\n    }, 0);\n  }\n  handleDownload(type) {\n    const w = this.w;\n    const exprt = new Exports(this.ctx);\n    switch (type) {\n      case \"svg\":\n        exprt.exportToSVG(this.ctx);\n        break;\n      case \"png\":\n        exprt.exportToPng(this.ctx);\n        break;\n      case \"csv\":\n        exprt.exportToCSV({\n          series: w.config.series,\n          columnDelimiter: w.config.chart.toolbar.export.csv.columnDelimiter\n        });\n        break;\n    }\n  }\n  handleZoomReset() {\n    const charts = this.ctx.getSyncedCharts();\n    charts.forEach(ch => {\n      let w = ch.w;\n      w.globals.lastXAxis.min = w.globals.initialConfig.xaxis.min;\n      w.globals.lastXAxis.max = w.globals.initialConfig.xaxis.max;\n      ch.updateHelpers.revertDefaultAxisMinMax();\n      if (typeof w.config.chart.events.beforeResetZoom === \"function\") {\n        const resetZoomRange = w.config.chart.events.beforeResetZoom(ch, w);\n        if (resetZoomRange) {\n          ch.updateHelpers.revertDefaultAxisMinMax(resetZoomRange);\n        }\n      }\n      if (typeof w.config.chart.events.zoomed === \"function\") {\n        ch.ctx.toolbar.zoomCallback({\n          min: w.config.xaxis.min,\n          max: w.config.xaxis.max\n        });\n      }\n      w.globals.zoomed = false;\n      let series = ch.ctx.series.emptyCollapsedSeries(Utils$1.clone(w.globals.initialSeries));\n      ch.updateHelpers._updateSeries(series, w.config.chart.animations.dynamicAnimation.enabled);\n    });\n  }\n  destroy() {\n    this.elZoom = null;\n    this.elZoomIn = null;\n    this.elZoomOut = null;\n    this.elPan = null;\n    this.elSelection = null;\n    this.elZoomReset = null;\n    this.elMenuIcon = null;\n  }\n}\nclass SVGElement {\n  constructor(node) {\n    this.node = node;\n    if (node) {\n      node.instance = this;\n    }\n    this._listeners = [];\n    this._filter = null;\n  }\n  // ---- Attribute methods ----\n  attr(a, v) {\n    if (typeof a === \"string\" && v === void 0) {\n      return this.node.getAttribute(a);\n    }\n    const attrs = typeof a === \"string\" ? {\n      [a]: v\n    } : a;\n    for (const key in attrs) {\n      let val = attrs[key];\n      if (val === null) {\n        this.node.removeAttribute(key);\n      } else if (val !== void 0) {\n        if (typeof val === \"number\" && isNaN(val)) val = 0;\n        this.node.setAttribute(key, val);\n      }\n    }\n    if (this.node.nodeName === \"text\" && attrs.x != null) {\n      const tspans = this.node.querySelectorAll(\"tspan[data-newline]\");\n      for (let i = 0; i < tspans.length; i++) {\n        tspans[i].setAttribute(\"x\", attrs.x);\n      }\n    }\n    return this;\n  }\n  css(styles) {\n    for (const k in styles) {\n      this.node.style[k] = styles[k];\n    }\n    return this;\n  }\n  fill(v) {\n    if (typeof v === \"object\") {\n      return this.attr(v);\n    }\n    return this.attr(\"fill\", v);\n  }\n  stroke(v) {\n    if (typeof v === \"object\") {\n      if (v.color !== void 0) this.attr(\"stroke\", v.color);\n      if (v.width !== void 0) this.attr(\"stroke-width\", v.width);\n      if (v.dasharray !== void 0) this.attr(\"stroke-dasharray\", v.dasharray);\n      if (v.linecap !== void 0) this.attr(\"stroke-linecap\", v.linecap);\n      if (v.opacity !== void 0) this.attr(\"stroke-opacity\", v.opacity);\n      return this;\n    }\n    return this.attr(\"stroke\", v);\n  }\n  size(w, h) {\n    return this.attr({\n      width: w,\n      height: h\n    });\n  }\n  move(x, y) {\n    return this.attr({\n      x,\n      y\n    });\n  }\n  center(cx, cy) {\n    if (this.node.nodeName === \"g\") {\n      const box = this.bbox();\n      const dx = cx - (box.x + box.width / 2);\n      const dy = cy - (box.y + box.height / 2);\n      return this.attr(\"transform\", `translate(${dx}, ${dy})`);\n    }\n    return this.attr({\n      cx,\n      cy\n    });\n  }\n  // ---- Tree operations ----\n  add(child) {\n    this.node.appendChild(child.node || child);\n    return this;\n  }\n  addTo(parent) {\n    const p = parent.node || parent;\n    p.appendChild(this.node);\n    return this;\n  }\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n    return this;\n  }\n  clear() {\n    while (this.node.firstChild) {\n      this.node.removeChild(this.node.firstChild);\n    }\n    return this;\n  }\n  // ---- Query ----\n  find(selector) {\n    return Array.from(this.node.querySelectorAll(selector)).map(n => n.instance || new SVGElement(n));\n  }\n  findOne(selector) {\n    const n = this.node.querySelector(selector);\n    return n ? n.instance || new SVGElement(n) : null;\n  }\n  // ---- Events ----\n  on(event, handler) {\n    const eventType = event.split(\".\")[0];\n    this._listeners.push({\n      event,\n      eventType,\n      handler\n    });\n    this.node.addEventListener(eventType, handler);\n    return this;\n  }\n  off(event, handler) {\n    if (!event && !handler) {\n      this._listeners.forEach(l => {\n        this.node.removeEventListener(l.eventType, l.handler);\n      });\n      this._listeners = [];\n    } else if (event && !handler) {\n      const eventType = event.split(\".\")[0];\n      this._listeners = this._listeners.filter(l => {\n        if (l.eventType === eventType) {\n          this.node.removeEventListener(l.eventType, l.handler);\n          return false;\n        }\n        return true;\n      });\n    } else {\n      const eventType = event.split(\".\")[0];\n      this._listeners = this._listeners.filter(l => {\n        if (l.eventType === eventType && l.handler === handler) {\n          this.node.removeEventListener(l.eventType, l.handler);\n          return false;\n        }\n        return true;\n      });\n    }\n    return this;\n  }\n  // ---- Iteration ----\n  each(fn, deep) {\n    const children = Array.from(this.node.children);\n    children.forEach(child => {\n      const inst = child.instance || new SVGElement(child);\n      fn.call(inst);\n      if (deep) inst.each(fn, deep);\n    });\n    return this;\n  }\n  // ---- CSS classes ----\n  removeClass(cls) {\n    if (cls === \"*\") {\n      this.node.removeAttribute(\"class\");\n    } else {\n      this.node.classList.remove(cls);\n    }\n    return this;\n  }\n  // ---- Children ----\n  children() {\n    return Array.from(this.node.childNodes).filter(n => n.nodeType === 1).map(n => n.instance || new SVGElement(n));\n  }\n  // ---- Visibility ----\n  hide() {\n    this.node.style.display = \"none\";\n    return this;\n  }\n  show() {\n    this.node.style.display = \"\";\n    return this;\n  }\n  // ---- Measurement ----\n  bbox() {\n    if (typeof this.node.getBBox === \"function\") {\n      try {\n        return this.node.getBBox();\n      } catch (e) {}\n    }\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n  // ---- Text-specific ----\n  tspan(text) {\n    const tspan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"tspan\");\n    tspan.textContent = text;\n    this.node.appendChild(tspan);\n    return new SVGElement(tspan);\n  }\n  // ---- Path-specific ----\n  plot(d) {\n    if (typeof d === \"string\") {\n      this.attr(\"d\", d);\n    }\n    return this;\n  }\n  // ---- Animation (overridden by SVGAnimation mixin) ----\n  animate() {\n    throw new Error(\"Animation module not loaded\");\n  }\n  // ---- Filter methods (set up by SVGFilter module) ----\n  filterWith() {\n    throw new Error(\"Filter module not loaded\");\n  }\n  unfilter(all) {\n    if (this._filter) {\n      this.node.removeAttribute(\"filter\");\n      if (all && this._filter.node && this._filter.node.parentNode) {\n        this._filter.node.parentNode.removeChild(this._filter.node);\n      }\n      this._filter = null;\n    }\n    return this;\n  }\n  filterer() {\n    return this._filter;\n  }\n}\nconst SVGNS = \"http://www.w3.org/2000/svg\";\nclass Point {\n  constructor(x, y) {\n    if (typeof x === \"object\") {\n      this.x = x.x;\n      this.y = x.y;\n    } else {\n      this.x = x || 0;\n      this.y = y || 0;\n    }\n  }\n  transform(matrix) {\n    return matrix.apply(this);\n  }\n  clone() {\n    return new Point(this.x, this.y);\n  }\n}\nclass Matrix {\n  constructor(a, b, c, d, e, f) {\n    this.a = a != null ? a : 1;\n    this.b = b != null ? b : 0;\n    this.c = c != null ? c : 0;\n    this.d = d != null ? d : 1;\n    this.e = e != null ? e : 0;\n    this.f = f != null ? f : 0;\n  }\n  rotate(deg) {\n    const rad = deg * Math.PI / 180;\n    const cos = Math.cos(rad);\n    const sin = Math.sin(rad);\n    return this.multiply(new Matrix(cos, sin, -sin, cos, 0, 0));\n  }\n  scale(sx, sy) {\n    return this.multiply(new Matrix(sx, 0, 0, sy != null ? sy : sx, 0, 0));\n  }\n  multiply(m) {\n    return new Matrix(this.a * m.a + this.c * m.b, this.b * m.a + this.d * m.b, this.a * m.c + this.c * m.d, this.b * m.c + this.d * m.d, this.a * m.e + this.c * m.f + this.e, this.b * m.e + this.d * m.f + this.f);\n  }\n  apply(point) {\n    return new Point(this.a * point.x + this.c * point.y + this.e, this.b * point.x + this.d * point.y + this.f);\n  }\n}\nclass Box {\n  constructor(x, y, w, h) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.width = w;\n    this.height = h;\n    this.x2 = x + w;\n    this.y2 = y + h;\n  }\n}\nlet gradientCounter = 0;\nclass SVGGradient extends SVGElement {\n  constructor(container, type, builder) {\n    const tag = type === \"radial\" ? \"radialGradient\" : \"linearGradient\";\n    const node = BrowserAPIs.createElementNS(SVGNS, tag);\n    super(node);\n    this._id = \"SvgjsGradient\" + ++gradientCounter;\n    this.attr(\"id\", this._id);\n    if (typeof builder === \"function\") {\n      builder(new StopBuilder(this));\n    }\n    let defs = container.node.querySelector(\"defs\");\n    if (!defs) {\n      defs = BrowserAPIs.createElementNS(SVGNS, \"defs\");\n      container.node.appendChild(defs);\n    }\n    defs.appendChild(this.node);\n  }\n  stop(offset, color, opacity) {\n    const s = BrowserAPIs.createElementNS(SVGNS, \"stop\");\n    s.setAttribute(\"offset\", offset);\n    s.setAttribute(\"stop-color\", color);\n    if (opacity !== void 0) s.setAttribute(\"stop-opacity\", opacity);\n    this.node.appendChild(s);\n    return this;\n  }\n  from(x, y) {\n    return this.attr({\n      x1: x,\n      y1: y\n    });\n  }\n  to(x, y) {\n    return this.attr({\n      x2: x,\n      y2: y\n    });\n  }\n  url() {\n    return \"url(#\" + this._id + \")\";\n  }\n  toString() {\n    return this.url();\n  }\n  valueOf() {\n    return this.url();\n  }\n  fill() {\n    return this.url();\n  }\n}\nclass StopBuilder {\n  constructor(gradient) {\n    this.gradient = gradient;\n  }\n  stop(offset, color, opacity) {\n    this.gradient.stop(offset, color, opacity);\n    return this;\n  }\n}\nlet patternCounter = 0;\nclass SVGPattern extends SVGElement {\n  constructor(container, w, h, builder) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"pattern\");\n    super(node);\n    this._id = \"SvgjsPattern\" + ++patternCounter;\n    this.attr({\n      id: this._id,\n      width: w,\n      height: h,\n      patternUnits: \"userSpaceOnUse\"\n    });\n    if (typeof builder === \"function\") {\n      const patternContainer = new SVGContainer(this.node);\n      builder(patternContainer);\n    }\n    let defs = container.node.querySelector(\"defs\");\n    if (!defs) {\n      defs = BrowserAPIs.createElementNS(SVGNS, \"defs\");\n      container.node.appendChild(defs);\n    }\n    defs.appendChild(this.node);\n  }\n  url() {\n    return \"url(#\" + this._id + \")\";\n  }\n  toString() {\n    return this.url();\n  }\n  valueOf() {\n    return this.url();\n  }\n  fill() {\n    return this.url();\n  }\n}\nclass SVGContainer extends SVGElement {\n  line(x1, y1, x2, y2) {\n    const el = this._make(\"line\");\n    if (x1 !== void 0) {\n      el.attr({\n        x1,\n        y1,\n        x2,\n        y2\n      });\n    }\n    return el;\n  }\n  rect(w, h) {\n    const el = this._make(\"rect\");\n    if (w !== void 0) {\n      el.attr({\n        width: w,\n        height: h\n      });\n    }\n    return el;\n  }\n  circle(d) {\n    const el = this._make(\"circle\");\n    if (d !== void 0) {\n      el.attr({\n        r: d / 2,\n        cx: d / 2,\n        cy: d / 2\n      });\n    }\n    return el;\n  }\n  path(d) {\n    const el = this._make(\"path\");\n    if (d) el.attr(\"d\", d);\n    return el;\n  }\n  polygon(pts) {\n    const el = this._make(\"polygon\");\n    if (pts) el.attr(\"points\", pts);\n    return el;\n  }\n  group() {\n    return this._makeContainer(\"g\");\n  }\n  defs() {\n    return this._makeContainer(\"defs\");\n  }\n  plain(textContent) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"text\");\n    node.textContent = textContent;\n    const el = new SVGElement(node);\n    this.node.appendChild(node);\n    return el;\n  }\n  text(builder) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"text\");\n    const el = new SVGElement(node);\n    this.node.appendChild(node);\n    if (typeof builder === \"function\") {\n      builder(new TspanBuilder(node));\n    }\n    return el;\n  }\n  image(url, callback) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"image\");\n    node.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", url);\n    const el = new SVGElement(node);\n    this.node.appendChild(node);\n    if (typeof callback === \"function\") {\n      const img = new Image();\n      img.onload = function () {\n        el.size(img.width, img.height);\n        callback.call(el, {\n          width: img.width,\n          height: img.height\n        });\n      };\n      img.src = url;\n    }\n    return el;\n  }\n  gradient(type, builder) {\n    return new SVGGradient(this, type, builder);\n  }\n  pattern(w, h, builder) {\n    return new SVGPattern(this, w, h, builder);\n  }\n  _make(tag) {\n    const node = BrowserAPIs.createElementNS(SVGNS, tag);\n    this.node.appendChild(node);\n    return new SVGElement(node);\n  }\n  _makeContainer(tag) {\n    const node = BrowserAPIs.createElementNS(SVGNS, tag);\n    this.node.appendChild(node);\n    return new SVGContainer(node);\n  }\n}\nclass TspanBuilder {\n  constructor(textNode) {\n    this.textNode = textNode;\n  }\n  tspan(text) {\n    const tspan = BrowserAPIs.createElementNS(SVGNS, \"tspan\");\n    tspan.textContent = text;\n    this.textNode.appendChild(tspan);\n    return new TspanWrapper(tspan, this.textNode);\n  }\n}\nclass TspanWrapper {\n  constructor(node, textNode) {\n    this.node = node;\n    this.textNode = textNode;\n  }\n  newLine() {\n    this.node.setAttribute(\"dy\", \"1.1em\");\n    this.node.dataset.newline = \"1\";\n    return this;\n  }\n}\nlet filterCounter = 0;\nclass SVGFilter extends SVGElement {\n  constructor() {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"filter\");\n    super(node);\n    this._id = \"SvgjsFilter\" + ++filterCounter;\n    this.attr(\"id\", this._id);\n  }\n  size(w, h, x, y) {\n    return this.attr({\n      width: w,\n      height: h,\n      x,\n      y\n    });\n  }\n}\nclass FilterBuilder {\n  constructor(filter) {\n    this.filter = filter;\n  }\n  colorMatrix(attrs) {\n    return this._primitive(\"feColorMatrix\", attrs);\n  }\n  offset(attrs) {\n    return this._primitive(\"feOffset\", attrs);\n  }\n  gaussianBlur(attrs) {\n    return this._primitive(\"feGaussianBlur\", attrs);\n  }\n  flood(attrs) {\n    return this._primitive(\"feFlood\", attrs);\n  }\n  composite(attrs) {\n    return this._primitive(\"feComposite\", attrs);\n  }\n  merge(sources) {\n    const m = BrowserAPIs.createElementNS(SVGNS, \"feMerge\");\n    sources.forEach(src => {\n      const mn = BrowserAPIs.createElementNS(SVGNS, \"feMergeNode\");\n      mn.setAttribute(\"in\", src);\n      m.appendChild(mn);\n    });\n    this.filter.node.appendChild(m);\n    return new SVGElement(m);\n  }\n  _primitive(tag, attrs) {\n    const el = BrowserAPIs.createElementNS(SVGNS, tag);\n    for (const key in attrs) {\n      el.setAttribute(key, attrs[key]);\n    }\n    this.filter.node.appendChild(el);\n    return new SVGElement(el);\n  }\n}\nfunction installFilterMethods(ElementClass) {\n  ElementClass.prototype.filterWith = function (fn) {\n    const filter = new SVGFilter();\n    this._filter = filter;\n    let svgRoot = this.node;\n    while (svgRoot && svgRoot.nodeName !== \"svg\") {\n      svgRoot = svgRoot.parentNode;\n    }\n    if (svgRoot) {\n      let defs = svgRoot.querySelector(\"defs\");\n      if (!defs) {\n        defs = BrowserAPIs.createElementNS(SVGNS, \"defs\");\n        svgRoot.insertBefore(defs, svgRoot.firstChild);\n      }\n      defs.appendChild(filter.node);\n    }\n    fn(new FilterBuilder(filter));\n    this.attr(\"filter\", \"url(#\" + filter._id + \")\");\n    return this;\n  };\n  ElementClass.prototype.unfilter = function (all) {\n    if (this._filter) {\n      this.node.removeAttribute(\"filter\");\n      if (all && this._filter.node && this._filter.node.parentNode) {\n        this._filter.node.parentNode.removeChild(this._filter.node);\n      }\n      this._filter = null;\n    }\n    return this;\n  };\n  ElementClass.prototype.filterer = function () {\n    return this._filter;\n  };\n}\n/*!\n * Path morphing for SVG path animations\n * Based on svg.pathmorphing.js by Ulrich-Matthias Schfer (MIT License)\n * Refactored to be standalone (no SVG.js dependency)\n */\nfunction parsePath(d) {\n  if (!d || typeof d !== \"string\") return [[\"M\", 0, 0]];\n  const commands = [];\n  const re = /([MmLlHhVvCcSsQqTtAaZz])\\s*/g;\n  const numRe = /[+-]?(?:\\d+\\.?\\d*|\\.\\d+)(?:e[+-]?\\d+)?/gi;\n  let match;\n  const letters = [];\n  const positions = [];\n  while ((match = re.exec(d)) !== null) {\n    letters.push(match[1]);\n    positions.push(match.index);\n  }\n  for (let i = 0; i < letters.length; i++) {\n    const start = positions[i] + letters[i].length;\n    const end = i + 1 < positions.length ? positions[i + 1] : d.length;\n    const paramStr = d.substring(start, end);\n    const nums = [];\n    let numMatch;\n    numRe.lastIndex = 0;\n    while ((numMatch = numRe.exec(paramStr)) !== null) {\n      nums.push(parseFloat(numMatch[0]));\n    }\n    const cmd = letters[i].toUpperCase();\n    if (cmd === \"Z\") {\n      commands.push([\"Z\"]);\n    } else if (cmd === \"M\" || cmd === \"L\" || cmd === \"T\") {\n      for (let j = 0; j < nums.length; j += 2) {\n        commands.push([cmd, nums[j], nums[j + 1]]);\n      }\n    } else if (cmd === \"H\") {\n      for (let j = 0; j < nums.length; j++) {\n        commands.push([cmd, nums[j]]);\n      }\n    } else if (cmd === \"V\") {\n      for (let j = 0; j < nums.length; j++) {\n        commands.push([cmd, nums[j]]);\n      }\n    } else if (cmd === \"C\") {\n      for (let j = 0; j < nums.length; j += 6) {\n        commands.push([cmd, nums[j], nums[j + 1], nums[j + 2], nums[j + 3], nums[j + 4], nums[j + 5]]);\n      }\n    } else if (cmd === \"S\" || cmd === \"Q\") {\n      for (let j = 0; j < nums.length; j += 4) {\n        commands.push([cmd, nums[j], nums[j + 1], nums[j + 2], nums[j + 3]]);\n      }\n    } else if (cmd === \"A\") {\n      for (let j = 0; j < nums.length; j += 7) {\n        commands.push([cmd, nums[j], nums[j + 1], nums[j + 2], nums[j + 3], nums[j + 4], nums[j + 5], nums[j + 6]]);\n      }\n    }\n  }\n  if (commands.length === 0) {\n    commands.push([\"M\", 0, 0]);\n  }\n  return commands;\n}\nfunction pathBbox(arr) {\n  let minX = Infinity,\n    minY = Infinity,\n    maxX = -Infinity,\n    maxY = -Infinity;\n  arr.forEach(cmd => {\n    for (let i = 1; i < cmd.length; i += 2) {\n      if (i + 1 <= cmd.length) {\n        const x = cmd[i];\n        const y = cmd[i + 1];\n        if (typeof x === \"number\" && typeof y === \"number\") {\n          if (x < minX) minX = x;\n          if (x > maxX) maxX = x;\n          if (y < minY) minY = y;\n          if (y > maxY) maxY = y;\n        }\n      }\n    }\n  });\n  if (minX === Infinity) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction arrayToPath(arr) {\n  return arr.map(cmd => cmd.join(\" \")).join(\" \");\n}\nfunction simplify(val) {\n  switch (val[0]) {\n    case \"z\":\n    case \"Z\":\n      val[0] = \"L\";\n      val[1] = this.start[0];\n      val[2] = this.start[1];\n      break;\n    case \"H\":\n      val[0] = \"L\";\n      val[2] = this.pos[1];\n      break;\n    case \"V\":\n      val[0] = \"L\";\n      val[2] = val[1];\n      val[1] = this.pos[0];\n      break;\n    case \"T\":\n      val[0] = \"Q\";\n      val[3] = val[1];\n      val[4] = val[2];\n      val[1] = this.reflection[1];\n      val[2] = this.reflection[0];\n      break;\n    case \"S\":\n      val[0] = \"C\";\n      val[6] = val[4];\n      val[5] = val[3];\n      val[4] = val[2];\n      val[3] = val[1];\n      val[2] = this.reflection[1];\n      val[1] = this.reflection[0];\n      break;\n  }\n  return val;\n}\nfunction setPosAndReflection(val) {\n  var len = val.length;\n  this.pos = [val[len - 2], val[len - 1]];\n  if (\"SCQT\".indexOf(val[0]) != -1) {\n    this.reflection = [2 * this.pos[0] - val[len - 4], 2 * this.pos[1] - val[len - 3]];\n  }\n  return val;\n}\nfunction toBezier(val) {\n  var retVal = [val];\n  switch (val[0]) {\n    case \"M\":\n      this.pos = this.start = [val[1], val[2]];\n      return retVal;\n    case \"L\":\n      val[5] = val[3] = val[1];\n      val[6] = val[4] = val[2];\n      val[1] = this.pos[0];\n      val[2] = this.pos[1];\n      break;\n    case \"Q\":\n      val[6] = val[4];\n      val[5] = val[3];\n      val[4] = val[4] * 1 / 3 + val[2] * 2 / 3;\n      val[3] = val[3] * 1 / 3 + val[1] * 2 / 3;\n      val[2] = this.pos[1] * 1 / 3 + val[2] * 2 / 3;\n      val[1] = this.pos[0] * 1 / 3 + val[1] * 2 / 3;\n      break;\n    case \"A\":\n      retVal = arcToBezier(this.pos, val);\n      val = retVal[0];\n      break;\n  }\n  val[0] = \"C\";\n  this.pos = [val[5], val[6]];\n  this.reflection = [2 * val[5] - val[3], 2 * val[6] - val[4]];\n  return retVal;\n}\nfunction findNextM(arr, offset) {\n  if (offset === false) return false;\n  for (var i = offset, len = arr.length; i < len; ++i) {\n    if (arr[i][0] == \"M\") return i;\n  }\n  return false;\n}\nfunction arcToBezier(pos, val) {\n  var rx = Math.abs(val[1]),\n    ry = Math.abs(val[2]),\n    xAxisRotation = val[3] % 360,\n    largeArcFlag = val[4],\n    sweepFlag = val[5],\n    x = val[6],\n    y = val[7],\n    A = new Point(pos[0], pos[1]),\n    B = new Point(x, y),\n    primedCoord,\n    lambda,\n    mat,\n    k,\n    c,\n    cSquare,\n    t,\n    O,\n    OA,\n    OB,\n    tetaStart,\n    tetaEnd,\n    deltaTeta,\n    nbSectors,\n    f,\n    arcSegPoints,\n    angle,\n    sinAngle,\n    cosAngle,\n    pt,\n    i,\n    il,\n    retVal = [],\n    x1,\n    y1,\n    x2,\n    y2;\n  if (rx === 0 || ry === 0 || A.x === B.x && A.y === B.y) {\n    return [[\"C\", A.x, A.y, B.x, B.y, B.x, B.y]];\n  }\n  primedCoord = new Point((A.x - B.x) / 2, (A.y - B.y) / 2).transform(new Matrix().rotate(xAxisRotation));\n  lambda = primedCoord.x * primedCoord.x / (rx * rx) + primedCoord.y * primedCoord.y / (ry * ry);\n  if (lambda > 1) {\n    lambda = Math.sqrt(lambda);\n    rx = lambda * rx;\n    ry = lambda * ry;\n  }\n  mat = new Matrix().rotate(xAxisRotation).scale(1 / rx, 1 / ry).rotate(-xAxisRotation);\n  A = A.transform(mat);\n  B = B.transform(mat);\n  k = [B.x - A.x, B.y - A.y];\n  cSquare = k[0] * k[0] + k[1] * k[1];\n  c = Math.sqrt(cSquare);\n  k[0] /= c;\n  k[1] /= c;\n  t = cSquare < 4 ? Math.sqrt(1 - cSquare / 4) : 0;\n  if (largeArcFlag === sweepFlag) {\n    t *= -1;\n  }\n  O = new Point((B.x + A.x) / 2 + t * -k[1], (B.y + A.y) / 2 + t * k[0]);\n  OA = new Point(A.x - O.x, A.y - O.y);\n  OB = new Point(B.x - O.x, B.y - O.y);\n  tetaStart = Math.acos(OA.x / Math.sqrt(OA.x * OA.x + OA.y * OA.y));\n  if (OA.y < 0) tetaStart *= -1;\n  tetaEnd = Math.acos(OB.x / Math.sqrt(OB.x * OB.x + OB.y * OB.y));\n  if (OB.y < 0) tetaEnd *= -1;\n  if (sweepFlag && tetaStart > tetaEnd) {\n    tetaEnd += 2 * Math.PI;\n  }\n  if (!sweepFlag && tetaStart < tetaEnd) {\n    tetaEnd -= 2 * Math.PI;\n  }\n  nbSectors = Math.ceil(Math.abs(tetaStart - tetaEnd) * 2 / Math.PI);\n  arcSegPoints = [];\n  angle = tetaStart;\n  deltaTeta = (tetaEnd - tetaStart) / nbSectors;\n  f = 4 * Math.tan(deltaTeta / 4) / 3;\n  for (i = 0; i <= nbSectors; i++) {\n    cosAngle = Math.cos(angle);\n    sinAngle = Math.sin(angle);\n    pt = new Point(O.x + cosAngle, O.y + sinAngle);\n    arcSegPoints[i] = [new Point(pt.x + f * sinAngle, pt.y - f * cosAngle), pt, new Point(pt.x - f * sinAngle, pt.y + f * cosAngle)];\n    angle += deltaTeta;\n  }\n  arcSegPoints[0][0] = arcSegPoints[0][1].clone();\n  arcSegPoints[arcSegPoints.length - 1][2] = arcSegPoints[arcSegPoints.length - 1][1].clone();\n  mat = new Matrix().rotate(xAxisRotation).scale(rx, ry).rotate(-xAxisRotation);\n  for (i = 0, il = arcSegPoints.length; i < il; i++) {\n    arcSegPoints[i][0] = arcSegPoints[i][0].transform(mat);\n    arcSegPoints[i][1] = arcSegPoints[i][1].transform(mat);\n    arcSegPoints[i][2] = arcSegPoints[i][2].transform(mat);\n  }\n  for (i = 1, il = arcSegPoints.length; i < il; i++) {\n    pt = arcSegPoints[i - 1][2];\n    x1 = pt.x;\n    y1 = pt.y;\n    pt = arcSegPoints[i][0];\n    x2 = pt.x;\n    y2 = pt.y;\n    pt = arcSegPoints[i][1];\n    x = pt.x;\n    y = pt.y;\n    retVal.push([\"C\", x1, y1, x2, y2, x, y]);\n  }\n  return retVal;\n}\nfunction handleBlock(startArr, startOffsetM, startOffsetNextM, destArr, destOffsetM, destOffsetNextM) {\n  var startArrTemp = startArr.slice(startOffsetM, startOffsetNextM || void 0);\n  var destArrTemp = destArr.slice(destOffsetM, destOffsetNextM || void 0);\n  var i = 0,\n    posStart = {\n      pos: [0, 0],\n      start: [0, 0]\n    },\n    posDest = {\n      pos: [0, 0],\n      start: [0, 0]\n    };\n  while (true) {\n    startArrTemp[i] = simplify.call(posStart, startArrTemp[i]);\n    destArrTemp[i] = simplify.call(posDest, destArrTemp[i]);\n    if (startArrTemp[i][0] != destArrTemp[i][0] || startArrTemp[i][0] == \"M\" || startArrTemp[i][0] == \"A\" && (startArrTemp[i][4] != destArrTemp[i][4] || startArrTemp[i][5] != destArrTemp[i][5])) {\n      Array.prototype.splice.apply(startArrTemp, [i, 1].concat(toBezier.call(posStart, startArrTemp[i])));\n      Array.prototype.splice.apply(destArrTemp, [i, 1].concat(toBezier.call(posDest, destArrTemp[i])));\n    } else {\n      startArrTemp[i] = setPosAndReflection.call(posStart, startArrTemp[i]);\n      destArrTemp[i] = setPosAndReflection.call(posDest, destArrTemp[i]);\n    }\n    if (++i == startArrTemp.length && i == destArrTemp.length) break;\n    if (i == startArrTemp.length) {\n      startArrTemp.push([\"C\", posStart.pos[0], posStart.pos[1], posStart.pos[0], posStart.pos[1], posStart.pos[0], posStart.pos[1]]);\n    }\n    if (i == destArrTemp.length) {\n      destArrTemp.push([\"C\", posDest.pos[0], posDest.pos[1], posDest.pos[0], posDest.pos[1], posDest.pos[0], posDest.pos[1]]);\n    }\n  }\n  return {\n    start: startArrTemp,\n    dest: destArrTemp\n  };\n}\nfunction synchronizePaths(fromD, toD) {\n  var startArr = parsePath(fromD);\n  var destArr = parsePath(toD);\n  var startOffsetM = 0,\n    destOffsetM = 0;\n  var startOffsetNextM = false,\n    destOffsetNextM = false;\n  var result;\n  while (true) {\n    if (startOffsetM === false && destOffsetM === false) break;\n    startOffsetNextM = findNextM(startArr, startOffsetM === false ? false : startOffsetM + 1);\n    destOffsetNextM = findNextM(destArr, destOffsetM === false ? false : destOffsetM + 1);\n    if (startOffsetM === false) {\n      let bbox = pathBbox(result.start);\n      if (bbox.height == 0 || bbox.width == 0) {\n        startOffsetM = startArr.push(startArr[0]) - 1;\n      } else {\n        startOffsetM = startArr.push([\"M\", bbox.x + bbox.width / 2, bbox.y + bbox.height / 2]) - 1;\n      }\n    }\n    if (destOffsetM === false) {\n      let bbox = pathBbox(result.dest);\n      if (bbox.height == 0 || bbox.width == 0) {\n        destOffsetM = destArr.push(destArr[0]) - 1;\n      } else {\n        destOffsetM = destArr.push([\"M\", bbox.x + bbox.width / 2, bbox.y + bbox.height / 2]) - 1;\n      }\n    }\n    result = handleBlock(startArr, startOffsetM, startOffsetNextM, destArr, destOffsetM, destOffsetNextM);\n    startArr = startArr.slice(0, startOffsetM).concat(result.start, startOffsetNextM === false ? [] : startArr.slice(startOffsetNextM));\n    destArr = destArr.slice(0, destOffsetM).concat(result.dest, destOffsetNextM === false ? [] : destArr.slice(destOffsetNextM));\n    startOffsetM = startOffsetNextM === false ? false : startOffsetM + result.start.length;\n    destOffsetM = destOffsetNextM === false ? false : destOffsetM + result.dest.length;\n  }\n  return {\n    start: startArr,\n    dest: destArr\n  };\n}\nfunction morphPaths(fromD, toD) {\n  var synced = synchronizePaths(fromD, toD);\n  var startArr = synced.start;\n  var destArr = synced.dest;\n  return function (pos) {\n    var result = startArr.map(function (from, idx) {\n      return destArr[idx].map(function (to, toIdx) {\n        if (toIdx === 0) return to;\n        return from[toIdx] + (destArr[idx][toIdx] - from[toIdx]) * pos;\n      });\n    });\n    return arrayToPath(result);\n  };\n}\nfunction easeInOut(t) {\n  return -Math.cos(t * Math.PI) / 2 + 0.5;\n}\nfunction parseColor(str) {\n  if (!str || typeof str !== \"string\") return null;\n  if (str[0] === \"#\") {\n    let hex = str.slice(1);\n    if (hex.length === 3) hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    const n = parseInt(hex, 16);\n    return [n >> 16 & 255, n >> 8 & 255, n & 255, 1];\n  }\n  const m = str.match(/rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*([\\d.]+))?\\s*\\)/);\n  if (m) return [+m[1], +m[2], +m[3], m[4] !== void 0 ? +m[4] : 1];\n  return null;\n}\nfunction interpolateColor(from, to, pos) {\n  return `rgba(${Math.round(from[0] + (to[0] - from[0]) * pos)},${Math.round(from[1] + (to[1] - from[1]) * pos)},${Math.round(from[2] + (to[2] - from[2]) * pos)},${from[3] + (to[3] - from[3]) * pos})`;\n}\nclass SVGAnimationRunner {\n  constructor(element, duration, delay) {\n    this.el = element;\n    this.duration = duration != null ? duration : 300;\n    this.delay = delay || 0;\n    this._attrTarget = null;\n    this._plotTarget = null;\n    this._afterCb = null;\n    this._duringCb = null;\n    this._next = null;\n    this._root = null;\n    this._scheduled = false;\n  }\n  attr(to) {\n    this._attrTarget = to;\n    this._schedule();\n    return this;\n  }\n  plot(d) {\n    this._plotTarget = d;\n    this._schedule();\n    return this;\n  }\n  after(fn) {\n    this._afterCb = fn;\n    this._schedule();\n    return this;\n  }\n  during(fn) {\n    this._duringCb = fn;\n    this._schedule();\n    return this;\n  }\n  animate(duration, delay) {\n    const next = new SVGAnimationRunner(this.el, duration, delay);\n    this._next = next;\n    next._root = this._root || this;\n    return next;\n  }\n  _schedule() {\n    const root = this._root || this;\n    if (!root._scheduled) {\n      root._scheduled = true;\n      queueMicrotask(() => root._executeChain());\n    }\n  }\n  _executeChain() {\n    const chain = [];\n    let r = this;\n    while (r) {\n      chain.push(r);\n      r = r._next;\n    }\n    let cumulativeDelay = 0;\n    chain.forEach(runner => {\n      cumulativeDelay += runner.delay;\n      runner._execute(cumulativeDelay);\n      cumulativeDelay += runner.duration;\n    });\n  }\n  _execute(startDelay) {\n    const el = this.el;\n    const duration = this.duration;\n    if (duration <= 1) {\n      const apply = () => {\n        if (this._attrTarget) el.attr(this._attrTarget);\n        if (this._plotTarget) el.plot(this._plotTarget);\n        if (this._afterCb) this._afterCb.call(el);\n      };\n      if (startDelay > 0) {\n        setTimeout(apply, startDelay);\n      } else {\n        apply();\n      }\n      return;\n    }\n    const run = () => {\n      const fromAttrs = {};\n      const fromColors = {};\n      const toColors = {};\n      if (this._attrTarget) {\n        for (const key of Object.keys(this._attrTarget)) {\n          const fromVal = el.attr(key);\n          fromAttrs[key] = fromVal;\n          const fc = parseColor(fromVal);\n          const tc = parseColor(String(this._attrTarget[key]));\n          if (fc && tc) {\n            fromColors[key] = fc;\n            toColors[key] = tc;\n          }\n        }\n      }\n      let morphFn = null;\n      if (this._plotTarget) {\n        const fromPath = el.attr(\"d\") || \"\";\n        try {\n          morphFn = morphPaths(fromPath, this._plotTarget);\n        } catch (e) {\n          morphFn = null;\n        }\n      }\n      const start = performance.now();\n      const tick = now => {\n        const elapsed = now - start;\n        const rawPos = Math.min(elapsed / duration, 1);\n        const pos = easeInOut(rawPos);\n        if (this._attrTarget) {\n          if (rawPos >= 1) {\n            el.attr(this._attrTarget);\n          } else {\n            const current = {};\n            for (const key of Object.keys(this._attrTarget)) {\n              if (fromColors[key] && toColors[key]) {\n                current[key] = interpolateColor(fromColors[key], toColors[key], pos);\n              } else {\n                const from = parseFloat(fromAttrs[key]);\n                const to = parseFloat(this._attrTarget[key]);\n                if (!isNaN(from) && !isNaN(to)) {\n                  current[key] = from + (to - from) * pos;\n                }\n              }\n            }\n            el.attr(current);\n          }\n        }\n        if (morphFn && rawPos < 1) {\n          el.attr(\"d\", morphFn(pos));\n        }\n        if (this._duringCb) this._duringCb(pos);\n        if (rawPos < 1) {\n          requestAnimationFrame(tick);\n        } else {\n          if (this._plotTarget) {\n            el.attr(\"d\", this._plotTarget);\n          }\n          if (this._afterCb) this._afterCb.call(el);\n        }\n      };\n      requestAnimationFrame(tick);\n    };\n    if (startDelay > 0) {\n      setTimeout(run, startDelay);\n    } else {\n      run();\n    }\n  }\n}\nfunction installAnimationMethods(ElementClass) {\n  ElementClass.prototype.animate = function (duration, delay) {\n    return new SVGAnimationRunner(this, duration, delay);\n  };\n}\nfunction installDraggable(ElementClass) {\n  ElementClass.prototype.draggable = function (opts) {\n    if (opts === false) {\n      if (this._dragCleanup) {\n        this._dragCleanup();\n        this._dragCleanup = null;\n      }\n      return this;\n    }\n    const el = this;\n    const constraints = opts || {};\n    const onPointerDown = e => {\n      if (e.button && e.button !== 0) return;\n      e.stopPropagation();\n      const isTouch = e.type === \"touchstart\";\n      const ev = isTouch ? e.touches[0] : e;\n      const svgEl = el.node;\n      const startAttrX = parseFloat(svgEl.getAttribute(\"x\")) || 0;\n      const startAttrY = parseFloat(svgEl.getAttribute(\"y\")) || 0;\n      const startClientX = ev.clientX;\n      const startClientY = ev.clientY;\n      const svgRoot = svgEl.ownerSVGElement;\n      let ctm = null;\n      if (svgRoot) {\n        ctm = svgRoot.getScreenCTM();\n      }\n      const onMove = me => {\n        const mev = me.type === \"touchmove\" ? me.touches[0] : me;\n        let dx = mev.clientX - startClientX;\n        let dy = mev.clientY - startClientY;\n        if (ctm) {\n          dx = dx / ctm.a;\n          dy = dy / ctm.d;\n        }\n        let newX = startAttrX + dx;\n        let newY = startAttrY + dy;\n        const w = parseFloat(svgEl.getAttribute(\"width\")) || 0;\n        const h = parseFloat(svgEl.getAttribute(\"height\")) || 0;\n        if (constraints.minX !== void 0 && newX < constraints.minX) newX = constraints.minX;\n        if (constraints.minY !== void 0 && newY < constraints.minY) newY = constraints.minY;\n        if (constraints.maxX !== void 0 && newX + w > constraints.maxX) newX = constraints.maxX - w;\n        if (constraints.maxY !== void 0 && newY + h > constraints.maxY) newY = constraints.maxY - h;\n        const box = {\n          x: newX,\n          y: newY,\n          w,\n          h,\n          x2: newX + w,\n          y2: newY + h\n        };\n        const event = new CustomEvent(\"dragmove\", {\n          detail: {\n            handler: {\n              move: function (x, y) {\n                svgEl.setAttribute(\"x\", x);\n                svgEl.setAttribute(\"y\", y);\n              }\n            },\n            box\n          }\n        });\n        svgEl.dispatchEvent(event);\n      };\n      const onUp = () => {\n        document.removeEventListener(\"mousemove\", onMove);\n        document.removeEventListener(\"touchmove\", onMove);\n        document.removeEventListener(\"mouseup\", onUp);\n        document.removeEventListener(\"touchend\", onUp);\n      };\n      document.addEventListener(\"mousemove\", onMove);\n      document.addEventListener(\"touchmove\", onMove);\n      document.addEventListener(\"mouseup\", onUp);\n      document.addEventListener(\"touchend\", onUp);\n    };\n    el.node.addEventListener(\"mousedown\", onPointerDown);\n    el.node.addEventListener(\"touchstart\", onPointerDown);\n    el._dragCleanup = () => {\n      el.node.removeEventListener(\"mousedown\", onPointerDown);\n      el.node.removeEventListener(\"touchstart\", onPointerDown);\n    };\n    return el;\n  };\n}\nfunction installSelectable(ElementClass) {\n  ElementClass.prototype.select = function (opts) {\n    if (opts === false) {\n      if (this._selectCleanup) {\n        this._selectCleanup();\n        this._selectCleanup = null;\n      }\n      return this;\n    }\n    const el = this;\n    const {\n      createHandle,\n      updateHandle\n    } = opts;\n    const handleGroup = document.createElementNS(SVGNS, \"g\");\n    handleGroup.setAttribute(\"class\", \"svg_select_points\");\n    const parent = el.node.parentNode;\n    if (parent) {\n      parent.appendChild(handleGroup);\n    }\n    const handles = {};\n    const handleNames = [\"t\", \"b\", \"l\", \"r\", \"lt\", \"rt\", \"lb\", \"rb\"];\n    handleNames.forEach((name2, index) => {\n      const subGroup = new SVGContainer(document.createElementNS(SVGNS, \"g\"));\n      handleGroup.appendChild(subGroup.node);\n      const handle = createHandle(subGroup, [0, 0], index, [], name2);\n      handles[name2] = {\n        group: subGroup,\n        handle\n      };\n    });\n    const updatePositions = () => {\n      const x = parseFloat(el.attr(\"x\")) || 0;\n      const y = parseFloat(el.attr(\"y\")) || 0;\n      const w = parseFloat(el.attr(\"width\")) || 0;\n      const h = parseFloat(el.attr(\"height\")) || 0;\n      const elTransform = el.node.getAttribute(\"transform\");\n      if (elTransform) {\n        handleGroup.setAttribute(\"transform\", elTransform);\n      } else {\n        handleGroup.removeAttribute(\"transform\");\n      }\n      const positions = {\n        t: [x + w / 2, y],\n        b: [x + w / 2, y + h],\n        l: [x, y + h / 2],\n        r: [x + w, y + h / 2],\n        lt: [x, y],\n        rt: [x + w, y],\n        lb: [x, y + h],\n        rb: [x + w, y + h]\n      };\n      handleNames.forEach(name2 => {\n        if (handles[name2] && positions[name2]) {\n          updateHandle(handles[name2].group, positions[name2]);\n        }\n      });\n    };\n    updatePositions();\n    el._selectHandles = handleGroup;\n    el._selectHandlesMap = handles;\n    el._updateSelectPositions = updatePositions;\n    el._selectCleanup = () => {\n      if (handleGroup.parentNode) {\n        handleGroup.parentNode.removeChild(handleGroup);\n      }\n      el._selectHandles = null;\n      el._selectHandlesMap = null;\n      el._updateSelectPositions = null;\n    };\n    return el;\n  };\n  ElementClass.prototype.resize = function (enable) {\n    if (enable === false) {\n      if (this._resizeCleanup) {\n        this._resizeCleanup();\n        this._resizeCleanup = null;\n      }\n      return this;\n    }\n    const el = this;\n    const handles = el._selectHandlesMap;\n    if (!handles) return el;\n    const cleanupFns = [];\n    const makeHandleDraggable = name2 => {\n      const handleInfo = handles[name2];\n      if (!handleInfo || !handleInfo.group || !handleInfo.group.node) return;\n      const handleNode = handleInfo.group.node;\n      const onPointerDown = e => {\n        if (e.button && e.button !== 0) return;\n        e.stopPropagation();\n        const isTouch = e.type === \"touchstart\";\n        const ev = isTouch ? e.touches[0] : e;\n        const startClientX = ev.clientX;\n        const svgRoot = el.node.ownerSVGElement;\n        let ctm = null;\n        if (svgRoot) {\n          ctm = svgRoot.getScreenCTM();\n        }\n        const startX = parseFloat(el.attr(\"x\")) || 0;\n        const startW = parseFloat(el.attr(\"width\")) || 0;\n        const onMove = me => {\n          const mev = me.type === \"touchmove\" ? me.touches[0] : me;\n          let dx = mev.clientX - startClientX;\n          if (ctm) dx = dx / ctm.a;\n          let newX = startX;\n          let newW = startW;\n          if (name2 === \"l\") {\n            newX = startX + dx;\n            newW = startW - dx;\n          } else if (name2 === \"r\") {\n            newW = startW + dx;\n          }\n          if (newW < 0) {\n            newW = 0;\n          }\n          el.attr({\n            x: newX,\n            width: newW\n          });\n          if (el._updateSelectPositions) {\n            el._updateSelectPositions();\n          }\n          const event = new CustomEvent(\"resize\", {\n            detail: {\n              el\n            }\n          });\n          el.node.dispatchEvent(event);\n        };\n        const onUp = () => {\n          document.removeEventListener(\"mousemove\", onMove);\n          document.removeEventListener(\"touchmove\", onMove);\n          document.removeEventListener(\"mouseup\", onUp);\n          document.removeEventListener(\"touchend\", onUp);\n          const event = new CustomEvent(\"resize\", {\n            detail: {\n              el\n            }\n          });\n          el.node.dispatchEvent(event);\n        };\n        document.addEventListener(\"mousemove\", onMove);\n        document.addEventListener(\"touchmove\", onMove);\n        document.addEventListener(\"mouseup\", onUp);\n        document.addEventListener(\"touchend\", onUp);\n      };\n      handleNode.addEventListener(\"mousedown\", onPointerDown);\n      handleNode.addEventListener(\"touchstart\", onPointerDown);\n      cleanupFns.push(() => {\n        handleNode.removeEventListener(\"mousedown\", onPointerDown);\n        handleNode.removeEventListener(\"touchstart\", onPointerDown);\n      });\n    };\n    makeHandleDraggable(\"l\");\n    makeHandleDraggable(\"r\");\n    el._resizeCleanup = () => {\n      cleanupFns.forEach(fn => fn());\n    };\n    return el;\n  };\n}\ninstallFilterMethods(SVGElement);\ninstallAnimationMethods(SVGElement);\ninstallDraggable(SVGElement);\ninstallSelectable(SVGElement);\nfunction SVG() {\n  const svgEl = BrowserAPIs.createElementNS(SVGNS, \"svg\");\n  const svg = new SVGContainer(svgEl);\n  svg.attr({\n    xmlns: SVGNS\n  });\n  return svg;\n}\nSVG.xlink = \"http://www.w3.org/1999/xlink\";\nif (Environment.isBrowser() && typeof window.SVG === \"undefined\") {\n  window.SVG = SVG;\n}\nclass ZoomPanSelection extends Toolbar {\n  constructor(ctx) {\n    super(ctx);\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.dragged = false;\n    this.graphics = new Graphics(this.ctx);\n    this.eventList = [\"mousedown\", \"mouseleave\", \"mousemove\", \"touchstart\", \"touchmove\", \"mouseup\", \"touchend\", \"wheel\"];\n    this.clientX = 0;\n    this.clientY = 0;\n    this.startX = 0;\n    this.endX = 0;\n    this.dragX = 0;\n    this.startY = 0;\n    this.endY = 0;\n    this.dragY = 0;\n    this.moveDirection = \"none\";\n    this.debounceTimer = null;\n    this.debounceDelay = 100;\n    this.wheelDelay = 400;\n  }\n  init({\n    xyRatios\n  }) {\n    let w = this.w;\n    let me = this;\n    this.xyRatios = xyRatios;\n    this.zoomRect = this.graphics.drawRect(0, 0, 0, 0);\n    this.selectionRect = this.graphics.drawRect(0, 0, 0, 0);\n    this.gridRect = w.globals.dom.baseEl.querySelector(\".apexcharts-grid\");\n    this.constraints = new Box(0, 0, w.globals.gridWidth, w.globals.gridHeight);\n    this.zoomRect.node.classList.add(\"apexcharts-zoom-rect\");\n    this.selectionRect.node.classList.add(\"apexcharts-selection-rect\");\n    w.globals.dom.Paper.add(this.zoomRect);\n    w.globals.dom.Paper.add(this.selectionRect);\n    if (w.config.chart.selection.type === \"x\") {\n      this.slDraggableRect = this.selectionRect.draggable({\n        minX: 0,\n        minY: 0,\n        maxX: w.globals.gridWidth,\n        maxY: w.globals.gridHeight\n      }).on(\"dragmove.namespace\", this.selectionDragging.bind(this, \"dragging\"));\n    } else if (w.config.chart.selection.type === \"y\") {\n      this.slDraggableRect = this.selectionRect.draggable({\n        minX: 0,\n        maxX: w.globals.gridWidth\n      }).on(\"dragmove.namespace\", this.selectionDragging.bind(this, \"dragging\"));\n    } else {\n      this.slDraggableRect = this.selectionRect.draggable().on(\"dragmove.namespace\", this.selectionDragging.bind(this, \"dragging\"));\n    }\n    this.preselectedSelection();\n    this.hoverArea = w.globals.dom.baseEl.querySelector(`${w.globals.chartClass} .apexcharts-svg`);\n    this.hoverArea.classList.add(\"apexcharts-zoomable\");\n    this.eventList.forEach(event => {\n      this.hoverArea.addEventListener(event, me.svgMouseEvents.bind(me, xyRatios), {\n        capture: false,\n        passive: true\n      });\n    });\n    if (w.config.chart.zoom.enabled && w.config.chart.zoom.allowMouseWheelZoom) {\n      this.hoverArea.addEventListener(\"wheel\", me.mouseWheelEvent.bind(me), {\n        capture: false,\n        passive: false\n      });\n    }\n  }\n  // remove the event listeners which were previously added on hover area\n  destroy() {\n    if (this.slDraggableRect) {\n      this.slDraggableRect.draggable(false);\n      this.slDraggableRect.off();\n      this.selectionRect.off();\n    }\n    this.selectionRect = null;\n    this.zoomRect = null;\n    this.gridRect = null;\n  }\n  svgMouseEvents(xyRatios, e) {\n    let w = this.w;\n    const toolbar = this.ctx.toolbar;\n    let zoomtype = w.globals.zoomEnabled ? w.config.chart.zoom.type : w.config.chart.selection.type;\n    const autoSelected = w.config.chart.toolbar.autoSelected;\n    if (e.shiftKey) {\n      this.shiftWasPressed = true;\n      toolbar.enableZoomPanFromToolbar(autoSelected === \"pan\" ? \"zoom\" : \"pan\");\n    } else {\n      if (this.shiftWasPressed) {\n        toolbar.enableZoomPanFromToolbar(autoSelected);\n        this.shiftWasPressed = false;\n      }\n    }\n    if (!e.target) return;\n    const tc = e.target.classList;\n    let pc;\n    if (e.target.parentNode && e.target.parentNode !== null) {\n      pc = e.target.parentNode.classList;\n    }\n    const falsePositives = tc.contains(\"apexcharts-legend-marker\") || tc.contains(\"apexcharts-legend-text\") || pc && pc.contains(\"apexcharts-toolbar\");\n    if (falsePositives) return;\n    this.clientX = e.type === \"touchmove\" || e.type === \"touchstart\" ? e.touches[0].clientX : e.type === \"touchend\" ? e.changedTouches[0].clientX : e.clientX;\n    this.clientY = e.type === \"touchmove\" || e.type === \"touchstart\" ? e.touches[0].clientY : e.type === \"touchend\" ? e.changedTouches[0].clientY : e.clientY;\n    if (e.type === \"mousedown\" && e.which === 1 || e.type === \"touchstart\") {\n      let gridRectDim = this.gridRect.getBoundingClientRect();\n      this.startX = this.clientX - gridRectDim.left - w.globals.barPadForNumericAxis;\n      this.startY = this.clientY - gridRectDim.top;\n      this.dragged = false;\n      this.w.globals.mousedown = true;\n    }\n    if (e.type === \"mousemove\" && e.which === 1 || e.type === \"touchmove\") {\n      this.dragged = true;\n      if (w.globals.panEnabled) {\n        w.globals.selection = null;\n        if (this.w.globals.mousedown) {\n          this.panDragging({\n            context: this,\n            zoomtype,\n            xyRatios\n          });\n        }\n      } else {\n        if (this.w.globals.mousedown && w.globals.zoomEnabled || this.w.globals.mousedown && w.globals.selectionEnabled) {\n          this.selection = this.selectionDrawing({\n            context: this,\n            zoomtype\n          });\n        }\n      }\n    }\n    if (e.type === \"mouseup\" || e.type === \"touchend\" || e.type === \"mouseleave\") {\n      this.handleMouseUp({\n        zoomtype\n      });\n    }\n    this.makeSelectionRectDraggable();\n  }\n  handleMouseUp({\n    zoomtype,\n    isResized\n  }) {\n    var _a;\n    const w = this.w;\n    let gridRectDim = (_a = this.gridRect) == null ? void 0 : _a.getBoundingClientRect();\n    if (gridRectDim && (this.w.globals.mousedown || isResized)) {\n      this.endX = this.clientX - gridRectDim.left - w.globals.barPadForNumericAxis;\n      this.endY = this.clientY - gridRectDim.top;\n      this.dragX = Math.abs(this.endX - this.startX);\n      this.dragY = Math.abs(this.endY - this.startY);\n      if (w.globals.zoomEnabled || w.globals.selectionEnabled) {\n        this.selectionDrawn({\n          context: this,\n          zoomtype\n        });\n      }\n    }\n    if (w.globals.zoomEnabled) {\n      this.hideSelectionRect(this.selectionRect);\n    }\n    this.dragged = false;\n    this.w.globals.mousedown = false;\n  }\n  mouseWheelEvent(e) {\n    const w = this.w;\n    e.preventDefault();\n    const now = Date.now();\n    if (now - w.globals.lastWheelExecution > this.wheelDelay) {\n      this.executeMouseWheelZoom(e);\n      w.globals.lastWheelExecution = now;\n    }\n    if (this.debounceTimer) clearTimeout(this.debounceTimer);\n    this.debounceTimer = setTimeout(() => {\n      if (now - w.globals.lastWheelExecution > this.wheelDelay) {\n        this.executeMouseWheelZoom(e);\n        w.globals.lastWheelExecution = now;\n      }\n    }, this.debounceDelay);\n  }\n  executeMouseWheelZoom(e) {\n    var _a;\n    const w = this.w;\n    this.minX = w.globals.isRangeBar ? w.globals.minY : w.globals.minX;\n    this.maxX = w.globals.isRangeBar ? w.globals.maxY : w.globals.maxX;\n    const gridRectDim = (_a = this.gridRect) == null ? void 0 : _a.getBoundingClientRect();\n    if (!gridRectDim) return;\n    const mouseX = (e.clientX - gridRectDim.left) / gridRectDim.width;\n    const currentMinX = this.minX;\n    const currentMaxX = this.maxX;\n    const totalX = currentMaxX - currentMinX;\n    const zoomFactorIn = 0.5;\n    const zoomFactorOut = 1.5;\n    let zoomRange;\n    let newMinX, newMaxX;\n    if (e.deltaY < 0) {\n      zoomRange = zoomFactorIn * totalX;\n      const midPoint = currentMinX + mouseX * totalX;\n      newMinX = midPoint - zoomRange / 2;\n      newMaxX = midPoint + zoomRange / 2;\n    } else {\n      zoomRange = zoomFactorOut * totalX;\n      newMinX = currentMinX - zoomRange / 2;\n      newMaxX = currentMaxX + zoomRange / 2;\n    }\n    if (!w.globals.isRangeBar) {\n      newMinX = Math.max(newMinX, w.globals.initialMinX);\n      newMaxX = Math.min(newMaxX, w.globals.initialMaxX);\n      const minRange = (w.globals.initialMaxX - w.globals.initialMinX) * 0.01;\n      if (newMaxX - newMinX < minRange) {\n        const midPoint = (newMinX + newMaxX) / 2;\n        newMinX = midPoint - minRange / 2;\n        newMaxX = midPoint + minRange / 2;\n      }\n    }\n    const newMinXMaxX = this._getNewMinXMaxX(newMinX, newMaxX);\n    if (!isNaN(newMinXMaxX.minX) && !isNaN(newMinXMaxX.maxX)) {\n      this.zoomUpdateOptions(newMinXMaxX.minX, newMinXMaxX.maxX);\n    }\n  }\n  makeSelectionRectDraggable() {\n    const w = this.w;\n    if (!this.selectionRect) return;\n    const rectDim = this.selectionRect.node.getBoundingClientRect();\n    if (rectDim.width > 0 && rectDim.height > 0) {\n      this.selectionRect.select(false).resize(false);\n      this.selectionRect.select({\n        createRot: () => {},\n        updateRot: () => {},\n        createHandle: (group, p, index, pointArr, handleName) => {\n          if (handleName === \"l\" || handleName === \"r\") return group.circle(8).css({\n            \"stroke-width\": 1,\n            stroke: \"#333\",\n            fill: \"#fff\"\n          });\n          return group.circle(0);\n        },\n        updateHandle: (group, p) => {\n          return group.center(p[0], p[1]);\n        }\n      }).resize().on(\"resize\", () => {\n        let zoomtype = w.globals.zoomEnabled ? w.config.chart.zoom.type : w.config.chart.selection.type;\n        this.handleMouseUp({\n          zoomtype,\n          isResized: true\n        });\n      });\n    }\n  }\n  preselectedSelection() {\n    const w = this.w;\n    const xyRatios = this.xyRatios;\n    if (!w.globals.zoomEnabled) {\n      if (typeof w.globals.selection !== \"undefined\" && w.globals.selection !== null) {\n        this.drawSelectionRect(__spreadProps(__spreadValues({}, w.globals.selection), {\n          translateX: w.globals.translateX,\n          translateY: w.globals.translateY\n        }));\n      } else {\n        if (w.config.chart.selection.xaxis.min !== void 0 && w.config.chart.selection.xaxis.max !== void 0) {\n          let x = (w.config.chart.selection.xaxis.min - w.globals.minX) / xyRatios.xRatio;\n          let width = w.globals.gridWidth - (w.globals.maxX - w.config.chart.selection.xaxis.max) / xyRatios.xRatio - x;\n          if (w.globals.isRangeBar) {\n            x = (w.config.chart.selection.xaxis.min - w.globals.yAxisScale[0].niceMin) / xyRatios.invertedYRatio;\n            width = (w.config.chart.selection.xaxis.max - w.config.chart.selection.xaxis.min) / xyRatios.invertedYRatio;\n          }\n          let selectionRect = {\n            x,\n            y: 0,\n            width,\n            height: w.globals.gridHeight,\n            translateX: w.globals.translateX,\n            translateY: w.globals.translateY,\n            selectionEnabled: true\n          };\n          this.drawSelectionRect(selectionRect);\n          this.makeSelectionRectDraggable();\n          if (typeof w.config.chart.events.selection === \"function\") {\n            w.config.chart.events.selection(this.ctx, {\n              xaxis: {\n                min: w.config.chart.selection.xaxis.min,\n                max: w.config.chart.selection.xaxis.max\n              },\n              yaxis: {}\n            });\n          }\n        }\n      }\n    }\n  }\n  drawSelectionRect({\n    x,\n    y,\n    width,\n    height,\n    translateX = 0,\n    translateY = 0\n  }) {\n    const w = this.w;\n    const zoomRect = this.zoomRect;\n    const selectionRect = this.selectionRect;\n    if (this.dragged || w.globals.selection !== null) {\n      let scalingAttrs = {\n        transform: \"translate(\" + translateX + \", \" + translateY + \")\"\n      };\n      if (w.globals.zoomEnabled && this.dragged) {\n        if (width < 0) width = 1;\n        zoomRect.attr({\n          x,\n          y,\n          width,\n          height,\n          fill: w.config.chart.zoom.zoomedArea.fill.color,\n          \"fill-opacity\": w.config.chart.zoom.zoomedArea.fill.opacity,\n          stroke: w.config.chart.zoom.zoomedArea.stroke.color,\n          \"stroke-width\": w.config.chart.zoom.zoomedArea.stroke.width,\n          \"stroke-opacity\": w.config.chart.zoom.zoomedArea.stroke.opacity\n        });\n        Graphics.setAttrs(zoomRect.node, scalingAttrs);\n      }\n      if (w.globals.selectionEnabled) {\n        selectionRect.attr({\n          x,\n          y,\n          width: width > 0 ? width : 0,\n          height: height > 0 ? height : 0,\n          fill: w.config.chart.selection.fill.color,\n          \"fill-opacity\": w.config.chart.selection.fill.opacity,\n          stroke: w.config.chart.selection.stroke.color,\n          \"stroke-width\": w.config.chart.selection.stroke.width,\n          \"stroke-dasharray\": w.config.chart.selection.stroke.dashArray,\n          \"stroke-opacity\": w.config.chart.selection.stroke.opacity\n        });\n        Graphics.setAttrs(selectionRect.node, scalingAttrs);\n      }\n    }\n  }\n  hideSelectionRect(rect) {\n    if (rect) {\n      rect.attr({\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      });\n    }\n  }\n  selectionDrawing({\n    context,\n    zoomtype\n  }) {\n    const w = this.w;\n    let me = context;\n    let gridRectDim = this.gridRect.getBoundingClientRect();\n    let startX = me.startX - 1;\n    let startY = me.startY;\n    let inversedX = false;\n    let inversedY = false;\n    const left = me.clientX - gridRectDim.left - w.globals.barPadForNumericAxis;\n    const top = me.clientY - gridRectDim.top;\n    let selectionWidth = left - startX;\n    let selectionHeight = top - startY;\n    let selectionRect = {\n      translateX: w.globals.translateX,\n      translateY: w.globals.translateY\n    };\n    if (Math.abs(selectionWidth + startX) > w.globals.gridWidth) {\n      selectionWidth = w.globals.gridWidth - startX;\n    } else if (left < 0) {\n      selectionWidth = startX;\n    }\n    if (startX > left) {\n      inversedX = true;\n      selectionWidth = Math.abs(selectionWidth);\n    }\n    if (startY > top) {\n      inversedY = true;\n      selectionHeight = Math.abs(selectionHeight);\n    }\n    if (zoomtype === \"x\") {\n      selectionRect = {\n        x: inversedX ? startX - selectionWidth : startX,\n        y: 0,\n        width: selectionWidth,\n        height: w.globals.gridHeight\n      };\n    } else if (zoomtype === \"y\") {\n      selectionRect = {\n        x: 0,\n        y: inversedY ? startY - selectionHeight : startY,\n        width: w.globals.gridWidth,\n        height: selectionHeight\n      };\n    } else {\n      selectionRect = {\n        x: inversedX ? startX - selectionWidth : startX,\n        y: inversedY ? startY - selectionHeight : startY,\n        width: selectionWidth,\n        height: selectionHeight\n      };\n    }\n    selectionRect = __spreadProps(__spreadValues({}, selectionRect), {\n      translateX: w.globals.translateX,\n      translateY: w.globals.translateY\n    });\n    me.drawSelectionRect(selectionRect);\n    me.selectionDragging(\"resizing\");\n    return selectionRect;\n  }\n  selectionDragging(type, e) {\n    const w = this.w;\n    if (!e) return;\n    e.preventDefault();\n    const {\n      handler,\n      box\n    } = e.detail;\n    let {\n      x,\n      y\n    } = box;\n    if (x < this.constraints.x) {\n      x = this.constraints.x;\n    }\n    if (y < this.constraints.y) {\n      y = this.constraints.y;\n    }\n    if (box.x2 > this.constraints.x2) {\n      x = this.constraints.x2 - box.w;\n    }\n    if (box.y2 > this.constraints.y2) {\n      y = this.constraints.y2 - box.h;\n    }\n    handler.move(x, y);\n    const xyRatios = this.xyRatios;\n    const selRect = this.selectionRect;\n    let timerInterval = 0;\n    if (type === \"resizing\") {\n      timerInterval = 30;\n    }\n    const getSelAttr = attr => {\n      return parseFloat(selRect.node.getAttribute(attr));\n    };\n    const draggedProps = {\n      x: getSelAttr(\"x\"),\n      y: getSelAttr(\"y\"),\n      width: getSelAttr(\"width\"),\n      height: getSelAttr(\"height\")\n    };\n    w.globals.selection = draggedProps;\n    if (typeof w.config.chart.events.selection === \"function\" && w.globals.selectionEnabled) {\n      clearTimeout(this.w.globals.selectionResizeTimer);\n      this.w.globals.selectionResizeTimer = window.setTimeout(() => {\n        const gridRectDim = this.gridRect.getBoundingClientRect();\n        const selectionRect = selRect.node.getBoundingClientRect();\n        let minX, maxX, minY, maxY;\n        if (!w.globals.isRangeBar) {\n          minX = w.globals.xAxisScale.niceMin + (selectionRect.left - gridRectDim.left) * xyRatios.xRatio;\n          maxX = w.globals.xAxisScale.niceMin + (selectionRect.right - gridRectDim.left) * xyRatios.xRatio;\n          minY = w.globals.yAxisScale[0].niceMin + (gridRectDim.bottom - selectionRect.bottom) * xyRatios.yRatio[0];\n          maxY = w.globals.yAxisScale[0].niceMax - (selectionRect.top - gridRectDim.top) * xyRatios.yRatio[0];\n        } else {\n          minX = w.globals.yAxisScale[0].niceMin + (selectionRect.left - gridRectDim.left) * xyRatios.invertedYRatio;\n          maxX = w.globals.yAxisScale[0].niceMin + (selectionRect.right - gridRectDim.left) * xyRatios.invertedYRatio;\n          minY = 0;\n          maxY = 1;\n        }\n        const xyAxis = {\n          xaxis: {\n            min: minX,\n            max: maxX\n          },\n          yaxis: {\n            min: minY,\n            max: maxY\n          }\n        };\n        w.config.chart.events.selection(this.ctx, xyAxis);\n        if (w.config.chart.brush.enabled && w.config.chart.events.brushScrolled !== void 0) {\n          w.config.chart.events.brushScrolled(this.ctx, xyAxis);\n        }\n      }, timerInterval);\n    }\n  }\n  selectionDrawn({\n    context,\n    zoomtype\n  }) {\n    const w = this.w;\n    const me = context;\n    const xyRatios = this.xyRatios;\n    const toolbar = this.ctx.toolbar;\n    const selRect = w.globals.zoomEnabled ? me.zoomRect.node.getBoundingClientRect() : me.selectionRect.node.getBoundingClientRect();\n    const gridRectDim = me.gridRect.getBoundingClientRect();\n    const localStartX = selRect.left - gridRectDim.left - w.globals.barPadForNumericAxis;\n    const localEndX = selRect.right - gridRectDim.left - w.globals.barPadForNumericAxis;\n    const localStartY = selRect.top - gridRectDim.top;\n    const localEndY = selRect.bottom - gridRectDim.top;\n    let xLowestValue, xHighestValue;\n    if (!w.globals.isRangeBar) {\n      xLowestValue = w.globals.xAxisScale.niceMin + localStartX * xyRatios.xRatio;\n      xHighestValue = w.globals.xAxisScale.niceMin + localEndX * xyRatios.xRatio;\n    } else {\n      xLowestValue = w.globals.yAxisScale[0].niceMin + localStartX * xyRatios.invertedYRatio;\n      xHighestValue = w.globals.yAxisScale[0].niceMin + localEndX * xyRatios.invertedYRatio;\n    }\n    let yHighestValue = [];\n    let yLowestValue = [];\n    w.config.yaxis.forEach((yaxe, index) => {\n      let seriesIndex = w.globals.seriesYAxisMap[index][0];\n      let highestVal = w.globals.yAxisScale[index].niceMax - xyRatios.yRatio[seriesIndex] * localStartY;\n      let lowestVal = w.globals.yAxisScale[index].niceMax - xyRatios.yRatio[seriesIndex] * localEndY;\n      yHighestValue.push(highestVal);\n      yLowestValue.push(lowestVal);\n    });\n    if (me.dragged && (me.dragX > 10 || me.dragY > 10) && xLowestValue !== xHighestValue) {\n      if (w.globals.zoomEnabled) {\n        let yaxis = Utils$1.clone(w.globals.initialConfig.yaxis);\n        let xaxis = Utils$1.clone(w.globals.initialConfig.xaxis);\n        w.globals.zoomed = true;\n        if (w.config.xaxis.convertedCatToNumeric) {\n          xLowestValue = Math.floor(xLowestValue);\n          xHighestValue = Math.floor(xHighestValue);\n          if (xLowestValue < 1) {\n            xLowestValue = 1;\n            xHighestValue = w.globals.dataPoints;\n          }\n          if (xHighestValue - xLowestValue < 2) {\n            xHighestValue = xLowestValue + 1;\n          }\n        }\n        if (zoomtype === \"xy\" || zoomtype === \"x\") {\n          xaxis = {\n            min: xLowestValue,\n            max: xHighestValue\n          };\n        }\n        if (zoomtype === \"xy\" || zoomtype === \"y\") {\n          yaxis.forEach((yaxe, index) => {\n            yaxis[index].min = yLowestValue[index];\n            yaxis[index].max = yHighestValue[index];\n          });\n        }\n        if (toolbar) {\n          let beforeZoomRange = toolbar.getBeforeZoomRange(xaxis, yaxis);\n          if (beforeZoomRange) {\n            xaxis = beforeZoomRange.xaxis ? beforeZoomRange.xaxis : xaxis;\n            yaxis = beforeZoomRange.yaxis ? beforeZoomRange.yaxis : yaxis;\n          }\n        }\n        let options2 = {\n          xaxis\n        };\n        if (!w.config.chart.group) {\n          options2.yaxis = yaxis;\n        }\n        me.ctx.updateHelpers._updateOptions(options2, false, me.w.config.chart.animations.dynamicAnimation.enabled);\n        if (typeof w.config.chart.events.zoomed === \"function\") {\n          toolbar.zoomCallback(xaxis, yaxis);\n        }\n      } else if (w.globals.selectionEnabled) {\n        let yaxis = null;\n        let xaxis = null;\n        xaxis = {\n          min: xLowestValue,\n          max: xHighestValue\n        };\n        if (zoomtype === \"xy\" || zoomtype === \"y\") {\n          yaxis = Utils$1.clone(w.config.yaxis);\n          yaxis.forEach((yaxe, index) => {\n            yaxis[index].min = yLowestValue[index];\n            yaxis[index].max = yHighestValue[index];\n          });\n        }\n        w.globals.selection = me.selection;\n        if (typeof w.config.chart.events.selection === \"function\") {\n          w.config.chart.events.selection(me.ctx, {\n            xaxis,\n            yaxis\n          });\n        }\n      }\n    }\n  }\n  panDragging({\n    context\n  }) {\n    const w = this.w;\n    let me = context;\n    if (typeof w.globals.lastClientPosition.x !== \"undefined\") {\n      const deltaX = w.globals.lastClientPosition.x - me.clientX;\n      const deltaY = w.globals.lastClientPosition.y - me.clientY;\n      if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX > 0) {\n        this.moveDirection = \"left\";\n      } else if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX < 0) {\n        this.moveDirection = \"right\";\n      } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY > 0) {\n        this.moveDirection = \"up\";\n      } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < 0) {\n        this.moveDirection = \"down\";\n      }\n    }\n    w.globals.lastClientPosition = {\n      x: me.clientX,\n      y: me.clientY\n    };\n    let xLowestValue = w.globals.isRangeBar ? w.globals.minY : w.globals.minX;\n    let xHighestValue = w.globals.isRangeBar ? w.globals.maxY : w.globals.maxX;\n    me.panScrolled(xLowestValue, xHighestValue);\n  }\n  // delayedPanScrolled() {\n  //   const w = this.w\n  //   let newMinX = w.globals.minX\n  //   let newMaxX = w.globals.maxX\n  //   const centerX = (w.globals.maxX - w.globals.minX) / 2\n  //   if (this.moveDirection === 'left') {\n  //     newMinX = w.globals.minX + centerX\n  //     newMaxX = w.globals.maxX + centerX\n  //   } else if (this.moveDirection === 'right') {\n  //     newMinX = w.globals.minX - centerX\n  //     newMaxX = w.globals.maxX - centerX\n  //   }\n  //   newMinX = Math.floor(newMinX)\n  //   newMaxX = Math.floor(newMaxX)\n  //   this.updateScrolledChart(\n  //     { xaxis: { min: newMinX, max: newMaxX } },\n  //     newMinX,\n  //     newMaxX\n  //   )\n  // }\n  panScrolled(xLowestValue, xHighestValue) {\n    const w = this.w;\n    const xyRatios = this.xyRatios;\n    let yaxis = Utils$1.clone(w.globals.initialConfig.yaxis);\n    let xRatio = xyRatios.xRatio;\n    let minX = w.globals.minX;\n    let maxX = w.globals.maxX;\n    if (w.globals.isRangeBar) {\n      xRatio = xyRatios.invertedYRatio;\n      minX = w.globals.minY;\n      maxX = w.globals.maxY;\n    }\n    if (this.moveDirection === \"left\") {\n      xLowestValue = minX + w.globals.gridWidth / 15 * xRatio;\n      xHighestValue = maxX + w.globals.gridWidth / 15 * xRatio;\n    } else if (this.moveDirection === \"right\") {\n      xLowestValue = minX - w.globals.gridWidth / 15 * xRatio;\n      xHighestValue = maxX - w.globals.gridWidth / 15 * xRatio;\n    }\n    if (!w.globals.isRangeBar) {\n      if (xLowestValue < w.globals.initialMinX || xHighestValue > w.globals.initialMaxX) {\n        xLowestValue = minX;\n        xHighestValue = maxX;\n      }\n    }\n    let xaxis = {\n      min: xLowestValue,\n      max: xHighestValue\n    };\n    let options2 = {\n      xaxis\n    };\n    if (!w.config.chart.group) {\n      options2.yaxis = yaxis;\n    }\n    this.updateScrolledChart(options2, xLowestValue, xHighestValue);\n  }\n  updateScrolledChart(options2, xLowestValue, xHighestValue) {\n    const w = this.w;\n    this.ctx.updateHelpers._updateOptions(options2, false, false);\n    if (typeof w.config.chart.events.scrolled === \"function\") {\n      const args = {\n        xaxis: {\n          min: xLowestValue,\n          max: xHighestValue\n        }\n      };\n      w.config.chart.events.scrolled(this.ctx, args);\n      this.ctx.events.fireEvent(\"scrolled\", args);\n    }\n  }\n}\nclass Utils2 {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ttCtx = tooltipContext;\n    this.ctx = tooltipContext.ctx;\n  }\n  /**\n   ** When hovering over series, you need to capture which series is being hovered on.\n   ** This function will return both capturedseries index as well as inner index of that series\n   * @memberof Utils\n   * @param {object}\n   * - hoverArea = the rect on which user hovers\n   * - elGrid = dimensions of the hover rect (it can be different than hoverarea)\n   */\n  getNearestValues({\n    hoverArea,\n    elGrid,\n    clientX,\n    clientY\n  }) {\n    let w = this.w;\n    const seriesBound = elGrid.getBoundingClientRect();\n    const hoverWidth = seriesBound.width;\n    const hoverHeight = seriesBound.height;\n    let xDivisor = hoverWidth / (w.globals.dataPoints - 1);\n    let yDivisor = hoverHeight / w.globals.dataPoints;\n    const hasBars = this.hasBars();\n    if ((w.globals.comboCharts || hasBars) && !w.config.xaxis.convertedCatToNumeric) {\n      xDivisor = hoverWidth / w.globals.dataPoints;\n    }\n    let hoverX = clientX - seriesBound.left - w.globals.barPadForNumericAxis;\n    let hoverY = clientY - seriesBound.top;\n    const notInRect = hoverX < 0 || hoverY < 0 || hoverX > hoverWidth || hoverY > hoverHeight;\n    if (notInRect) {\n      hoverArea.classList.remove(\"hovering-zoom\");\n      hoverArea.classList.remove(\"hovering-pan\");\n    } else {\n      if (w.globals.zoomEnabled) {\n        hoverArea.classList.remove(\"hovering-pan\");\n        hoverArea.classList.add(\"hovering-zoom\");\n      } else if (w.globals.panEnabled) {\n        hoverArea.classList.remove(\"hovering-zoom\");\n        hoverArea.classList.add(\"hovering-pan\");\n      }\n    }\n    let j = Math.round(hoverX / xDivisor);\n    let jHorz = Math.floor(hoverY / yDivisor);\n    if (hasBars && !w.config.xaxis.convertedCatToNumeric) {\n      j = Math.ceil(hoverX / xDivisor);\n      j = j - 1;\n    }\n    let capturedSeries = null;\n    let closest = null;\n    let seriesXValArr = w.globals.seriesXvalues.map(seriesXVal => {\n      return seriesXVal.filter(s => Utils$1.isNumber(s));\n    });\n    let seriesYValArr = w.globals.seriesYvalues.map(seriesYVal => {\n      return seriesYVal.filter(s => Utils$1.isNumber(s));\n    });\n    if (w.globals.isXNumeric) {\n      const chartGridEl = this.ttCtx.getElGrid();\n      const chartGridElBoundingRect = chartGridEl.getBoundingClientRect();\n      const transformedHoverX = hoverX * (chartGridElBoundingRect.width / hoverWidth);\n      const transformedHoverY = hoverY * (chartGridElBoundingRect.height / hoverHeight);\n      closest = this.closestInMultiArray(transformedHoverX, transformedHoverY, seriesXValArr, seriesYValArr);\n      capturedSeries = closest.index;\n      j = closest.j;\n      if (capturedSeries !== null && w.globals.hasNullValues) {\n        seriesXValArr = w.globals.seriesXvalues[capturedSeries];\n        closest = this.closestInArray(transformedHoverX, seriesXValArr);\n        j = closest.j;\n      }\n    }\n    w.globals.capturedSeriesIndex = capturedSeries === null ? -1 : capturedSeries;\n    if (!j || j < 1) j = 0;\n    if (w.globals.isBarHorizontal) {\n      w.globals.capturedDataPointIndex = jHorz;\n    } else {\n      w.globals.capturedDataPointIndex = j;\n    }\n    return {\n      capturedSeries,\n      j: w.globals.isBarHorizontal ? jHorz : j,\n      hoverX,\n      hoverY\n    };\n  }\n  getFirstActiveXArray(Xarrays) {\n    const w = this.w;\n    let activeIndex = 0;\n    let firstActiveSeriesIndex = Xarrays.map((xarr, index) => {\n      return xarr.length > 0 ? index : -1;\n    });\n    for (let a = 0; a < firstActiveSeriesIndex.length; a++) {\n      if (firstActiveSeriesIndex[a] !== -1 && w.globals.collapsedSeriesIndices.indexOf(a) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(a) === -1) {\n        activeIndex = firstActiveSeriesIndex[a];\n        break;\n      }\n    }\n    return activeIndex;\n  }\n  closestInMultiArray(hoverX, hoverY, Xarrays, Yarrays) {\n    const w = this.w;\n    const isActiveSeries = seriesIndex => {\n      return w.globals.collapsedSeriesIndices.indexOf(seriesIndex) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(seriesIndex) === -1;\n    };\n    let closestDist = Infinity;\n    let closestSeriesIndex = null;\n    let closestPointIndex = null;\n    for (let i = 0; i < Xarrays.length; i++) {\n      if (!isActiveSeries(i)) {\n        continue;\n      }\n      const xArr = Xarrays[i];\n      const yArr = Yarrays[i];\n      const len = Math.min(xArr.length, yArr.length);\n      for (let j = 0; j < len; j++) {\n        const xVal = xArr[j];\n        const distX = hoverX - xVal;\n        let dist = Math.sqrt(distX * distX);\n        if (!w.globals.allSeriesHasEqualX) {\n          const yVal = yArr[j];\n          const distY = hoverY - yVal;\n          dist = Math.sqrt(distX * distX + distY * distY);\n        }\n        if (dist < closestDist) {\n          closestDist = dist;\n          closestSeriesIndex = i;\n          closestPointIndex = j;\n        }\n      }\n    }\n    return {\n      index: closestSeriesIndex,\n      j: closestPointIndex\n    };\n  }\n  closestInArray(val, arr) {\n    let curr = arr[0];\n    let currIndex = null;\n    let diff = Math.abs(val - curr);\n    for (let i = 0; i < arr.length; i++) {\n      let newdiff = Math.abs(val - arr[i]);\n      if (newdiff < diff) {\n        diff = newdiff;\n        currIndex = i;\n      }\n    }\n    return {\n      j: currIndex\n    };\n  }\n  /**\n   * When there are multiple series, it is possible to have different x values for each series.\n   * But it may be possible in those multiple series, that there is same x value for 2 or more\n   * series.\n   * @memberof Utils\n   * @param {int}\n   * - j = is the inner index of series -> (series[i][j])\n   * @return {bool}\n   */\n  isXoverlap(j) {\n    let w = this.w;\n    let xSameForAllSeriesJArr = [];\n    const seriesX = w.globals.seriesX.filter(s => typeof s[0] !== \"undefined\");\n    if (seriesX.length > 0) {\n      for (let i = 0; i < seriesX.length - 1; i++) {\n        if (typeof seriesX[i][j] !== \"undefined\" && typeof seriesX[i + 1][j] !== \"undefined\") {\n          if (seriesX[i][j] !== seriesX[i + 1][j]) {\n            xSameForAllSeriesJArr.push(\"unEqual\");\n          }\n        }\n      }\n    }\n    if (xSameForAllSeriesJArr.length === 0) {\n      return true;\n    }\n    return false;\n  }\n  isInitialSeriesSameLen() {\n    var _a;\n    let sameLen = true;\n    const initialSeries = ((_a = this.w.globals.initialSeries) == null ? void 0 : _a.filter((s, i) => {\n      var _a2;\n      return !((_a2 = this.w.globals.collapsedSeriesIndices) == null ? void 0 : _a2.includes(i));\n    })) || [];\n    for (let i = 0; i < initialSeries.length - 1; i++) {\n      if (initialSeries[i].data.length !== initialSeries[i + 1].data.length) {\n        sameLen = false;\n        break;\n      }\n    }\n    return sameLen;\n  }\n  getBarsHeight(allbars) {\n    let bars = [...allbars];\n    const totalHeight = bars.reduce((acc, bar) => acc + bar.getBBox().height, 0);\n    return totalHeight;\n  }\n  getElMarkers(capturedSeries) {\n    if (typeof capturedSeries == \"number\") {\n      return this.w.globals.dom.baseEl.querySelectorAll(`.apexcharts-series[data\\\\:realIndex='${capturedSeries}'] .apexcharts-series-markers-wrap > *`);\n    }\n    return this.w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series-markers-wrap > *\");\n  }\n  getAllMarkers(filterCollapsed = false) {\n    let markersWraps = this.w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series-markers-wrap\");\n    markersWraps = [...markersWraps];\n    if (filterCollapsed) {\n      markersWraps = markersWraps.filter(m => {\n        const realIndex = Number(m.getAttribute(\"data:realIndex\"));\n        return this.w.globals.collapsedSeriesIndices.indexOf(realIndex) === -1;\n      });\n    }\n    markersWraps.sort((a, b) => {\n      var indexA = Number(a.getAttribute(\"data:realIndex\"));\n      var indexB = Number(b.getAttribute(\"data:realIndex\"));\n      return indexB < indexA ? 1 : indexB > indexA ? -1 : 0;\n    });\n    let markers = [];\n    markersWraps.forEach(m => {\n      markers.push(m.querySelector(\".apexcharts-marker\"));\n    });\n    return markers;\n  }\n  hasMarkers(capturedSeries) {\n    const markers = this.getElMarkers(capturedSeries);\n    return markers.length > 0;\n  }\n  getPathFromPoint(point, size) {\n    let cx = Number(point.getAttribute(\"cx\"));\n    let cy = Number(point.getAttribute(\"cy\"));\n    let shape = point.getAttribute(\"shape\");\n    return new Graphics(this.ctx).getMarkerPath(cx, cy, shape, size);\n  }\n  getElBars() {\n    return this.w.globals.dom.baseEl.querySelectorAll(\".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series\");\n  }\n  hasBars() {\n    const bars = this.getElBars();\n    return bars.length > 0;\n  }\n  getHoverMarkerSize(index) {\n    const w = this.w;\n    let hoverSize = w.config.markers.hover.size;\n    if (hoverSize === void 0) {\n      hoverSize = w.globals.markers.size[index] + w.config.markers.hover.sizeOffset;\n    }\n    return hoverSize;\n  }\n  toggleAllTooltipSeriesGroups(state) {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    if (ttCtx.allTooltipSeriesGroups.length === 0) {\n      ttCtx.allTooltipSeriesGroups = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-tooltip-series-group\");\n    }\n    let allTooltipSeriesGroups = ttCtx.allTooltipSeriesGroups;\n    for (let i = 0; i < allTooltipSeriesGroups.length; i++) {\n      if (state === \"enable\") {\n        allTooltipSeriesGroups[i].classList.add(\"apexcharts-active\");\n        allTooltipSeriesGroups[i].style.display = w.config.tooltip.items.display;\n      } else {\n        allTooltipSeriesGroups[i].classList.remove(\"apexcharts-active\");\n        allTooltipSeriesGroups[i].style.display = \"none\";\n      }\n    }\n  }\n}\nclass Labels {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ctx = tooltipContext.ctx;\n    this.ttCtx = tooltipContext;\n    this.tooltipUtil = new Utils2(tooltipContext);\n  }\n  drawSeriesTexts({\n    shared = true,\n    ttItems,\n    i = 0,\n    j = null,\n    y1,\n    y2,\n    e\n  }) {\n    let w = this.w;\n    if (w.config.tooltip.custom !== void 0) {\n      this.handleCustomTooltip({\n        i,\n        j,\n        y1,\n        y2,\n        w\n      });\n    } else {\n      this.toggleActiveInactiveSeries(shared, i);\n    }\n    let values = this.getValuesToPrint({\n      i,\n      j\n    });\n    this.printLabels({\n      i,\n      j,\n      values,\n      ttItems,\n      shared,\n      e\n    });\n    const tooltipEl = this.ttCtx.getElTooltip();\n    this.ttCtx.tooltipRect.ttWidth = tooltipEl.getBoundingClientRect().width;\n    this.ttCtx.tooltipRect.ttHeight = tooltipEl.getBoundingClientRect().height;\n  }\n  printLabels({\n    i,\n    j,\n    values,\n    ttItems,\n    shared,\n    e\n  }) {\n    var _a;\n    const w = this.w;\n    let val;\n    let goalVals = [];\n    const hasGoalValues = gi => {\n      return w.globals.seriesGoals[gi] && w.globals.seriesGoals[gi][j] && Array.isArray(w.globals.seriesGoals[gi][j]);\n    };\n    const {\n      xVal,\n      zVal,\n      xAxisTTVal\n    } = values;\n    let seriesName = \"\";\n    let pColor = w.globals.colors[i];\n    if (j !== null && w.config.plotOptions.bar.distributed) {\n      pColor = w.globals.colors[j];\n    }\n    for (let t = 0, inverset = w.globals.series.length - 1; t < w.globals.series.length; t++, inverset--) {\n      let f = this.getFormatters(i);\n      seriesName = this.getSeriesName({\n        fn: f.yLbTitleFormatter,\n        index: i,\n        seriesIndex: i,\n        j\n      });\n      if (w.config.chart.type === \"treemap\") {\n        seriesName = f.yLbTitleFormatter(String(w.config.series[i].data[j].x), {\n          series: w.globals.series,\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        });\n      }\n      const tIndex = w.config.tooltip.inverseOrder ? inverset : t;\n      if (w.globals.axisCharts) {\n        const getValBySeriesIndex = index => {\n          var _a2, _b, _c, _d;\n          if (w.globals.isRangeData) {\n            return f.yLbFormatter((_b = (_a2 = w.globals.seriesRangeStart) == null ? void 0 : _a2[index]) == null ? void 0 : _b[j], {\n              series: w.globals.seriesRangeStart,\n              seriesIndex: index,\n              dataPointIndex: j,\n              w\n            }) + \" - \" + f.yLbFormatter((_d = (_c = w.globals.seriesRangeEnd) == null ? void 0 : _c[index]) == null ? void 0 : _d[j], {\n              series: w.globals.seriesRangeEnd,\n              seriesIndex: index,\n              dataPointIndex: j,\n              w\n            });\n          }\n          return f.yLbFormatter(w.globals.series[index][j], {\n            series: w.globals.series,\n            seriesIndex: index,\n            dataPointIndex: j,\n            w\n          });\n        };\n        if (shared) {\n          f = this.getFormatters(tIndex);\n          seriesName = this.getSeriesName({\n            fn: f.yLbTitleFormatter,\n            index: tIndex,\n            seriesIndex: i,\n            j\n          });\n          pColor = w.globals.colors[tIndex];\n          val = getValBySeriesIndex(tIndex);\n          if (hasGoalValues(tIndex)) {\n            goalVals = w.globals.seriesGoals[tIndex][j].map(goal => {\n              return {\n                attrs: goal,\n                val: f.yLbFormatter(goal.value, {\n                  seriesIndex: tIndex,\n                  dataPointIndex: j,\n                  w\n                })\n              };\n            });\n          }\n        } else {\n          const targetFill = (_a = e == null ? void 0 : e.target) == null ? void 0 : _a.getAttribute(\"fill\");\n          if (targetFill) {\n            if (targetFill.indexOf(\"url\") !== -1) {\n              if (targetFill.indexOf(\"Pattern\") !== -1) {\n                pColor = w.globals.dom.baseEl.querySelector(targetFill.substr(4).slice(0, -1)).childNodes[0].getAttribute(\"stroke\");\n              }\n            } else {\n              pColor = targetFill;\n            }\n          }\n          val = getValBySeriesIndex(i);\n          if (hasGoalValues(i) && Array.isArray(w.globals.seriesGoals[i][j])) {\n            goalVals = w.globals.seriesGoals[i][j].map(goal => {\n              return {\n                attrs: goal,\n                val: f.yLbFormatter(goal.value, {\n                  seriesIndex: i,\n                  dataPointIndex: j,\n                  w\n                })\n              };\n            });\n          }\n        }\n      }\n      if (j === null) {\n        val = f.yLbFormatter(w.globals.series[i], __spreadProps(__spreadValues({}, w), {\n          seriesIndex: i,\n          dataPointIndex: i\n        }));\n      }\n      this.DOMHandling({\n        i,\n        t: tIndex,\n        j,\n        ttItems,\n        values: {\n          val,\n          goalVals,\n          xVal,\n          xAxisTTVal,\n          zVal\n        },\n        seriesName,\n        shared,\n        pColor\n      });\n    }\n  }\n  getFormatters(i) {\n    const w = this.w;\n    let yLbFormatter = w.globals.yLabelFormatters[i];\n    let yLbTitleFormatter;\n    if (w.globals.ttVal !== void 0) {\n      if (Array.isArray(w.globals.ttVal)) {\n        yLbFormatter = w.globals.ttVal[i] && w.globals.ttVal[i].formatter;\n        yLbTitleFormatter = w.globals.ttVal[i] && w.globals.ttVal[i].title && w.globals.ttVal[i].title.formatter;\n      } else {\n        yLbFormatter = w.globals.ttVal.formatter;\n        if (typeof w.globals.ttVal.title.formatter === \"function\") {\n          yLbTitleFormatter = w.globals.ttVal.title.formatter;\n        }\n      }\n    } else {\n      yLbTitleFormatter = w.config.tooltip.y.title.formatter;\n    }\n    if (typeof yLbFormatter !== \"function\") {\n      if (w.globals.yLabelFormatters[0]) {\n        yLbFormatter = w.globals.yLabelFormatters[0];\n      } else {\n        yLbFormatter = function (label) {\n          return label;\n        };\n      }\n    }\n    if (typeof yLbTitleFormatter !== \"function\") {\n      yLbTitleFormatter = function (label) {\n        return label ? label + \": \" : \"\";\n      };\n    }\n    return {\n      yLbFormatter,\n      yLbTitleFormatter\n    };\n  }\n  getSeriesName({\n    fn,\n    index,\n    seriesIndex,\n    j\n  }) {\n    const w = this.w;\n    return fn(String(w.globals.seriesNames[index]), {\n      series: w.globals.series,\n      seriesIndex,\n      dataPointIndex: j,\n      w\n    });\n  }\n  DOMHandling({\n    t,\n    j,\n    ttItems,\n    values,\n    seriesName,\n    shared,\n    pColor\n  }) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    const {\n      val,\n      goalVals,\n      xVal,\n      xAxisTTVal,\n      zVal\n    } = values;\n    let ttItemsChildren = null;\n    ttItemsChildren = ttItems[t].children;\n    if (w.config.tooltip.fillSeriesColor) {\n      ttItems[t].style.backgroundColor = pColor;\n      ttItemsChildren[0].style.display = \"none\";\n    }\n    if (ttCtx.showTooltipTitle) {\n      if (ttCtx.tooltipTitle === null) {\n        ttCtx.tooltipTitle = w.globals.dom.baseEl.querySelector(\".apexcharts-tooltip-title\");\n      }\n      ttCtx.tooltipTitle.innerHTML = xVal;\n    }\n    if (ttCtx.isXAxisTooltipEnabled) {\n      ttCtx.xaxisTooltipText.innerHTML = xAxisTTVal !== \"\" ? xAxisTTVal : xVal;\n    }\n    const ttYLabel = ttItems[t].querySelector(\".apexcharts-tooltip-text-y-label\");\n    if (ttYLabel) {\n      ttYLabel.innerHTML = seriesName ? seriesName : \"\";\n    }\n    const ttYVal = ttItems[t].querySelector(\".apexcharts-tooltip-text-y-value\");\n    if (ttYVal) {\n      ttYVal.innerHTML = typeof val !== \"undefined\" ? val : \"\";\n    }\n    if (ttItemsChildren[0] && ttItemsChildren[0].classList.contains(\"apexcharts-tooltip-marker\")) {\n      if (w.config.tooltip.marker.fillColors && Array.isArray(w.config.tooltip.marker.fillColors)) {\n        pColor = w.config.tooltip.marker.fillColors[t];\n      }\n      if (w.config.tooltip.fillSeriesColor) {\n        ttItemsChildren[0].style.backgroundColor = pColor;\n      } else {\n        ttItemsChildren[0].style.color = pColor;\n      }\n    }\n    if (!w.config.tooltip.marker.show) {\n      ttItemsChildren[0].style.display = \"none\";\n    }\n    const ttGLabel = ttItems[t].querySelector(\".apexcharts-tooltip-text-goals-label\");\n    const ttGVal = ttItems[t].querySelector(\".apexcharts-tooltip-text-goals-value\");\n    if (goalVals.length && w.globals.seriesGoals[t]) {\n      const createGoalsHtml = () => {\n        let gLabels = \"<div>\";\n        let gVals = \"<div>\";\n        goalVals.forEach(goal => {\n          gLabels += ` <div style=\"display: flex\"><span class=\"apexcharts-tooltip-marker\" style=\"background-color: ${goal.attrs.strokeColor}; height: 3px; border-radius: 0; top: 5px;\"></span> ${goal.attrs.name}</div>`;\n          gVals += `<div>${goal.val}</div>`;\n        });\n        ttGLabel.innerHTML = gLabels + `</div>`;\n        ttGVal.innerHTML = gVals + `</div>`;\n      };\n      if (shared) {\n        if (w.globals.seriesGoals[t][j] && Array.isArray(w.globals.seriesGoals[t][j])) {\n          createGoalsHtml();\n        } else {\n          ttGLabel.innerHTML = \"\";\n          ttGVal.innerHTML = \"\";\n        }\n      } else {\n        createGoalsHtml();\n      }\n    } else {\n      ttGLabel.innerHTML = \"\";\n      ttGVal.innerHTML = \"\";\n    }\n    if (zVal !== null) {\n      const ttZLabel = ttItems[t].querySelector(\".apexcharts-tooltip-text-z-label\");\n      ttZLabel.innerHTML = w.config.tooltip.z.title;\n      const ttZVal = ttItems[t].querySelector(\".apexcharts-tooltip-text-z-value\");\n      ttZVal.innerHTML = typeof zVal !== \"undefined\" ? zVal : \"\";\n    }\n    if (shared && ttItemsChildren[0]) {\n      if (w.config.tooltip.hideEmptySeries) {\n        let ttItemMarker = ttItems[t].querySelector(\".apexcharts-tooltip-marker\");\n        let ttItemText = ttItems[t].querySelector(\".apexcharts-tooltip-text\");\n        if (parseFloat(val) == 0) {\n          ttItemMarker.style.display = \"none\";\n          ttItemText.style.display = \"none\";\n        } else {\n          ttItemMarker.style.display = \"block\";\n          ttItemText.style.display = \"block\";\n        }\n      }\n      if (typeof val === \"undefined\" || val === null || w.globals.ancillaryCollapsedSeriesIndices.indexOf(t) > -1 || w.globals.collapsedSeriesIndices.indexOf(t) > -1 || Array.isArray(ttCtx.tConfig.enabledOnSeries) && ttCtx.tConfig.enabledOnSeries.indexOf(t) === -1) {\n        ttItemsChildren[0].parentNode.style.display = \"none\";\n      } else {\n        ttItemsChildren[0].parentNode.style.display = w.config.tooltip.items.display;\n      }\n    } else {\n      if (Array.isArray(ttCtx.tConfig.enabledOnSeries) && ttCtx.tConfig.enabledOnSeries.indexOf(t) === -1) {\n        ttItemsChildren[0].parentNode.style.display = \"none\";\n      }\n    }\n  }\n  toggleActiveInactiveSeries(shared, i) {\n    const w = this.w;\n    if (shared) {\n      this.tooltipUtil.toggleAllTooltipSeriesGroups(\"enable\");\n    } else {\n      this.tooltipUtil.toggleAllTooltipSeriesGroups(\"disable\");\n      let firstTooltipSeriesGroup = w.globals.dom.baseEl.querySelector(`.apexcharts-tooltip-series-group-${i}`);\n      if (firstTooltipSeriesGroup) {\n        firstTooltipSeriesGroup.classList.add(\"apexcharts-active\");\n        firstTooltipSeriesGroup.style.display = w.config.tooltip.items.display;\n      }\n    }\n  }\n  getValuesToPrint({\n    i,\n    j\n  }) {\n    const w = this.w;\n    const filteredSeriesX = this.ctx.series.filteredSeriesX();\n    let xVal = \"\";\n    let xAxisTTVal = \"\";\n    let zVal = null;\n    let val = null;\n    const customFormatterOpts = {\n      series: w.globals.series,\n      seriesIndex: i,\n      dataPointIndex: j,\n      w\n    };\n    let zFormatter = w.globals.ttZFormatter;\n    if (j === null) {\n      val = w.globals.series[i];\n    } else {\n      if (w.globals.isXNumeric && w.config.chart.type !== \"treemap\") {\n        xVal = filteredSeriesX[i][j];\n        if (filteredSeriesX[i].length === 0) {\n          const firstActiveSeriesIndex = this.tooltipUtil.getFirstActiveXArray(filteredSeriesX);\n          xVal = filteredSeriesX[firstActiveSeriesIndex][j];\n        }\n      } else {\n        const dataFormat = new Data(this.ctx);\n        if (dataFormat.isFormatXY()) {\n          xVal = typeof w.config.series[i].data[j] !== \"undefined\" ? w.config.series[i].data[j].x : \"\";\n        } else {\n          xVal = typeof w.globals.labels[j] !== \"undefined\" ? w.globals.labels[j] : \"\";\n        }\n      }\n    }\n    let bufferXVal = xVal;\n    if (w.globals.isXNumeric && w.config.xaxis.type === \"datetime\") {\n      let xFormat = new Formatters(this.ctx);\n      xVal = xFormat.xLabelFormat(w.globals.ttKeyFormatter, bufferXVal, bufferXVal, {\n        i: void 0,\n        dateFormatter: new DateTime(this.ctx).formatDate,\n        w: this.w\n      });\n    } else {\n      if (w.globals.isBarHorizontal) {\n        xVal = w.globals.yLabelFormatters[0](bufferXVal, customFormatterOpts);\n      } else {\n        xVal = w.globals.xLabelFormatter(bufferXVal, customFormatterOpts);\n      }\n    }\n    if (w.config.tooltip.x.formatter !== void 0) {\n      xVal = w.globals.ttKeyFormatter(bufferXVal, customFormatterOpts);\n    }\n    if (w.globals.seriesZ.length > 0 && w.globals.seriesZ[i].length > 0) {\n      zVal = zFormatter(w.globals.seriesZ[i][j], w);\n    }\n    if (typeof w.config.xaxis.tooltip.formatter === \"function\") {\n      xAxisTTVal = w.globals.xaxisTooltipFormatter(bufferXVal, customFormatterOpts);\n    } else {\n      xAxisTTVal = xVal;\n    }\n    return {\n      val: Array.isArray(val) ? val.join(\" \") : val,\n      xVal: Array.isArray(xVal) ? xVal.join(\" \") : xVal,\n      xAxisTTVal: Array.isArray(xAxisTTVal) ? xAxisTTVal.join(\" \") : xAxisTTVal,\n      zVal\n    };\n  }\n  handleCustomTooltip({\n    i,\n    j,\n    y1,\n    y2,\n    w\n  }) {\n    const tooltipEl = this.ttCtx.getElTooltip();\n    let fn = w.config.tooltip.custom;\n    if (Array.isArray(fn) && fn[i]) {\n      fn = fn[i];\n    }\n    const customTooltip = fn({\n      ctx: this.ctx,\n      series: w.globals.series,\n      seriesIndex: i,\n      dataPointIndex: j,\n      y1,\n      y2,\n      w\n    });\n    if (typeof customTooltip === \"string\" || typeof customTooltip === \"number\") {\n      tooltipEl.innerHTML = customTooltip;\n    } else if (customTooltip instanceof Element || typeof customTooltip.nodeName === \"string\") {\n      tooltipEl.innerHTML = \"\";\n      tooltipEl.appendChild(customTooltip.cloneNode(true));\n    }\n  }\n}\nclass Position {\n  constructor(tooltipContext) {\n    this.ttCtx = tooltipContext;\n    this.ctx = tooltipContext.ctx;\n    this.w = tooltipContext.w;\n  }\n  /**\n   * This will move the crosshair (the vertical/horz line that moves along with mouse)\n   * Along with this, this function also calls the xaxisMove function\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move crosshair\n   */\n  moveXCrosshairs(cx, j = null) {\n    const ttCtx = this.ttCtx;\n    let w = this.w;\n    const xcrosshairs = ttCtx.getElXCrosshairs();\n    let x = cx - ttCtx.xcrosshairsWidth / 2;\n    let tickAmount = w.globals.labels.slice().length;\n    if (j !== null) {\n      x = w.globals.gridWidth / tickAmount * j;\n    }\n    if (xcrosshairs !== null && !w.globals.isBarHorizontal) {\n      xcrosshairs.setAttribute(\"x\", x);\n      xcrosshairs.setAttribute(\"x1\", x);\n      xcrosshairs.setAttribute(\"x2\", x);\n      xcrosshairs.setAttribute(\"y2\", w.globals.gridHeight);\n      xcrosshairs.classList.add(\"apexcharts-active\");\n    }\n    if (x < 0) {\n      x = 0;\n    }\n    if (x > w.globals.gridWidth) {\n      x = w.globals.gridWidth;\n    }\n    if (ttCtx.isXAxisTooltipEnabled) {\n      let tx = x;\n      if (w.config.xaxis.crosshairs.width === \"tickWidth\" || w.config.xaxis.crosshairs.width === \"barWidth\") {\n        tx = x + ttCtx.xcrosshairsWidth / 2;\n      }\n      this.moveXAxisTooltip(tx);\n    }\n  }\n  /**\n   * This will move the crosshair (the vertical/horz line that moves along with mouse)\n   * Along with this, this function also calls the xaxisMove function\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move crosshair\n   */\n  moveYCrosshairs(cy) {\n    const ttCtx = this.ttCtx;\n    if (ttCtx.ycrosshairs !== null) {\n      Graphics.setAttrs(ttCtx.ycrosshairs, {\n        y1: cy,\n        y2: cy\n      });\n    }\n    if (ttCtx.ycrosshairsHidden !== null) {\n      Graphics.setAttrs(ttCtx.ycrosshairsHidden, {\n        y1: cy,\n        y2: cy\n      });\n    }\n  }\n  /**\n   ** AxisTooltip is the small rectangle which appears on x axis with x value, when user moves\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move\n   */\n  moveXAxisTooltip(cx) {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    if (ttCtx.xaxisTooltip !== null && ttCtx.xcrosshairsWidth !== 0) {\n      ttCtx.xaxisTooltip.classList.add(\"apexcharts-active\");\n      let cy = ttCtx.xaxisOffY + w.config.xaxis.tooltip.offsetY + w.globals.translateY + 1 + w.config.xaxis.offsetY;\n      let xaxisTTText = ttCtx.xaxisTooltip.getBoundingClientRect();\n      let xaxisTTTextWidth = xaxisTTText.width;\n      cx = cx - xaxisTTTextWidth / 2;\n      if (!isNaN(cx)) {\n        cx = cx + w.globals.translateX;\n        let textRect = 0;\n        const graphics = new Graphics(this.ctx);\n        textRect = graphics.getTextRects(ttCtx.xaxisTooltipText.innerHTML);\n        ttCtx.xaxisTooltipText.style.minWidth = textRect.width + \"px\";\n        ttCtx.xaxisTooltip.style.left = cx + \"px\";\n        ttCtx.xaxisTooltip.style.top = cy + \"px\";\n      }\n    }\n  }\n  moveYAxisTooltip(index) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    if (ttCtx.yaxisTTEls === null) {\n      ttCtx.yaxisTTEls = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-yaxistooltip\");\n    }\n    const ycrosshairsHiddenRectY1 = parseInt(ttCtx.ycrosshairsHidden.getAttribute(\"y1\"), 10);\n    let cy = w.globals.translateY + ycrosshairsHiddenRectY1;\n    const yAxisTTRect = ttCtx.yaxisTTEls[index].getBoundingClientRect();\n    const yAxisTTHeight = yAxisTTRect.height;\n    let cx = w.globals.translateYAxisX[index] - 2;\n    if (w.config.yaxis[index].opposite) {\n      cx = cx - yAxisTTRect.width;\n    }\n    cy = cy - yAxisTTHeight / 2;\n    if (w.globals.ignoreYAxisIndexes.indexOf(index) === -1 && cy > 0 && cy < w.globals.gridHeight) {\n      ttCtx.yaxisTTEls[index].classList.add(\"apexcharts-active\");\n      ttCtx.yaxisTTEls[index].style.top = cy + \"px\";\n      ttCtx.yaxisTTEls[index].style.left = cx + w.config.yaxis[index].tooltip.offsetX + \"px\";\n    } else {\n      ttCtx.yaxisTTEls[index].classList.remove(\"apexcharts-active\");\n    }\n  }\n  /**\n   ** moves the whole tooltip by changing x, y attrs\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move tooltip\n   * @param {int} - cy = point's y position, wherever point's y is, you need to move tooltip\n   * @param {int} - markerSize = point's size\n   */\n  moveTooltip(cx, cy, markerSize = null) {\n    let w = this.w;\n    let ttCtx = this.ttCtx;\n    const tooltipEl = ttCtx.getElTooltip();\n    let tooltipRect = ttCtx.tooltipRect;\n    let pointSize = markerSize !== null ? parseFloat(markerSize) : 1;\n    let x = parseFloat(cx) + pointSize + 5;\n    let y = parseFloat(cy) + pointSize / 2;\n    if (x > w.globals.gridWidth / 2) {\n      x = x - tooltipRect.ttWidth - pointSize - 10;\n    }\n    if (x > w.globals.gridWidth - tooltipRect.ttWidth - 10) {\n      x = w.globals.gridWidth - tooltipRect.ttWidth;\n    }\n    if (x < -20) {\n      x = -20;\n    }\n    if (w.config.tooltip.followCursor) {\n      const elGrid = ttCtx.getElGrid();\n      const seriesBound = elGrid.getBoundingClientRect();\n      x = ttCtx.e.clientX - seriesBound.left;\n      if (x > w.globals.gridWidth / 2) {\n        x = x - ttCtx.tooltipRect.ttWidth;\n      }\n      y = ttCtx.e.clientY + w.globals.translateY - seriesBound.top;\n      if (y > w.globals.gridHeight / 2) {\n        y = y - ttCtx.tooltipRect.ttHeight;\n      }\n    } else {\n      if (!w.globals.isBarHorizontal) {\n        if (tooltipRect.ttHeight / 2 + y > w.globals.gridHeight) {\n          y = w.globals.gridHeight - tooltipRect.ttHeight + w.globals.translateY;\n        }\n      }\n    }\n    if (!isNaN(x)) {\n      x = x + w.globals.translateX;\n      tooltipEl.style.left = x + \"px\";\n      tooltipEl.style.top = y + \"px\";\n    }\n  }\n  moveMarkers(i, j) {\n    let w = this.w;\n    let ttCtx = this.ttCtx;\n    if (w.globals.markers.size[i] > 0) {\n      let allPoints = w.globals.dom.baseEl.querySelectorAll(` .apexcharts-series[data\\\\:realIndex='${i}'] .apexcharts-marker`);\n      for (let p = 0; p < allPoints.length; p++) {\n        if (parseInt(allPoints[p].getAttribute(\"rel\"), 10) === j) {\n          ttCtx.marker.resetPointsSize();\n          ttCtx.marker.enlargeCurrentPoint(j, allPoints[p]);\n        }\n      }\n    } else {\n      ttCtx.marker.resetPointsSize();\n      this.moveDynamicPointOnHover(j, i);\n    }\n  }\n  // This function is used when you need to show markers/points only on hover -\n  // DIFFERENT X VALUES in multiple series\n  moveDynamicPointOnHover(j, capturedSeries) {\n    var _a, _b;\n    let w = this.w;\n    let ttCtx = this.ttCtx;\n    let cx = 0;\n    let cy = 0;\n    const graphics = new Graphics(this.ctx);\n    let pointsArr = w.globals.pointsArray;\n    let hoverSize = ttCtx.tooltipUtil.getHoverMarkerSize(capturedSeries);\n    const serType = w.config.series[capturedSeries].type;\n    if (serType && (serType === \"column\" || serType === \"candlestick\" || serType === \"boxPlot\")) {\n      return;\n    }\n    cx = (_a = pointsArr[capturedSeries][j]) == null ? void 0 : _a[0];\n    cy = ((_b = pointsArr[capturedSeries][j]) == null ? void 0 : _b[1]) || 0;\n    let point = w.globals.dom.baseEl.querySelector(`.apexcharts-series[data\\\\:realIndex='${capturedSeries}'] .apexcharts-series-markers path`);\n    if (point && cy < w.globals.gridHeight && cy > 0) {\n      const shape = point.getAttribute(\"shape\");\n      const path = graphics.getMarkerPath(cx, cy, shape, hoverSize * 1.5);\n      point.setAttribute(\"d\", path);\n    }\n    this.moveXCrosshairs(cx);\n    if (!ttCtx.fixedTooltip) {\n      this.moveTooltip(cx, cy, hoverSize);\n    }\n  }\n  // This function is used when you need to show markers/points only on hover -\n  // SAME X VALUES in multiple series\n  moveDynamicPointsOnHover(j) {\n    const ttCtx = this.ttCtx;\n    let w = ttCtx.w;\n    let cx = 0;\n    let cy = 0;\n    let activeSeries = 0;\n    let pointsArr = w.globals.pointsArray;\n    let series = new Series(this.ctx);\n    const graphics = new Graphics(this.ctx);\n    activeSeries = series.getActiveConfigSeriesIndex(\"asc\", [\"line\", \"area\", \"scatter\", \"bubble\"]);\n    let hoverSize = ttCtx.tooltipUtil.getHoverMarkerSize(activeSeries);\n    if (pointsArr[activeSeries]) {\n      cx = pointsArr[activeSeries][j][0];\n      cy = pointsArr[activeSeries][j][1];\n    }\n    if (isNaN(cx)) {\n      return;\n    }\n    let points = ttCtx.tooltipUtil.getAllMarkers();\n    if (points.length) {\n      for (let p = 0; p < w.globals.series.length; p++) {\n        let pointArr = pointsArr[p];\n        if (w.globals.comboCharts) {\n          if (typeof pointArr === \"undefined\") {\n            points.splice(p, 0, null);\n          }\n        }\n        if (pointArr && pointArr.length) {\n          let pcy = pointsArr[p][j][1];\n          let pcy2;\n          points[p].setAttribute(\"cx\", cx);\n          const shape = points[p].getAttribute(\"shape\");\n          if (w.config.chart.type === \"rangeArea\" && !w.globals.comboCharts) {\n            const rangeStartIndex = j + w.globals.series[p].length;\n            pcy2 = pointsArr[p][rangeStartIndex][1];\n            const pcyDiff = Math.abs(pcy - pcy2) / 2;\n            pcy = pcy - pcyDiff;\n          }\n          if (pcy !== null && !isNaN(pcy) && pcy < w.globals.gridHeight + hoverSize && pcy + hoverSize > 0) {\n            const path = graphics.getMarkerPath(cx, pcy, shape, hoverSize);\n            points[p].setAttribute(\"d\", path);\n          } else {\n            points[p].setAttribute(\"d\", \"\");\n          }\n        }\n      }\n    }\n    this.moveXCrosshairs(cx);\n    if (!ttCtx.fixedTooltip) {\n      this.moveTooltip(cx, cy || w.globals.gridHeight, hoverSize);\n    }\n  }\n  moveStickyTooltipOverBars(j, capturedSeries) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    let barLen = w.globals.columnSeries ? w.globals.columnSeries.length : w.globals.series.length;\n    if (w.config.chart.stacked) {\n      barLen = w.globals.barGroups.length;\n    }\n    let i = barLen >= 2 && barLen % 2 === 0 ? Math.floor(barLen / 2) : Math.floor(barLen / 2) + 1;\n    if (w.globals.isBarHorizontal) {\n      let series = new Series(this.ctx);\n      i = series.getActiveConfigSeriesIndex(\"desc\") + 1;\n    }\n    let jBar = w.globals.dom.baseEl.querySelector(`.apexcharts-bar-series .apexcharts-series[rel='${i}'] path[j='${j}'], .apexcharts-candlestick-series .apexcharts-series[rel='${i}'] path[j='${j}'], .apexcharts-boxPlot-series .apexcharts-series[rel='${i}'] path[j='${j}'], .apexcharts-rangebar-series .apexcharts-series[rel='${i}'] path[j='${j}']`);\n    if (!jBar && typeof capturedSeries === \"number\") {\n      jBar = w.globals.dom.baseEl.querySelector(`.apexcharts-bar-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}']`);\n    }\n    let bcx = jBar ? parseFloat(jBar.getAttribute(\"cx\")) : 0;\n    let bcy = jBar ? parseFloat(jBar.getAttribute(\"cy\")) : 0;\n    let bw = jBar ? parseFloat(jBar.getAttribute(\"barWidth\")) : 0;\n    const elGrid = ttCtx.getElGrid();\n    let seriesBound = elGrid.getBoundingClientRect();\n    const isBoxOrCandle = jBar && (jBar.classList.contains(\"apexcharts-candlestick-area\") || jBar.classList.contains(\"apexcharts-boxPlot-area\"));\n    if (w.globals.isXNumeric) {\n      if (jBar && !isBoxOrCandle) {\n        bcx = bcx - (barLen % 2 !== 0 ? bw / 2 : 0);\n      }\n      if (jBar &&\n      // fixes apexcharts.js#2354\n      isBoxOrCandle) {\n        bcx = bcx - bw / 2;\n      }\n    } else {\n      if (!w.globals.isBarHorizontal) {\n        bcx = ttCtx.xAxisTicksPositions[j - 1] + ttCtx.dataPointsDividedWidth / 2;\n        if (isNaN(bcx)) {\n          bcx = ttCtx.xAxisTicksPositions[j] - ttCtx.dataPointsDividedWidth / 2;\n        }\n      }\n    }\n    if (!w.globals.isBarHorizontal) {\n      if (w.config.tooltip.followCursor) {\n        bcy = ttCtx.e.clientY - seriesBound.top - ttCtx.tooltipRect.ttHeight / 2;\n      } else {\n        if (bcy + ttCtx.tooltipRect.ttHeight + 15 > w.globals.gridHeight) {\n          bcy = w.globals.gridHeight;\n        }\n      }\n    } else {\n      bcy = bcy - ttCtx.tooltipRect.ttHeight;\n    }\n    if (!w.globals.isBarHorizontal) {\n      this.moveXCrosshairs(bcx);\n    }\n    if (!ttCtx.fixedTooltip) {\n      this.moveTooltip(bcx, bcy || w.globals.gridHeight);\n    }\n  }\n}\nclass Marker {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ttCtx = tooltipContext;\n    this.ctx = tooltipContext.ctx;\n    this.tooltipPosition = new Position(tooltipContext);\n  }\n  drawDynamicPoints() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let marker = new Markers(this.ctx);\n    let elsSeries = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series\");\n    elsSeries = [...elsSeries];\n    if (w.config.chart.stacked) {\n      elsSeries.sort((a, b) => {\n        return parseFloat(a.getAttribute(\"data:realIndex\")) - parseFloat(b.getAttribute(\"data:realIndex\"));\n      });\n    }\n    for (let i = 0; i < elsSeries.length; i++) {\n      let pointsMain = elsSeries[i].querySelector(`.apexcharts-series-markers-wrap`);\n      if (pointsMain !== null) {\n        let point;\n        let PointClasses = `apexcharts-marker w${(Math.random() + 1).toString(36).substring(4)}`;\n        if ((w.config.chart.type === \"line\" || w.config.chart.type === \"area\") && !w.globals.comboCharts && !w.config.tooltip.intersect) {\n          PointClasses += \" no-pointer-events\";\n        }\n        let elPointOptions = marker.getMarkerConfig({\n          cssClass: PointClasses,\n          seriesIndex: Number(pointsMain.getAttribute(\"data:realIndex\"))\n          // fixes apexcharts/apexcharts.js #1427\n        });\n        point = graphics.drawMarker(0, 0, elPointOptions);\n        point.node.setAttribute(\"default-marker-size\", 0);\n        let elPointsG = document.createElementNS(w.globals.SVGNS, \"g\");\n        elPointsG.classList.add(\"apexcharts-series-markers\");\n        elPointsG.appendChild(point.node);\n        pointsMain.appendChild(elPointsG);\n      }\n    }\n  }\n  enlargeCurrentPoint(rel, point, x = null, y = null) {\n    let w = this.w;\n    if (w.config.chart.type !== \"bubble\") {\n      this.newPointSize(rel, point);\n    }\n    let cx = point.getAttribute(\"cx\");\n    let cy = point.getAttribute(\"cy\");\n    if (x !== null && y !== null) {\n      cx = x;\n      cy = y;\n    }\n    this.tooltipPosition.moveXCrosshairs(cx);\n    if (!this.fixedTooltip) {\n      if (w.config.chart.type === \"radar\") {\n        const elGrid = this.ttCtx.getElGrid();\n        const seriesBound = elGrid.getBoundingClientRect();\n        cx = this.ttCtx.e.clientX - seriesBound.left;\n      }\n      this.tooltipPosition.moveTooltip(cx, cy, w.config.markers.hover.size);\n    }\n  }\n  enlargePoints(j) {\n    let w = this.w;\n    let me = this;\n    const ttCtx = this.ttCtx;\n    let col = j;\n    let points = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker\");\n    let newSize = w.config.markers.hover.size;\n    for (let p = 0; p < points.length; p++) {\n      let rel = points[p].getAttribute(\"rel\");\n      let index = points[p].getAttribute(\"index\");\n      if (newSize === void 0) {\n        newSize = w.globals.markers.size[index] + w.config.markers.hover.sizeOffset;\n      }\n      if (col === parseInt(rel, 10)) {\n        me.newPointSize(col, points[p]);\n        let cx = points[p].getAttribute(\"cx\");\n        let cy = points[p].getAttribute(\"cy\");\n        me.tooltipPosition.moveXCrosshairs(cx);\n        if (!ttCtx.fixedTooltip) {\n          me.tooltipPosition.moveTooltip(cx, cy, newSize);\n        }\n      } else {\n        me.oldPointSize(points[p]);\n      }\n    }\n  }\n  newPointSize(rel, point) {\n    let w = this.w;\n    let newSize = w.config.markers.hover.size;\n    let elPoint = rel === 0 ? point.parentNode.firstChild : point.parentNode.lastChild;\n    if (elPoint.getAttribute(\"default-marker-size\") !== \"0\") {\n      const index = parseInt(elPoint.getAttribute(\"index\"), 10);\n      if (newSize === void 0) {\n        newSize = w.globals.markers.size[index] + w.config.markers.hover.sizeOffset;\n      }\n      if (newSize < 0) {\n        newSize = 0;\n      }\n      const path = this.ttCtx.tooltipUtil.getPathFromPoint(point, newSize);\n      point.setAttribute(\"d\", path);\n    }\n  }\n  oldPointSize(point) {\n    const size = parseFloat(point.getAttribute(\"default-marker-size\"));\n    const path = this.ttCtx.tooltipUtil.getPathFromPoint(point, size);\n    point.setAttribute(\"d\", path);\n  }\n  resetPointsSize() {\n    let w = this.w;\n    let points = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker\");\n    for (let p = 0; p < points.length; p++) {\n      const size = parseFloat(points[p].getAttribute(\"default-marker-size\"));\n      if (Utils$1.isNumber(size) && size > 0) {\n        const path = this.ttCtx.tooltipUtil.getPathFromPoint(points[p], size);\n        points[p].setAttribute(\"d\", path);\n      } else {\n        points[p].setAttribute(\"d\", \"M0,0\");\n      }\n    }\n  }\n}\nclass Intersect {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    const w = this.w;\n    this.ttCtx = tooltipContext;\n    this.isVerticalGroupedRangeBar = !w.globals.isBarHorizontal && w.config.chart.type === \"rangeBar\" && w.config.plotOptions.bar.rangeBarGroupRows;\n  }\n  // a helper function to get an element's attribute value\n  getAttr(e, attr) {\n    return parseFloat(e.target.getAttribute(attr));\n  }\n  // handle tooltip for heatmaps and treemaps\n  handleHeatTreeTooltip({\n    e,\n    opt,\n    x,\n    y,\n    type\n  }) {\n    const ttCtx = this.ttCtx;\n    const w = this.w;\n    if (e.target.classList.contains(`apexcharts-${type}-rect`)) {\n      let i = this.getAttr(e, \"i\");\n      let j = this.getAttr(e, \"j\");\n      let cx = this.getAttr(e, \"cx\");\n      let cy = this.getAttr(e, \"cy\");\n      let width = this.getAttr(e, \"width\");\n      let height = this.getAttr(e, \"height\");\n      ttCtx.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i,\n        j,\n        shared: false,\n        e\n      });\n      w.globals.capturedSeriesIndex = i;\n      w.globals.capturedDataPointIndex = j;\n      x = cx + ttCtx.tooltipRect.ttWidth / 2 + width;\n      y = cy + ttCtx.tooltipRect.ttHeight / 2 - height / 2;\n      ttCtx.tooltipPosition.moveXCrosshairs(cx + width / 2);\n      if (x > w.globals.gridWidth / 2) {\n        x = cx - ttCtx.tooltipRect.ttWidth / 2 + width;\n      }\n      if (ttCtx.w.config.tooltip.followCursor) {\n        let seriesBound = w.globals.dom.elWrap.getBoundingClientRect();\n        x = w.globals.clientX - seriesBound.left - (x > w.globals.gridWidth / 2 ? ttCtx.tooltipRect.ttWidth : 0);\n        y = w.globals.clientY - seriesBound.top - (y > w.globals.gridHeight / 2 ? ttCtx.tooltipRect.ttHeight : 0);\n      }\n    }\n    return {\n      x,\n      y\n    };\n  }\n  /**\n   * handle tooltips for line/area/scatter charts where tooltip.intersect is true\n   * when user hovers over the marker directly, this function is executed\n   */\n  handleMarkerTooltip({\n    e,\n    opt,\n    x,\n    y\n  }) {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    let i;\n    let j;\n    if (e.target.classList.contains(\"apexcharts-marker\")) {\n      let cx = parseInt(opt.paths.getAttribute(\"cx\"), 10);\n      let cy = parseInt(opt.paths.getAttribute(\"cy\"), 10);\n      let val = parseFloat(opt.paths.getAttribute(\"val\"));\n      j = parseInt(opt.paths.getAttribute(\"rel\"), 10);\n      i = parseInt(opt.paths.parentNode.parentNode.parentNode.getAttribute(\"rel\"), 10) - 1;\n      if (ttCtx.intersect) {\n        const el = Utils$1.findAncestor(opt.paths, \"apexcharts-series\");\n        if (el) {\n          i = parseInt(el.getAttribute(\"data:realIndex\"), 10);\n        }\n      }\n      ttCtx.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i,\n        j,\n        shared: ttCtx.showOnIntersect ? false : w.config.tooltip.shared,\n        e\n      });\n      if (e.type === \"mouseup\") {\n        ttCtx.markerClick(e, i, j);\n      }\n      w.globals.capturedSeriesIndex = i;\n      w.globals.capturedDataPointIndex = j;\n      x = cx;\n      y = cy + w.globals.translateY - ttCtx.tooltipRect.ttHeight * 1.4;\n      if (ttCtx.w.config.tooltip.followCursor) {\n        const elGrid = ttCtx.getElGrid();\n        const seriesBound = elGrid.getBoundingClientRect();\n        y = ttCtx.e.clientY + w.globals.translateY - seriesBound.top;\n      }\n      if (val < 0) {\n        y = cy;\n      }\n      ttCtx.marker.enlargeCurrentPoint(j, opt.paths, x, y);\n    }\n    return {\n      x,\n      y\n    };\n  }\n  /**\n   * handle tooltips for bar/column charts\n   */\n  handleBarTooltip({\n    e,\n    opt\n  }) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    const tooltipEl = ttCtx.getElTooltip();\n    let bx = 0;\n    let x = 0;\n    let y = 0;\n    let i = 0;\n    let strokeWidth;\n    let barXY = this.getBarTooltipXY({\n      e,\n      opt\n    });\n    if (barXY.j === null && barXY.barHeight === 0 && barXY.barWidth === 0) {\n      return;\n    }\n    i = barXY.i;\n    let j = barXY.j;\n    w.globals.capturedSeriesIndex = i;\n    w.globals.capturedDataPointIndex = j;\n    if (w.globals.isBarHorizontal && ttCtx.tooltipUtil.hasBars() || !w.config.tooltip.shared) {\n      x = barXY.x;\n      y = barXY.y;\n      strokeWidth = Array.isArray(w.config.stroke.width) ? w.config.stroke.width[i] : w.config.stroke.width;\n      bx = x;\n    } else {\n      if (!w.globals.comboCharts && !w.config.tooltip.shared) {\n        bx = bx / 2;\n      }\n    }\n    if (isNaN(y)) {\n      y = w.globals.svgHeight - ttCtx.tooltipRect.ttHeight;\n    }\n    if (x + ttCtx.tooltipRect.ttWidth > w.globals.gridWidth) {\n      x = x - ttCtx.tooltipRect.ttWidth;\n    } else if (x < 0) {\n      x = 0;\n    }\n    if (ttCtx.w.config.tooltip.followCursor) {\n      const elGrid = ttCtx.getElGrid();\n      const seriesBound = elGrid.getBoundingClientRect();\n      y = ttCtx.e.clientY - seriesBound.top;\n    }\n    if (ttCtx.tooltip === null) {\n      ttCtx.tooltip = w.globals.dom.baseEl.querySelector(\".apexcharts-tooltip\");\n    }\n    if (!w.config.tooltip.shared) {\n      if (w.globals.comboBarCount > 0) {\n        ttCtx.tooltipPosition.moveXCrosshairs(bx + strokeWidth / 2);\n      } else {\n        ttCtx.tooltipPosition.moveXCrosshairs(bx);\n      }\n    }\n    if (!ttCtx.fixedTooltip && (!w.config.tooltip.shared || w.globals.isBarHorizontal && ttCtx.tooltipUtil.hasBars())) {\n      y = y + w.globals.translateY - ttCtx.tooltipRect.ttHeight / 2;\n      tooltipEl.style.left = x + w.globals.translateX + \"px\";\n      tooltipEl.style.top = y + \"px\";\n    }\n  }\n  getBarTooltipXY({\n    e,\n    opt\n  }) {\n    let w = this.w;\n    let j = null;\n    const ttCtx = this.ttCtx;\n    let i = 0;\n    let x = 0;\n    let y = 0;\n    let barWidth = 0;\n    let barHeight = 0;\n    const cl = e.target.classList;\n    if (cl.contains(\"apexcharts-bar-area\") || cl.contains(\"apexcharts-candlestick-area\") || cl.contains(\"apexcharts-boxPlot-area\") || cl.contains(\"apexcharts-rangebar-area\")) {\n      let bar = e.target;\n      let barRect = bar.getBoundingClientRect();\n      let seriesBound = opt.elGrid.getBoundingClientRect();\n      let bh = barRect.height;\n      barHeight = barRect.height;\n      let bw = barRect.width;\n      let cx = parseInt(bar.getAttribute(\"cx\"), 10);\n      let cy = parseInt(bar.getAttribute(\"cy\"), 10);\n      barWidth = parseFloat(bar.getAttribute(\"barWidth\"));\n      const clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n      j = parseInt(bar.getAttribute(\"j\"), 10);\n      i = parseInt(bar.parentNode.getAttribute(\"rel\"), 10) - 1;\n      let y1 = bar.getAttribute(\"data-range-y1\");\n      let y2 = bar.getAttribute(\"data-range-y2\");\n      if (w.globals.comboCharts) {\n        i = parseInt(bar.parentNode.getAttribute(\"data:realIndex\"), 10);\n      }\n      const handleXForColumns = x2 => {\n        if (w.globals.isXNumeric) {\n          x2 = cx - bw / 2;\n        } else {\n          if (this.isVerticalGroupedRangeBar) {\n            x2 = cx + bw / 2;\n          } else {\n            x2 = cx - ttCtx.dataPointsDividedWidth + bw / 2;\n          }\n        }\n        return x2;\n      };\n      const handleYForBars = () => {\n        return cy - ttCtx.dataPointsDividedHeight + bh / 2 - ttCtx.tooltipRect.ttHeight / 2;\n      };\n      ttCtx.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i,\n        j,\n        y1: y1 ? parseInt(y1, 10) : null,\n        y2: y2 ? parseInt(y2, 10) : null,\n        shared: ttCtx.showOnIntersect ? false : w.config.tooltip.shared,\n        e\n      });\n      if (w.config.tooltip.followCursor) {\n        if (w.globals.isBarHorizontal) {\n          x = clientX - seriesBound.left + 15;\n          y = handleYForBars();\n        } else {\n          x = handleXForColumns(x);\n          y = e.clientY - seriesBound.top - ttCtx.tooltipRect.ttHeight / 2 - 15;\n        }\n      } else {\n        if (w.globals.isBarHorizontal) {\n          x = cx;\n          if (x < ttCtx.xyRatios.baseLineInvertedY) {\n            x = cx - ttCtx.tooltipRect.ttWidth;\n          }\n          y = handleYForBars();\n        } else {\n          x = handleXForColumns(x);\n          y = cy;\n        }\n      }\n    }\n    return {\n      x,\n      y,\n      barHeight,\n      barWidth,\n      i,\n      j\n    };\n  }\n}\nclass AxesTooltip {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ttCtx = tooltipContext;\n  }\n  /**\n   * This method adds the secondary tooltip which appears below x axis\n   * @memberof Tooltip\n   **/\n  drawXaxisTooltip() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    const isBottom = w.config.xaxis.position === \"bottom\";\n    ttCtx.xaxisOffY = isBottom ? w.globals.gridHeight + 1 : -w.globals.xAxisHeight - w.config.xaxis.axisTicks.height + 3;\n    const tooltipCssClass = isBottom ? \"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom\" : \"apexcharts-xaxistooltip apexcharts-xaxistooltip-top\";\n    let renderTo = w.globals.dom.elWrap;\n    if (ttCtx.isXAxisTooltipEnabled) {\n      let xaxisTooltip = w.globals.dom.baseEl.querySelector(\".apexcharts-xaxistooltip\");\n      if (xaxisTooltip === null) {\n        ttCtx.xaxisTooltip = document.createElement(\"div\");\n        ttCtx.xaxisTooltip.setAttribute(\"class\", tooltipCssClass + \" apexcharts-theme-\" + w.config.tooltip.theme);\n        renderTo.appendChild(ttCtx.xaxisTooltip);\n        ttCtx.xaxisTooltipText = document.createElement(\"div\");\n        ttCtx.xaxisTooltipText.classList.add(\"apexcharts-xaxistooltip-text\");\n        ttCtx.xaxisTooltipText.style.fontFamily = w.config.xaxis.tooltip.style.fontFamily || w.config.chart.fontFamily;\n        ttCtx.xaxisTooltipText.style.fontSize = w.config.xaxis.tooltip.style.fontSize;\n        ttCtx.xaxisTooltip.appendChild(ttCtx.xaxisTooltipText);\n      }\n    }\n  }\n  /**\n   * This method adds the secondary tooltip which appears below x axis\n   * @memberof Tooltip\n   **/\n  drawYaxisTooltip() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    for (let i = 0; i < w.config.yaxis.length; i++) {\n      const isRight = w.config.yaxis[i].opposite || w.config.yaxis[i].crosshairs.opposite;\n      ttCtx.yaxisOffX = isRight ? w.globals.gridWidth + 1 : 1;\n      let tooltipCssClass = isRight ? `apexcharts-yaxistooltip apexcharts-yaxistooltip-${i} apexcharts-yaxistooltip-right` : `apexcharts-yaxistooltip apexcharts-yaxistooltip-${i} apexcharts-yaxistooltip-left`;\n      let renderTo = w.globals.dom.elWrap;\n      let yaxisTooltip = w.globals.dom.baseEl.querySelector(`.apexcharts-yaxistooltip apexcharts-yaxistooltip-${i}`);\n      if (yaxisTooltip === null) {\n        ttCtx.yaxisTooltip = document.createElement(\"div\");\n        ttCtx.yaxisTooltip.setAttribute(\"class\", tooltipCssClass + \" apexcharts-theme-\" + w.config.tooltip.theme);\n        renderTo.appendChild(ttCtx.yaxisTooltip);\n        if (i === 0) ttCtx.yaxisTooltipText = [];\n        ttCtx.yaxisTooltipText[i] = document.createElement(\"div\");\n        ttCtx.yaxisTooltipText[i].classList.add(\"apexcharts-yaxistooltip-text\");\n        ttCtx.yaxisTooltip.appendChild(ttCtx.yaxisTooltipText[i]);\n      }\n    }\n  }\n  /**\n   * @memberof Tooltip\n   **/\n  setXCrosshairWidth() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    const xcrosshairs = ttCtx.getElXCrosshairs();\n    ttCtx.xcrosshairsWidth = parseInt(w.config.xaxis.crosshairs.width, 10);\n    if (!w.globals.comboCharts) {\n      if (w.config.xaxis.crosshairs.width === \"tickWidth\") {\n        let count = w.globals.labels.length;\n        ttCtx.xcrosshairsWidth = w.globals.gridWidth / count;\n      } else if (w.config.xaxis.crosshairs.width === \"barWidth\") {\n        let bar = w.globals.dom.baseEl.querySelector(\".apexcharts-bar-area\");\n        if (bar !== null) {\n          let barWidth = parseFloat(bar.getAttribute(\"barWidth\"));\n          ttCtx.xcrosshairsWidth = barWidth;\n        } else {\n          ttCtx.xcrosshairsWidth = 1;\n        }\n      }\n    } else {\n      let bar = w.globals.dom.baseEl.querySelector(\".apexcharts-bar-area\");\n      if (bar !== null && w.config.xaxis.crosshairs.width === \"barWidth\") {\n        let barWidth = parseFloat(bar.getAttribute(\"barWidth\"));\n        ttCtx.xcrosshairsWidth = barWidth;\n      } else {\n        if (w.config.xaxis.crosshairs.width === \"tickWidth\") {\n          let count = w.globals.labels.length;\n          ttCtx.xcrosshairsWidth = w.globals.gridWidth / count;\n        }\n      }\n    }\n    if (w.globals.isBarHorizontal) {\n      ttCtx.xcrosshairsWidth = 0;\n    }\n    if (xcrosshairs !== null && ttCtx.xcrosshairsWidth > 0) {\n      xcrosshairs.setAttribute(\"width\", ttCtx.xcrosshairsWidth);\n    }\n  }\n  handleYCrosshair() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    ttCtx.ycrosshairs = w.globals.dom.baseEl.querySelector(\".apexcharts-ycrosshairs\");\n    ttCtx.ycrosshairsHidden = w.globals.dom.baseEl.querySelector(\".apexcharts-ycrosshairs-hidden\");\n  }\n  drawYaxisTooltipText(index, clientY, xyRatios) {\n    const ttCtx = this.ttCtx;\n    const w = this.w;\n    const gl = w.globals;\n    const yAxisSeriesArr = gl.seriesYAxisMap[index];\n    if (ttCtx.yaxisTooltips[index] && yAxisSeriesArr.length > 0) {\n      const lbFormatter = gl.yLabelFormatters[index];\n      const elGrid = ttCtx.getElGrid();\n      const seriesBound = elGrid.getBoundingClientRect();\n      const seriesIndex = yAxisSeriesArr[0];\n      let translationsIndex = 0;\n      if (xyRatios.yRatio.length > 1) {\n        translationsIndex = seriesIndex;\n      }\n      const hoverY = (clientY - seriesBound.top) * xyRatios.yRatio[translationsIndex];\n      const height = gl.maxYArr[seriesIndex] - gl.minYArr[seriesIndex];\n      let val = gl.minYArr[seriesIndex] + (height - hoverY);\n      if (w.config.yaxis[index].reversed) {\n        val = gl.maxYArr[seriesIndex] - (height - hoverY);\n      }\n      ttCtx.tooltipPosition.moveYCrosshairs(clientY - seriesBound.top);\n      ttCtx.yaxisTooltipText[index].innerHTML = lbFormatter(val);\n      ttCtx.tooltipPosition.moveYAxisTooltip(index);\n    }\n  }\n}\nclass Tooltip {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.tConfig = w.config.tooltip;\n    this.tooltipUtil = new Utils2(this);\n    this.tooltipLabels = new Labels(this);\n    this.tooltipPosition = new Position(this);\n    this.marker = new Marker(this);\n    this.intersect = new Intersect(this);\n    this.axesTooltip = new AxesTooltip(this);\n    this.showOnIntersect = this.tConfig.intersect;\n    this.showTooltipTitle = this.tConfig.x.show;\n    this.fixedTooltip = this.tConfig.fixed.enabled;\n    this.xaxisTooltip = null;\n    this.yaxisTTEls = null;\n    this.isBarShared = !w.globals.isBarHorizontal && this.tConfig.shared;\n    this.lastHoverTime = Date.now();\n    this.dimensionUpdateScheduled = false;\n  }\n  setupDimensionCache() {\n    const w = this.w;\n    const tooltipEl = this.getElTooltip();\n    if (!tooltipEl) return;\n    this.updateDimensionCache();\n    if (typeof ResizeObserver !== \"undefined\" && !w.globals.resizeObserver) {\n      w.globals.resizeObserver = new ResizeObserver(() => {\n        if (!this.dimensionUpdateScheduled) {\n          this.dimensionUpdateScheduled = true;\n          requestAnimationFrame(() => {\n            this.updateDimensionCache();\n            this.dimensionUpdateScheduled = false;\n          });\n        }\n      });\n      w.globals.resizeObserver.observe(tooltipEl);\n    }\n  }\n  updateDimensionCache() {\n    const w = this.w;\n    const tooltipEl = this.getElTooltip();\n    if (!tooltipEl) return;\n    const rect = tooltipEl.getBoundingClientRect();\n    w.globals.dimensionCache.tooltip = {\n      width: rect.width,\n      height: rect.height,\n      lastUpdate: Date.now()\n    };\n  }\n  getCachedDimensions() {\n    const w = this.w;\n    if (w.globals.dimensionCache.tooltip) {\n      const cache2 = w.globals.dimensionCache.tooltip;\n      const age = Date.now() - cache2.lastUpdate;\n      if (age < 1e3) {\n        return {\n          ttWidth: cache2.width,\n          ttHeight: cache2.height\n        };\n      }\n    }\n    this.updateDimensionCache();\n    const cache = w.globals.dimensionCache.tooltip;\n    return cache ? {\n      ttWidth: cache.width,\n      ttHeight: cache.height\n    } : {\n      ttWidth: 0,\n      ttHeight: 0\n    };\n  }\n  getElTooltip(ctx) {\n    if (!ctx) ctx = this;\n    if (!ctx.w.globals.dom.baseEl) return null;\n    return ctx.w.globals.dom.baseEl.querySelector(\".apexcharts-tooltip\");\n  }\n  getElXCrosshairs() {\n    return this.w.globals.dom.baseEl.querySelector(\".apexcharts-xcrosshairs\");\n  }\n  getElGrid() {\n    return this.w.globals.dom.baseEl.querySelector(\".apexcharts-grid\");\n  }\n  drawTooltip(xyRatios) {\n    let w = this.w;\n    this.xyRatios = xyRatios;\n    this.isXAxisTooltipEnabled = w.config.xaxis.tooltip.enabled && w.globals.axisCharts;\n    this.yaxisTooltips = w.config.yaxis.map(y => {\n      return y.show && y.tooltip.enabled && w.globals.axisCharts ? true : false;\n    });\n    this.allTooltipSeriesGroups = [];\n    if (!w.globals.axisCharts) {\n      this.showTooltipTitle = false;\n    }\n    const tooltipEl = document.createElement(\"div\");\n    tooltipEl.classList.add(\"apexcharts-tooltip\");\n    if (w.config.tooltip.cssClass) {\n      tooltipEl.classList.add(w.config.tooltip.cssClass);\n    }\n    tooltipEl.classList.add(`apexcharts-theme-${this.tConfig.theme || \"light\"}`);\n    if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n      tooltipEl.setAttribute(\"role\", \"tooltip\");\n      tooltipEl.setAttribute(\"aria-live\", \"polite\");\n      tooltipEl.setAttribute(\"aria-atomic\", \"true\");\n      tooltipEl.setAttribute(\"aria-hidden\", \"true\");\n    }\n    w.globals.dom.elWrap.appendChild(tooltipEl);\n    if (w.globals.axisCharts) {\n      this.axesTooltip.drawXaxisTooltip();\n      this.axesTooltip.drawYaxisTooltip();\n      this.axesTooltip.setXCrosshairWidth();\n      this.axesTooltip.handleYCrosshair();\n      let xAxis = new XAxis(this.ctx);\n      this.xAxisTicksPositions = xAxis.getXAxisTicksPositions();\n    }\n    if ((w.globals.comboCharts || this.tConfig.intersect || w.config.chart.type === \"rangeBar\") && !this.tConfig.shared) {\n      this.showOnIntersect = true;\n    }\n    if (w.config.markers.size === 0 || w.globals.markers.largestSize === 0) {\n      this.marker.drawDynamicPoints(this);\n    }\n    if (w.globals.collapsedSeries.length === w.globals.series.length) return;\n    this.dataPointsDividedHeight = w.globals.gridHeight / w.globals.dataPoints;\n    this.dataPointsDividedWidth = w.globals.gridWidth / w.globals.dataPoints;\n    if (this.showTooltipTitle) {\n      this.tooltipTitle = document.createElement(\"div\");\n      this.tooltipTitle.classList.add(\"apexcharts-tooltip-title\");\n      this.tooltipTitle.style.fontFamily = this.tConfig.style.fontFamily || w.config.chart.fontFamily;\n      this.tooltipTitle.style.fontSize = this.tConfig.style.fontSize;\n      tooltipEl.appendChild(this.tooltipTitle);\n    }\n    let ttItemsCnt = w.globals.series.length;\n    if ((w.globals.xyCharts || w.globals.comboCharts) && this.tConfig.shared) {\n      if (!this.showOnIntersect) {\n        ttItemsCnt = w.globals.series.length;\n      } else {\n        ttItemsCnt = 1;\n      }\n    }\n    this.legendLabels = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-legend-text\");\n    this.ttItems = this.createTTElements(ttItemsCnt);\n    this.addSVGEvents();\n    this.setupDimensionCache();\n  }\n  createTTElements(ttItemsCnt) {\n    const w = this.w;\n    let ttItems = [];\n    const tooltipEl = this.getElTooltip();\n    for (let i = 0; i < ttItemsCnt; i++) {\n      let gTxt = document.createElement(\"div\");\n      gTxt.classList.add(\"apexcharts-tooltip-series-group\", `apexcharts-tooltip-series-group-${i}`);\n      gTxt.style.order = w.config.tooltip.inverseOrder ? ttItemsCnt - i : i + 1;\n      let point = document.createElement(\"span\");\n      point.classList.add(\"apexcharts-tooltip-marker\");\n      if (w.config.tooltip.fillSeriesColor) {\n        point.style.backgroundColor = w.globals.colors[i];\n      } else {\n        point.style.color = w.globals.colors[i];\n      }\n      let mShape = w.config.markers.shape;\n      let shape = mShape;\n      if (Array.isArray(mShape)) {\n        shape = mShape[i];\n      }\n      point.setAttribute(\"shape\", shape);\n      gTxt.appendChild(point);\n      const gYZ = document.createElement(\"div\");\n      gYZ.classList.add(\"apexcharts-tooltip-text\");\n      gYZ.style.fontFamily = this.tConfig.style.fontFamily || w.config.chart.fontFamily;\n      gYZ.style.fontSize = this.tConfig.style.fontSize;\n      [\"y\", \"goals\", \"z\"].forEach(g => {\n        const gValText = document.createElement(\"div\");\n        gValText.classList.add(`apexcharts-tooltip-${g}-group`);\n        let txtLabel = document.createElement(\"span\");\n        txtLabel.classList.add(`apexcharts-tooltip-text-${g}-label`);\n        gValText.appendChild(txtLabel);\n        let txtValue = document.createElement(\"span\");\n        txtValue.classList.add(`apexcharts-tooltip-text-${g}-value`);\n        gValText.appendChild(txtValue);\n        gYZ.appendChild(gValText);\n      });\n      gTxt.appendChild(gYZ);\n      tooltipEl.appendChild(gTxt);\n      ttItems.push(gTxt);\n    }\n    return ttItems;\n  }\n  addSVGEvents() {\n    const w = this.w;\n    let type = w.config.chart.type;\n    const tooltipEl = this.getElTooltip();\n    const commonBar = !!(type === \"bar\" || type === \"candlestick\" || type === \"boxPlot\" || type === \"rangeBar\");\n    const chartWithmarkers = type === \"area\" || type === \"line\" || type === \"scatter\" || type === \"bubble\" || type === \"radar\";\n    let hoverArea = w.globals.dom.Paper.node;\n    const elGrid = this.getElGrid();\n    if (elGrid) {\n      this.seriesBound = elGrid.getBoundingClientRect();\n    }\n    let tooltipY = [];\n    let tooltipX = [];\n    let seriesHoverParams = {\n      hoverArea,\n      elGrid,\n      tooltipEl,\n      tooltipY,\n      tooltipX,\n      ttItems: this.ttItems\n    };\n    let points;\n    if (w.globals.axisCharts) {\n      if (chartWithmarkers) {\n        points = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series[data\\\\:longestSeries='true'] .apexcharts-marker\");\n      } else if (commonBar) {\n        points = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area\");\n      } else if (type === \"heatmap\" || type === \"treemap\") {\n        points = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap\");\n      }\n      if (points && points.length) {\n        for (let p = 0; p < points.length; p++) {\n          tooltipY.push(points[p].getAttribute(\"cy\"));\n          tooltipX.push(points[p].getAttribute(\"cx\"));\n        }\n      }\n    }\n    const validSharedChartTypes = w.globals.xyCharts && !this.showOnIntersect || w.globals.comboCharts && !this.showOnIntersect || commonBar && this.tooltipUtil.hasBars() && this.tConfig.shared;\n    if (validSharedChartTypes) {\n      this.addPathsEventListeners([hoverArea], seriesHoverParams);\n    } else if (commonBar && !w.globals.comboCharts || chartWithmarkers && this.showOnIntersect) {\n      this.addDatapointEventsListeners(seriesHoverParams);\n    } else if (!w.globals.axisCharts || type === \"heatmap\" || type === \"treemap\") {\n      let seriesAll = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series\");\n      this.addPathsEventListeners(seriesAll, seriesHoverParams);\n    }\n    if (this.showOnIntersect) {\n      let lineAreaPoints = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker\");\n      if (lineAreaPoints.length > 0) {\n        this.addPathsEventListeners(lineAreaPoints, seriesHoverParams);\n      }\n      if (this.tooltipUtil.hasBars() && !this.tConfig.shared) {\n        this.addDatapointEventsListeners(seriesHoverParams);\n      }\n    }\n  }\n  drawFixedTooltipRect() {\n    let w = this.w;\n    const tooltipEl = this.getElTooltip();\n    let tooltipRect = tooltipEl.getBoundingClientRect();\n    let ttWidth = tooltipRect.width + 10;\n    let ttHeight = tooltipRect.height + 10;\n    let x = this.tConfig.fixed.offsetX;\n    let y = this.tConfig.fixed.offsetY;\n    const fixed = this.tConfig.fixed.position.toLowerCase();\n    if (fixed.indexOf(\"right\") > -1) {\n      x = x + w.globals.svgWidth - ttWidth + 10;\n    }\n    if (fixed.indexOf(\"bottom\") > -1) {\n      y = y + w.globals.svgHeight - ttHeight - 10;\n    }\n    tooltipEl.style.left = x + \"px\";\n    tooltipEl.style.top = y + \"px\";\n    return {\n      x,\n      y,\n      ttWidth,\n      ttHeight\n    };\n  }\n  addDatapointEventsListeners(seriesHoverParams) {\n    let w = this.w;\n    let points = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area\");\n    this.addPathsEventListeners(points, seriesHoverParams);\n  }\n  addPathsEventListeners(paths, opts) {\n    let self = this;\n    for (let p = 0; p < paths.length; p++) {\n      let extendedOpts = {\n        paths: paths[p],\n        tooltipEl: opts.tooltipEl,\n        tooltipY: opts.tooltipY,\n        tooltipX: opts.tooltipX,\n        elGrid: opts.elGrid,\n        hoverArea: opts.hoverArea,\n        ttItems: opts.ttItems\n      };\n      let events = [\"mousemove\", \"mouseup\", \"touchmove\", \"mouseout\", \"touchend\"];\n      events.map(ev => {\n        return paths[p].addEventListener(ev, self.onSeriesHover.bind(self, extendedOpts), {\n          capture: false,\n          passive: true\n        });\n      });\n    }\n  }\n  /*\n   ** Check to see if the tooltips should be updated based on a mouse / touch event\n   */\n  onSeriesHover(opt, e) {\n    const targetDelay = 20;\n    const timeSinceLastUpdate = Date.now() - this.lastHoverTime;\n    if (timeSinceLastUpdate >= targetDelay) {\n      this.seriesHover(opt, e);\n    } else {\n      clearTimeout(this.seriesHoverTimeout);\n      this.seriesHoverTimeout = setTimeout(() => {\n        this.seriesHover(opt, e);\n      }, targetDelay - timeSinceLastUpdate);\n    }\n  }\n  /*\n   ** The actual series hover function\n   */\n  seriesHover(opt, e) {\n    this.lastHoverTime = Date.now();\n    let chartGroups = [];\n    const w = this.w;\n    if (w.config.chart.group) {\n      chartGroups = this.ctx.getGroupedCharts();\n    }\n    if (w.globals.axisCharts && (w.globals.minX === -Infinity && w.globals.maxX === Infinity || w.globals.dataPoints === 0)) {\n      return;\n    }\n    if (chartGroups.length) {\n      chartGroups.forEach(ch => {\n        const tooltipEl = this.getElTooltip(ch);\n        const newOpts = {\n          paths: opt.paths,\n          tooltipEl,\n          tooltipY: opt.tooltipY,\n          tooltipX: opt.tooltipX,\n          elGrid: opt.elGrid,\n          hoverArea: opt.hoverArea,\n          ttItems: ch.w.globals.tooltip.ttItems\n        };\n        if (ch.w.globals.minX === this.w.globals.minX && ch.w.globals.maxX === this.w.globals.maxX) {\n          ch.w.globals.tooltip.seriesHoverByContext({\n            chartCtx: ch,\n            ttCtx: ch.w.globals.tooltip,\n            opt: newOpts,\n            e\n          });\n        }\n      });\n    } else {\n      this.seriesHoverByContext({\n        chartCtx: this.ctx,\n        ttCtx: this.w.globals.tooltip,\n        opt,\n        e\n      });\n    }\n  }\n  seriesHoverByContext({\n    chartCtx,\n    ttCtx,\n    opt,\n    e\n  }) {\n    let w = chartCtx.w;\n    const tooltipEl = this.getElTooltip(chartCtx);\n    if (!tooltipEl) return;\n    const cachedDims = ttCtx.getCachedDimensions();\n    ttCtx.tooltipRect = {\n      x: 0,\n      y: 0,\n      ttWidth: cachedDims.ttWidth,\n      ttHeight: cachedDims.ttHeight\n    };\n    ttCtx.e = e;\n    if (ttCtx.tooltipUtil.hasBars() && !w.globals.comboCharts && !ttCtx.isBarShared) {\n      if (this.tConfig.onDatasetHover.highlightDataSeries) {\n        let series = new Series(chartCtx);\n        series.toggleSeriesOnHover(e, e.target.parentNode);\n      }\n    }\n    if (w.globals.axisCharts) {\n      ttCtx.axisChartsTooltips({\n        e,\n        opt,\n        tooltipRect: ttCtx.tooltipRect\n      });\n    } else {\n      ttCtx.nonAxisChartsTooltips({\n        e,\n        opt,\n        tooltipRect: ttCtx.tooltipRect\n      });\n    }\n    if (ttCtx.fixedTooltip) {\n      ttCtx.drawFixedTooltipRect();\n    }\n  }\n  // tooltip handling for line/area/bar/columns/scatter\n  axisChartsTooltips({\n    e,\n    opt\n  }) {\n    let w = this.w;\n    let x, y;\n    let seriesBound = opt.elGrid.getBoundingClientRect();\n    const clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n    const clientY = e.type === \"touchmove\" ? e.touches[0].clientY : e.clientY;\n    this.clientY = clientY;\n    this.clientX = clientX;\n    w.globals.capturedSeriesIndex = -1;\n    w.globals.capturedDataPointIndex = -1;\n    if (clientY < seriesBound.top || clientY > seriesBound.top + seriesBound.height) {\n      this.handleMouseOut(opt);\n      return;\n    }\n    if (Array.isArray(this.tConfig.enabledOnSeries) && !w.config.tooltip.shared) {\n      const index = parseInt(opt.paths.getAttribute(\"index\"), 10);\n      if (this.tConfig.enabledOnSeries.indexOf(index) < 0) {\n        this.handleMouseOut(opt);\n        return;\n      }\n    }\n    const tooltipEl = this.getElTooltip();\n    const xcrosshairs = this.getElXCrosshairs();\n    let syncedCharts = [];\n    if (w.config.chart.group) {\n      syncedCharts = this.ctx.getSyncedCharts();\n    }\n    let isStickyTooltip = w.globals.xyCharts || w.config.chart.type === \"bar\" && !w.globals.isBarHorizontal && this.tooltipUtil.hasBars() && this.tConfig.shared || w.globals.comboCharts && this.tooltipUtil.hasBars();\n    if (e.type === \"mousemove\" || e.type === \"touchmove\" || e.type === \"mouseup\") {\n      if (w.globals.collapsedSeries.length + w.globals.ancillaryCollapsedSeries.length === w.globals.series.length) {\n        return;\n      }\n      if (xcrosshairs !== null) {\n        xcrosshairs.classList.add(\"apexcharts-active\");\n      }\n      const hasYAxisTooltip = this.yaxisTooltips.filter(b => {\n        return b === true;\n      });\n      if (this.ycrosshairs !== null && hasYAxisTooltip.length) {\n        this.ycrosshairs.classList.add(\"apexcharts-active\");\n      }\n      if (isStickyTooltip && !this.showOnIntersect || syncedCharts.length > 1) {\n        this.handleStickyTooltip(e, clientX, clientY, opt);\n      } else {\n        if (w.config.chart.type === \"heatmap\" || w.config.chart.type === \"treemap\") {\n          let markerXY = this.intersect.handleHeatTreeTooltip({\n            e,\n            opt,\n            x,\n            y,\n            type: w.config.chart.type\n          });\n          x = markerXY.x;\n          y = markerXY.y;\n          tooltipEl.style.left = x + \"px\";\n          tooltipEl.style.top = y + \"px\";\n        } else {\n          if (this.tooltipUtil.hasBars()) {\n            this.intersect.handleBarTooltip({\n              e,\n              opt\n            });\n          }\n          if (this.tooltipUtil.hasMarkers()) {\n            this.intersect.handleMarkerTooltip({\n              e,\n              opt,\n              x,\n              y\n            });\n          }\n        }\n      }\n      if (this.yaxisTooltips.length) {\n        for (let yt = 0; yt < w.config.yaxis.length; yt++) {\n          this.axesTooltip.drawYaxisTooltipText(yt, clientY, this.xyRatios);\n        }\n      }\n      w.globals.dom.baseEl.classList.add(\"apexcharts-tooltip-active\");\n      opt.tooltipEl.classList.add(\"apexcharts-active\");\n      if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n        opt.tooltipEl.removeAttribute(\"aria-hidden\");\n      }\n    } else if (e.type === \"mouseout\" || e.type === \"touchend\") {\n      this.handleMouseOut(opt);\n    }\n  }\n  // tooltip handling for pie/donuts\n  nonAxisChartsTooltips({\n    e,\n    opt,\n    tooltipRect\n  }) {\n    let w = this.w;\n    let rel = opt.paths.getAttribute(\"rel\");\n    const tooltipEl = this.getElTooltip();\n    let seriesBound = w.globals.dom.elWrap.getBoundingClientRect();\n    if (e.type === \"mousemove\" || e.type === \"touchmove\") {\n      w.globals.dom.baseEl.classList.add(\"apexcharts-tooltip-active\");\n      tooltipEl.classList.add(\"apexcharts-active\");\n      if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n        tooltipEl.removeAttribute(\"aria-hidden\");\n      }\n      this.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i: parseInt(rel, 10) - 1,\n        shared: false\n      });\n      let x = w.globals.clientX - seriesBound.left - tooltipRect.ttWidth / 2;\n      let y = w.globals.clientY - seriesBound.top - tooltipRect.ttHeight - 10;\n      tooltipEl.style.left = x + \"px\";\n      tooltipEl.style.top = y + \"px\";\n      if (w.config.legend.tooltipHoverFormatter) {\n        let legendFormatter = w.config.legend.tooltipHoverFormatter;\n        const i = rel - 1;\n        const legendName = this.legendLabels[i].getAttribute(\"data:default-text\");\n        let text = legendFormatter(legendName, {\n          seriesIndex: i,\n          dataPointIndex: i,\n          w\n        });\n        this.legendLabels[i].innerHTML = text;\n      }\n    } else if (e.type === \"mouseout\" || e.type === \"touchend\") {\n      tooltipEl.classList.remove(\"apexcharts-active\");\n      w.globals.dom.baseEl.classList.remove(\"apexcharts-tooltip-active\");\n      if (w.config.legend.tooltipHoverFormatter) {\n        this.legendLabels.forEach(l => {\n          const defaultText = l.getAttribute(\"data:default-text\");\n          l.innerHTML = decodeURIComponent(defaultText);\n        });\n      }\n    }\n  }\n  handleStickyTooltip(e, clientX, clientY, opt) {\n    const w = this.w;\n    let capj = this.tooltipUtil.getNearestValues({\n      context: this,\n      hoverArea: opt.hoverArea,\n      elGrid: opt.elGrid,\n      clientX,\n      clientY\n    });\n    let j = capj.j;\n    let capturedSeries = capj.capturedSeries;\n    if (w.globals.collapsedSeriesIndices.includes(capturedSeries)) capturedSeries = null;\n    const bounds = opt.elGrid.getBoundingClientRect();\n    if (capj.hoverX < 0 || capj.hoverX > bounds.width) {\n      this.handleMouseOut(opt);\n      return;\n    }\n    if (capturedSeries !== null) {\n      this.handleStickyCapturedSeries(e, capturedSeries, opt, j);\n    } else {\n      if (this.tooltipUtil.isXoverlap(j) || w.globals.isBarHorizontal) {\n        const firstVisibleSeries = w.globals.series.findIndex((s, i) => !w.globals.collapsedSeriesIndices.includes(i));\n        this.create(e, this, firstVisibleSeries, j, opt.ttItems);\n      }\n    }\n  }\n  handleStickyCapturedSeries(e, capturedSeries, opt, j) {\n    const w = this.w;\n    if (!this.tConfig.shared) {\n      let ignoreNull = w.globals.series[capturedSeries][j] === null;\n      if (ignoreNull) {\n        this.handleMouseOut(opt);\n        return;\n      }\n    }\n    if (typeof w.globals.series[capturedSeries][j] !== \"undefined\") {\n      if (this.tConfig.shared && this.tooltipUtil.isXoverlap(j) && this.tooltipUtil.isInitialSeriesSameLen()) {\n        this.create(e, this, capturedSeries, j, opt.ttItems);\n      } else {\n        this.create(e, this, capturedSeries, j, opt.ttItems, false);\n      }\n    } else {\n      if (this.tooltipUtil.isXoverlap(j)) {\n        const firstVisibleSeries = w.globals.series.findIndex((s, i) => !w.globals.collapsedSeriesIndices.includes(i));\n        this.create(e, this, firstVisibleSeries, j, opt.ttItems);\n      }\n    }\n  }\n  deactivateHoverFilter() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let allPaths = w.globals.dom.Paper.find(`.apexcharts-bar-area`);\n    for (let b = 0; b < allPaths.length; b++) {\n      graphics.pathMouseLeave(allPaths[b]);\n    }\n  }\n  handleMouseOut(opt) {\n    const w = this.w;\n    const xcrosshairs = this.getElXCrosshairs();\n    w.globals.dom.baseEl.classList.remove(\"apexcharts-tooltip-active\");\n    opt.tooltipEl.classList.remove(\"apexcharts-active\");\n    if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n      opt.tooltipEl.setAttribute(\"aria-hidden\", \"true\");\n    }\n    this.deactivateHoverFilter();\n    if (w.config.chart.type !== \"bubble\") {\n      this.marker.resetPointsSize();\n    }\n    if (xcrosshairs !== null) {\n      xcrosshairs.classList.remove(\"apexcharts-active\");\n    }\n    if (this.ycrosshairs !== null) {\n      this.ycrosshairs.classList.remove(\"apexcharts-active\");\n    }\n    if (this.isXAxisTooltipEnabled) {\n      this.xaxisTooltip.classList.remove(\"apexcharts-active\");\n    }\n    if (this.yaxisTooltips.length) {\n      if (this.yaxisTTEls === null) {\n        this.yaxisTTEls = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-yaxistooltip\");\n      }\n      for (let i = 0; i < this.yaxisTTEls.length; i++) {\n        this.yaxisTTEls[i].classList.remove(\"apexcharts-active\");\n      }\n    }\n    if (w.config.legend.tooltipHoverFormatter) {\n      this.legendLabels.forEach(l => {\n        const defaultText = l.getAttribute(\"data:default-text\");\n        l.innerHTML = decodeURIComponent(defaultText);\n      });\n    }\n  }\n  markerClick(e, seriesIndex, dataPointIndex) {\n    const w = this.w;\n    if (typeof w.config.chart.events.markerClick === \"function\") {\n      w.config.chart.events.markerClick(e, this.ctx, {\n        seriesIndex,\n        dataPointIndex,\n        w\n      });\n    }\n    this.ctx.events.fireEvent(\"markerClick\", [e, this.ctx, {\n      seriesIndex,\n      dataPointIndex,\n      w\n    }]);\n  }\n  create(e, context, capturedSeries, j, ttItems, shared = null) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;\n    let w = this.w;\n    let ttCtx = context;\n    if (e.type === \"mouseup\") {\n      this.markerClick(e, capturedSeries, j);\n    }\n    if (shared === null) shared = this.tConfig.shared;\n    const hasMarkers = this.tooltipUtil.hasMarkers(capturedSeries);\n    const bars = this.tooltipUtil.getElBars();\n    const handlePoints = () => {\n      if (w.globals.markers.largestSize > 0) {\n        ttCtx.marker.enlargePoints(j);\n      } else {\n        ttCtx.tooltipPosition.moveDynamicPointsOnHover(j);\n      }\n    };\n    if (w.config.legend.tooltipHoverFormatter) {\n      let legendFormatter = w.config.legend.tooltipHoverFormatter;\n      let els = Array.from(this.legendLabels);\n      els.forEach(l => {\n        const legendName = l.getAttribute(\"data:default-text\");\n        l.innerHTML = decodeURIComponent(legendName);\n      });\n      for (let i = 0; i < els.length; i++) {\n        const l = els[i];\n        const lsIndex = parseInt(l.getAttribute(\"i\"), 10);\n        const legendName = decodeURIComponent(l.getAttribute(\"data:default-text\"));\n        let text = legendFormatter(legendName, {\n          seriesIndex: shared ? lsIndex : capturedSeries,\n          dataPointIndex: j,\n          w\n        });\n        if (!shared) {\n          l.innerHTML = lsIndex === capturedSeries ? text : legendName;\n          if (capturedSeries === lsIndex) {\n            break;\n          }\n        } else {\n          l.innerHTML = w.globals.collapsedSeriesIndices.indexOf(lsIndex) < 0 ? text : legendName;\n        }\n      }\n    }\n    const commonSeriesTextsParams = __spreadValues(__spreadValues({\n      ttItems,\n      i: capturedSeries,\n      j\n    }, typeof ((_d = (_c = (_b = (_a = w.globals.seriesRange) == null ? void 0 : _a[capturedSeries]) == null ? void 0 : _b[j]) == null ? void 0 : _c.y[0]) == null ? void 0 : _d.y1) !== \"undefined\" && {\n      y1: (_h = (_g = (_f = (_e = w.globals.seriesRange) == null ? void 0 : _e[capturedSeries]) == null ? void 0 : _f[j]) == null ? void 0 : _g.y[0]) == null ? void 0 : _h.y1\n    }), typeof ((_l = (_k = (_j = (_i = w.globals.seriesRange) == null ? void 0 : _i[capturedSeries]) == null ? void 0 : _j[j]) == null ? void 0 : _k.y[0]) == null ? void 0 : _l.y2) !== \"undefined\" && {\n      y2: (_p = (_o = (_n = (_m = w.globals.seriesRange) == null ? void 0 : _m[capturedSeries]) == null ? void 0 : _n[j]) == null ? void 0 : _o.y[0]) == null ? void 0 : _p.y2\n    });\n    if (shared) {\n      ttCtx.tooltipLabels.drawSeriesTexts(__spreadProps(__spreadValues({}, commonSeriesTextsParams), {\n        shared: this.showOnIntersect ? false : this.tConfig.shared\n      }));\n      if (hasMarkers) {\n        handlePoints();\n      } else if (this.tooltipUtil.hasBars()) {\n        this.barSeriesHeight = this.tooltipUtil.getBarsHeight(bars);\n        if (this.barSeriesHeight > 0) {\n          let graphics = new Graphics(this.ctx);\n          let paths = w.globals.dom.Paper.find(`.apexcharts-bar-area[j='${j}']`);\n          this.deactivateHoverFilter();\n          let points = ttCtx.tooltipUtil.getAllMarkers(true);\n          if (points.length && !this.barSeriesHeight) {\n            handlePoints();\n          }\n          ttCtx.tooltipPosition.moveStickyTooltipOverBars(j, capturedSeries);\n          for (let b = 0; b < paths.length; b++) {\n            graphics.pathMouseEnter(paths[b]);\n          }\n        }\n      }\n    } else {\n      ttCtx.tooltipLabels.drawSeriesTexts(__spreadValues({\n        shared: false\n      }, commonSeriesTextsParams));\n      if (this.tooltipUtil.hasBars()) {\n        ttCtx.tooltipPosition.moveStickyTooltipOverBars(j, capturedSeries);\n      }\n      if (hasMarkers) {\n        ttCtx.tooltipPosition.moveMarkers(capturedSeries, j);\n      }\n    }\n  }\n}\nconst MINUTES_IN_DAY = 24 * 60;\nconst SECONDS_IN_DAY = MINUTES_IN_DAY * 60;\nconst MIN_ZOOM_DAYS = 10 / SECONDS_IN_DAY;\nclass TimeScale {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.timeScaleArray = [];\n    this.utc = this.w.config.xaxis.labels.datetimeUTC;\n  }\n  calculateTimeScaleTicks(minX, maxX) {\n    let w = this.w;\n    if (w.globals.allSeriesCollapsed) {\n      w.globals.labels = [];\n      w.globals.timescaleLabels = [];\n      return [];\n    }\n    let dt = new DateTime(this.ctx);\n    const daysDiff = (maxX - minX) / (1e3 * SECONDS_IN_DAY);\n    this.determineInterval(daysDiff);\n    w.globals.disableZoomIn = false;\n    w.globals.disableZoomOut = false;\n    if (daysDiff < MIN_ZOOM_DAYS) {\n      w.globals.disableZoomIn = true;\n    } else if (daysDiff > 5e4) {\n      w.globals.disableZoomOut = true;\n    }\n    const timeIntervals = dt.getTimeUnitsfromTimestamp(minX, maxX, this.utc);\n    const daysWidthOnXAxis = w.globals.gridWidth / daysDiff;\n    const hoursWidthOnXAxis = daysWidthOnXAxis / 24;\n    const minutesWidthOnXAxis = hoursWidthOnXAxis / 60;\n    const secondsWidthOnXAxis = minutesWidthOnXAxis / 60;\n    let numberOfHours = Math.floor(daysDiff * 24);\n    let numberOfMinutes = Math.floor(daysDiff * MINUTES_IN_DAY);\n    let numberOfSeconds = Math.floor(daysDiff * SECONDS_IN_DAY);\n    let numberOfDays = Math.floor(daysDiff);\n    let numberOfMonths = Math.floor(daysDiff / 30);\n    let numberOfYears = Math.floor(daysDiff / 365);\n    const firstVal = {\n      minMillisecond: timeIntervals.minMillisecond,\n      minSecond: timeIntervals.minSecond,\n      minMinute: timeIntervals.minMinute,\n      minHour: timeIntervals.minHour,\n      minDate: timeIntervals.minDate,\n      minMonth: timeIntervals.minMonth,\n      minYear: timeIntervals.minYear\n    };\n    let currentMillisecond = firstVal.minMillisecond;\n    let currentSecond = firstVal.minSecond;\n    let currentMinute = firstVal.minMinute;\n    let currentHour = firstVal.minHour;\n    let currentMonthDate = firstVal.minDate;\n    let currentDate = firstVal.minDate;\n    let currentMonth = firstVal.minMonth;\n    let currentYear = firstVal.minYear;\n    const params = {\n      firstVal,\n      currentMillisecond,\n      currentSecond,\n      currentMinute,\n      currentHour,\n      currentMonthDate,\n      currentDate,\n      currentMonth,\n      currentYear,\n      daysWidthOnXAxis,\n      hoursWidthOnXAxis,\n      minutesWidthOnXAxis,\n      secondsWidthOnXAxis,\n      numberOfSeconds,\n      numberOfMinutes,\n      numberOfHours,\n      numberOfDays,\n      numberOfMonths,\n      numberOfYears\n    };\n    switch (this.tickInterval) {\n      case \"years\":\n        {\n          this.generateYearScale(params);\n          break;\n        }\n      case \"months\":\n      case \"half_year\":\n        {\n          this.generateMonthScale(params);\n          break;\n        }\n      case \"months_days\":\n      case \"months_fortnight\":\n      case \"days\":\n      case \"week_days\":\n        {\n          this.generateDayScale(params);\n          break;\n        }\n      case \"hours\":\n        {\n          this.generateHourScale(params);\n          break;\n        }\n      case \"minutes_fives\":\n      case \"minutes\":\n        this.generateMinuteScale(params);\n        break;\n      case \"seconds_tens\":\n      case \"seconds_fives\":\n      case \"seconds\":\n        this.generateSecondScale(params);\n        break;\n    }\n    const adjustedMonthInTimeScaleArray = this.timeScaleArray.map(ts => {\n      let defaultReturn = {\n        position: ts.position,\n        unit: ts.unit,\n        year: ts.year,\n        day: ts.day ? ts.day : 1,\n        hour: ts.hour ? ts.hour : 0,\n        month: ts.month + 1\n      };\n      if (ts.unit === \"month\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          day: 1,\n          value: ts.value + 1\n        });\n      } else if (ts.unit === \"day\" || ts.unit === \"hour\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          value: ts.value\n        });\n      } else if (ts.unit === \"minute\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          value: ts.value,\n          minute: ts.value\n        });\n      } else if (ts.unit === \"second\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          value: ts.value,\n          minute: ts.minute,\n          second: ts.second\n        });\n      }\n      return ts;\n    });\n    const filteredTimeScale = adjustedMonthInTimeScaleArray.filter(ts => {\n      let modulo = 1;\n      let ticks = Math.ceil(w.globals.gridWidth / 120);\n      let value = ts.value;\n      if (w.config.xaxis.tickAmount !== void 0) {\n        ticks = w.config.xaxis.tickAmount;\n      }\n      if (adjustedMonthInTimeScaleArray.length > ticks) {\n        modulo = Math.floor(adjustedMonthInTimeScaleArray.length / ticks);\n      }\n      let shouldNotSkipUnit = false;\n      let shouldNotPrint = false;\n      switch (this.tickInterval) {\n        case \"years\":\n          if (ts.unit === \"year\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"half_year\":\n          modulo = 7;\n          if (ts.unit === \"year\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"months\":\n          modulo = 1;\n          if (ts.unit === \"year\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"months_fortnight\":\n          modulo = 15;\n          if (ts.unit === \"year\" || ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          if (value === 30) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"months_days\":\n          modulo = 10;\n          if (ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          if (value === 30) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"week_days\":\n          modulo = 8;\n          if (ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"days\":\n          modulo = 1;\n          if (ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"hours\":\n          if (ts.unit === \"day\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"minutes_fives\":\n          if (value % 5 !== 0) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"seconds_tens\":\n          if (value % 10 !== 0) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"seconds_fives\":\n          if (value % 5 !== 0) {\n            shouldNotPrint = true;\n          }\n          break;\n      }\n      if (this.tickInterval === \"hours\" || this.tickInterval === \"minutes_fives\" || this.tickInterval === \"seconds_tens\" || this.tickInterval === \"seconds_fives\") {\n        if (!shouldNotPrint) {\n          return true;\n        }\n      } else {\n        if ((value % modulo === 0 || shouldNotSkipUnit) && !shouldNotPrint) {\n          return true;\n        }\n      }\n    });\n    return filteredTimeScale;\n  }\n  recalcDimensionsBasedOnFormat(filteredTimeScale) {\n    const w = this.w;\n    const reformattedTimescaleArray = this.formatDates(filteredTimeScale);\n    const removedOverlappingTS = this.removeOverlappingTS(reformattedTimescaleArray);\n    w.globals.timescaleLabels = removedOverlappingTS.slice();\n    let dimensions = new Dimensions(this.ctx);\n    dimensions.plotCoords();\n  }\n  determineInterval(daysDiff) {\n    const yearsDiff = daysDiff / 365;\n    const hoursDiff = daysDiff * 24;\n    const minutesDiff = hoursDiff * 60;\n    const secondsDiff = minutesDiff * 60;\n    switch (true) {\n      case yearsDiff > 5:\n        this.tickInterval = \"years\";\n        break;\n      case daysDiff > 800:\n        this.tickInterval = \"half_year\";\n        break;\n      case daysDiff > 180:\n        this.tickInterval = \"months\";\n        break;\n      case daysDiff > 90:\n        this.tickInterval = \"months_fortnight\";\n        break;\n      case daysDiff > 60:\n        this.tickInterval = \"months_days\";\n        break;\n      case daysDiff > 30:\n        this.tickInterval = \"week_days\";\n        break;\n      case daysDiff > 2:\n        this.tickInterval = \"days\";\n        break;\n      case hoursDiff > 2.4:\n        this.tickInterval = \"hours\";\n        break;\n      case minutesDiff > 15:\n        this.tickInterval = \"minutes_fives\";\n        break;\n      case minutesDiff > 5:\n        this.tickInterval = \"minutes\";\n        break;\n      case minutesDiff > 1:\n        this.tickInterval = \"seconds_tens\";\n        break;\n      case secondsDiff > 20:\n        this.tickInterval = \"seconds_fives\";\n        break;\n      default:\n        this.tickInterval = \"seconds\";\n        break;\n    }\n  }\n  generateYearScale({\n    firstVal,\n    currentMonth,\n    currentYear,\n    daysWidthOnXAxis,\n    numberOfYears\n  }) {\n    let firstTickValue = firstVal.minYear;\n    let firstTickPosition = 0;\n    const dt = new DateTime(this.ctx);\n    let unit = \"year\";\n    if (firstVal.minDate > 1 || firstVal.minMonth > 0) {\n      let remainingDays = dt.determineRemainingDaysOfYear(firstVal.minYear, firstVal.minMonth, firstVal.minDate);\n      let remainingDaysOfFirstYear = dt.determineDaysOfYear(firstVal.minYear) - remainingDays + 1;\n      firstTickPosition = remainingDaysOfFirstYear * daysWidthOnXAxis;\n      firstTickValue = firstVal.minYear + 1;\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value: firstTickValue,\n        unit,\n        year: firstTickValue,\n        month: Utils$1.monthMod(currentMonth + 1)\n      });\n    } else if (firstVal.minDate === 1 && firstVal.minMonth === 0) {\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value: firstTickValue,\n        unit,\n        year: currentYear,\n        month: Utils$1.monthMod(currentMonth + 1)\n      });\n    }\n    let year = firstTickValue;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfYears; i++) {\n      year++;\n      pos = dt.determineDaysOfYear(year - 1) * daysWidthOnXAxis + pos;\n      this.timeScaleArray.push({\n        position: pos,\n        value: year,\n        unit,\n        year,\n        month: 1\n      });\n    }\n  }\n  generateMonthScale({\n    firstVal,\n    currentMonthDate,\n    currentMonth,\n    currentYear,\n    daysWidthOnXAxis,\n    numberOfMonths\n  }) {\n    let firstTickValue = currentMonth;\n    let firstTickPosition = 0;\n    const dt = new DateTime(this.ctx);\n    let unit = \"month\";\n    let yrCounter = 0;\n    if (firstVal.minDate > 1) {\n      let remainingDaysOfFirstMonth = dt.determineDaysOfMonths(currentMonth + 1, firstVal.minYear) - currentMonthDate + 1;\n      firstTickPosition = remainingDaysOfFirstMonth * daysWidthOnXAxis;\n      firstTickValue = Utils$1.monthMod(currentMonth + 1);\n      let year = currentYear + yrCounter;\n      let month2 = Utils$1.monthMod(firstTickValue);\n      let value = firstTickValue;\n      if (firstTickValue === 0) {\n        unit = \"year\";\n        value = year;\n        month2 = 1;\n        yrCounter += 1;\n        year = year + yrCounter;\n      }\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value,\n        unit,\n        year,\n        month: month2\n      });\n    } else {\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value: firstTickValue,\n        unit,\n        year: currentYear,\n        month: Utils$1.monthMod(currentMonth)\n      });\n    }\n    let month = firstTickValue + 1;\n    let pos = firstTickPosition;\n    for (let i = 0, j = 1; i < numberOfMonths; i++, j++) {\n      month = Utils$1.monthMod(month);\n      if (month === 0) {\n        unit = \"year\";\n        yrCounter += 1;\n      } else {\n        unit = \"month\";\n      }\n      let year = this._getYear(currentYear, month, yrCounter);\n      pos = dt.determineDaysOfMonths(month, year) * daysWidthOnXAxis + pos;\n      let monthVal = month === 0 ? year : month;\n      this.timeScaleArray.push({\n        position: pos,\n        value: monthVal,\n        unit,\n        year,\n        month: month === 0 ? 1 : month\n      });\n      month++;\n    }\n  }\n  generateDayScale({\n    firstVal,\n    currentMonth,\n    currentYear,\n    hoursWidthOnXAxis,\n    numberOfDays\n  }) {\n    const dt = new DateTime(this.ctx);\n    let unit = \"day\";\n    let firstTickValue = firstVal.minDate + 1;\n    let date = firstTickValue;\n    const changeMonth = (dateVal, month2, year) => {\n      let monthdays = dt.determineDaysOfMonths(month2 + 1, year);\n      if (dateVal > monthdays) {\n        month2 = month2 + 1;\n        date = 1;\n        unit = \"month\";\n        val = month2;\n        return month2;\n      }\n      return month2;\n    };\n    let remainingHours = 24 - firstVal.minHour;\n    let yrCounter = 0;\n    let firstTickPosition = remainingHours * hoursWidthOnXAxis;\n    let val = firstTickValue;\n    let month = changeMonth(date, currentMonth, currentYear);\n    if (firstVal.minHour === 0 && firstVal.minDate === 1) {\n      firstTickPosition = 0;\n      val = Utils$1.monthMod(firstVal.minMonth);\n      unit = \"month\";\n      date = firstVal.minDate;\n    } else if (firstVal.minDate !== 1 && firstVal.minHour === 0 && firstVal.minMinute === 0) {\n      firstTickPosition = 0;\n      firstTickValue = firstVal.minDate;\n      date = firstTickValue;\n      val = firstTickValue;\n      month = changeMonth(date, currentMonth, currentYear);\n      if (val !== 1) {\n        unit = \"day\";\n      }\n    }\n    this.timeScaleArray.push({\n      position: firstTickPosition,\n      value: val,\n      unit,\n      year: this._getYear(currentYear, month, yrCounter),\n      month: Utils$1.monthMod(month),\n      day: date\n    });\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfDays; i++) {\n      date += 1;\n      unit = \"day\";\n      month = changeMonth(date, month, this._getYear(currentYear, month, yrCounter));\n      let year = this._getYear(currentYear, month, yrCounter);\n      pos = 24 * hoursWidthOnXAxis + pos;\n      let value = date === 1 ? Utils$1.monthMod(month) : date;\n      this.timeScaleArray.push({\n        position: pos,\n        value,\n        unit,\n        year,\n        month: Utils$1.monthMod(month),\n        day: value\n      });\n    }\n  }\n  generateHourScale({\n    firstVal,\n    currentDate,\n    currentMonth,\n    currentYear,\n    minutesWidthOnXAxis,\n    numberOfHours\n  }) {\n    const dt = new DateTime(this.ctx);\n    let yrCounter = 0;\n    let unit = \"hour\";\n    const changeDate = (dateVal, month2) => {\n      let monthdays = dt.determineDaysOfMonths(month2 + 1, currentYear);\n      if (dateVal > monthdays) {\n        date = 1;\n        month2 = month2 + 1;\n      }\n      return {\n        month: month2,\n        date\n      };\n    };\n    const changeMonth = (dateVal, month2) => {\n      let monthdays = dt.determineDaysOfMonths(month2 + 1, currentYear);\n      if (dateVal > monthdays) {\n        month2 = month2 + 1;\n        return month2;\n      }\n      return month2;\n    };\n    let remainingMins = 60 - (firstVal.minMinute + firstVal.minSecond / 60);\n    let firstTickPosition = remainingMins * minutesWidthOnXAxis;\n    let firstTickValue = firstVal.minHour + 1;\n    let hour = firstTickValue;\n    if (remainingMins === 60) {\n      firstTickPosition = 0;\n      firstTickValue = firstVal.minHour;\n      hour = firstTickValue;\n    }\n    let date = currentDate;\n    if (hour >= 24) {\n      hour = 0;\n      date += 1;\n      unit = \"day\";\n      firstTickValue = date;\n    }\n    const checkNextMonth = changeDate(date, currentMonth);\n    let month = checkNextMonth.month;\n    month = changeMonth(date, month);\n    if (firstTickValue > 31) {\n      date = 1;\n      firstTickValue = date;\n    }\n    this.timeScaleArray.push({\n      position: firstTickPosition,\n      value: firstTickValue,\n      unit,\n      day: date,\n      hour,\n      year: currentYear,\n      month: Utils$1.monthMod(month)\n    });\n    hour++;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfHours; i++) {\n      unit = \"hour\";\n      if (hour >= 24) {\n        hour = 0;\n        date += 1;\n        unit = \"day\";\n        const checkNextMonth2 = changeDate(date, month);\n        month = checkNextMonth2.month;\n        month = changeMonth(date, month);\n      }\n      let year = this._getYear(currentYear, month, yrCounter);\n      pos = 60 * minutesWidthOnXAxis + pos;\n      let val = hour === 0 ? date : hour;\n      this.timeScaleArray.push({\n        position: pos,\n        value: val,\n        unit,\n        hour,\n        day: date,\n        year,\n        month: Utils$1.monthMod(month)\n      });\n      hour++;\n    }\n  }\n  generateMinuteScale({\n    currentMillisecond,\n    currentSecond,\n    currentMinute,\n    currentHour,\n    currentDate,\n    currentMonth,\n    currentYear,\n    minutesWidthOnXAxis,\n    secondsWidthOnXAxis,\n    numberOfMinutes\n  }) {\n    let yrCounter = 0;\n    let unit = \"minute\";\n    let remainingSecs = 60 - currentSecond;\n    let firstTickPosition = (remainingSecs - currentMillisecond / 1e3) * secondsWidthOnXAxis;\n    let minute = currentMinute + 1;\n    let date = currentDate;\n    let month = currentMonth;\n    let year = currentYear;\n    let hour = currentHour;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfMinutes; i++) {\n      if (minute >= 60) {\n        minute = 0;\n        hour += 1;\n        if (hour === 24) {\n          hour = 0;\n        }\n      }\n      this.timeScaleArray.push({\n        position: pos,\n        value: minute,\n        unit,\n        hour,\n        minute,\n        day: date,\n        year: this._getYear(year, month, yrCounter),\n        month: Utils$1.monthMod(month)\n      });\n      pos += minutesWidthOnXAxis;\n      minute++;\n    }\n  }\n  generateSecondScale({\n    currentMillisecond,\n    currentSecond,\n    currentMinute,\n    currentHour,\n    currentDate,\n    currentMonth,\n    currentYear,\n    secondsWidthOnXAxis,\n    numberOfSeconds\n  }) {\n    let yrCounter = 0;\n    let unit = \"second\";\n    const remainingMillisecs = 1e3 - currentMillisecond;\n    let firstTickPosition = remainingMillisecs / 1e3 * secondsWidthOnXAxis;\n    let second = currentSecond + 1;\n    let minute = currentMinute;\n    let date = currentDate;\n    let month = currentMonth;\n    let year = currentYear;\n    let hour = currentHour;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfSeconds; i++) {\n      if (second >= 60) {\n        minute++;\n        second = 0;\n        if (minute >= 60) {\n          hour++;\n          minute = 0;\n          if (hour === 24) {\n            hour = 0;\n          }\n        }\n      }\n      this.timeScaleArray.push({\n        position: pos,\n        value: second,\n        unit,\n        hour,\n        minute,\n        second,\n        day: date,\n        year: this._getYear(year, month, yrCounter),\n        month: Utils$1.monthMod(month)\n      });\n      pos += secondsWidthOnXAxis;\n      second++;\n    }\n  }\n  createRawDateString(ts, value) {\n    let raw = ts.year;\n    if (ts.month === 0) {\n      ts.month = 1;\n    }\n    raw += \"-\" + (\"0\" + ts.month.toString()).slice(-2);\n    if (ts.unit === \"day\") {\n      raw += ts.unit === \"day\" ? \"-\" + (\"0\" + value).slice(-2) : \"-01\";\n    } else {\n      raw += \"-\" + (\"0\" + (ts.day ? ts.day : \"1\")).slice(-2);\n    }\n    if (ts.unit === \"hour\") {\n      raw += ts.unit === \"hour\" ? \"T\" + (\"0\" + value).slice(-2) : \"T00\";\n    } else {\n      raw += \"T\" + (\"0\" + (ts.hour ? ts.hour : \"0\")).slice(-2);\n    }\n    if (ts.unit === \"minute\") {\n      raw += \":\" + (\"0\" + value).slice(-2);\n    } else {\n      raw += \":\" + (ts.minute ? (\"0\" + ts.minute).slice(-2) : \"00\");\n    }\n    if (ts.unit === \"second\") {\n      raw += \":\" + (\"0\" + value).slice(-2);\n    } else {\n      raw += \":00\";\n    }\n    if (this.utc) {\n      raw += \".000Z\";\n    }\n    return raw;\n  }\n  formatDates(filteredTimeScale) {\n    const w = this.w;\n    const reformattedTimescaleArray = filteredTimeScale.map(ts => {\n      let value = ts.value.toString();\n      let dt = new DateTime(this.ctx);\n      const raw = this.createRawDateString(ts, value);\n      let dateToFormat = dt.getDate(dt.parseDate(raw));\n      if (!this.utc) {\n        dateToFormat = dt.getDate(dt.parseDateWithTimezone(raw));\n      }\n      if (w.config.xaxis.labels.format === void 0) {\n        let customFormat = \"dd MMM\";\n        const dtFormatter = w.config.xaxis.labels.datetimeFormatter;\n        if (ts.unit === \"year\") customFormat = dtFormatter.year;\n        if (ts.unit === \"month\") customFormat = dtFormatter.month;\n        if (ts.unit === \"day\") customFormat = dtFormatter.day;\n        if (ts.unit === \"hour\") customFormat = dtFormatter.hour;\n        if (ts.unit === \"minute\") customFormat = dtFormatter.minute;\n        if (ts.unit === \"second\") customFormat = dtFormatter.second;\n        value = dt.formatDate(dateToFormat, customFormat);\n      } else {\n        value = dt.formatDate(dateToFormat, w.config.xaxis.labels.format);\n      }\n      return {\n        dateString: raw,\n        position: ts.position,\n        value,\n        unit: ts.unit,\n        year: ts.year,\n        month: ts.month\n      };\n    });\n    return reformattedTimescaleArray;\n  }\n  removeOverlappingTS(arr) {\n    const graphics = new Graphics(this.ctx);\n    let equalLabelLengthFlag = false;\n    let constantLabelWidth;\n    if (arr.length > 0 &&\n    // check arr length\n    arr[0].value &&\n    // check arr[0] contains value\n    arr.every(lb => lb.value.length === arr[0].value.length)) {\n      equalLabelLengthFlag = true;\n      constantLabelWidth = graphics.getTextRects(arr[0].value).width;\n    }\n    let lastDrawnIndex = 0;\n    let filteredArray = arr.map((item, index) => {\n      if (index > 0 && this.w.config.xaxis.labels.hideOverlappingLabels) {\n        const prevLabelWidth = !equalLabelLengthFlag ? graphics.getTextRects(arr[lastDrawnIndex].value).width : constantLabelWidth;\n        const prevPos = arr[lastDrawnIndex].position;\n        const pos = item.position;\n        if (pos > prevPos + prevLabelWidth + 10) {\n          lastDrawnIndex = index;\n          return item;\n        } else {\n          return null;\n        }\n      } else {\n        return item;\n      }\n    });\n    filteredArray = filteredArray.filter(f => f !== null);\n    return filteredArray;\n  }\n  _getYear(currentYear, month, yrCounter) {\n    return currentYear + Math.floor(month / 12) + yrCounter;\n  }\n}\nclass BarDataLabels {\n  constructor(barCtx) {\n    this.w = barCtx.w;\n    this.barCtx = barCtx;\n    this.totalFormatter = this.w.config.plotOptions.bar.dataLabels.total.formatter;\n    if (!this.totalFormatter) {\n      this.totalFormatter = this.w.config.dataLabels.formatter;\n    }\n  }\n  /** handleBarDataLabels is used to calculate the positions for the data-labels\n   * It also sets the element's data attr for bars and calls drawCalculatedBarDataLabels()\n   * After calculating, it also calls the function to draw data labels\n   * @memberof Bar\n   * @param {object} {barProps} most of the bar properties used throughout the bar\n   * drawing function\n   * @return {object} dataLabels node-element which you can append later\n   **/\n  handleBarDataLabels(opts) {\n    let {\n      x,\n      y,\n      y1,\n      y2,\n      i,\n      j,\n      realIndex,\n      columnGroupIndex,\n      series,\n      barHeight,\n      barWidth,\n      barXPosition,\n      barYPosition,\n      visibleSeries\n    } = opts;\n    let w = this.w;\n    let graphics = new Graphics(this.barCtx.ctx);\n    let strokeWidth = Array.isArray(this.barCtx.strokeWidth) ? this.barCtx.strokeWidth[realIndex] : this.barCtx.strokeWidth;\n    let bcx;\n    let bcy;\n    if (w.globals.isXNumeric && !w.globals.isBarHorizontal) {\n      bcx = x + parseFloat(barWidth * (visibleSeries + 1));\n      bcy = y + parseFloat(barHeight * (visibleSeries + 1)) - strokeWidth;\n    } else {\n      bcx = x + parseFloat(barWidth * visibleSeries);\n      bcy = y + parseFloat(barHeight * visibleSeries);\n    }\n    let dataLabels = null;\n    let totalDataLabels = null;\n    let dataLabelsX = x;\n    let dataLabelsY = y;\n    let dataLabelsPos = {};\n    let dataLabelsConfig = w.config.dataLabels;\n    let barDataLabelsConfig = this.barCtx.barOptions.dataLabels;\n    let barTotalDataLabelsConfig = this.barCtx.barOptions.dataLabels.total;\n    if (typeof barYPosition !== \"undefined\" && this.barCtx.isRangeBar) {\n      bcy = barYPosition;\n      dataLabelsY = barYPosition;\n    }\n    if (typeof barXPosition !== \"undefined\" && this.barCtx.isVerticalGroupedRangeBar) {\n      bcx = barXPosition;\n      dataLabelsX = barXPosition;\n    }\n    const offX = dataLabelsConfig.offsetX;\n    const offY = dataLabelsConfig.offsetY;\n    let textRects = {\n      width: 0,\n      height: 0\n    };\n    if (w.config.dataLabels.enabled) {\n      const yLabel = w.globals.series[i][j];\n      textRects = graphics.getTextRects(w.config.dataLabels.formatter ? w.config.dataLabels.formatter(yLabel, __spreadProps(__spreadValues({}, w), {\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      })) : w.globals.yLabelFormatters[0](yLabel), parseFloat(dataLabelsConfig.style.fontSize));\n    }\n    const params = {\n      x,\n      y,\n      i,\n      j,\n      realIndex,\n      columnGroupIndex,\n      bcx,\n      bcy,\n      barHeight,\n      barWidth,\n      textRects,\n      strokeWidth,\n      dataLabelsX,\n      dataLabelsY,\n      dataLabelsConfig,\n      barDataLabelsConfig,\n      barTotalDataLabelsConfig,\n      offX,\n      offY\n    };\n    if (this.barCtx.isHorizontal) {\n      dataLabelsPos = this.calculateBarsDataLabelsPosition(params);\n    } else {\n      dataLabelsPos = this.calculateColumnsDataLabelsPosition(params);\n    }\n    dataLabels = this.drawCalculatedDataLabels({\n      x: dataLabelsPos.dataLabelsX,\n      y: dataLabelsPos.dataLabelsY,\n      val: this.barCtx.isRangeBar ? [y1, y2] : w.config.chart.stackType === \"100%\" ? series[realIndex][j] : w.globals.series[realIndex][j],\n      i: realIndex,\n      j,\n      barWidth,\n      barHeight,\n      textRects,\n      dataLabelsConfig\n    });\n    if (w.config.chart.stacked && barTotalDataLabelsConfig.enabled) {\n      totalDataLabels = this.drawTotalDataLabels({\n        x: dataLabelsPos.totalDataLabelsX,\n        y: dataLabelsPos.totalDataLabelsY,\n        barWidth,\n        barHeight,\n        realIndex,\n        textAnchor: dataLabelsPos.totalDataLabelsAnchor,\n        val: this.getStackedTotalDataLabel({\n          realIndex,\n          j\n        }),\n        dataLabelsConfig,\n        barTotalDataLabelsConfig\n      });\n    }\n    return {\n      dataLabelsPos,\n      dataLabels,\n      totalDataLabels\n    };\n  }\n  getStackedTotalDataLabel({\n    realIndex,\n    j\n  }) {\n    const w = this.w;\n    let val = this.barCtx.stackedSeriesTotals[j];\n    if (this.totalFormatter) {\n      val = this.totalFormatter(val, __spreadProps(__spreadValues({}, w), {\n        seriesIndex: realIndex,\n        dataPointIndex: j,\n        w\n      }));\n    }\n    return val;\n  }\n  calculateColumnsDataLabelsPosition(opts) {\n    const w = this.w;\n    let {\n      i,\n      j,\n      realIndex,\n      y,\n      bcx,\n      barWidth,\n      barHeight,\n      textRects,\n      dataLabelsX,\n      dataLabelsY,\n      dataLabelsConfig,\n      barDataLabelsConfig,\n      barTotalDataLabelsConfig,\n      strokeWidth,\n      offX,\n      offY\n    } = opts;\n    let totalDataLabelsY;\n    let totalDataLabelsX;\n    let totalDataLabelsAnchor = \"middle\";\n    let totalDataLabelsBcx = bcx;\n    barHeight = Math.abs(barHeight);\n    let vertical = w.config.plotOptions.bar.dataLabels.orientation === \"vertical\";\n    const {\n      zeroEncounters\n    } = this.barCtx.barHelpers.getZeroValueEncounters({\n      i,\n      j\n    });\n    bcx = bcx - strokeWidth / 2;\n    let dataPointsDividedWidth = w.globals.gridWidth / w.globals.dataPoints;\n    if (this.barCtx.isVerticalGroupedRangeBar) {\n      dataLabelsX += barWidth / 2;\n    } else {\n      if (w.globals.isXNumeric) {\n        dataLabelsX = bcx - barWidth / 2 + offX;\n      } else {\n        dataLabelsX = bcx - dataPointsDividedWidth + barWidth / 2 + offX;\n      }\n      if (!w.config.chart.stacked && zeroEncounters > 0 && w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        dataLabelsX -= barWidth * zeroEncounters;\n      }\n    }\n    if (vertical) {\n      const offsetDLX = 2;\n      dataLabelsX = dataLabelsX + textRects.height / 2 - strokeWidth / 2 - offsetDLX;\n    }\n    let valIsNegative = w.globals.series[i][j] < 0;\n    let newY = y;\n    if (this.barCtx.isReversed) {\n      newY = y + (valIsNegative ? barHeight : -barHeight);\n    }\n    switch (barDataLabelsConfig.position) {\n      case \"center\":\n        if (vertical) {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight / 2 + offY;\n          } else {\n            dataLabelsY = newY + barHeight / 2 - offY;\n          }\n        } else {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight / 2 + textRects.height / 2 + offY;\n          } else {\n            dataLabelsY = newY + barHeight / 2 + textRects.height / 2 - offY;\n          }\n        }\n        break;\n      case \"bottom\":\n        if (vertical) {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight + offY;\n          } else {\n            dataLabelsY = newY + barHeight - offY;\n          }\n        } else {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight + textRects.height + strokeWidth + offY;\n          } else {\n            dataLabelsY = newY + barHeight - textRects.height / 2 + strokeWidth - offY;\n          }\n        }\n        break;\n      case \"top\":\n        if (vertical) {\n          if (valIsNegative) {\n            dataLabelsY = newY + offY;\n          } else {\n            dataLabelsY = newY - offY;\n          }\n        } else {\n          if (valIsNegative) {\n            dataLabelsY = newY - textRects.height / 2 - offY;\n          } else {\n            dataLabelsY = newY + textRects.height + offY;\n          }\n        }\n        break;\n    }\n    let lowestPrevY = newY;\n    w.globals.seriesGroups.forEach(sg => {\n      var _a;\n      (_a = this.barCtx[sg.join(\",\")]) == null ? void 0 : _a.prevY.forEach(arr => {\n        if (valIsNegative) {\n          lowestPrevY = Math.max(arr[j], lowestPrevY);\n        } else {\n          lowestPrevY = Math.min(arr[j], lowestPrevY);\n        }\n      });\n    });\n    if (this.barCtx.lastActiveBarSerieIndex === realIndex && barTotalDataLabelsConfig.enabled) {\n      const ADDITIONAL_OFFY = 18;\n      const graphics = new Graphics(this.barCtx.ctx);\n      const totalLabeltextRects = graphics.getTextRects(this.getStackedTotalDataLabel({\n        realIndex,\n        j\n      }), dataLabelsConfig.fontSize);\n      if (valIsNegative) {\n        totalDataLabelsY = lowestPrevY - totalLabeltextRects.height / 2 - offY - barTotalDataLabelsConfig.offsetY + ADDITIONAL_OFFY;\n      } else {\n        totalDataLabelsY = lowestPrevY + totalLabeltextRects.height + offY + barTotalDataLabelsConfig.offsetY - ADDITIONAL_OFFY;\n      }\n      let xDivision = dataPointsDividedWidth;\n      totalDataLabelsX = totalDataLabelsBcx + (w.globals.isXNumeric ? -barWidth * w.globals.barGroups.length / 2 : w.globals.barGroups.length * barWidth / 2 - (w.globals.barGroups.length - 1) * barWidth - xDivision) + barTotalDataLabelsConfig.offsetX;\n    }\n    if (!w.config.chart.stacked) {\n      if (dataLabelsY < 0) {\n        dataLabelsY = 0 + strokeWidth;\n      } else if (dataLabelsY + textRects.height / 3 > w.globals.gridHeight) {\n        dataLabelsY = w.globals.gridHeight - strokeWidth;\n      }\n    }\n    return {\n      bcx,\n      bcy: y,\n      dataLabelsX,\n      dataLabelsY,\n      totalDataLabelsX,\n      totalDataLabelsY,\n      totalDataLabelsAnchor\n    };\n  }\n  calculateBarsDataLabelsPosition(opts) {\n    const w = this.w;\n    let {\n      x,\n      i,\n      j,\n      realIndex,\n      bcy,\n      barHeight,\n      barWidth,\n      textRects,\n      dataLabelsX,\n      strokeWidth,\n      dataLabelsConfig,\n      barDataLabelsConfig,\n      barTotalDataLabelsConfig,\n      offX,\n      offY\n    } = opts;\n    let dataPointsDividedHeight = w.globals.gridHeight / w.globals.dataPoints;\n    const {\n      zeroEncounters\n    } = this.barCtx.barHelpers.getZeroValueEncounters({\n      i,\n      j\n    });\n    barWidth = Math.abs(barWidth);\n    let dataLabelsY = bcy - (this.barCtx.isRangeBar ? 0 : dataPointsDividedHeight) + barHeight / 2 + textRects.height / 2 + offY - 3;\n    if (!w.config.chart.stacked && zeroEncounters > 0 && w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n      dataLabelsY -= barHeight * zeroEncounters;\n    }\n    let totalDataLabelsX;\n    let totalDataLabelsY;\n    let totalDataLabelsAnchor = \"start\";\n    let valIsNegative = w.globals.series[i][j] < 0;\n    let newX = x;\n    if (this.barCtx.isReversed) {\n      newX = x + (valIsNegative ? -barWidth : barWidth);\n      totalDataLabelsAnchor = valIsNegative ? \"start\" : \"end\";\n    }\n    switch (barDataLabelsConfig.position) {\n      case \"center\":\n        if (valIsNegative) {\n          dataLabelsX = newX + barWidth / 2 - offX;\n        } else {\n          dataLabelsX = Math.max(textRects.width / 2, newX - barWidth / 2) + offX;\n        }\n        break;\n      case \"bottom\":\n        if (valIsNegative) {\n          dataLabelsX = newX + barWidth - strokeWidth - offX;\n        } else {\n          dataLabelsX = newX - barWidth + strokeWidth + offX;\n        }\n        break;\n      case \"top\":\n        if (valIsNegative) {\n          dataLabelsX = newX - strokeWidth - offX;\n        } else {\n          dataLabelsX = newX - strokeWidth + offX;\n        }\n        break;\n    }\n    let lowestPrevX = newX;\n    w.globals.seriesGroups.forEach(sg => {\n      var _a;\n      (_a = this.barCtx[sg.join(\",\")]) == null ? void 0 : _a.prevX.forEach(arr => {\n        if (valIsNegative) {\n          lowestPrevX = Math.min(arr[j], lowestPrevX);\n        } else {\n          lowestPrevX = Math.max(arr[j], lowestPrevX);\n        }\n      });\n    });\n    if (this.barCtx.lastActiveBarSerieIndex === realIndex && barTotalDataLabelsConfig.enabled) {\n      const graphics = new Graphics(this.barCtx.ctx);\n      const totalLabeltextRects = graphics.getTextRects(this.getStackedTotalDataLabel({\n        realIndex,\n        j\n      }), dataLabelsConfig.fontSize);\n      if (valIsNegative) {\n        totalDataLabelsX = lowestPrevX - strokeWidth - offX - barTotalDataLabelsConfig.offsetX;\n        totalDataLabelsAnchor = \"end\";\n      } else {\n        totalDataLabelsX = lowestPrevX + offX + barTotalDataLabelsConfig.offsetX + (this.barCtx.isReversed ? -(barWidth + strokeWidth) : strokeWidth);\n      }\n      totalDataLabelsY = dataLabelsY - textRects.height / 2 + totalLabeltextRects.height / 2 + barTotalDataLabelsConfig.offsetY + strokeWidth;\n      if (w.globals.barGroups.length > 1) {\n        totalDataLabelsY = totalDataLabelsY - w.globals.barGroups.length / 2 * (barHeight / 2);\n      }\n    }\n    if (!w.config.chart.stacked) {\n      if (dataLabelsConfig.textAnchor === \"start\") {\n        if (dataLabelsX - textRects.width < 0) {\n          dataLabelsX = valIsNegative ? textRects.width + strokeWidth : strokeWidth;\n        } else if (dataLabelsX + textRects.width > w.globals.gridWidth) {\n          dataLabelsX = valIsNegative ? w.globals.gridWidth - strokeWidth : w.globals.gridWidth - textRects.width - strokeWidth;\n        }\n      } else if (dataLabelsConfig.textAnchor === \"middle\") {\n        if (dataLabelsX - textRects.width / 2 < 0) {\n          dataLabelsX = textRects.width / 2 + strokeWidth;\n        } else if (dataLabelsX + textRects.width / 2 > w.globals.gridWidth) {\n          dataLabelsX = w.globals.gridWidth - textRects.width / 2 - strokeWidth;\n        }\n      } else if (dataLabelsConfig.textAnchor === \"end\") {\n        if (dataLabelsX < 1) {\n          dataLabelsX = textRects.width + strokeWidth;\n        } else if (dataLabelsX + 1 > w.globals.gridWidth) {\n          dataLabelsX = w.globals.gridWidth - textRects.width - strokeWidth;\n        }\n      }\n    }\n    return {\n      bcx: x,\n      bcy,\n      dataLabelsX,\n      dataLabelsY,\n      totalDataLabelsX,\n      totalDataLabelsY,\n      totalDataLabelsAnchor\n    };\n  }\n  drawCalculatedDataLabels({\n    x,\n    y,\n    val,\n    i,\n    // = realIndex\n    j,\n    textRects,\n    barHeight,\n    barWidth,\n    dataLabelsConfig\n  }) {\n    const w = this.w;\n    let rotate = \"rotate(0)\";\n    if (w.config.plotOptions.bar.dataLabels.orientation === \"vertical\") rotate = `rotate(-90, ${x}, ${y})`;\n    const dataLabels = new DataLabels(this.barCtx.ctx);\n    const graphics = new Graphics(this.barCtx.ctx);\n    const formatter = dataLabelsConfig.formatter;\n    let elDataLabelsWrap = null;\n    const isSeriesNotCollapsed = w.globals.collapsedSeriesIndices.indexOf(i) > -1;\n    if (dataLabelsConfig.enabled && !isSeriesNotCollapsed) {\n      elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-data-labels\",\n        transform: rotate\n      });\n      let text = \"\";\n      if (typeof val !== \"undefined\") {\n        text = formatter(val, __spreadProps(__spreadValues({}, w), {\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        }));\n      }\n      if (!val && w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        text = \"\";\n      }\n      let valIsNegative = w.globals.series[i][j] < 0;\n      let position = w.config.plotOptions.bar.dataLabels.position;\n      if (w.config.plotOptions.bar.dataLabels.orientation === \"vertical\") {\n        if (position === \"top\") {\n          if (valIsNegative) dataLabelsConfig.textAnchor = \"end\";else dataLabelsConfig.textAnchor = \"start\";\n        }\n        if (position === \"center\") {\n          dataLabelsConfig.textAnchor = \"middle\";\n        }\n        if (position === \"bottom\") {\n          if (valIsNegative) dataLabelsConfig.textAnchor = \"end\";else dataLabelsConfig.textAnchor = \"start\";\n        }\n      }\n      if (this.barCtx.isRangeBar && this.barCtx.barOptions.dataLabels.hideOverflowingLabels) {\n        const txRect = graphics.getTextRects(text, parseFloat(dataLabelsConfig.style.fontSize));\n        if (barWidth < txRect.width) {\n          text = \"\";\n        }\n      }\n      if (w.config.chart.stacked && this.barCtx.barOptions.dataLabels.hideOverflowingLabels) {\n        if (this.barCtx.isHorizontal) {\n          if (textRects.width / 1.6 > Math.abs(barWidth)) {\n            text = \"\";\n          }\n        } else {\n          if (textRects.height / 1.6 > Math.abs(barHeight)) {\n            text = \"\";\n          }\n        }\n      }\n      let modifiedDataLabelsConfig = __spreadValues({}, dataLabelsConfig);\n      if (this.barCtx.isHorizontal) {\n        if (val < 0) {\n          if (dataLabelsConfig.textAnchor === \"start\") {\n            modifiedDataLabelsConfig.textAnchor = \"end\";\n          } else if (dataLabelsConfig.textAnchor === \"end\") {\n            modifiedDataLabelsConfig.textAnchor = \"start\";\n          }\n        }\n      }\n      dataLabels.plotDataLabelsText({\n        x,\n        y,\n        text,\n        i,\n        j,\n        parent: elDataLabelsWrap,\n        dataLabelsConfig: modifiedDataLabelsConfig,\n        alwaysDrawDataLabel: true,\n        offsetCorrection: true\n      });\n    }\n    return elDataLabelsWrap;\n  }\n  drawTotalDataLabels({\n    x,\n    y,\n    val,\n    realIndex,\n    textAnchor,\n    barTotalDataLabelsConfig\n  }) {\n    const graphics = new Graphics(this.barCtx.ctx);\n    let totalDataLabelText;\n    if (barTotalDataLabelsConfig.enabled && typeof x !== \"undefined\" && typeof y !== \"undefined\" && this.barCtx.lastActiveBarSerieIndex === realIndex) {\n      totalDataLabelText = graphics.drawText({\n        x,\n        y,\n        foreColor: barTotalDataLabelsConfig.style.color,\n        text: val,\n        textAnchor,\n        fontFamily: barTotalDataLabelsConfig.style.fontFamily,\n        fontSize: barTotalDataLabelsConfig.style.fontSize,\n        fontWeight: barTotalDataLabelsConfig.style.fontWeight\n      });\n    }\n    return totalDataLabelText;\n  }\n}\nlet Helpers$1 = class Helpers4 {\n  constructor(barCtx) {\n    this.w = barCtx.w;\n    this.barCtx = barCtx;\n  }\n  initVariables(series) {\n    const w = this.w;\n    this.barCtx.series = series;\n    this.barCtx.totalItems = 0;\n    this.barCtx.seriesLen = 0;\n    this.barCtx.visibleI = -1;\n    this.barCtx.visibleItems = 1;\n    for (let sl = 0; sl < series.length; sl++) {\n      if (series[sl].length > 0) {\n        this.barCtx.seriesLen = this.barCtx.seriesLen + 1;\n        this.barCtx.totalItems += series[sl].length;\n      }\n      if (w.globals.isXNumeric) {\n        for (let j = 0; j < series[sl].length; j++) {\n          if (w.globals.seriesX[sl][j] > w.globals.minX && w.globals.seriesX[sl][j] < w.globals.maxX) {\n            this.barCtx.visibleItems++;\n          }\n        }\n      } else {\n        this.barCtx.visibleItems = w.globals.dataPoints;\n      }\n    }\n    this.arrBorderRadius = this.createBorderRadiusArr(w.globals.series);\n    if (Utils$1.isSafari()) {\n      this.arrBorderRadius = this.arrBorderRadius.map(brArr => brArr.map(_ => \"none\"));\n    }\n    if (this.barCtx.seriesLen === 0) {\n      this.barCtx.seriesLen = 1;\n    }\n    this.barCtx.zeroSerieses = [];\n    if (!w.globals.comboCharts) {\n      this.checkZeroSeries({\n        series\n      });\n    }\n  }\n  initialPositions(realIndex) {\n    let w = this.w;\n    let x, y, yDivision, xDivision, barHeight, barWidth, zeroH, zeroW;\n    let dataPoints = w.globals.dataPoints;\n    if (this.barCtx.isRangeBar) {\n      dataPoints = w.globals.labels.length;\n    }\n    let seriesLen = this.barCtx.seriesLen;\n    if (w.config.plotOptions.bar.rangeBarGroupRows) {\n      seriesLen = 1;\n    }\n    if (this.barCtx.isHorizontal) {\n      yDivision = w.globals.gridHeight / dataPoints;\n      barHeight = yDivision / seriesLen;\n      if (w.globals.isXNumeric) {\n        yDivision = w.globals.gridHeight / this.barCtx.totalItems;\n        barHeight = yDivision / this.barCtx.seriesLen;\n      }\n      barHeight = barHeight * parseInt(this.barCtx.barOptions.barHeight, 10) / 100;\n      if (String(this.barCtx.barOptions.barHeight).indexOf(\"%\") === -1) {\n        barHeight = parseInt(this.barCtx.barOptions.barHeight, 10);\n      }\n      zeroW = this.barCtx.baseLineInvertedY + w.globals.padHorizontal + (this.barCtx.isReversed ? w.globals.gridWidth : 0) - (this.barCtx.isReversed ? this.barCtx.baseLineInvertedY * 2 : 0);\n      if (this.barCtx.isFunnel) {\n        zeroW = w.globals.gridWidth / 2;\n      }\n      y = (yDivision - barHeight * this.barCtx.seriesLen) / 2;\n    } else {\n      xDivision = w.globals.gridWidth / this.barCtx.visibleItems;\n      if (w.config.xaxis.convertedCatToNumeric) {\n        xDivision = w.globals.gridWidth / w.globals.dataPoints;\n      }\n      barWidth = xDivision / seriesLen * parseInt(this.barCtx.barOptions.columnWidth, 10) / 100;\n      if (w.globals.isXNumeric) {\n        let xRatio = this.barCtx.xRatio;\n        if (w.globals.minXDiff && w.globals.minXDiff !== 0.5 && w.globals.minXDiff / xRatio > 0) {\n          xDivision = w.globals.minXDiff / xRatio;\n        }\n        barWidth = xDivision / seriesLen * parseInt(this.barCtx.barOptions.columnWidth, 10) / 100;\n        if (barWidth < 1) {\n          barWidth = 1;\n        }\n      }\n      if (String(this.barCtx.barOptions.columnWidth).indexOf(\"%\") === -1) {\n        barWidth = parseInt(this.barCtx.barOptions.columnWidth, 10);\n      }\n      zeroH = w.globals.gridHeight - this.barCtx.baseLineY[this.barCtx.translationsIndex] - (this.barCtx.isReversed ? w.globals.gridHeight : 0) + (this.barCtx.isReversed ? this.barCtx.baseLineY[this.barCtx.translationsIndex] * 2 : 0);\n      if (w.globals.isXNumeric) {\n        const xForNumericX = this.barCtx.getBarXForNumericXAxis({\n          x,\n          j: 0,\n          realIndex,\n          barWidth\n        });\n        x = xForNumericX.x;\n      } else {\n        x = w.globals.padHorizontal + Utils$1.noExponents(xDivision - barWidth * this.barCtx.seriesLen) / 2;\n      }\n    }\n    w.globals.barHeight = barHeight;\n    w.globals.barWidth = barWidth;\n    return {\n      x,\n      y,\n      yDivision,\n      xDivision,\n      barHeight,\n      barWidth,\n      zeroH,\n      zeroW\n    };\n  }\n  initializeStackedPrevVars(ctx) {\n    const w = ctx.w;\n    w.globals.seriesGroups.forEach(group => {\n      if (!ctx[group]) ctx[group] = {};\n      ctx[group].prevY = [];\n      ctx[group].prevX = [];\n      ctx[group].prevYF = [];\n      ctx[group].prevXF = [];\n      ctx[group].prevYVal = [];\n      ctx[group].prevXVal = [];\n    });\n  }\n  initializeStackedXYVars(ctx) {\n    const w = ctx.w;\n    w.globals.seriesGroups.forEach(group => {\n      if (!ctx[group]) ctx[group] = {};\n      ctx[group].xArrj = [];\n      ctx[group].xArrjF = [];\n      ctx[group].xArrjVal = [];\n      ctx[group].yArrj = [];\n      ctx[group].yArrjF = [];\n      ctx[group].yArrjVal = [];\n    });\n  }\n  getPathFillColor(series, i, j, realIndex) {\n    var _a, _b, _c, _d;\n    const w = this.w;\n    let fill = this.barCtx.ctx.fill;\n    let fillColor = null;\n    let seriesNumber = this.barCtx.barOptions.distributed ? j : i;\n    let useRangeColor = false;\n    if (this.barCtx.barOptions.colors.ranges.length > 0) {\n      const colorRange = this.barCtx.barOptions.colors.ranges;\n      colorRange.map(range => {\n        if (series[i][j] >= range.from && series[i][j] <= range.to) {\n          fillColor = range.color;\n          useRangeColor = true;\n        }\n      });\n    }\n    let pathFill = fill.fillPath({\n      seriesNumber: this.barCtx.barOptions.distributed ? seriesNumber : realIndex,\n      dataPointIndex: j,\n      color: fillColor,\n      value: series[i][j],\n      fillConfig: (_a = w.config.series[i].data[j]) == null ? void 0 : _a.fill,\n      fillType: ((_c = (_b = w.config.series[i].data[j]) == null ? void 0 : _b.fill) == null ? void 0 : _c.type) ? (_d = w.config.series[i].data[j]) == null ? void 0 : _d.fill.type : Array.isArray(w.config.fill.type) ? w.config.fill.type[realIndex] : w.config.fill.type\n    });\n    return {\n      color: pathFill,\n      useRangeColor\n    };\n  }\n  getStrokeWidth(i, j, realIndex) {\n    let strokeWidth = 0;\n    const w = this.w;\n    if (typeof this.barCtx.series[i][j] === \"undefined\" || this.barCtx.series[i][j] === null || w.config.chart.type === \"bar\" && !this.barCtx.series[i][j]) {\n      this.barCtx.isNullValue = true;\n    } else {\n      this.barCtx.isNullValue = false;\n    }\n    if (w.config.stroke.show) {\n      if (!this.barCtx.isNullValue) {\n        strokeWidth = Array.isArray(this.barCtx.strokeWidth) ? this.barCtx.strokeWidth[realIndex] : this.barCtx.strokeWidth;\n      }\n    }\n    return strokeWidth;\n  }\n  createBorderRadiusArr(series) {\n    var _a;\n    const w = this.w;\n    const alwaysApplyRadius = !this.w.config.chart.stacked || w.config.plotOptions.bar.borderRadius <= 0;\n    const numSeries = series.length;\n    const numColumns = ((_a = series[0]) == null ? void 0 : _a.length) | 0;\n    const output = Array.from({\n      length: numSeries\n    }, () => Array(numColumns).fill(alwaysApplyRadius ? \"top\" : \"none\"));\n    if (alwaysApplyRadius) return output;\n    const chartType = this.w.config.chart.type;\n    for (let j = 0; j < numColumns; j++) {\n      let positiveIndices = [];\n      let negativeIndices = [];\n      let nonZeroCount = 0;\n      for (let i = 0; i < numSeries; i++) {\n        const value = series[i][j];\n        if (value > 0) {\n          positiveIndices.push(i);\n          nonZeroCount++;\n        } else if (value < 0) {\n          negativeIndices.push(i);\n          nonZeroCount++;\n        }\n      }\n      if (positiveIndices.length > 0 && negativeIndices.length === 0) {\n        if (positiveIndices.length === 1) {\n          output[positiveIndices[0]][j] = chartType === \"bar\" && numColumns === 1 ? \"top\" : \"both\";\n        } else {\n          const firstPositiveIndex = positiveIndices[0];\n          const lastPositiveIndex = positiveIndices[positiveIndices.length - 1];\n          for (let i of positiveIndices) {\n            if (i === firstPositiveIndex) {\n              output[i][j] = chartType === \"bar\" && numColumns === 1 ? \"top\" : \"bottom\";\n            } else if (i === lastPositiveIndex) {\n              output[i][j] = \"top\";\n            } else {\n              output[i][j] = \"none\";\n            }\n          }\n        }\n      } else if (negativeIndices.length > 0 && positiveIndices.length === 0) {\n        if (negativeIndices.length === 1) {\n          output[negativeIndices[0]][j] = \"both\";\n        } else {\n          const highestNegativeIndex = Math.max(...negativeIndices);\n          const lowestNegativeIndex = Math.min(...negativeIndices);\n          for (let i of negativeIndices) {\n            if (i === highestNegativeIndex) {\n              output[i][j] = \"bottom\";\n            } else if (i === lowestNegativeIndex) {\n              output[i][j] = \"top\";\n            } else {\n              output[i][j] = \"none\";\n            }\n          }\n        }\n      } else if (positiveIndices.length > 0 && negativeIndices.length > 0) {\n        const lastPositiveIndex = positiveIndices[positiveIndices.length - 1];\n        for (let i of positiveIndices) {\n          if (i === lastPositiveIndex) {\n            output[i][j] = \"top\";\n          } else {\n            output[i][j] = \"none\";\n          }\n        }\n        const highestNegativeIndex = Math.max(...negativeIndices);\n        for (let i of negativeIndices) {\n          if (i === highestNegativeIndex) {\n            output[i][j] = \"bottom\";\n          } else {\n            output[i][j] = \"none\";\n          }\n        }\n      } else if (nonZeroCount === 1) {\n        const index = positiveIndices[0] || negativeIndices[0];\n        output[index][j] = \"both\";\n      }\n    }\n    return output;\n  }\n  barBackground({\n    j,\n    i,\n    x1,\n    x2,\n    y1,\n    y2,\n    elSeries\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.barCtx.ctx);\n    const sr = new Series(this.barCtx.ctx);\n    let activeSeriesIndex = sr.getActiveConfigSeriesIndex();\n    if (this.barCtx.barOptions.colors.backgroundBarColors.length > 0 && activeSeriesIndex === i) {\n      if (j >= this.barCtx.barOptions.colors.backgroundBarColors.length) {\n        j %= this.barCtx.barOptions.colors.backgroundBarColors.length;\n      }\n      let bcolor = this.barCtx.barOptions.colors.backgroundBarColors[j];\n      let rect = graphics.drawRect(typeof x1 !== \"undefined\" ? x1 : 0, typeof y1 !== \"undefined\" ? y1 : 0, typeof x2 !== \"undefined\" ? x2 : w.globals.gridWidth, typeof y2 !== \"undefined\" ? y2 : w.globals.gridHeight, this.barCtx.barOptions.colors.backgroundBarRadius, bcolor, this.barCtx.barOptions.colors.backgroundBarOpacity);\n      elSeries.add(rect);\n      rect.node.classList.add(\"apexcharts-backgroundBar\");\n    }\n  }\n  getColumnPaths({\n    barWidth,\n    barXPosition,\n    y1,\n    y2,\n    strokeWidth,\n    isReversed,\n    series,\n    seriesGroup,\n    realIndex,\n    i,\n    j,\n    w\n  }) {\n    var _a;\n    const graphics = new Graphics(this.barCtx.ctx);\n    strokeWidth = Array.isArray(strokeWidth) ? strokeWidth[realIndex] : strokeWidth;\n    if (!strokeWidth) strokeWidth = 0;\n    let bW = barWidth;\n    let bXP = barXPosition;\n    if ((_a = w.config.series[realIndex].data[j]) == null ? void 0 : _a.columnWidthOffset) {\n      bXP = barXPosition - w.config.series[realIndex].data[j].columnWidthOffset / 2;\n      bW = barWidth + w.config.series[realIndex].data[j].columnWidthOffset;\n    }\n    let strokeCenter = strokeWidth / 2;\n    const x1 = bXP + strokeCenter;\n    const x2 = bXP + bW - strokeCenter;\n    let direction = (series[i][j] >= 0 ? 1 : -1) * (isReversed ? -1 : 1);\n    y1 += 1e-3 - strokeCenter * direction;\n    y2 += 1e-3 + strokeCenter * direction;\n    let pathTo = graphics.move(x1, y1);\n    let pathFrom = graphics.move(x1, y1);\n    const sl = graphics.line(x2, y1);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.barCtx.getPreviousPath(realIndex, j, false);\n    }\n    pathTo = pathTo + graphics.line(x1, y2) + graphics.line(x2, y2) + sl + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    pathFrom = pathFrom + graphics.line(x1, y1) + sl + sl + sl + sl + sl + graphics.line(x1, y1) + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    if (this.arrBorderRadius[realIndex][j] !== \"none\") {\n      pathTo = graphics.roundPathCorners(pathTo, w.config.plotOptions.bar.borderRadius);\n    }\n    if (w.config.chart.stacked) {\n      let _ctx = this.barCtx;\n      _ctx = this.barCtx[seriesGroup];\n      _ctx.yArrj.push(y2 - strokeCenter * direction);\n      _ctx.yArrjF.push(Math.abs(y1 - y2 + strokeWidth * direction));\n      _ctx.yArrjVal.push(this.barCtx.series[i][j]);\n    }\n    return {\n      pathTo,\n      pathFrom\n    };\n  }\n  getBarpaths({\n    barYPosition,\n    barHeight,\n    x1,\n    x2,\n    strokeWidth,\n    isReversed,\n    series,\n    seriesGroup,\n    realIndex,\n    i,\n    j,\n    w\n  }) {\n    var _a;\n    const graphics = new Graphics(this.barCtx.ctx);\n    strokeWidth = Array.isArray(strokeWidth) ? strokeWidth[realIndex] : strokeWidth;\n    if (!strokeWidth) strokeWidth = 0;\n    let bYP = barYPosition;\n    let bH = barHeight;\n    if ((_a = w.config.series[realIndex].data[j]) == null ? void 0 : _a.barHeightOffset) {\n      bYP = barYPosition - w.config.series[realIndex].data[j].barHeightOffset / 2;\n      bH = barHeight + w.config.series[realIndex].data[j].barHeightOffset;\n    }\n    let strokeCenter = strokeWidth / 2;\n    const y1 = bYP + strokeCenter;\n    const y2 = bYP + bH - strokeCenter;\n    let direction = (series[i][j] >= 0 ? 1 : -1) * (isReversed ? -1 : 1);\n    x1 += 1e-3 + strokeCenter * direction;\n    x2 += 1e-3 - strokeCenter * direction;\n    let pathTo = graphics.move(x1, y1);\n    let pathFrom = graphics.move(x1, y1);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.barCtx.getPreviousPath(realIndex, j, false);\n    }\n    const sl = graphics.line(x1, y2);\n    pathTo = pathTo + graphics.line(x2, y1) + graphics.line(x2, y2) + sl + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    pathFrom = pathFrom + graphics.line(x1, y1) + sl + sl + sl + sl + sl + graphics.line(x1, y1) + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    if (this.arrBorderRadius[realIndex][j] !== \"none\") {\n      pathTo = graphics.roundPathCorners(pathTo, w.config.plotOptions.bar.borderRadius);\n    }\n    if (w.config.chart.stacked) {\n      let _ctx = this.barCtx;\n      _ctx = this.barCtx[seriesGroup];\n      _ctx.xArrj.push(x2 + strokeCenter * direction);\n      _ctx.xArrjF.push(Math.abs(x1 - x2 - strokeWidth * direction));\n      _ctx.xArrjVal.push(this.barCtx.series[i][j]);\n    }\n    return {\n      pathTo,\n      pathFrom\n    };\n  }\n  checkZeroSeries({\n    series\n  }) {\n    let w = this.w;\n    for (let zs = 0; zs < series.length; zs++) {\n      let total = 0;\n      for (let zsj = 0; zsj < series[w.globals.maxValsInArrayIndex].length; zsj++) {\n        total += series[zs][zsj];\n      }\n      if (total === 0) {\n        this.barCtx.zeroSerieses.push(zs);\n      }\n    }\n  }\n  getXForValue(value, zeroW, zeroPositionForNull = true) {\n    let xForVal = zeroPositionForNull ? zeroW : null;\n    if (typeof value !== \"undefined\" && value !== null) {\n      xForVal = zeroW + value / this.barCtx.invertedYRatio - (this.barCtx.isReversed ? value / this.barCtx.invertedYRatio : 0) * 2;\n    }\n    return xForVal;\n  }\n  getYForValue(value, zeroH, translationsIndex, zeroPositionForNull = true) {\n    let yForVal = zeroPositionForNull ? zeroH : null;\n    if (typeof value !== \"undefined\" && value !== null) {\n      yForVal = zeroH - value / this.barCtx.yRatio[translationsIndex] + (this.barCtx.isReversed ? value / this.barCtx.yRatio[translationsIndex] : 0) * 2;\n    }\n    return yForVal;\n  }\n  getGoalValues(type, zeroW, zeroH, i, j, translationsIndex) {\n    const w = this.w;\n    let goals = [];\n    const pushGoal = (value, attrs) => {\n      goals.push({\n        [type]: type === \"x\" ? this.getXForValue(value, zeroW, false) : this.getYForValue(value, zeroH, translationsIndex, false),\n        attrs\n      });\n    };\n    if (w.globals.seriesGoals[i] && w.globals.seriesGoals[i][j] && Array.isArray(w.globals.seriesGoals[i][j])) {\n      w.globals.seriesGoals[i][j].forEach(goal => {\n        pushGoal(goal.value, goal);\n      });\n    }\n    if (this.barCtx.barOptions.isDumbbell && w.globals.seriesRange.length) {\n      let colors = this.barCtx.barOptions.dumbbellColors ? this.barCtx.barOptions.dumbbellColors : w.globals.colors;\n      const commonAttrs = {\n        strokeHeight: type === \"x\" ? 0 : w.globals.markers.size[i],\n        strokeWidth: type === \"x\" ? w.globals.markers.size[i] : 0,\n        strokeDashArray: 0,\n        strokeLineCap: \"round\",\n        strokeColor: Array.isArray(colors[i]) ? colors[i][0] : colors[i]\n      };\n      pushGoal(w.globals.seriesRangeStart[i][j], commonAttrs);\n      pushGoal(w.globals.seriesRangeEnd[i][j], __spreadProps(__spreadValues({}, commonAttrs), {\n        strokeColor: Array.isArray(colors[i]) ? colors[i][1] : colors[i]\n      }));\n    }\n    return goals;\n  }\n  drawGoalLine({\n    barXPosition,\n    barYPosition,\n    goalX,\n    goalY,\n    barWidth,\n    barHeight\n  }) {\n    let graphics = new Graphics(this.barCtx.ctx);\n    const lineGroup = graphics.group({\n      className: \"apexcharts-bar-goals-groups\"\n    });\n    lineGroup.node.classList.add(\"apexcharts-element-hidden\");\n    this.barCtx.w.globals.delayedElements.push({\n      el: lineGroup.node\n    });\n    lineGroup.attr(\"clip-path\", `url(#gridRectMarkerMask${this.barCtx.w.globals.cuid})`);\n    let line = null;\n    if (this.barCtx.isHorizontal) {\n      if (Array.isArray(goalX)) {\n        goalX.forEach(goal => {\n          if (goal.x >= -1 && goal.x <= graphics.w.globals.gridWidth + 1) {\n            let sHeight = typeof goal.attrs.strokeHeight !== \"undefined\" ? goal.attrs.strokeHeight : barHeight / 2;\n            let y = barYPosition + sHeight + barHeight / 2;\n            line = graphics.drawLine(goal.x, y - sHeight * 2, goal.x, y, goal.attrs.strokeColor ? goal.attrs.strokeColor : void 0, goal.attrs.strokeDashArray, goal.attrs.strokeWidth ? goal.attrs.strokeWidth : 2, goal.attrs.strokeLineCap);\n            lineGroup.add(line);\n          }\n        });\n      }\n    } else {\n      if (Array.isArray(goalY)) {\n        goalY.forEach(goal => {\n          if (goal.y >= -1 && goal.y <= graphics.w.globals.gridHeight + 1) {\n            let sWidth = typeof goal.attrs.strokeWidth !== \"undefined\" ? goal.attrs.strokeWidth : barWidth / 2;\n            let x = barXPosition + sWidth + barWidth / 2;\n            line = graphics.drawLine(x - sWidth * 2, goal.y, x, goal.y, goal.attrs.strokeColor ? goal.attrs.strokeColor : void 0, goal.attrs.strokeDashArray, goal.attrs.strokeHeight ? goal.attrs.strokeHeight : 2, goal.attrs.strokeLineCap);\n            lineGroup.add(line);\n          }\n        });\n      }\n    }\n    return lineGroup;\n  }\n  drawBarShadow({\n    prevPaths,\n    currPaths,\n    color,\n    realIndex,\n    j\n  }) {\n    const w = this.w;\n    const {\n      x: prevX2,\n      x1: prevX1,\n      barYPosition: prevY1\n    } = prevPaths;\n    const {\n      x: currX2,\n      x1: currX1,\n      barYPosition: currY1\n    } = currPaths;\n    const prevY2 = prevY1 + currPaths.barHeight;\n    const graphics = new Graphics(this.barCtx.ctx);\n    const utils = new Utils$1();\n    const shadowPath = graphics.move(prevX1, prevY2) + graphics.line(prevX2, prevY2) + graphics.line(currX2, currY1) + graphics.line(currX1, currY1) + graphics.line(prevX1, prevY2) + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    return graphics.drawPath({\n      d: shadowPath,\n      fill: utils.shadeColor(0.5, Utils$1.rgb2hex(color)),\n      stroke: \"none\",\n      strokeWidth: 0,\n      fillOpacity: 1,\n      classes: \"apexcharts-bar-shadow apexcharts-decoration-element\"\n    });\n  }\n  getZeroValueEncounters({\n    i,\n    j\n  }) {\n    var _a;\n    const w = this.w;\n    let nonZeroColumns = 0;\n    let zeroEncounters = 0;\n    let seriesIndices = w.config.plotOptions.bar.horizontal ? w.globals.series.map((_, _i) => _i) : ((_a = w.globals.columnSeries) == null ? void 0 : _a.i.map(_i => _i)) || [];\n    seriesIndices.forEach(_si => {\n      let val = w.globals.seriesPercent[_si][j];\n      if (val) {\n        nonZeroColumns++;\n      }\n      if (_si < i && val === 0) {\n        zeroEncounters++;\n      }\n    });\n    return {\n      nonZeroColumns,\n      zeroEncounters\n    };\n  }\n  getGroupIndex(seriesIndex) {\n    const w = this.w;\n    let groupIndex = w.globals.seriesGroups.findIndex(group =>\n    // w.config.series[i].name may be undefined, so use\n    // w.globals.seriesNames[i], which has default names for those\n    // series. w.globals.seriesGroups[] uses the same default naming.\n    group.indexOf(w.globals.seriesNames[seriesIndex]) > -1);\n    let cGI = this.barCtx.columnGroupIndices;\n    let columnGroupIndex = cGI.indexOf(groupIndex);\n    if (columnGroupIndex < 0) {\n      cGI.push(groupIndex);\n      columnGroupIndex = cGI.length - 1;\n    }\n    return {\n      groupIndex,\n      columnGroupIndex\n    };\n  }\n};\nclass Bar {\n  constructor(ctx, xyRatios) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.barOptions = w.config.plotOptions.bar;\n    this.isHorizontal = this.barOptions.horizontal;\n    this.strokeWidth = w.config.stroke.width;\n    this.isNullValue = false;\n    this.isRangeBar = w.globals.seriesRange.length && this.isHorizontal;\n    this.isVerticalGroupedRangeBar = !w.globals.isBarHorizontal && w.globals.seriesRange.length && w.config.plotOptions.bar.rangeBarGroupRows;\n    this.isFunnel = this.barOptions.isFunnel;\n    this.xyRatios = xyRatios;\n    if (this.xyRatios !== null) {\n      this.xRatio = xyRatios.xRatio;\n      this.yRatio = xyRatios.yRatio;\n      this.invertedXRatio = xyRatios.invertedXRatio;\n      this.invertedYRatio = xyRatios.invertedYRatio;\n      this.baseLineY = xyRatios.baseLineY;\n      this.baseLineInvertedY = xyRatios.baseLineInvertedY;\n    }\n    this.yaxisIndex = 0;\n    this.translationsIndex = 0;\n    this.seriesLen = 0;\n    this.pathArr = [];\n    const ser = new Series(this.ctx);\n    this.lastActiveBarSerieIndex = ser.getActiveConfigSeriesIndex(\"desc\", [\"bar\", \"column\"]);\n    this.columnGroupIndices = [];\n    const barSeriesIndices = ser.getBarSeriesIndices();\n    const coreUtils = new CoreUtils(this.ctx);\n    this.stackedSeriesTotals = coreUtils.getStackedSeriesTotals(this.w.config.series.map((s, i) => {\n      return barSeriesIndices.indexOf(i) === -1 ? i : -1;\n    }).filter(s => {\n      return s !== -1;\n    }));\n    this.barHelpers = new Helpers$1(this);\n  }\n  /** primary draw method which is called on bar object\n   * @memberof Bar\n   * @param {array} series - user supplied series values\n   * @param {int} seriesIndex - the index by which series will be drawn on the svg\n   * @return {node} element which is supplied to parent chart draw method for appending\n   **/\n  draw(series, seriesIndex) {\n    var _a;\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    const coreUtils = new CoreUtils(this.ctx);\n    series = coreUtils.getLogSeries(series);\n    this.series = series;\n    this.yRatio = coreUtils.getLogYRatios(this.yRatio);\n    this.barHelpers.initVariables(series);\n    let ret = graphics.group({\n      class: \"apexcharts-bar-series apexcharts-plot-series\"\n    });\n    if (w.config.dataLabels.enabled) {\n      if (this.totalItems > this.barOptions.dataLabels.maxItems) {\n        console.warn(\"WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts\");\n      }\n    }\n    for (let i = 0, bc = 0; i < series.length; i++, bc++) {\n      let x, y, xDivision, yDivision, zeroH, zeroW;\n      let yArrj = [];\n      let xArrj = [];\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let {\n        columnGroupIndex\n      } = this.barHelpers.getGroupIndex(realIndex);\n      let elSeries = graphics.group({\n        class: `apexcharts-series`,\n        rel: i + 1,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      if (series[i].length > 0) {\n        this.visibleI = this.visibleI + 1;\n      }\n      let barHeight = 0;\n      let barWidth = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex];\n        this.translationsIndex = realIndex;\n      }\n      let translationsIndex = this.translationsIndex;\n      this.isReversed = w.config.yaxis[this.yaxisIndex] && w.config.yaxis[this.yaxisIndex].reversed;\n      let initPositions = this.barHelpers.initialPositions(realIndex);\n      y = initPositions.y;\n      barHeight = initPositions.barHeight;\n      yDivision = initPositions.yDivision;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      xDivision = initPositions.xDivision;\n      zeroH = initPositions.zeroH;\n      if (!this.isHorizontal) {\n        xArrj.push(x + barWidth / 2);\n      }\n      let elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      w.globals.delayedElements.push({\n        el: elDataLabelsWrap.node\n      });\n      elDataLabelsWrap.node.classList.add(\"apexcharts-element-hidden\");\n      let elGoalsMarkers = graphics.group({\n        class: \"apexcharts-bar-goals-markers\"\n      });\n      let elBarShadows = graphics.group({\n        class: \"apexcharts-bar-shadows\"\n      });\n      w.globals.delayedElements.push({\n        el: elBarShadows.node\n      });\n      elBarShadows.node.classList.add(\"apexcharts-element-hidden\");\n      for (let j = 0; j < series[i].length; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        let paths = null;\n        const pathsParams = {\n          indexes: {\n            i,\n            j,\n            realIndex,\n            translationsIndex,\n            bc\n          },\n          x,\n          y,\n          strokeWidth,\n          elSeries\n        };\n        if (this.isHorizontal) {\n          paths = this.drawBarPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            barHeight,\n            zeroW,\n            yDivision\n          }));\n          barWidth = this.series[i][j] / this.invertedYRatio;\n        } else {\n          paths = this.drawColumnPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            xDivision,\n            barWidth,\n            zeroH\n          }));\n          barHeight = this.series[i][j] / this.yRatio[translationsIndex];\n        }\n        let pathFill = this.barHelpers.getPathFillColor(series, i, j, realIndex);\n        if (this.isFunnel && this.barOptions.isFunnel3d && this.pathArr.length && j > 0) {\n          const barShadow = this.barHelpers.drawBarShadow({\n            color: typeof pathFill.color === \"string\" && ((_a = pathFill.color) == null ? void 0 : _a.indexOf(\"url\")) === -1 ? pathFill.color : Utils$1.hexToRgba(w.globals.colors[i]),\n            prevPaths: this.pathArr[this.pathArr.length - 1],\n            currPaths: paths,\n            realIndex,\n            j\n          });\n          elBarShadows.add(barShadow);\n          if (w.config.chart.dropShadow.enabled) {\n            const filters = new Filters(this.ctx);\n            filters.dropShadow(barShadow, w.config.chart.dropShadow, realIndex);\n          }\n        }\n        this.pathArr.push(paths);\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition: paths.barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        y = paths.y;\n        x = paths.x;\n        if (j > 0) {\n          xArrj.push(x + barWidth / 2);\n        }\n        yArrj.push(y);\n        this.renderSeries(__spreadProps(__spreadValues({\n          realIndex,\n          pathFill: pathFill.color\n        }, pathFill.useRangeColor ? {\n          lineFill: pathFill.color\n        } : {}), {\n          j,\n          i,\n          columnGroupIndex,\n          pathFrom: paths.pathFrom,\n          pathTo: paths.pathTo,\n          strokeWidth,\n          elSeries,\n          x,\n          y,\n          series,\n          barHeight: Math.abs(paths.barHeight ? paths.barHeight : barHeight),\n          barWidth: Math.abs(paths.barWidth ? paths.barWidth : barWidth),\n          elDataLabelsWrap,\n          elGoalsMarkers,\n          elBarShadows,\n          visibleSeries: this.visibleI,\n          type: \"bar\"\n        }));\n      }\n      w.globals.seriesXvalues[realIndex] = xArrj;\n      w.globals.seriesYvalues[realIndex] = yArrj;\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  renderSeries({\n    realIndex,\n    pathFill,\n    lineFill,\n    j,\n    i,\n    columnGroupIndex,\n    pathFrom,\n    pathTo,\n    strokeWidth,\n    elSeries,\n    x,\n    // x pos\n    y,\n    // y pos\n    y1,\n    // absolute value\n    y2,\n    // absolute value\n    series,\n    barHeight,\n    barWidth,\n    barXPosition,\n    barYPosition,\n    elDataLabelsWrap,\n    elGoalsMarkers,\n    elBarShadows,\n    visibleSeries,\n    type,\n    classes\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let skipDrawing = false;\n    if (!elSeries._bindingsDelegated) {\n      elSeries._bindingsDelegated = true;\n      graphics.setupEventDelegation(elSeries, `.apexcharts-${type}-area`);\n    }\n    if (!lineFill) {\n      let fetchColor = function (i2) {\n        const exp = w.config.stroke.colors;\n        let c;\n        if (Array.isArray(exp) && exp.length > 0) {\n          c = exp[i2];\n          if (!c) c = \"\";\n          if (typeof c === \"function\") {\n            return c({\n              value: w.globals.series[i2][j],\n              dataPointIndex: j,\n              w\n            });\n          }\n        }\n        return c;\n      };\n      const checkAvailableColor = typeof w.globals.stroke.colors[realIndex] === \"function\" ? fetchColor(realIndex) : w.globals.stroke.colors[realIndex];\n      lineFill = this.barOptions.distributed ? w.globals.stroke.colors[j] : checkAvailableColor;\n    }\n    let barDataLabels = new BarDataLabels(this);\n    let dataLabelsObj = barDataLabels.handleBarDataLabels({\n      x,\n      y,\n      y1,\n      y2,\n      i,\n      j,\n      series,\n      realIndex,\n      columnGroupIndex,\n      barHeight,\n      barWidth,\n      barXPosition,\n      barYPosition,\n      visibleSeries\n    });\n    if (!w.globals.isBarHorizontal) {\n      if (dataLabelsObj.dataLabelsPos.dataLabelsX + Math.max(barWidth, w.globals.barPadForNumericAxis) < 0 || dataLabelsObj.dataLabelsPos.dataLabelsX - Math.max(barWidth, w.globals.barPadForNumericAxis) > w.globals.gridWidth) {\n        skipDrawing = true;\n      }\n    }\n    if (w.config.series[i].data[j] && w.config.series[i].data[j].strokeColor) {\n      lineFill = w.config.series[i].data[j].strokeColor;\n    }\n    if (this.isNullValue) {\n      pathFill = \"none\";\n    }\n    let delay = j / w.config.chart.animations.animateGradually.delay * (w.config.chart.animations.speed / w.globals.dataPoints) / 2.4;\n    if (!skipDrawing) {\n      let renderedPath = graphics.renderPaths({\n        i,\n        j,\n        realIndex,\n        pathFrom,\n        pathTo,\n        stroke: lineFill,\n        strokeWidth,\n        strokeLineCap: w.config.stroke.lineCap,\n        fill: pathFill,\n        animationDelay: delay,\n        initialSpeed: w.config.chart.animations.speed,\n        dataChangeSpeed: w.config.chart.animations.dynamicAnimation.speed,\n        className: `apexcharts-${type}-area ${classes}`,\n        chartType: type,\n        bindEventsOnPaths: false\n      });\n      renderedPath.attr(\"clip-path\", `url(#gridRectBarMask${w.globals.cuid})`);\n      const forecast = w.config.forecastDataPoints;\n      if (forecast.count > 0) {\n        if (j >= w.globals.dataPoints - forecast.count) {\n          renderedPath.node.setAttribute(\"stroke-dasharray\", forecast.dashArray);\n          renderedPath.node.setAttribute(\"stroke-width\", forecast.strokeWidth);\n          renderedPath.node.setAttribute(\"fill-opacity\", forecast.fillOpacity);\n        }\n      }\n      if (typeof y1 !== \"undefined\" && typeof y2 !== \"undefined\") {\n        renderedPath.attr(\"data-range-y1\", y1);\n        renderedPath.attr(\"data-range-y2\", y2);\n      }\n      const filters = new Filters(this.ctx);\n      filters.setSelectionFilter(renderedPath, realIndex, j);\n      elSeries.add(renderedPath);\n      renderedPath.attr({\n        cy: dataLabelsObj.dataLabelsPos.bcy,\n        cx: dataLabelsObj.dataLabelsPos.bcx,\n        j,\n        val: w.globals.series[i][j],\n        barHeight,\n        barWidth\n      });\n      if (dataLabelsObj.dataLabels !== null) {\n        elDataLabelsWrap.add(dataLabelsObj.dataLabels);\n      }\n      if (dataLabelsObj.totalDataLabels) {\n        elDataLabelsWrap.add(dataLabelsObj.totalDataLabels);\n      }\n      elSeries.add(elDataLabelsWrap);\n      if (elGoalsMarkers) {\n        elSeries.add(elGoalsMarkers);\n      }\n      if (elBarShadows) {\n        elSeries.add(elBarShadows);\n      }\n    }\n    return elSeries;\n  }\n  drawBarPaths({\n    indexes,\n    barHeight,\n    strokeWidth,\n    zeroW,\n    x,\n    y,\n    yDivision,\n    elSeries\n  }) {\n    let w = this.w;\n    let i = indexes.i;\n    let j = indexes.j;\n    let barYPosition;\n    if (w.globals.isXNumeric) {\n      y = (w.globals.seriesX[i][j] - w.globals.minX) / this.invertedXRatio - barHeight;\n      barYPosition = y + barHeight * this.visibleI;\n    } else {\n      if (w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        const {\n          nonZeroColumns,\n          zeroEncounters\n        } = this.barHelpers.getZeroValueEncounters({\n          i,\n          j\n        });\n        if (nonZeroColumns > 0) {\n          barHeight = this.seriesLen * barHeight / nonZeroColumns;\n        }\n        barYPosition = y + barHeight * this.visibleI;\n        barYPosition -= barHeight * zeroEncounters;\n      } else {\n        barYPosition = y + barHeight * this.visibleI;\n      }\n    }\n    if (this.isFunnel) {\n      zeroW = zeroW - (this.barHelpers.getXForValue(this.series[i][j], zeroW) - zeroW) / 2;\n    }\n    x = this.barHelpers.getXForValue(this.series[i][j], zeroW);\n    const paths = this.barHelpers.getBarpaths({\n      barYPosition,\n      barHeight,\n      x1: zeroW,\n      x2: x,\n      strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      realIndex: indexes.realIndex,\n      i,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      y = y + yDivision;\n    }\n    this.barHelpers.barBackground({\n      j,\n      i,\n      y1: barYPosition - barHeight * this.visibleI,\n      y2: barHeight * this.seriesLen,\n      elSeries\n    });\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      x1: zeroW,\n      x,\n      y,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, i, j),\n      barYPosition,\n      barHeight\n    };\n  }\n  drawColumnPaths({\n    indexes,\n    x,\n    y,\n    xDivision,\n    barWidth,\n    zeroH,\n    strokeWidth,\n    elSeries\n  }) {\n    let w = this.w;\n    let realIndex = indexes.realIndex;\n    let translationsIndex = indexes.translationsIndex;\n    let i = indexes.i;\n    let j = indexes.j;\n    let bc = indexes.bc;\n    let barXPosition;\n    if (w.globals.isXNumeric) {\n      const xForNumericX = this.getBarXForNumericXAxis({\n        x,\n        j,\n        realIndex,\n        barWidth\n      });\n      x = xForNumericX.x;\n      barXPosition = xForNumericX.barXPosition;\n    } else {\n      if (w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        const {\n          nonZeroColumns,\n          zeroEncounters\n        } = this.barHelpers.getZeroValueEncounters({\n          i,\n          j\n        });\n        if (nonZeroColumns > 0) {\n          barWidth = this.seriesLen * barWidth / nonZeroColumns;\n        }\n        barXPosition = x + barWidth * this.visibleI;\n        barXPosition -= barWidth * zeroEncounters;\n      } else {\n        barXPosition = x + barWidth * this.visibleI;\n      }\n    }\n    y = this.barHelpers.getYForValue(this.series[i][j], zeroH, translationsIndex);\n    const paths = this.barHelpers.getColumnPaths({\n      barXPosition,\n      barWidth,\n      y1: zeroH,\n      y2: y,\n      strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      realIndex,\n      i,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      x = x + xDivision;\n    }\n    this.barHelpers.barBackground({\n      bc,\n      j,\n      i,\n      x1: barXPosition - strokeWidth / 2 - barWidth * this.visibleI,\n      x2: barWidth * this.seriesLen + strokeWidth / 2,\n      elSeries\n    });\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      x,\n      y,\n      goalY: this.barHelpers.getGoalValues(\"y\", null, zeroH, i, j, translationsIndex),\n      barXPosition,\n      barWidth\n    };\n  }\n  getBarXForNumericXAxis({\n    x,\n    barWidth,\n    realIndex,\n    j\n  }) {\n    const w = this.w;\n    let sxI = realIndex;\n    if (!w.globals.seriesX[realIndex].length) {\n      sxI = w.globals.maxValsInArrayIndex;\n    }\n    if (Utils$1.isNumber(w.globals.seriesX[sxI][j])) {\n      x = (w.globals.seriesX[sxI][j] - w.globals.minX) / this.xRatio - barWidth * this.seriesLen / 2;\n    }\n    return {\n      barXPosition: x + barWidth * this.visibleI,\n      x\n    };\n  }\n  /** getPreviousPath is a common function for bars/columns which is used to get previous paths when data changes.\n   * @memberof Bar\n   * @param {int} realIndex - current iterating i\n   * @param {int} j - current iterating series's j index\n   * @return {string} pathFrom is the string which will be appended in animations\n   **/\n  getPreviousPath(realIndex, j) {\n    let w = this.w;\n    let pathFrom = \"M 0 0\";\n    for (let pp = 0; pp < w.globals.previousPaths.length; pp++) {\n      let gpp = w.globals.previousPaths[pp];\n      if (gpp.paths && gpp.paths.length > 0 && parseInt(gpp.realIndex, 10) === parseInt(realIndex, 10)) {\n        if (typeof w.globals.previousPaths[pp].paths[j] !== \"undefined\") {\n          pathFrom = w.globals.previousPaths[pp].paths[j].d;\n        }\n      }\n    }\n    return pathFrom;\n  }\n}\nclass BarStacked extends Bar {\n  draw(series, seriesIndex) {\n    let w = this.w;\n    this.graphics = new Graphics(this.ctx);\n    this.bar = new Bar(this.ctx, this.xyRatios);\n    const coreUtils = new CoreUtils(this.ctx);\n    series = coreUtils.getLogSeries(series);\n    this.yRatio = coreUtils.getLogYRatios(this.yRatio);\n    this.barHelpers.initVariables(series);\n    if (w.config.chart.stackType === \"100%\") {\n      series = w.globals.comboCharts ? seriesIndex.map(_ => w.globals.seriesPercent[_]) : w.globals.seriesPercent.slice();\n    }\n    this.series = series;\n    this.barHelpers.initializeStackedPrevVars(this);\n    let ret = this.graphics.group({\n      class: \"apexcharts-bar-series apexcharts-plot-series\"\n    });\n    let x = 0;\n    let y = 0;\n    for (let i = 0, bc = 0; i < series.length; i++, bc++) {\n      let xDivision;\n      let yDivision;\n      let zeroH;\n      let zeroW;\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let {\n        groupIndex,\n        columnGroupIndex\n      } = this.barHelpers.getGroupIndex(realIndex);\n      this.groupCtx = this[w.globals.seriesGroups[groupIndex]];\n      let xArrValues = [];\n      let yArrValues = [];\n      let translationsIndex = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex][0];\n        translationsIndex = realIndex;\n      }\n      this.isReversed = w.config.yaxis[this.yaxisIndex] && w.config.yaxis[this.yaxisIndex].reversed;\n      let elSeries = this.graphics.group({\n        class: `apexcharts-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        rel: i + 1,\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      let elDataLabelsWrap = this.graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      let elGoalsMarkers = this.graphics.group({\n        class: \"apexcharts-bar-goals-markers\"\n      });\n      let barHeight = 0;\n      let barWidth = 0;\n      let initPositions = this.initialPositions(x, y, xDivision, yDivision, zeroH, zeroW, translationsIndex);\n      y = initPositions.y;\n      barHeight = initPositions.barHeight;\n      yDivision = initPositions.yDivision;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      xDivision = initPositions.xDivision;\n      zeroH = initPositions.zeroH;\n      w.globals.barHeight = barHeight;\n      w.globals.barWidth = barWidth;\n      this.barHelpers.initializeStackedXYVars(this);\n      if (this.groupCtx.prevY.length === 1 && this.groupCtx.prevY[0].every(val => isNaN(val))) {\n        this.groupCtx.prevY[0] = this.groupCtx.prevY[0].map(() => zeroH);\n        this.groupCtx.prevYF[0] = this.groupCtx.prevYF[0].map(() => 0);\n      }\n      for (let j = 0; j < w.globals.dataPoints; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        const commonPathOpts = {\n          indexes: {\n            i,\n            j,\n            realIndex,\n            translationsIndex,\n            bc\n          },\n          strokeWidth,\n          x,\n          y,\n          elSeries,\n          columnGroupIndex,\n          seriesGroup: w.globals.seriesGroups[groupIndex]\n        };\n        let paths = null;\n        if (this.isHorizontal) {\n          paths = this.drawStackedBarPaths(__spreadProps(__spreadValues({}, commonPathOpts), {\n            zeroW,\n            barHeight,\n            yDivision\n          }));\n          barWidth = this.series[i][j] / this.invertedYRatio;\n        } else {\n          paths = this.drawStackedColumnPaths(__spreadProps(__spreadValues({}, commonPathOpts), {\n            xDivision,\n            barWidth,\n            zeroH\n          }));\n          barHeight = this.series[i][j] / this.yRatio[translationsIndex];\n        }\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition: paths.barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        y = paths.y;\n        x = paths.x;\n        xArrValues.push(x);\n        yArrValues.push(y);\n        let pathFill = this.barHelpers.getPathFillColor(series, i, j, realIndex);\n        let classes = \"\";\n        const flipClass = w.globals.isBarHorizontal ? \"apexcharts-flip-x\" : \"apexcharts-flip-y\";\n        if (this.barHelpers.arrBorderRadius[realIndex][j] === \"bottom\" && w.globals.series[realIndex][j] > 0 || this.barHelpers.arrBorderRadius[realIndex][j] === \"top\" && w.globals.series[realIndex][j] < 0) {\n          classes = flipClass;\n        }\n        elSeries = this.renderSeries(__spreadProps(__spreadValues({\n          realIndex,\n          pathFill: pathFill.color\n        }, pathFill.useRangeColor ? {\n          lineFill: pathFill.color\n        } : {}), {\n          j,\n          i,\n          columnGroupIndex,\n          pathFrom: paths.pathFrom,\n          pathTo: paths.pathTo,\n          strokeWidth,\n          elSeries,\n          x,\n          y,\n          series,\n          barHeight,\n          barWidth,\n          elDataLabelsWrap,\n          elGoalsMarkers,\n          type: \"bar\",\n          visibleSeries: columnGroupIndex,\n          classes\n        }));\n      }\n      w.globals.seriesXvalues[realIndex] = xArrValues;\n      w.globals.seriesYvalues[realIndex] = yArrValues;\n      this.groupCtx.prevY.push(this.groupCtx.yArrj);\n      this.groupCtx.prevYF.push(this.groupCtx.yArrjF);\n      this.groupCtx.prevYVal.push(this.groupCtx.yArrjVal);\n      this.groupCtx.prevX.push(this.groupCtx.xArrj);\n      this.groupCtx.prevXF.push(this.groupCtx.xArrjF);\n      this.groupCtx.prevXVal.push(this.groupCtx.xArrjVal);\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  initialPositions(x, y, xDivision, yDivision, zeroH, zeroW, translationsIndex) {\n    let w = this.w;\n    let barHeight, barWidth;\n    if (this.isHorizontal) {\n      yDivision = w.globals.gridHeight / w.globals.dataPoints;\n      let userBarHeight = w.config.plotOptions.bar.barHeight;\n      if (String(userBarHeight).indexOf(\"%\") === -1) {\n        barHeight = parseInt(userBarHeight, 10);\n      } else {\n        barHeight = yDivision * parseInt(userBarHeight, 10) / 100;\n      }\n      zeroW = w.globals.padHorizontal + (this.isReversed ? w.globals.gridWidth - this.baseLineInvertedY : this.baseLineInvertedY);\n      y = (yDivision - barHeight) / 2;\n    } else {\n      xDivision = w.globals.gridWidth / w.globals.dataPoints;\n      barWidth = xDivision;\n      let userColumnWidth = w.config.plotOptions.bar.columnWidth;\n      if (w.globals.isXNumeric && w.globals.dataPoints > 1) {\n        xDivision = w.globals.minXDiff / this.xRatio;\n        barWidth = xDivision * parseInt(this.barOptions.columnWidth, 10) / 100;\n      } else if (String(userColumnWidth).indexOf(\"%\") === -1) {\n        barWidth = parseInt(userColumnWidth, 10);\n      } else {\n        barWidth *= parseInt(userColumnWidth, 10) / 100;\n      }\n      if (this.isReversed) {\n        zeroH = this.baseLineY[translationsIndex];\n      } else {\n        zeroH = w.globals.gridHeight - this.baseLineY[translationsIndex];\n      }\n      x = w.globals.padHorizontal + (xDivision - barWidth) / 2;\n    }\n    let subDivisions = w.globals.barGroups.length || 1;\n    return {\n      x,\n      y,\n      yDivision,\n      xDivision,\n      barHeight: barHeight / subDivisions,\n      barWidth: barWidth / subDivisions,\n      zeroH,\n      zeroW\n    };\n  }\n  drawStackedBarPaths({\n    indexes,\n    barHeight,\n    strokeWidth,\n    zeroW,\n    x,\n    y,\n    columnGroupIndex,\n    seriesGroup,\n    yDivision,\n    elSeries\n  }) {\n    let w = this.w;\n    let barYPosition = y + columnGroupIndex * barHeight;\n    let barXPosition;\n    let i = indexes.i;\n    let j = indexes.j;\n    let realIndex = indexes.realIndex;\n    let translationsIndex = indexes.translationsIndex;\n    let prevBarW = 0;\n    for (let k = 0; k < this.groupCtx.prevXF.length; k++) {\n      prevBarW = prevBarW + this.groupCtx.prevXF[k][j];\n    }\n    let gsi = i;\n    if (w.config.series[realIndex].name) {\n      gsi = seriesGroup.indexOf(w.config.series[realIndex].name);\n    }\n    if (gsi > 0) {\n      let bXP = zeroW;\n      if (this.groupCtx.prevXVal[gsi - 1][j] < 0) {\n        bXP = this.series[i][j] >= 0 ? this.groupCtx.prevX[gsi - 1][j] + prevBarW - (this.isReversed ? prevBarW : 0) * 2 : this.groupCtx.prevX[gsi - 1][j];\n      } else if (this.groupCtx.prevXVal[gsi - 1][j] >= 0) {\n        bXP = this.series[i][j] >= 0 ? this.groupCtx.prevX[gsi - 1][j] : this.groupCtx.prevX[gsi - 1][j] - prevBarW + (this.isReversed ? prevBarW : 0) * 2;\n      }\n      barXPosition = bXP;\n    } else {\n      barXPosition = zeroW;\n    }\n    if (this.series[i][j] === null) {\n      x = barXPosition;\n    } else {\n      x = barXPosition + this.series[i][j] / this.invertedYRatio - (this.isReversed ? this.series[i][j] / this.invertedYRatio : 0) * 2;\n    }\n    const paths = this.barHelpers.getBarpaths({\n      barYPosition,\n      barHeight,\n      x1: barXPosition,\n      x2: x,\n      strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      realIndex: indexes.realIndex,\n      seriesGroup,\n      i,\n      j,\n      w\n    });\n    this.barHelpers.barBackground({\n      j,\n      i,\n      y1: barYPosition,\n      y2: barHeight,\n      elSeries\n    });\n    y = y + yDivision;\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, i, j, translationsIndex),\n      barXPosition,\n      barYPosition,\n      x,\n      y\n    };\n  }\n  drawStackedColumnPaths({\n    indexes,\n    x,\n    y,\n    xDivision,\n    barWidth,\n    zeroH,\n    columnGroupIndex,\n    seriesGroup,\n    elSeries\n  }) {\n    var _a, _b, _c, _d;\n    let w = this.w;\n    let i = indexes.i;\n    let j = indexes.j;\n    let bc = indexes.bc;\n    let realIndex = indexes.realIndex;\n    let translationsIndex = indexes.translationsIndex;\n    if (w.globals.isXNumeric) {\n      let seriesVal = w.globals.seriesX[realIndex][j];\n      if (!seriesVal) seriesVal = 0;\n      x = (seriesVal - w.globals.minX) / this.xRatio - barWidth / 2 * w.globals.barGroups.length;\n    }\n    let barXPosition = x + columnGroupIndex * barWidth;\n    let barYPosition;\n    let prevBarH = 0;\n    for (let k = 0; k < this.groupCtx.prevYF.length; k++) {\n      prevBarH = prevBarH + (!isNaN(this.groupCtx.prevYF[k][j]) ? this.groupCtx.prevYF[k][j] : 0);\n    }\n    let gsi = i;\n    if (seriesGroup) {\n      gsi = seriesGroup.indexOf(w.globals.seriesNames[realIndex]);\n    }\n    if (gsi > 0 && !w.globals.isXNumeric || gsi > 0 && w.globals.isXNumeric && w.globals.seriesX[realIndex - 1][j] === w.globals.seriesX[realIndex][j]) {\n      let bYP;\n      let prevYValue;\n      const p = Math.min(this.yRatio.length + 1, realIndex + 1);\n      if (this.groupCtx.prevY[gsi - 1] !== void 0 && this.groupCtx.prevY[gsi - 1].length) {\n        for (let ii = 1; ii < p; ii++) {\n          if (!isNaN((_a = this.groupCtx.prevY[gsi - ii]) == null ? void 0 : _a[j])) {\n            prevYValue = this.groupCtx.prevY[gsi - ii][j];\n            break;\n          }\n        }\n      }\n      for (let ii = 1; ii < p; ii++) {\n        if (((_b = this.groupCtx.prevYVal[gsi - ii]) == null ? void 0 : _b[j]) < 0) {\n          bYP = this.series[i][j] >= 0 ? prevYValue - prevBarH + (this.isReversed ? prevBarH : 0) * 2 : prevYValue;\n          break;\n        } else if (((_c = this.groupCtx.prevYVal[gsi - ii]) == null ? void 0 : _c[j]) >= 0) {\n          bYP = this.series[i][j] >= 0 ? prevYValue : prevYValue + prevBarH - (this.isReversed ? prevBarH : 0) * 2;\n          break;\n        }\n      }\n      if (typeof bYP === \"undefined\") bYP = w.globals.gridHeight;\n      if (((_d = this.groupCtx.prevYF[0]) == null ? void 0 : _d.every(val => val === 0)) && this.groupCtx.prevYF.slice(1, gsi).every(arr => arr.every(val => isNaN(val)))) {\n        barYPosition = zeroH;\n      } else {\n        barYPosition = bYP;\n      }\n    } else {\n      barYPosition = zeroH;\n    }\n    if (this.series[i][j]) {\n      y = barYPosition - this.series[i][j] / this.yRatio[translationsIndex] + (this.isReversed ? this.series[i][j] / this.yRatio[translationsIndex] : 0) * 2;\n    } else {\n      y = barYPosition;\n    }\n    const paths = this.barHelpers.getColumnPaths({\n      barXPosition,\n      barWidth,\n      y1: barYPosition,\n      y2: y,\n      yRatio: this.yRatio[translationsIndex],\n      strokeWidth: this.strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      seriesGroup,\n      realIndex: indexes.realIndex,\n      i,\n      j,\n      w\n    });\n    this.barHelpers.barBackground({\n      bc,\n      j,\n      i,\n      x1: barXPosition,\n      x2: barWidth,\n      elSeries\n    });\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      goalY: this.barHelpers.getGoalValues(\"y\", null, zeroH, i, j),\n      barXPosition,\n      x: w.globals.isXNumeric ? x : x + xDivision,\n      y\n    };\n  }\n}\nclass BoxCandleStick extends Bar {\n  draw(series, ctype, seriesIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const type = w.globals.comboCharts ? ctype : w.config.chart.type;\n    const fill = new Fill(this.ctx);\n    this.candlestickOptions = this.w.config.plotOptions.candlestick;\n    this.boxOptions = this.w.config.plotOptions.boxPlot;\n    this.isHorizontal = w.config.plotOptions.bar.horizontal;\n    this.isOHLC = this.candlestickOptions && this.candlestickOptions.type === \"ohlc\";\n    this.coreUtils = new CoreUtils(this.ctx);\n    series = this.coreUtils.getLogSeries(series);\n    this.series = series;\n    this.yRatio = this.coreUtils.getLogYRatios(this.yRatio);\n    this.barHelpers.initVariables(series);\n    const ret = graphics.group({\n      class: `apexcharts-${type}-series apexcharts-plot-series`\n    });\n    for (let i = 0; i < series.length; i++) {\n      this.isBoxPlot = w.config.chart.type === \"boxPlot\" || w.config.series[i].type === \"boxPlot\";\n      let x, y, xDivision, yDivision, zeroH, zeroW;\n      const yArrj = [];\n      const xArrj = [];\n      const realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      const {\n        columnGroupIndex\n      } = this.barHelpers.getGroupIndex(realIndex);\n      const elSeries = graphics.group({\n        class: `apexcharts-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        rel: i + 1,\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      if (series[i].length > 0) {\n        this.visibleI = this.visibleI + 1;\n      }\n      let barHeight = 0;\n      let barWidth = 0;\n      let translationsIndex = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex][0];\n        translationsIndex = realIndex;\n      }\n      const initPositions = this.barHelpers.initialPositions(realIndex);\n      y = initPositions.y;\n      barHeight = initPositions.barHeight;\n      yDivision = initPositions.yDivision;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      xDivision = initPositions.xDivision;\n      zeroH = initPositions.zeroH;\n      xArrj.push(x + barWidth / 2);\n      const elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      const elGoalsMarkers = graphics.group({\n        class: \"apexcharts-bar-goals-markers\"\n      });\n      for (let j = 0; j < w.globals.dataPoints; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        let paths = null;\n        const pathsParams = {\n          indexes: {\n            i,\n            j,\n            realIndex,\n            translationsIndex\n          },\n          x,\n          y,\n          strokeWidth,\n          elSeries\n        };\n        if (this.isHorizontal) {\n          paths = this.drawHorizontalBoxPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            yDivision,\n            barHeight,\n            zeroW\n          }));\n        } else {\n          paths = this.drawVerticalBoxPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            xDivision,\n            barWidth,\n            zeroH\n          }));\n        }\n        y = paths.y;\n        x = paths.x;\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition: paths.barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        if (j > 0) {\n          xArrj.push(x + barWidth / 2);\n        }\n        yArrj.push(y);\n        paths.pathTo.forEach((pathTo, pi) => {\n          const lineFill = !this.isBoxPlot && this.candlestickOptions.wick.useFillColor ? paths.color[pi] : w.globals.stroke.colors[i];\n          const pathFill = fill.fillPath({\n            seriesNumber: realIndex,\n            dataPointIndex: j,\n            color: paths.color[pi],\n            value: series[i][j]\n          });\n          this.renderSeries({\n            realIndex,\n            pathFill,\n            lineFill,\n            j,\n            i,\n            pathFrom: paths.pathFrom,\n            pathTo,\n            strokeWidth,\n            elSeries,\n            x,\n            y,\n            series,\n            columnGroupIndex,\n            barHeight,\n            barWidth,\n            elDataLabelsWrap,\n            elGoalsMarkers,\n            visibleSeries: this.visibleI,\n            type: w.config.chart.type\n          });\n        });\n      }\n      w.globals.seriesXvalues[realIndex] = xArrj;\n      w.globals.seriesYvalues[realIndex] = yArrj;\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  drawVerticalBoxPaths({\n    indexes,\n    x,\n    xDivision,\n    barWidth,\n    zeroH,\n    strokeWidth\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const i = indexes.i;\n    const j = indexes.j;\n    const {\n      colors: candleColors\n    } = w.config.plotOptions.candlestick;\n    const {\n      colors: boxColors\n    } = this.boxOptions;\n    const realIndex = indexes.realIndex;\n    const getColor = color2 => Array.isArray(color2) ? color2[realIndex] : color2;\n    const colorPos = getColor(candleColors.upward);\n    const colorNeg = getColor(candleColors.downward);\n    const yRatio = this.yRatio[indexes.translationsIndex];\n    const ohlc = this.getOHLCValue(realIndex, j);\n    let l1 = zeroH;\n    let l2 = zeroH;\n    let color = ohlc.o < ohlc.c ? [colorPos] : [colorNeg];\n    if (this.isBoxPlot) {\n      color = [getColor(boxColors.lower), getColor(boxColors.upper)];\n    }\n    let y1 = Math.min(ohlc.o, ohlc.c);\n    let y2 = Math.max(ohlc.o, ohlc.c);\n    let m = ohlc.m;\n    if (w.globals.isXNumeric) {\n      x = (w.globals.seriesX[realIndex][j] - w.globals.minX) / this.xRatio - barWidth / 2;\n    }\n    const barXPosition = x + barWidth * this.visibleI;\n    if (typeof this.series[i][j] === \"undefined\" || this.series[i][j] === null) {\n      y1 = zeroH;\n      y2 = zeroH;\n    } else {\n      y1 = zeroH - y1 / yRatio;\n      y2 = zeroH - y2 / yRatio;\n      l1 = zeroH - ohlc.h / yRatio;\n      l2 = zeroH - ohlc.l / yRatio;\n      m = zeroH - ohlc.m / yRatio;\n    }\n    let pathTo;\n    let pathFrom = graphics.move(barXPosition + barWidth / 2, y1);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.getPreviousPath(realIndex, j, true);\n    }\n    if (this.isOHLC) {\n      const centerX = barXPosition + barWidth / 2;\n      const openY = zeroH - ohlc.o / yRatio;\n      const closeY = zeroH - ohlc.c / yRatio;\n      pathTo = [graphics.move(centerX, l1) + graphics.line(centerX, l2) + graphics.move(centerX, openY) + graphics.line(barXPosition, openY) + graphics.move(centerX, closeY) + graphics.line(barXPosition + barWidth, closeY)];\n    } else if (this.isBoxPlot) {\n      pathTo = [graphics.move(barXPosition, y1) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition + barWidth / 2, l1) + graphics.line(barXPosition + barWidth / 4, l1) + graphics.line(barXPosition + barWidth - barWidth / 4, l1) + graphics.line(barXPosition + barWidth / 2, l1) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition + barWidth, y1) + graphics.line(barXPosition + barWidth, m) + graphics.line(barXPosition, m) + graphics.line(barXPosition, y1 + strokeWidth / 2), graphics.move(barXPosition, m) + graphics.line(barXPosition + barWidth, m) + graphics.line(barXPosition + barWidth, y2) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition + barWidth / 2, l2) + graphics.line(barXPosition + barWidth - barWidth / 4, l2) + graphics.line(barXPosition + barWidth / 4, l2) + graphics.line(barXPosition + barWidth / 2, l2) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition, y2) + graphics.line(barXPosition, m) + \"z\"];\n    } else {\n      pathTo = [graphics.move(barXPosition, y2) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition + barWidth / 2, l1) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition + barWidth, y2) + graphics.line(barXPosition + barWidth, y1) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition + barWidth / 2, l2) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition, y1) + graphics.line(barXPosition, y2 - strokeWidth / 2)];\n    }\n    pathFrom = pathFrom + graphics.move(barXPosition, y1);\n    if (!w.globals.isXNumeric) {\n      x = x + xDivision;\n    }\n    return {\n      pathTo,\n      pathFrom,\n      x,\n      y: y2,\n      goalY: this.barHelpers.getGoalValues(\"y\", null, zeroH, i, j, indexes.translationsIndex),\n      barXPosition,\n      color\n    };\n  }\n  drawHorizontalBoxPaths({\n    indexes,\n    y,\n    yDivision,\n    barHeight,\n    zeroW,\n    strokeWidth\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const i = indexes.i;\n    const j = indexes.j;\n    const realIndex = indexes.realIndex;\n    const {\n      colors: candleColors\n    } = w.config.plotOptions.candlestick;\n    const {\n      colors: boxColors\n    } = this.boxOptions;\n    const getColor = color2 => Array.isArray(color2) ? color2[realIndex] : color2;\n    const yRatio = this.invertedYRatio;\n    const ohlc = this.getOHLCValue(realIndex, j);\n    let color = ohlc.o < ohlc.c ? [getColor(candleColors.upward)] : [getColor(candleColors.downward)];\n    if (this.isBoxPlot) {\n      color = [getColor(boxColors.lower), getColor(boxColors.upper)];\n    }\n    let l1 = zeroW;\n    let l2 = zeroW;\n    let x1 = Math.min(ohlc.o, ohlc.c);\n    let x2 = Math.max(ohlc.o, ohlc.c);\n    let m = ohlc.m;\n    if (w.globals.isXNumeric) {\n      y = (w.globals.seriesX[realIndex][j] - w.globals.minX) / this.invertedXRatio - barHeight / 2;\n    }\n    const barYPosition = y + barHeight * this.visibleI;\n    if (typeof this.series[i][j] === \"undefined\" || this.series[i][j] === null) {\n      x1 = zeroW;\n      x2 = zeroW;\n    } else {\n      x1 = zeroW + x1 / yRatio;\n      x2 = zeroW + x2 / yRatio;\n      l1 = zeroW + ohlc.h / yRatio;\n      l2 = zeroW + ohlc.l / yRatio;\n      m = zeroW + ohlc.m / yRatio;\n    }\n    let pathTo;\n    let pathFrom = graphics.move(x1, barYPosition + barHeight / 2);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.getPreviousPath(realIndex, j, true);\n    }\n    pathTo = [graphics.move(x1, barYPosition) + graphics.line(x1, barYPosition + barHeight / 2) + graphics.line(l1, barYPosition + barHeight / 2) + graphics.line(l1, barYPosition + barHeight / 2 - barHeight / 4) + graphics.line(l1, barYPosition + barHeight / 2 + barHeight / 4) + graphics.line(l1, barYPosition + barHeight / 2) + graphics.line(x1, barYPosition + barHeight / 2) + graphics.line(x1, barYPosition + barHeight) + graphics.line(m, barYPosition + barHeight) + graphics.line(m, barYPosition) + graphics.line(x1 + strokeWidth / 2, barYPosition), graphics.move(m, barYPosition) + graphics.line(m, barYPosition + barHeight) + graphics.line(x2, barYPosition + barHeight) + graphics.line(x2, barYPosition + barHeight / 2) + graphics.line(l2, barYPosition + barHeight / 2) + graphics.line(l2, barYPosition + barHeight - barHeight / 4) + graphics.line(l2, barYPosition + barHeight / 4) + graphics.line(l2, barYPosition + barHeight / 2) + graphics.line(x2, barYPosition + barHeight / 2) + graphics.line(x2, barYPosition) + graphics.line(m, barYPosition) + \"z\"];\n    pathFrom = pathFrom + graphics.move(x1, barYPosition);\n    if (!w.globals.isXNumeric) {\n      y = y + yDivision;\n    }\n    return {\n      pathTo,\n      pathFrom,\n      x: x2,\n      y,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, i, j),\n      barYPosition,\n      color\n    };\n  }\n  getOHLCValue(i, j) {\n    const w = this.w;\n    const coreUtils = this.coreUtils;\n    const getCandleVal = arr => arr[i] && arr[i][j] != null ? coreUtils.getLogValAtSeriesIndex(arr[i][j], i) : 0;\n    const h = getCandleVal(w.globals.seriesCandleH);\n    const o = getCandleVal(w.globals.seriesCandleO);\n    const m = getCandleVal(w.globals.seriesCandleM);\n    const c = getCandleVal(w.globals.seriesCandleC);\n    const l = getCandleVal(w.globals.seriesCandleL);\n    return {\n      o: this.isBoxPlot ? h : o,\n      h: this.isBoxPlot ? o : h,\n      m,\n      l: this.isBoxPlot ? c : l,\n      c: this.isBoxPlot ? l : c\n    };\n  }\n}\nclass TreemapHelpers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  checkColorRange() {\n    const w = this.w;\n    let negRange = false;\n    let chartOpts = w.config.plotOptions[w.config.chart.type];\n    if (chartOpts.colorScale.ranges.length > 0) {\n      chartOpts.colorScale.ranges.map(range => {\n        if (range.from <= 0) {\n          negRange = true;\n        }\n      });\n    }\n    return negRange;\n  }\n  getShadeColor(chartType, i, j, negRange) {\n    const w = this.w;\n    let colorShadePercent = 1;\n    let shadeIntensity = w.config.plotOptions[chartType].shadeIntensity;\n    const colorProps = this.determineColor(chartType, i, j);\n    if (w.globals.hasNegs || negRange) {\n      if (w.config.plotOptions[chartType].reverseNegativeShade) {\n        if (colorProps.percent < 0) {\n          colorShadePercent = colorProps.percent / 100 * (shadeIntensity * 1.25);\n        } else {\n          colorShadePercent = (1 - colorProps.percent / 100) * (shadeIntensity * 1.25);\n        }\n      } else {\n        if (colorProps.percent <= 0) {\n          colorShadePercent = 1 - (1 + colorProps.percent / 100) * shadeIntensity;\n        } else {\n          colorShadePercent = (1 - colorProps.percent / 100) * shadeIntensity;\n        }\n      }\n    } else {\n      colorShadePercent = 1 - colorProps.percent / 100;\n      if (chartType === \"treemap\") {\n        colorShadePercent = (1 - colorProps.percent / 100) * (shadeIntensity * 1.25);\n      }\n    }\n    let color = colorProps.color;\n    let utils = new Utils$1();\n    if (w.config.plotOptions[chartType].enableShades) {\n      if (this.w.config.theme.mode === \"dark\") {\n        const shadeColor = utils.shadeColor(colorShadePercent * -1, colorProps.color);\n        color = Utils$1.hexToRgba(Utils$1.isColorHex(shadeColor) ? shadeColor : Utils$1.rgb2hex(shadeColor), w.config.fill.opacity);\n      } else {\n        const shadeColor = utils.shadeColor(colorShadePercent, colorProps.color);\n        color = Utils$1.hexToRgba(Utils$1.isColorHex(shadeColor) ? shadeColor : Utils$1.rgb2hex(shadeColor), w.config.fill.opacity);\n      }\n    }\n    return {\n      color,\n      colorProps\n    };\n  }\n  determineColor(chartType, i, j) {\n    const w = this.w;\n    let val = w.globals.series[i][j];\n    let chartOpts = w.config.plotOptions[chartType];\n    let seriesNumber = chartOpts.colorScale.inverse ? j : i;\n    if (chartOpts.distributed && w.config.chart.type === \"treemap\") {\n      seriesNumber = j;\n    }\n    let color = w.globals.colors[seriesNumber];\n    let foreColor = null;\n    let min = Math.min(...w.globals.series[i]);\n    let max = Math.max(...w.globals.series[i]);\n    if (!chartOpts.distributed && chartType === \"heatmap\") {\n      min = w.globals.minY;\n      max = w.globals.maxY;\n    }\n    if (typeof chartOpts.colorScale.min !== \"undefined\") {\n      min = chartOpts.colorScale.min < w.globals.minY ? chartOpts.colorScale.min : w.globals.minY;\n      max = chartOpts.colorScale.max > w.globals.maxY ? chartOpts.colorScale.max : w.globals.maxY;\n    }\n    let total = Math.abs(max) + Math.abs(min);\n    let percent = 100 * val / (total === 0 ? total - 1e-6 : total);\n    if (chartOpts.colorScale.ranges.length > 0) {\n      const colorRange = chartOpts.colorScale.ranges;\n      colorRange.map(range => {\n        if (val >= range.from && val <= range.to) {\n          color = range.color;\n          foreColor = range.foreColor ? range.foreColor : null;\n          min = range.from;\n          max = range.to;\n          let rTotal = Math.abs(max) + Math.abs(min);\n          percent = 100 * val / (rTotal === 0 ? rTotal - 1e-6 : rTotal);\n        }\n      });\n    }\n    return {\n      color,\n      foreColor,\n      percent\n    };\n  }\n  calculateDataLabels({\n    text,\n    x,\n    y,\n    i,\n    j,\n    colorProps,\n    fontSize\n  }) {\n    let w = this.w;\n    let dataLabelsConfig = w.config.dataLabels;\n    const graphics = new Graphics(this.ctx);\n    let dataLabels = new DataLabels(this.ctx);\n    let elDataLabelsWrap = null;\n    if (dataLabelsConfig.enabled) {\n      elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-data-labels\"\n      });\n      const offX = dataLabelsConfig.offsetX;\n      const offY = dataLabelsConfig.offsetY;\n      let dataLabelsX = x + offX;\n      let dataLabelsY = y + parseFloat(dataLabelsConfig.style.fontSize) / 3 + offY;\n      dataLabels.plotDataLabelsText({\n        x: dataLabelsX,\n        y: dataLabelsY,\n        text,\n        i,\n        j,\n        color: colorProps.foreColor,\n        parent: elDataLabelsWrap,\n        fontSize,\n        dataLabelsConfig\n      });\n    }\n    return elDataLabelsWrap;\n  }\n}\nclass HeatMap {\n  constructor(ctx, xyRatios) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.xRatio = xyRatios.xRatio;\n    this.yRatio = xyRatios.yRatio;\n    this.dynamicAnim = this.w.config.chart.animations.dynamicAnimation;\n    this.helpers = new TreemapHelpers(ctx);\n    this.rectRadius = this.w.config.plotOptions.heatmap.radius;\n    this.strokeWidth = this.w.config.stroke.show ? this.w.config.stroke.width : 0;\n  }\n  draw(series) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let ret = graphics.group({\n      class: \"apexcharts-heatmap\"\n    });\n    ret.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n    let xDivision = w.globals.gridWidth / w.globals.dataPoints;\n    let yDivision = w.globals.gridHeight / w.globals.series.length;\n    let y1 = 0;\n    let rev = false;\n    this.negRange = this.helpers.checkColorRange();\n    let heatSeries = series.slice();\n    if (w.config.yaxis[0].reversed) {\n      rev = true;\n      heatSeries.reverse();\n    }\n    for (let i = rev ? 0 : heatSeries.length - 1; rev ? i < heatSeries.length : i >= 0; rev ? i++ : i--) {\n      let elSeries = graphics.group({\n        class: `apexcharts-series apexcharts-heatmap-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, i);\n      graphics.setupEventDelegation(elSeries, \".apexcharts-heatmap-rect\");\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        const filters = new Filters(this.ctx);\n        filters.dropShadow(elSeries, shadow, i);\n      }\n      let x1 = 0;\n      let shadeIntensity = w.config.plotOptions.heatmap.shadeIntensity;\n      let j = 0;\n      for (let dIndex = 0; dIndex < w.globals.dataPoints; dIndex++) {\n        if (w.globals.seriesX.length && !w.globals.allSeriesHasEqualX) {\n          if (w.globals.minX + w.globals.minXDiff * dIndex < w.globals.seriesX[i][j]) {\n            x1 = x1 + xDivision;\n            continue;\n          }\n        }\n        if (j >= heatSeries[i].length) break;\n        let heatColor = this.helpers.getShadeColor(w.config.chart.type, i, j, this.negRange);\n        let color = heatColor.color;\n        let heatColorProps = heatColor.colorProps;\n        if (w.config.fill.type === \"image\") {\n          const fill = new Fill(this.ctx);\n          color = fill.fillPath({\n            seriesNumber: i,\n            dataPointIndex: j,\n            opacity: w.globals.hasNegs ? heatColorProps.percent < 0 ? 1 - (1 + heatColorProps.percent / 100) : shadeIntensity + heatColorProps.percent / 100 : heatColorProps.percent / 100,\n            patternID: Utils$1.randomId(),\n            width: w.config.fill.image.width ? w.config.fill.image.width : xDivision,\n            height: w.config.fill.image.height ? w.config.fill.image.height : yDivision\n          });\n        }\n        let radius = this.rectRadius;\n        let rect = graphics.drawRect(x1, y1, xDivision, yDivision, radius);\n        rect.attr({\n          cx: x1,\n          cy: y1\n        });\n        rect.node.classList.add(\"apexcharts-heatmap-rect\");\n        elSeries.add(rect);\n        rect.attr({\n          fill: color,\n          i,\n          index: i,\n          j,\n          val: series[i][j],\n          \"stroke-width\": this.strokeWidth,\n          stroke: w.config.plotOptions.heatmap.useFillColorAsStroke ? color : w.globals.stroke.colors[0],\n          color\n        });\n        if (w.config.chart.animations.enabled && !w.globals.dataChanged) {\n          let speed = 1;\n          if (!w.globals.resized) {\n            speed = w.config.chart.animations.speed;\n          }\n          this.animateHeatMap(rect, x1, y1, xDivision, yDivision, speed);\n        }\n        if (w.globals.dataChanged) {\n          let speed = 1;\n          if (this.dynamicAnim.enabled && w.globals.shouldAnimate) {\n            speed = this.dynamicAnim.speed;\n            let colorFrom = w.globals.previousPaths[i] && w.globals.previousPaths[i][j] && w.globals.previousPaths[i][j].color;\n            if (!colorFrom) colorFrom = \"rgba(255, 255, 255, 0)\";\n            this.animateHeatColor(rect, Utils$1.isColorHex(colorFrom) ? colorFrom : Utils$1.rgb2hex(colorFrom), Utils$1.isColorHex(color) ? color : Utils$1.rgb2hex(color), speed);\n          }\n        }\n        let formatter = w.config.dataLabels.formatter;\n        let formattedText = formatter(w.globals.series[i][j], {\n          value: w.globals.series[i][j],\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        });\n        let dataLabels = this.helpers.calculateDataLabels({\n          text: formattedText,\n          x: x1 + xDivision / 2,\n          y: y1 + yDivision / 2,\n          i,\n          j,\n          colorProps: heatColorProps,\n          series: heatSeries\n        });\n        if (dataLabels !== null) {\n          elSeries.add(dataLabels);\n        }\n        x1 = x1 + xDivision;\n        j++;\n      }\n      y1 = y1 + yDivision;\n      ret.add(elSeries);\n    }\n    let yAxisScale = w.globals.yAxisScale[0].result.slice();\n    if (w.config.yaxis[0].reversed) {\n      yAxisScale.unshift(\"\");\n    } else {\n      yAxisScale.push(\"\");\n    }\n    w.globals.yAxisScale[0].result = yAxisScale;\n    return ret;\n  }\n  animateHeatMap(el, x, y, width, height, speed) {\n    const animations = new Animations(this.ctx);\n    animations.animateRect(el, {\n      x: x + width / 2,\n      y: y + height / 2,\n      width: 0,\n      height: 0\n    }, {\n      x,\n      y,\n      width,\n      height\n    }, speed, () => {\n      animations.animationCompleted(el);\n    });\n  }\n  animateHeatColor(el, colorFrom, colorTo, speed) {\n    el.attr({\n      fill: colorFrom\n    }).animate(speed).attr({\n      fill: colorTo\n    });\n  }\n}\nclass Helpers5 {\n  constructor(lineCtx) {\n    this.w = lineCtx.w;\n    this.lineCtx = lineCtx;\n  }\n  sameValueSeriesFix(i, series) {\n    const w = this.w;\n    if (w.config.fill.type === \"gradient\" || w.config.fill.type[i] === \"gradient\") {\n      const coreUtils = new CoreUtils(this.lineCtx.ctx);\n      if (coreUtils.seriesHaveSameValues(i)) {\n        let gSeries = series[i].slice();\n        gSeries[gSeries.length - 1] = gSeries[gSeries.length - 1] + 1e-6;\n        series[i] = gSeries;\n      }\n    }\n    return series;\n  }\n  calculatePoints({\n    series,\n    realIndex,\n    x,\n    y,\n    i,\n    j,\n    prevY\n  }) {\n    let w = this.w;\n    let ptX = [];\n    let ptY = [];\n    let xPT1st = this.lineCtx.categoryAxisCorrection + w.config.markers.offsetX;\n    if (w.globals.isXNumeric) {\n      xPT1st = (w.globals.seriesX[realIndex][0] - w.globals.minX) / this.lineCtx.xRatio + w.config.markers.offsetX;\n    }\n    if (j === 0) {\n      ptX.push(xPT1st);\n      ptY.push(Utils$1.isNumber(series[i][0]) ? prevY + w.config.markers.offsetY : null);\n    }\n    ptX.push(x + w.config.markers.offsetX);\n    ptY.push(Utils$1.isNumber(series[i][j + 1]) ? y + w.config.markers.offsetY : null);\n    return {\n      x: ptX,\n      y: ptY\n    };\n  }\n  checkPreviousPaths({\n    pathFromLine,\n    pathFromArea,\n    realIndex\n  }) {\n    let w = this.w;\n    for (let pp = 0; pp < w.globals.previousPaths.length; pp++) {\n      let gpp = w.globals.previousPaths[pp];\n      if ((gpp.type === \"line\" || gpp.type === \"area\") && gpp.paths.length > 0 && parseInt(gpp.realIndex, 10) === parseInt(realIndex, 10)) {\n        if (gpp.type === \"line\") {\n          this.lineCtx.appendPathFrom = false;\n          pathFromLine = w.globals.previousPaths[pp].paths[0].d;\n        } else if (gpp.type === \"area\") {\n          this.lineCtx.appendPathFrom = false;\n          pathFromArea = w.globals.previousPaths[pp].paths[0].d;\n          if (w.config.stroke.show && w.globals.previousPaths[pp].paths[1]) {\n            pathFromLine = w.globals.previousPaths[pp].paths[1].d;\n          }\n        }\n      }\n    }\n    return {\n      pathFromLine,\n      pathFromArea\n    };\n  }\n  determineFirstPrevY({\n    i,\n    realIndex,\n    series,\n    prevY,\n    lineYPosition,\n    translationsIndex\n  }) {\n    var _a, _b, _c;\n    let w = this.w;\n    let stackSeries = w.config.chart.stacked && !w.globals.comboCharts || w.config.chart.stacked && w.globals.comboCharts && (!this.w.config.chart.stackOnlyBar || ((_a = this.w.config.series[realIndex]) == null ? void 0 : _a.type) === \"bar\" || ((_b = this.w.config.series[realIndex]) == null ? void 0 : _b.type) === \"column\");\n    if (typeof ((_c = series[i]) == null ? void 0 : _c[0]) !== \"undefined\") {\n      if (stackSeries) {\n        if (i > 0) {\n          lineYPosition = this.lineCtx.prevSeriesY[i - 1][0];\n        } else {\n          lineYPosition = this.lineCtx.zeroY;\n        }\n      } else {\n        lineYPosition = this.lineCtx.zeroY;\n      }\n      prevY = lineYPosition - series[i][0] / this.lineCtx.yRatio[translationsIndex] + (this.lineCtx.isReversed ? series[i][0] / this.lineCtx.yRatio[translationsIndex] : 0) * 2;\n    } else {\n      if (stackSeries && i > 0 && typeof series[i][0] === \"undefined\") {\n        for (let s = i - 1; s >= 0; s--) {\n          if (series[s][0] !== null && typeof series[s][0] !== \"undefined\") {\n            lineYPosition = this.lineCtx.prevSeriesY[s][0];\n            prevY = lineYPosition;\n            break;\n          }\n        }\n      }\n    }\n    return {\n      prevY,\n      lineYPosition\n    };\n  }\n}\nconst tangents = points => {\n  const m = finiteDifferences(points);\n  const n = points.length - 1;\n  const  = 1e-6;\n  const tgts = [];\n  let a, b, d, s;\n  for (let i = 0; i < n; i++) {\n    d = slope(points[i], points[i + 1]);\n    if (Math.abs(d) < ) {\n      m[i] = m[i + 1] = 0;\n    } else {\n      a = m[i] / d;\n      b = m[i + 1] / d;\n      s = a * a + b * b;\n      if (s > 9) {\n        s = d * 3 / Math.sqrt(s);\n        m[i] = s * a;\n        m[i + 1] = s * b;\n      }\n    }\n  }\n  for (let i = 0; i <= n; i++) {\n    s = (points[Math.min(n, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n    tgts.push([s || 0, m[i] * s || 0]);\n  }\n  return tgts;\n};\nconst svgPath = points => {\n  let p = \"\";\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    const n = point.length;\n    if (n > 4) {\n      p += `C${point[0]}, ${point[1]}`;\n      p += `, ${point[2]}, ${point[3]}`;\n      p += `, ${point[4]}, ${point[5]}`;\n    } else if (n > 2) {\n      p += `S${point[0]}, ${point[1]}`;\n      p += `, ${point[2]}, ${point[3]}`;\n    }\n  }\n  return p;\n};\nconst spline = {\n  /**\n   * Convert 'points' to bezier\n   * @param {Array} points\n   * @returns {Array}\n   */\n  points(points) {\n    const tgts = tangents(points);\n    const p = points[1];\n    const p0 = points[0];\n    const pts = [];\n    const t = tgts[1];\n    const t0 = tgts[0];\n    pts.push(p0, [p0[0] + t0[0], p0[1] + t0[1], p[0] - t[0], p[1] - t[1], p[0], p[1]]);\n    for (let i = 2, n = tgts.length; i < n; i++) {\n      const p2 = points[i];\n      const t2 = tgts[i];\n      pts.push([p2[0] - t2[0], p2[1] - t2[1], p2[0], p2[1]]);\n    }\n    return pts;\n  },\n  /**\n   * Slice out a segment of 'points'\n   * @param {Array} points\n   * @param {Number} start\n   * @param {Number} end\n   * @returns {Array}\n   */\n  slice(points, start, end) {\n    const pts = points.slice(start, end);\n    if (start) {\n      if (end - start > 1 && pts[1].length < 6) {\n        const n = pts[0].length;\n        pts[1] = [pts[0][n - 2] * 2 - pts[0][n - 4], pts[0][n - 1] * 2 - pts[0][n - 3]].concat(pts[1]);\n      }\n      pts[0] = pts[0].slice(-2);\n    }\n    return pts;\n  }\n};\nfunction slope(p0, p1) {\n  return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n}\nfunction finiteDifferences(points) {\n  const m = [];\n  let p0 = points[0];\n  let p1 = points[1];\n  let d = m[0] = slope(p0, p1);\n  let i = 1;\n  for (let n = points.length - 1; i < n; i++) {\n    p0 = p1;\n    p1 = points[i + 1];\n    m[i] = (d + (d = slope(p0, p1))) * 0.5;\n  }\n  m[i] = d;\n  return m;\n}\nclass Line {\n  constructor(ctx, xyRatios, isPointsChart) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.xyRatios = xyRatios;\n    this.pointsChart = !(this.w.config.chart.type !== \"bubble\" && this.w.config.chart.type !== \"scatter\") || isPointsChart;\n    this.scatter = new Scatter(this.ctx);\n    this.noNegatives = this.w.globals.minX === Number.MAX_VALUE;\n    this.lineHelpers = new Helpers5(this);\n    this.markers = new Markers(this.ctx);\n    this.prevSeriesY = [];\n    this.categoryAxisCorrection = 0;\n    this.yaxisIndex = 0;\n  }\n  draw(series, ctype, seriesIndex, seriesRangeEnd) {\n    var _a;\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let type = w.globals.comboCharts ? ctype : w.config.chart.type;\n    let ret = graphics.group({\n      class: `apexcharts-${type}-series apexcharts-plot-series`\n    });\n    const coreUtils = new CoreUtils(this.ctx);\n    this.yRatio = this.xyRatios.yRatio;\n    this.zRatio = this.xyRatios.zRatio;\n    this.xRatio = this.xyRatios.xRatio;\n    this.baseLineY = this.xyRatios.baseLineY;\n    series = coreUtils.getLogSeries(series);\n    this.yRatio = coreUtils.getLogYRatios(this.yRatio);\n    this.prevSeriesY = [];\n    let allSeries = [];\n    for (let i = 0; i < series.length; i++) {\n      series = this.lineHelpers.sameValueSeriesFix(i, series);\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let translationsIndex = this.yRatio.length > 1 ? realIndex : 0;\n      this._initSerieVariables(series, i, realIndex);\n      let yArrj = [];\n      let y2Arrj = [];\n      let xArrj = [];\n      let x = w.globals.padHorizontal + this.categoryAxisCorrection;\n      let y = 1;\n      let linePaths = [];\n      let areaPaths = [];\n      this.ctx.series.addCollapsedClassToSeries(this.elSeries, realIndex);\n      if (w.globals.isXNumeric && w.globals.seriesX.length > 0) {\n        x = (w.globals.seriesX[realIndex][0] - w.globals.minX) / this.xRatio;\n      }\n      xArrj.push(x);\n      let pX = x;\n      let pY;\n      let pY2;\n      let prevX = pX;\n      let prevY = this.zeroY;\n      let prevY2 = this.zeroY;\n      let lineYPosition = 0;\n      let firstPrevY = this.lineHelpers.determineFirstPrevY({\n        i,\n        realIndex,\n        series,\n        prevY,\n        lineYPosition,\n        translationsIndex\n      });\n      prevY = firstPrevY.prevY;\n      if (w.config.stroke.curve === \"monotoneCubic\" && series[i][0] === null) {\n        yArrj.push(null);\n      } else {\n        yArrj.push(prevY);\n      }\n      pY = prevY;\n      let firstPrevY2;\n      if (type === \"rangeArea\") {\n        firstPrevY2 = this.lineHelpers.determineFirstPrevY({\n          i,\n          realIndex,\n          series: seriesRangeEnd,\n          prevY: prevY2,\n          lineYPosition,\n          translationsIndex\n        });\n        prevY2 = firstPrevY2.prevY;\n        pY2 = prevY2;\n        y2Arrj.push(yArrj[0] !== null ? prevY2 : null);\n      }\n      let pathsFrom = this._calculatePathsFrom({\n        type,\n        series,\n        i,\n        realIndex,\n        translationsIndex,\n        prevX,\n        prevY,\n        prevY2\n      });\n      let rYArrj = [yArrj[0]];\n      let rY2Arrj = [y2Arrj[0]];\n      const iteratingOpts = {\n        type,\n        series,\n        realIndex,\n        translationsIndex,\n        i,\n        x,\n        y,\n        pX,\n        pY,\n        pathsFrom,\n        linePaths,\n        areaPaths,\n        seriesIndex,\n        lineYPosition,\n        xArrj,\n        yArrj,\n        y2Arrj,\n        seriesRangeEnd\n      };\n      let paths = this._iterateOverDataPoints(__spreadProps(__spreadValues({}, iteratingOpts), {\n        iterations: type === \"rangeArea\" ? series[i].length - 1 : void 0,\n        isRangeStart: true\n      }));\n      if (type === \"rangeArea\") {\n        let pathsFrom2 = this._calculatePathsFrom({\n          series: seriesRangeEnd,\n          i,\n          realIndex,\n          prevX,\n          prevY: prevY2\n        });\n        let rangePaths = this._iterateOverDataPoints(__spreadProps(__spreadValues({}, iteratingOpts), {\n          series: seriesRangeEnd,\n          xArrj: [x],\n          yArrj: rYArrj,\n          y2Arrj: rY2Arrj,\n          pY: pY2,\n          areaPaths: paths.areaPaths,\n          pathsFrom: pathsFrom2,\n          iterations: seriesRangeEnd[i].length - 1,\n          isRangeStart: false\n        }));\n        let segments = paths.linePaths.length / 2;\n        for (let s = 0; s < segments; s++) {\n          paths.linePaths[s] = rangePaths.linePaths[s + segments] + paths.linePaths[s];\n        }\n        paths.linePaths.splice(segments);\n        paths.pathFromLine = rangePaths.pathFromLine + paths.pathFromLine;\n      } else {\n        paths.pathFromArea += \"z\";\n      }\n      this._handlePaths({\n        type,\n        realIndex,\n        i,\n        paths\n      });\n      this.elSeries.add(this.elPointsMain);\n      this.elSeries.add(this.elDataLabelsWrap);\n      allSeries.push(this.elSeries);\n    }\n    if (typeof ((_a = w.config.series[0]) == null ? void 0 : _a.zIndex) !== \"undefined\") {\n      allSeries.sort((a, b) => Number(a.node.getAttribute(\"zIndex\")) - Number(b.node.getAttribute(\"zIndex\")));\n    }\n    if (w.config.chart.stacked) {\n      for (let s = allSeries.length - 1; s >= 0; s--) {\n        ret.add(allSeries[s]);\n      }\n    } else {\n      for (let s = 0; s < allSeries.length; s++) {\n        ret.add(allSeries[s]);\n      }\n    }\n    return ret;\n  }\n  _initSerieVariables(series, i, realIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    this.xDivision = w.globals.gridWidth / (w.globals.dataPoints - (w.config.xaxis.tickPlacement === \"on\" ? 1 : 0));\n    this.strokeWidth = Array.isArray(w.config.stroke.width) ? w.config.stroke.width[realIndex] : w.config.stroke.width;\n    let translationsIndex = 0;\n    if (this.yRatio.length > 1) {\n      this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex];\n      translationsIndex = realIndex;\n    }\n    this.isReversed = w.config.yaxis[this.yaxisIndex] && w.config.yaxis[this.yaxisIndex].reversed;\n    this.zeroY = w.globals.gridHeight - this.baseLineY[translationsIndex] - (this.isReversed ? w.globals.gridHeight : 0) + (this.isReversed ? this.baseLineY[translationsIndex] * 2 : 0);\n    this.areaBottomY = this.zeroY;\n    if (this.zeroY > w.globals.gridHeight || w.config.plotOptions.area.fillTo === \"end\") {\n      this.areaBottomY = w.globals.gridHeight;\n    }\n    this.categoryAxisCorrection = this.xDivision / 2;\n    this.elSeries = graphics.group({\n      class: `apexcharts-series`,\n      zIndex: typeof w.config.series[realIndex].zIndex !== \"undefined\" ? w.config.series[realIndex].zIndex : realIndex,\n      seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex])\n    });\n    this.elPointsMain = graphics.group({\n      class: \"apexcharts-series-markers-wrap\",\n      \"data:realIndex\": realIndex\n    });\n    if (w.globals.hasNullValues) {\n      const firstPoint = this.markers.plotChartMarkers({\n        pointsPos: {\n          x: [0],\n          y: [w.globals.gridHeight + w.globals.markers.largestSize]\n        },\n        seriesIndex: i,\n        j: 0,\n        pSize: 0.1,\n        alwaysDrawMarker: true,\n        isVirtualPoint: true\n      });\n      if (firstPoint !== null) {\n        this.elPointsMain.add(firstPoint);\n      }\n    }\n    this.elDataLabelsWrap = graphics.group({\n      class: \"apexcharts-datalabels\",\n      \"data:realIndex\": realIndex\n    });\n    let longestSeries = series[i].length === w.globals.dataPoints;\n    this.elSeries.attr({\n      \"data:longestSeries\": longestSeries,\n      rel: i + 1,\n      \"data:realIndex\": realIndex\n    });\n    this.appendPathFrom = true;\n  }\n  _calculatePathsFrom({\n    type,\n    series,\n    i,\n    realIndex,\n    translationsIndex,\n    prevX,\n    prevY,\n    prevY2\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let linePath, areaPath, pathFromLine, pathFromArea;\n    if (series[i][0] === null) {\n      for (let s = 0; s < series[i].length; s++) {\n        if (series[i][s] !== null) {\n          prevX = this.xDivision * s;\n          prevY = this.zeroY - series[i][s] / this.yRatio[translationsIndex];\n          linePath = graphics.move(prevX, prevY);\n          areaPath = graphics.move(prevX, this.areaBottomY);\n          break;\n        }\n      }\n    } else {\n      linePath = graphics.move(prevX, prevY);\n      if (type === \"rangeArea\") {\n        linePath = graphics.move(prevX, prevY2) + graphics.line(prevX, prevY);\n      }\n      areaPath = graphics.move(prevX, this.areaBottomY) + graphics.line(prevX, prevY);\n    }\n    pathFromLine = graphics.move(0, this.areaBottomY) + graphics.line(0, this.areaBottomY);\n    pathFromArea = graphics.move(0, this.areaBottomY) + graphics.line(0, this.areaBottomY);\n    if (w.globals.previousPaths.length > 0) {\n      const pathFrom = this.lineHelpers.checkPreviousPaths({\n        pathFromLine,\n        pathFromArea,\n        realIndex\n      });\n      pathFromLine = pathFrom.pathFromLine;\n      pathFromArea = pathFrom.pathFromArea;\n    }\n    return {\n      prevX,\n      prevY,\n      linePath,\n      areaPath,\n      pathFromLine,\n      pathFromArea\n    };\n  }\n  _handlePaths({\n    type,\n    realIndex,\n    i,\n    paths\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const fill = new Fill(this.ctx);\n    this.prevSeriesY.push(paths.yArrj);\n    w.globals.seriesXvalues[realIndex] = paths.xArrj;\n    w.globals.seriesYvalues[realIndex] = paths.yArrj;\n    const forecast = w.config.forecastDataPoints;\n    if (forecast.count > 0 && type !== \"rangeArea\") {\n      const forecastCutoff = w.globals.seriesXvalues[realIndex][w.globals.seriesXvalues[realIndex].length - forecast.count - 1];\n      const elForecastMask = graphics.drawRect(forecastCutoff, 0, w.globals.gridWidth, w.globals.gridHeight, 0);\n      w.globals.dom.elForecastMask.appendChild(elForecastMask.node);\n      const elNonForecastMask = graphics.drawRect(0, 0, forecastCutoff, w.globals.gridHeight, 0);\n      w.globals.dom.elNonForecastMask.appendChild(elNonForecastMask.node);\n    }\n    if (!this.pointsChart) {\n      w.globals.delayedElements.push({\n        el: this.elPointsMain.node,\n        index: realIndex\n      });\n    }\n    const defaultRenderedPathOptions = {\n      i,\n      realIndex,\n      animationDelay: i,\n      initialSpeed: w.config.chart.animations.speed,\n      dataChangeSpeed: w.config.chart.animations.dynamicAnimation.speed,\n      className: `apexcharts-${type}`\n    };\n    if (type === \"area\") {\n      let pathFill = fill.fillPath({\n        seriesNumber: realIndex\n      });\n      for (let p = 0; p < paths.areaPaths.length; p++) {\n        let renderedPath = graphics.renderPaths(__spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: paths.pathFromArea,\n          pathTo: paths.areaPaths[p],\n          stroke: \"none\",\n          strokeWidth: 0,\n          strokeLineCap: null,\n          fill: pathFill\n        }));\n        this.elSeries.add(renderedPath);\n      }\n    }\n    if (w.config.stroke.show && !this.pointsChart) {\n      let lineFill = null;\n      if (type === \"line\") {\n        lineFill = fill.fillPath({\n          seriesNumber: realIndex,\n          i\n        });\n      } else {\n        if (w.config.stroke.fill.type === \"solid\") {\n          lineFill = w.globals.stroke.colors[realIndex];\n        } else {\n          const prevFill = w.config.fill;\n          w.config.fill = w.config.stroke.fill;\n          lineFill = fill.fillPath({\n            seriesNumber: realIndex,\n            i\n          });\n          w.config.fill = prevFill;\n        }\n      }\n      for (let p = 0; p < paths.linePaths.length; p++) {\n        let pathFill = lineFill;\n        if (type === \"rangeArea\") {\n          pathFill = fill.fillPath({\n            seriesNumber: realIndex\n          });\n        }\n        const linePathCommonOpts = __spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: paths.pathFromLine,\n          pathTo: paths.linePaths[p],\n          stroke: lineFill,\n          strokeWidth: this.strokeWidth,\n          strokeLineCap: w.config.stroke.lineCap,\n          fill: type === \"rangeArea\" ? pathFill : \"none\"\n        });\n        let renderedPath = graphics.renderPaths(linePathCommonOpts);\n        this.elSeries.add(renderedPath);\n        renderedPath.attr(\"fill-rule\", `evenodd`);\n        if (forecast.count > 0 && type !== \"rangeArea\") {\n          let renderedForecastPath = graphics.renderPaths(linePathCommonOpts);\n          renderedForecastPath.node.setAttribute(\"stroke-dasharray\", forecast.dashArray);\n          if (forecast.strokeWidth) {\n            renderedForecastPath.node.setAttribute(\"stroke-width\", forecast.strokeWidth);\n          }\n          this.elSeries.add(renderedForecastPath);\n          renderedForecastPath.attr(\"clip-path\", `url(#forecastMask${w.globals.cuid})`);\n          renderedPath.attr(\"clip-path\", `url(#nonForecastMask${w.globals.cuid})`);\n        }\n      }\n    }\n  }\n  _iterateOverDataPoints({\n    type,\n    series,\n    iterations,\n    realIndex,\n    translationsIndex,\n    i,\n    x,\n    y,\n    pX,\n    pY,\n    pathsFrom,\n    linePaths,\n    areaPaths,\n    seriesIndex,\n    lineYPosition,\n    xArrj,\n    yArrj,\n    y2Arrj,\n    isRangeStart,\n    seriesRangeEnd\n  }) {\n    var _a, _b;\n    const w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let yRatio = this.yRatio;\n    let {\n      prevY,\n      linePath,\n      areaPath,\n      pathFromLine,\n      pathFromArea\n    } = pathsFrom;\n    const minY = Utils$1.isNumber(w.globals.minYArr[realIndex]) ? w.globals.minYArr[realIndex] : w.globals.minY;\n    if (!iterations) {\n      iterations = w.globals.dataPoints > 1 ? w.globals.dataPoints - 1 : w.globals.dataPoints;\n    }\n    const getY = (_y, lineYPos) => {\n      return lineYPos - _y / yRatio[translationsIndex] + (this.isReversed ? _y / yRatio[translationsIndex] : 0) * 2;\n    };\n    let y2 = y;\n    let stackSeries = w.config.chart.stacked && !w.globals.comboCharts || w.config.chart.stacked && w.globals.comboCharts && (!this.w.config.chart.stackOnlyBar || ((_a = this.w.config.series[realIndex]) == null ? void 0 : _a.type) === \"bar\" || ((_b = this.w.config.series[realIndex]) == null ? void 0 : _b.type) === \"column\");\n    let curve = w.config.stroke.curve;\n    if (Array.isArray(curve)) {\n      if (Array.isArray(seriesIndex)) {\n        curve = curve[seriesIndex[i]];\n      } else {\n        curve = curve[i];\n      }\n    }\n    let pathState = 0;\n    let segmentStartX;\n    for (let j = 0; j < iterations; j++) {\n      if (series[i].length === 0) break;\n      const isNull = typeof series[i][j + 1] === \"undefined\" || series[i][j + 1] === null;\n      if (w.globals.isXNumeric) {\n        let sX = w.globals.seriesX[realIndex][j + 1];\n        if (typeof w.globals.seriesX[realIndex][j + 1] === \"undefined\") {\n          sX = w.globals.seriesX[realIndex][iterations - 1];\n        }\n        x = (sX - w.globals.minX) / this.xRatio;\n      } else {\n        x = x + this.xDivision;\n      }\n      if (stackSeries) {\n        if (i > 0 && w.globals.collapsedSeries.length < w.config.series.length - 1) {\n          const prevIndex = pi => {\n            for (let pii = pi; pii > 0; pii--) {\n              if (w.globals.collapsedSeriesIndices.indexOf((seriesIndex == null ? void 0 : seriesIndex[pii]) || pii) > -1) {\n                pii--;\n              } else {\n                return pii;\n              }\n            }\n            return 0;\n          };\n          lineYPosition = this.prevSeriesY[prevIndex(i - 1)][j + 1];\n        } else {\n          lineYPosition = this.zeroY;\n        }\n      } else {\n        lineYPosition = this.zeroY;\n      }\n      if (isNull) {\n        y = getY(minY, lineYPosition);\n      } else {\n        y = getY(series[i][j + 1], lineYPosition);\n        if (type === \"rangeArea\") {\n          y2 = getY(seriesRangeEnd[i][j + 1], lineYPosition);\n        }\n      }\n      xArrj.push(series[i][j + 1] === null ? null : x);\n      if (isNull && (w.config.stroke.curve === \"smooth\" || w.config.stroke.curve === \"monotoneCubic\")) {\n        yArrj.push(null);\n        y2Arrj.push(null);\n      } else {\n        yArrj.push(y);\n        y2Arrj.push(y2);\n      }\n      let pointsPos = this.lineHelpers.calculatePoints({\n        series,\n        x,\n        y,\n        realIndex,\n        i,\n        j,\n        prevY\n      });\n      let calculatedPaths = this._createPaths({\n        type,\n        series,\n        i,\n        j,\n        x,\n        y,\n        y2,\n        xArrj,\n        yArrj,\n        y2Arrj,\n        pX,\n        pY,\n        pathState,\n        segmentStartX,\n        linePath,\n        areaPath,\n        linePaths,\n        areaPaths,\n        curve,\n        isRangeStart\n      });\n      areaPaths = calculatedPaths.areaPaths;\n      linePaths = calculatedPaths.linePaths;\n      pX = calculatedPaths.pX;\n      pY = calculatedPaths.pY;\n      pathState = calculatedPaths.pathState;\n      segmentStartX = calculatedPaths.segmentStartX;\n      areaPath = calculatedPaths.areaPath;\n      linePath = calculatedPaths.linePath;\n      if (this.appendPathFrom && !w.globals.hasNullValues && !(curve === \"monotoneCubic\" && type === \"rangeArea\")) {\n        pathFromLine += graphics.line(x, this.areaBottomY);\n        pathFromArea += graphics.line(x, this.areaBottomY);\n      }\n      this.handleNullDataPoints(series, pointsPos, i, j, realIndex);\n      this._handleMarkersAndLabels({\n        type,\n        pointsPos,\n        i,\n        j,\n        realIndex,\n        isRangeStart\n      });\n    }\n    return {\n      yArrj,\n      xArrj,\n      pathFromArea,\n      areaPaths,\n      pathFromLine,\n      linePaths,\n      linePath,\n      areaPath\n    };\n  }\n  _handleMarkersAndLabels({\n    type,\n    pointsPos,\n    isRangeStart,\n    i,\n    j,\n    realIndex\n  }) {\n    const w = this.w;\n    let dataLabels = new DataLabels(this.ctx);\n    if (!this.pointsChart) {\n      if (w.globals.series[i].length > 1) {\n        this.elPointsMain.node.classList.add(\"apexcharts-element-hidden\");\n      }\n      let elPointsWrap = this.markers.plotChartMarkers({\n        pointsPos,\n        seriesIndex: realIndex,\n        j: j + 1\n      });\n      if (elPointsWrap !== null) {\n        this.elPointsMain.add(elPointsWrap);\n      }\n    } else {\n      this.scatter.draw(this.elSeries, j, {\n        realIndex,\n        pointsPos,\n        zRatio: this.zRatio,\n        elParent: this.elPointsMain\n      });\n    }\n    let drawnLabels = dataLabels.drawDataLabel({\n      type,\n      isRangeStart,\n      pos: pointsPos,\n      i: realIndex,\n      j: j + 1\n    });\n    if (drawnLabels !== null) {\n      this.elDataLabelsWrap.add(drawnLabels);\n    }\n  }\n  _createPaths({\n    type,\n    series,\n    i,\n    j,\n    x,\n    y,\n    xArrj,\n    yArrj,\n    y2,\n    y2Arrj,\n    pX,\n    pY,\n    pathState,\n    segmentStartX,\n    linePath,\n    areaPath,\n    linePaths,\n    areaPaths,\n    curve,\n    isRangeStart\n  }) {\n    let graphics = new Graphics(this.ctx);\n    const areaBottomY = this.areaBottomY;\n    let rangeArea = type === \"rangeArea\";\n    let isLowerRangeAreaPath = type === \"rangeArea\" && isRangeStart;\n    switch (curve) {\n      case \"monotoneCubic\":\n        {\n          let yAj = isRangeStart ? yArrj : y2Arrj;\n          let getSmoothInputs = (xArr, yArr) => {\n            return xArr.map((_, i2) => {\n              return [_, yArr[i2]];\n            }).filter(_ => _[1] !== null);\n          };\n          let getSegmentLengths = yArr => {\n            let segLens = [];\n            let count = 0;\n            yArr.forEach(_ => {\n              if (_ !== null) {\n                count++;\n              } else if (count > 0) {\n                segLens.push(count);\n                count = 0;\n              }\n            });\n            if (count > 0) {\n              segLens.push(count);\n            }\n            return segLens;\n          };\n          let getSegments = (yArr, points) => {\n            let segLens = getSegmentLengths(yArr);\n            let segments = [];\n            for (let i2 = 0, len = 0; i2 < segLens.length; len += segLens[i2++]) {\n              segments[i2] = spline.slice(points, len, len + segLens[i2]);\n            }\n            return segments;\n          };\n          switch (pathState) {\n            case 0:\n              if (yAj[j + 1] === null) {\n                break;\n              }\n              pathState = 1;\n            // falls through\n            case 1:\n              if (!(rangeArea ? xArrj.length === series[i].length : j === series[i].length - 2)) {\n                break;\n              }\n            // falls through\n            case 2:\n              {\n                const _xAj = isRangeStart ? xArrj : xArrj.slice().reverse();\n                const _yAj = isRangeStart ? yAj : yAj.slice().reverse();\n                const smoothInputs = getSmoothInputs(_xAj, _yAj);\n                const points = smoothInputs.length > 1 ? spline.points(smoothInputs) : smoothInputs;\n                let smoothInputsLower = [];\n                if (rangeArea) {\n                  if (isLowerRangeAreaPath) {\n                    areaPaths = smoothInputs;\n                  } else {\n                    smoothInputsLower = areaPaths.reverse();\n                  }\n                }\n                let segmentCount = 0;\n                let smoothInputsIndex = 0;\n                getSegments(_yAj, points).forEach(_ => {\n                  segmentCount++;\n                  let svgPoints = svgPath(_);\n                  let _start = smoothInputsIndex;\n                  smoothInputsIndex += _.length;\n                  let _end = smoothInputsIndex - 1;\n                  if (isLowerRangeAreaPath) {\n                    linePath = graphics.move(smoothInputs[_start][0], smoothInputs[_start][1]) + svgPoints;\n                  } else if (rangeArea) {\n                    linePath = graphics.move(smoothInputsLower[_start][0], smoothInputsLower[_start][1]) + graphics.line(smoothInputs[_start][0], smoothInputs[_start][1]) + svgPoints + graphics.line(smoothInputsLower[_end][0], smoothInputsLower[_end][1]);\n                  } else {\n                    linePath = graphics.move(smoothInputs[_start][0], smoothInputs[_start][1]) + svgPoints;\n                    areaPath = linePath + graphics.line(smoothInputs[_end][0], areaBottomY) + graphics.line(smoothInputs[_start][0], areaBottomY) + \"z\";\n                    areaPaths.push(areaPath);\n                  }\n                  linePaths.push(linePath);\n                });\n                if (rangeArea && segmentCount > 1 && !isLowerRangeAreaPath) {\n                  let upperLinePaths = linePaths.slice(segmentCount).reverse();\n                  linePaths.splice(segmentCount);\n                  upperLinePaths.forEach(u => linePaths.push(u));\n                }\n                pathState = 0;\n                break;\n              }\n          }\n          break;\n        }\n      case \"smooth\":\n        {\n          let length = (x - pX) * 0.35;\n          if (series[i][j] === null) {\n            pathState = 0;\n          } else {\n            switch (pathState) {\n              case 0:\n                segmentStartX = pX;\n                if (isLowerRangeAreaPath) {\n                  linePath = graphics.move(pX, y2Arrj[j]) + graphics.line(pX, pY);\n                } else {\n                  linePath = graphics.move(pX, pY);\n                }\n                areaPath = graphics.move(pX, pY);\n                if (series[i][j + 1] === null || typeof series[i][j + 1] === \"undefined\") {\n                  linePaths.push(linePath);\n                  areaPaths.push(areaPath);\n                  break;\n                }\n                pathState = 1;\n                if (j < series[i].length - 2) {\n                  let p = graphics.curve(pX + length, pY, x - length, y, x, y);\n                  linePath += p;\n                  areaPath += p;\n                  break;\n                }\n              // falls through\n              case 1:\n                if (series[i][j + 1] === null) {\n                  if (isLowerRangeAreaPath) {\n                    linePath += graphics.line(pX, y2);\n                  } else {\n                    linePath += graphics.move(pX, pY);\n                  }\n                  areaPath += graphics.line(pX, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                  linePaths.push(linePath);\n                  areaPaths.push(areaPath);\n                  pathState = -1;\n                } else {\n                  let p = graphics.curve(pX + length, pY, x - length, y, x, y);\n                  linePath += p;\n                  areaPath += p;\n                  if (j >= series[i].length - 2) {\n                    if (isLowerRangeAreaPath) {\n                      linePath += graphics.curve(x, y, x, y, x, y2) + graphics.move(x, y2);\n                    }\n                    areaPath += graphics.curve(x, y, x, y, x, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                    linePaths.push(linePath);\n                    areaPaths.push(areaPath);\n                    pathState = -1;\n                  }\n                }\n                break;\n            }\n          }\n          pX = x;\n          pY = y;\n          break;\n        }\n      default:\n        {\n          let pathToPoint = (curve2, x2, y3) => {\n            let path = [];\n            switch (curve2) {\n              case \"stepline\":\n                path = graphics.line(x2, null, \"H\") + graphics.line(null, y3, \"V\");\n                break;\n              case \"linestep\":\n                path = graphics.line(null, y3, \"V\") + graphics.line(x2, null, \"H\");\n                break;\n              case \"straight\":\n                path = graphics.line(x2, y3);\n                break;\n            }\n            return path;\n          };\n          if (series[i][j] === null) {\n            pathState = 0;\n          } else {\n            switch (pathState) {\n              case 0:\n                segmentStartX = pX;\n                if (isLowerRangeAreaPath) {\n                  linePath = graphics.move(pX, y2Arrj[j]) + graphics.line(pX, pY);\n                } else {\n                  linePath = graphics.move(pX, pY);\n                }\n                areaPath = graphics.move(pX, pY);\n                if (series[i][j + 1] === null || typeof series[i][j + 1] === \"undefined\") {\n                  linePaths.push(linePath);\n                  areaPaths.push(areaPath);\n                  break;\n                }\n                pathState = 1;\n                if (j < series[i].length - 2) {\n                  let p = pathToPoint(curve, x, y);\n                  linePath += p;\n                  areaPath += p;\n                  break;\n                }\n              // falls through\n              case 1:\n                if (series[i][j + 1] === null) {\n                  if (isLowerRangeAreaPath) {\n                    linePath += graphics.line(pX, y2);\n                  } else {\n                    linePath += graphics.move(pX, pY);\n                  }\n                  areaPath += graphics.line(pX, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                  linePaths.push(linePath);\n                  areaPaths.push(areaPath);\n                  pathState = -1;\n                } else {\n                  let p = pathToPoint(curve, x, y);\n                  linePath += p;\n                  areaPath += p;\n                  if (j >= series[i].length - 2) {\n                    if (isLowerRangeAreaPath) {\n                      linePath += graphics.line(x, y2);\n                    }\n                    areaPath += graphics.line(x, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                    linePaths.push(linePath);\n                    areaPaths.push(areaPath);\n                    pathState = -1;\n                  }\n                }\n                break;\n            }\n          }\n          pX = x;\n          pY = y;\n          break;\n        }\n    }\n    return {\n      linePaths,\n      areaPaths,\n      pX,\n      pY,\n      pathState,\n      segmentStartX,\n      linePath,\n      areaPath\n    };\n  }\n  handleNullDataPoints(series, pointsPos, i, j, realIndex) {\n    const w = this.w;\n    if (series[i][j] === null && w.config.markers.showNullDataPoints || series[i].length === 1) {\n      let pSize = this.strokeWidth - w.config.markers.strokeWidth / 2;\n      if (!(pSize > 0)) {\n        pSize = 0;\n      }\n      let elPointsWrap = this.markers.plotChartMarkers({\n        pointsPos,\n        seriesIndex: realIndex,\n        j: j + 1,\n        pSize,\n        alwaysDrawMarker: true\n      });\n      if (elPointsWrap !== null) {\n        this.elPointsMain.add(elPointsWrap);\n      }\n    }\n  }\n}\nclass CircularChartsHelpers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  drawYAxisTexts(x, y, i, text) {\n    const w = this.w;\n    const yaxisConfig = w.config.yaxis[0];\n    const formatter = w.globals.yLabelFormatters[0];\n    const graphics = new Graphics(this.ctx);\n    const yaxisLabel = graphics.drawText({\n      x: x + yaxisConfig.labels.offsetX,\n      y: y + yaxisConfig.labels.offsetY,\n      text: formatter(text, i),\n      textAnchor: \"middle\",\n      fontSize: yaxisConfig.labels.style.fontSize,\n      fontFamily: yaxisConfig.labels.style.fontFamily,\n      foreColor: Array.isArray(yaxisConfig.labels.style.colors) ? yaxisConfig.labels.style.colors[i] : yaxisConfig.labels.style.colors\n    });\n    return yaxisLabel;\n  }\n}\nclass Pie {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.chartType = this.w.config.chart.type;\n    this.initialAnim = this.w.config.chart.animations.enabled;\n    this.dynamicAnim = this.initialAnim && this.w.config.chart.animations.dynamicAnimation.enabled;\n    this.animBeginArr = [0];\n    this.animDur = 0;\n    this.donutDataLabels = this.w.config.plotOptions.pie.donut.labels;\n    this.lineColorArr = w.globals.stroke.colors !== void 0 ? w.globals.stroke.colors : w.globals.colors;\n    this.defaultSize = Math.min(w.globals.gridWidth, w.globals.gridHeight);\n    this.centerY = this.defaultSize / 2;\n    this.centerX = w.globals.gridWidth / 2;\n    if (w.config.chart.type === \"radialBar\") {\n      this.fullAngle = 360;\n    } else {\n      this.fullAngle = Math.abs(w.config.plotOptions.pie.endAngle - w.config.plotOptions.pie.startAngle);\n    }\n    this.initialAngle = w.config.plotOptions.pie.startAngle % this.fullAngle;\n    w.globals.radialSize = this.defaultSize / 2.05 - w.config.stroke.width - (!w.config.chart.sparkline.enabled ? w.config.chart.dropShadow.blur : 0);\n    this.donutSize = w.globals.radialSize * parseInt(w.config.plotOptions.pie.donut.size, 10) / 100;\n    let scaleSize = w.config.plotOptions.pie.customScale;\n    let halfW = w.globals.gridWidth / 2;\n    let halfH = w.globals.gridHeight / 2;\n    this.translateX = halfW - halfW * scaleSize;\n    this.translateY = halfH - halfH * scaleSize;\n    this.dataLabelsGroup = new Graphics(this.ctx).group({\n      class: \"apexcharts-datalabels-group\",\n      transform: `translate(${this.translateX}, ${this.translateY}) scale(${scaleSize})`\n    });\n    this.maxY = 0;\n    this.sliceLabels = [];\n    this.sliceSizes = [];\n    this.prevSectorAngleArr = [];\n  }\n  draw(series) {\n    let self = this;\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let elPie = graphics.group({\n      class: \"apexcharts-pie\"\n    });\n    if (w.globals.noData) return elPie;\n    let total = 0;\n    for (let k = 0; k < series.length; k++) {\n      total += Utils$1.negToZero(series[k]);\n    }\n    let sectorAngleArr = [];\n    let elSeries = graphics.group();\n    if (total === 0) {\n      total = 1e-5;\n    }\n    series.forEach(m => {\n      this.maxY = Math.max(this.maxY, m);\n    });\n    if (w.config.yaxis[0].max) {\n      this.maxY = w.config.yaxis[0].max;\n    }\n    if (w.config.grid.position === \"back\" && this.chartType === \"polarArea\") {\n      this.drawPolarElements(elPie);\n    }\n    for (let i = 0; i < series.length; i++) {\n      let angle = this.fullAngle * Utils$1.negToZero(series[i]) / total;\n      sectorAngleArr.push(angle);\n      if (this.chartType === \"polarArea\") {\n        sectorAngleArr[i] = this.fullAngle / series.length;\n        this.sliceSizes.push(w.globals.radialSize * series[i] / this.maxY);\n      } else {\n        this.sliceSizes.push(w.globals.radialSize);\n      }\n    }\n    if (w.globals.dataChanged) {\n      let prevTotal = 0;\n      for (let k = 0; k < w.globals.previousPaths.length; k++) {\n        prevTotal += Utils$1.negToZero(w.globals.previousPaths[k]);\n      }\n      let previousAngle;\n      for (let i = 0; i < w.globals.previousPaths.length; i++) {\n        previousAngle = this.fullAngle * Utils$1.negToZero(w.globals.previousPaths[i]) / prevTotal;\n        this.prevSectorAngleArr.push(previousAngle);\n      }\n    }\n    if (this.donutSize < 0) {\n      this.donutSize = 0;\n    }\n    if (this.chartType === \"donut\") {\n      const circle = graphics.drawCircle(this.donutSize);\n      circle.attr({\n        cx: this.centerX,\n        cy: this.centerY,\n        fill: w.config.plotOptions.pie.donut.background ? w.config.plotOptions.pie.donut.background : \"transparent\"\n      });\n      elSeries.add(circle);\n    }\n    let elG = self.drawArcs(sectorAngleArr, series);\n    this.sliceLabels.forEach(s => {\n      elG.add(s);\n    });\n    elSeries.attr({\n      transform: `translate(${this.translateX}, ${this.translateY}) scale(${w.config.plotOptions.pie.customScale})`\n    });\n    elSeries.add(elG);\n    elPie.add(elSeries);\n    if (this.donutDataLabels.show) {\n      let dataLabels = this.renderInnerDataLabels(this.dataLabelsGroup, this.donutDataLabels, {\n        hollowSize: this.donutSize,\n        centerX: this.centerX,\n        centerY: this.centerY,\n        opacity: this.donutDataLabels.show\n      });\n      elPie.add(dataLabels);\n    }\n    if (w.config.grid.position === \"front\" && this.chartType === \"polarArea\") {\n      this.drawPolarElements(elPie);\n    }\n    return elPie;\n  }\n  // core function for drawing pie arcs\n  drawArcs(sectorAngleArr, series) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    let graphics = new Graphics(this.ctx);\n    let fill = new Fill(this.ctx);\n    let g = graphics.group({\n      class: \"apexcharts-slices\"\n    });\n    let startAngle = this.initialAngle;\n    let prevStartAngle = this.initialAngle;\n    let endAngle = this.initialAngle;\n    let prevEndAngle = this.initialAngle;\n    this.strokeWidth = w.config.stroke.show ? w.config.stroke.width : 0;\n    for (let i = 0; i < sectorAngleArr.length; i++) {\n      let elPieArc = graphics.group({\n        class: `apexcharts-series apexcharts-pie-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      g.add(elPieArc);\n      startAngle = endAngle;\n      prevStartAngle = prevEndAngle;\n      endAngle = startAngle + sectorAngleArr[i];\n      prevEndAngle = prevStartAngle + this.prevSectorAngleArr[i];\n      const angle = endAngle < startAngle ? this.fullAngle + endAngle - startAngle : endAngle - startAngle;\n      let pathFill = fill.fillPath({\n        seriesNumber: i,\n        size: this.sliceSizes[i],\n        value: series[i]\n      });\n      let path = this.getChangedPath(prevStartAngle, prevEndAngle);\n      let elPath = graphics.drawPath({\n        d: path,\n        stroke: Array.isArray(this.lineColorArr) ? this.lineColorArr[i] : this.lineColorArr,\n        strokeWidth: 0,\n        fill: pathFill,\n        fillOpacity: w.config.fill.opacity,\n        classes: `apexcharts-pie-area apexcharts-${this.chartType.toLowerCase()}-slice-${i}`\n      });\n      elPath.attr({\n        index: 0,\n        j: i\n      });\n      filters.setSelectionFilter(elPath, 0, i);\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        filters.dropShadow(elPath, shadow, i);\n      }\n      this.addListeners(elPath, this.donutDataLabels);\n      Graphics.setAttrs(elPath.node, {\n        \"data:angle\": angle,\n        \"data:startAngle\": startAngle,\n        \"data:strokeWidth\": this.strokeWidth,\n        \"data:value\": series[i]\n      });\n      let labelPosition = {\n        x: 0,\n        y: 0\n      };\n      if (this.chartType === \"pie\" || this.chartType === \"polarArea\") {\n        labelPosition = Utils$1.polarToCartesian(this.centerX, this.centerY, w.globals.radialSize / 1.25 + w.config.plotOptions.pie.dataLabels.offset, (startAngle + angle / 2) % this.fullAngle);\n      } else if (this.chartType === \"donut\") {\n        labelPosition = Utils$1.polarToCartesian(this.centerX, this.centerY, (w.globals.radialSize + this.donutSize) / 2 + w.config.plotOptions.pie.dataLabels.offset, (startAngle + angle / 2) % this.fullAngle);\n      }\n      elPieArc.add(elPath);\n      let dur = 0;\n      if (this.initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n        dur = angle / this.fullAngle * w.config.chart.animations.speed;\n        if (dur === 0) dur = 1;\n        this.animDur = dur + this.animDur;\n        this.animBeginArr.push(this.animDur);\n      } else {\n        this.animBeginArr.push(0);\n      }\n      if (this.dynamicAnim && w.globals.dataChanged) {\n        this.animatePaths(elPath, {\n          size: this.sliceSizes[i],\n          endAngle,\n          startAngle,\n          prevStartAngle,\n          prevEndAngle,\n          animateStartingPos: true,\n          i,\n          animBeginArr: this.animBeginArr,\n          shouldSetPrevPaths: true,\n          dur: w.config.chart.animations.dynamicAnimation.speed\n        });\n      } else {\n        this.animatePaths(elPath, {\n          size: this.sliceSizes[i],\n          endAngle,\n          startAngle,\n          i,\n          totalItems: sectorAngleArr.length - 1,\n          animBeginArr: this.animBeginArr,\n          dur\n        });\n      }\n      if (w.config.plotOptions.pie.expandOnClick && this.chartType !== \"polarArea\") {\n        elPath.node.addEventListener(\"mouseup\", this.pieClicked.bind(this, i));\n      }\n      if (typeof w.globals.selectedDataPoints[0] !== \"undefined\" && w.globals.selectedDataPoints[0].indexOf(i) > -1) {\n        this.pieClicked(i);\n      }\n      if (w.config.dataLabels.enabled) {\n        let xPos = labelPosition.x;\n        let yPos = labelPosition.y;\n        let text = 100 * angle / this.fullAngle + \"%\";\n        if (angle !== 0 && w.config.plotOptions.pie.dataLabels.minAngleToShowLabel < sectorAngleArr[i]) {\n          let formatter = w.config.dataLabels.formatter;\n          if (formatter !== void 0) {\n            text = formatter(w.globals.seriesPercent[i][0], {\n              seriesIndex: i,\n              w\n            });\n          }\n          let foreColor = w.globals.dataLabels.style.colors[i];\n          const elPieLabelWrap = graphics.group({\n            class: `apexcharts-datalabels`\n          });\n          let elPieLabel = graphics.drawText({\n            x: xPos,\n            y: yPos,\n            text,\n            textAnchor: \"middle\",\n            fontSize: w.config.dataLabels.style.fontSize,\n            fontFamily: w.config.dataLabels.style.fontFamily,\n            fontWeight: w.config.dataLabels.style.fontWeight,\n            foreColor\n          });\n          elPieLabelWrap.add(elPieLabel);\n          if (w.config.dataLabels.dropShadow.enabled) {\n            const textShadow = w.config.dataLabels.dropShadow;\n            filters.dropShadow(elPieLabel, textShadow);\n          }\n          elPieLabel.node.classList.add(\"apexcharts-pie-label\");\n          if (w.config.chart.animations.animate && w.globals.resized === false) {\n            elPieLabel.node.classList.add(\"apexcharts-pie-label-delay\");\n            elPieLabel.node.style.animationDelay = w.config.chart.animations.speed / 940 + \"s\";\n          }\n          this.sliceLabels.push(elPieLabelWrap);\n        }\n      }\n    }\n    return g;\n  }\n  addListeners(elPath, dataLabels) {\n    const graphics = new Graphics(this.ctx);\n    elPath.node.addEventListener(\"mouseenter\", graphics.pathMouseEnter.bind(this, elPath));\n    elPath.node.addEventListener(\"mouseleave\", graphics.pathMouseLeave.bind(this, elPath));\n    elPath.node.addEventListener(\"mouseleave\", this.revertDataLabelsInner.bind(this, elPath.node, dataLabels));\n    elPath.node.addEventListener(\"mousedown\", graphics.pathMouseDown.bind(this, elPath));\n    if (!this.donutDataLabels.total.showAlways) {\n      elPath.node.addEventListener(\"mouseenter\", this.printDataLabelsInner.bind(this, elPath.node, dataLabels));\n      elPath.node.addEventListener(\"mousedown\", this.printDataLabelsInner.bind(this, elPath.node, dataLabels));\n    }\n  }\n  // This function can be used for other circle charts too\n  animatePaths(el, opts) {\n    let w = this.w;\n    let me = this;\n    let angle = opts.endAngle < opts.startAngle ? this.fullAngle + opts.endAngle - opts.startAngle : opts.endAngle - opts.startAngle;\n    let prevAngle = angle;\n    let fromStartAngle = opts.startAngle;\n    let toStartAngle = opts.startAngle;\n    if (opts.prevStartAngle !== void 0 && opts.prevEndAngle !== void 0) {\n      fromStartAngle = opts.prevEndAngle;\n      prevAngle = opts.prevEndAngle < opts.prevStartAngle ? this.fullAngle + opts.prevEndAngle - opts.prevStartAngle : opts.prevEndAngle - opts.prevStartAngle;\n    }\n    if (opts.i === w.config.series.length - 1) {\n      if (angle + toStartAngle > this.fullAngle) {\n        opts.endAngle = opts.endAngle - (angle + toStartAngle);\n      } else if (angle + toStartAngle < this.fullAngle) {\n        opts.endAngle = opts.endAngle + (this.fullAngle - (angle + toStartAngle));\n      }\n    }\n    if (angle === this.fullAngle) angle = this.fullAngle - 0.01;\n    me.animateArc(el, fromStartAngle, toStartAngle, angle, prevAngle, opts);\n  }\n  animateArc(el, fromStartAngle, toStartAngle, angle, prevAngle, opts) {\n    let me = this;\n    const w = this.w;\n    const animations = new Animations(this.ctx);\n    let size = opts.size;\n    let path;\n    if (isNaN(fromStartAngle) || isNaN(prevAngle)) {\n      fromStartAngle = toStartAngle;\n      prevAngle = angle;\n      opts.dur = 0;\n    }\n    let currAngle = angle;\n    let startAngle = toStartAngle;\n    let fromAngle = fromStartAngle < toStartAngle ? this.fullAngle + fromStartAngle - toStartAngle : fromStartAngle - toStartAngle;\n    if (w.globals.dataChanged && opts.shouldSetPrevPaths) {\n      if (opts.prevEndAngle) {\n        path = me.getPiePath({\n          me,\n          startAngle: opts.prevStartAngle,\n          angle: opts.prevEndAngle < opts.prevStartAngle ? this.fullAngle + opts.prevEndAngle - opts.prevStartAngle : opts.prevEndAngle - opts.prevStartAngle,\n          size\n        });\n        el.attr({\n          d: path\n        });\n      }\n    }\n    if (opts.dur !== 0) {\n      el.animate(opts.dur, opts.animBeginArr[opts.i]).after(function () {\n        if (me.chartType === \"pie\" || me.chartType === \"donut\" || me.chartType === \"polarArea\") {\n          this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({\n            \"stroke-width\": me.strokeWidth\n          });\n        }\n        if (opts.i === w.config.series.length - 1) {\n          animations.animationCompleted(el);\n        }\n      }).during(pos => {\n        currAngle = fromAngle + (angle - fromAngle) * pos;\n        if (opts.animateStartingPos) {\n          currAngle = prevAngle + (angle - prevAngle) * pos;\n          startAngle = fromStartAngle - prevAngle + (toStartAngle - (fromStartAngle - prevAngle)) * pos;\n        }\n        path = me.getPiePath({\n          me,\n          startAngle,\n          angle: currAngle,\n          size\n        });\n        el.node.setAttribute(\"data:pathOrig\", path);\n        el.attr({\n          d: path\n        });\n      });\n    } else {\n      path = me.getPiePath({\n        me,\n        startAngle,\n        angle,\n        size\n      });\n      if (!opts.isTrack) {\n        w.globals.animationEnded = true;\n      }\n      el.node.setAttribute(\"data:pathOrig\", path);\n      el.attr({\n        d: path,\n        \"stroke-width\": me.strokeWidth\n      });\n    }\n  }\n  pieClicked(i) {\n    let w = this.w;\n    let me = this;\n    let path;\n    let size = me.sliceSizes[i] + (w.config.plotOptions.pie.expandOnClick ? 4 : 0);\n    let elPath = w.globals.dom.Paper.findOne(`.apexcharts-${me.chartType.toLowerCase()}-slice-${i}`);\n    if (elPath.attr(\"data:pieClicked\") === \"true\") {\n      elPath.attr({\n        \"data:pieClicked\": \"false\"\n      });\n      this.revertDataLabelsInner(elPath.node, this.donutDataLabels);\n      let origPath = elPath.attr(\"data:pathOrig\");\n      elPath.attr({\n        d: origPath\n      });\n      return;\n    } else {\n      let allEls = w.globals.dom.baseEl.getElementsByClassName(\"apexcharts-pie-area\");\n      Array.prototype.forEach.call(allEls, pieSlice => {\n        pieSlice.setAttribute(\"data:pieClicked\", \"false\");\n        let origPath = pieSlice.getAttribute(\"data:pathOrig\");\n        if (origPath) {\n          pieSlice.setAttribute(\"d\", origPath);\n        }\n      });\n      w.globals.capturedDataPointIndex = i;\n      elPath.attr(\"data:pieClicked\", \"true\");\n    }\n    let startAngle = parseInt(elPath.attr(\"data:startAngle\"), 10);\n    let angle = parseInt(elPath.attr(\"data:angle\"), 10);\n    path = me.getPiePath({\n      me,\n      startAngle,\n      angle,\n      size\n    });\n    if (angle === 360) return;\n    elPath.plot(path);\n  }\n  getChangedPath(prevStartAngle, prevEndAngle) {\n    let path = \"\";\n    if (this.dynamicAnim && this.w.globals.dataChanged) {\n      path = this.getPiePath({\n        me: this,\n        startAngle: prevStartAngle,\n        angle: prevEndAngle - prevStartAngle,\n        size: this.size\n      });\n    }\n    return path;\n  }\n  getPiePath({\n    me,\n    startAngle,\n    angle,\n    size\n  }) {\n    let path;\n    const graphics = new Graphics(this.ctx);\n    let startDeg = startAngle;\n    let startRadians = Math.PI * (startDeg - 90) / 180;\n    let endDeg = angle + startAngle;\n    if (Math.ceil(endDeg) >= this.fullAngle + this.w.config.plotOptions.pie.startAngle % this.fullAngle) {\n      endDeg = this.fullAngle + this.w.config.plotOptions.pie.startAngle % this.fullAngle - 0.01;\n    }\n    if (Math.ceil(endDeg) > this.fullAngle) endDeg -= this.fullAngle;\n    let endRadians = Math.PI * (endDeg - 90) / 180;\n    let x1 = me.centerX + size * Math.cos(startRadians);\n    let y1 = me.centerY + size * Math.sin(startRadians);\n    let x2 = me.centerX + size * Math.cos(endRadians);\n    let y2 = me.centerY + size * Math.sin(endRadians);\n    let startInner = Utils$1.polarToCartesian(me.centerX, me.centerY, me.donutSize, endDeg);\n    let endInner = Utils$1.polarToCartesian(me.centerX, me.centerY, me.donutSize, startDeg);\n    let largeArc = angle > 180 ? 1 : 0;\n    const pathBeginning = [\"M\", x1, y1, \"A\", size, size, 0, largeArc, 1, x2, y2];\n    if (me.chartType === \"donut\") {\n      path = [...pathBeginning, \"L\", startInner.x, startInner.y, \"A\", me.donutSize, me.donutSize, 0, largeArc, 0, endInner.x, endInner.y, \"L\", x1, y1, \"z\"].join(\" \");\n    } else if (me.chartType === \"pie\" || me.chartType === \"polarArea\") {\n      path = [...pathBeginning, \"L\", me.centerX, me.centerY, \"L\", x1, y1].join(\" \");\n    } else {\n      path = [...pathBeginning].join(\" \");\n    }\n    return graphics.roundPathCorners(path, this.strokeWidth * 2);\n  }\n  drawPolarElements(parent) {\n    const w = this.w;\n    const scale = new Scales(this.ctx);\n    const graphics = new Graphics(this.ctx);\n    const helpers = new CircularChartsHelpers(this.ctx);\n    const gCircles = graphics.group();\n    const gYAxis = graphics.group();\n    const yScale = scale.niceScale(0, Math.ceil(this.maxY), 0);\n    const yTexts = yScale.result.reverse();\n    let len = yScale.result.length;\n    this.maxY = yScale.niceMax;\n    let circleSize = w.globals.radialSize;\n    let diff = circleSize / (len - 1);\n    for (let i = 0; i < len - 1; i++) {\n      const circle = graphics.drawCircle(circleSize);\n      circle.attr({\n        cx: this.centerX,\n        cy: this.centerY,\n        fill: \"none\",\n        \"stroke-width\": w.config.plotOptions.polarArea.rings.strokeWidth,\n        stroke: w.config.plotOptions.polarArea.rings.strokeColor\n      });\n      if (w.config.yaxis[0].show) {\n        const yLabel = helpers.drawYAxisTexts(this.centerX, this.centerY - circleSize + parseInt(w.config.yaxis[0].labels.style.fontSize, 10) / 2, i, yTexts[i]);\n        gYAxis.add(yLabel);\n      }\n      gCircles.add(circle);\n      circleSize = circleSize - diff;\n    }\n    this.drawSpokes(parent);\n    parent.add(gCircles);\n    parent.add(gYAxis);\n  }\n  renderInnerDataLabels(dataLabelsGroup, dataLabelsConfig, opts) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const showTotal = dataLabelsConfig.total.show;\n    dataLabelsGroup.node.innerHTML = \"\";\n    dataLabelsGroup.node.style.opacity = opts.opacity;\n    let x = opts.centerX;\n    let y = !this.donutDataLabels.total.label ? opts.centerY - opts.centerY / 6 : opts.centerY;\n    let labelColor, valueColor;\n    if (dataLabelsConfig.name.color === void 0) {\n      labelColor = w.globals.colors[0];\n    } else {\n      labelColor = dataLabelsConfig.name.color;\n    }\n    let labelFontSize = dataLabelsConfig.name.fontSize;\n    let labelFontFamily = dataLabelsConfig.name.fontFamily;\n    let labelFontWeight = dataLabelsConfig.name.fontWeight;\n    if (dataLabelsConfig.value.color === void 0) {\n      valueColor = w.config.chart.foreColor;\n    } else {\n      valueColor = dataLabelsConfig.value.color;\n    }\n    let lbFormatter = dataLabelsConfig.value.formatter;\n    let val = \"\";\n    let name2 = \"\";\n    if (showTotal) {\n      labelColor = dataLabelsConfig.total.color;\n      labelFontSize = dataLabelsConfig.total.fontSize;\n      labelFontFamily = dataLabelsConfig.total.fontFamily;\n      labelFontWeight = dataLabelsConfig.total.fontWeight;\n      name2 = !this.donutDataLabels.total.label ? \"\" : dataLabelsConfig.total.label;\n      val = dataLabelsConfig.total.formatter(w);\n    } else {\n      if (w.globals.series.length === 1) {\n        val = lbFormatter(w.globals.series[0], w);\n        name2 = w.globals.seriesNames[0];\n      }\n    }\n    if (name2) {\n      name2 = dataLabelsConfig.name.formatter(name2, dataLabelsConfig.total.show, w);\n    }\n    if (dataLabelsConfig.name.show) {\n      let elLabel = graphics.drawText({\n        x,\n        y: y + parseFloat(dataLabelsConfig.name.offsetY),\n        text: name2,\n        textAnchor: \"middle\",\n        foreColor: labelColor,\n        fontSize: labelFontSize,\n        fontWeight: labelFontWeight,\n        fontFamily: labelFontFamily\n      });\n      elLabel.node.classList.add(\"apexcharts-datalabel-label\");\n      dataLabelsGroup.add(elLabel);\n    }\n    if (dataLabelsConfig.value.show) {\n      let valOffset = dataLabelsConfig.name.show ? parseFloat(dataLabelsConfig.value.offsetY) + 16 : dataLabelsConfig.value.offsetY;\n      let elValue = graphics.drawText({\n        x,\n        y: y + valOffset,\n        text: val,\n        textAnchor: \"middle\",\n        foreColor: valueColor,\n        fontWeight: dataLabelsConfig.value.fontWeight,\n        fontSize: dataLabelsConfig.value.fontSize,\n        fontFamily: dataLabelsConfig.value.fontFamily\n      });\n      elValue.node.classList.add(\"apexcharts-datalabel-value\");\n      dataLabelsGroup.add(elValue);\n    }\n    return dataLabelsGroup;\n  }\n  /**\n   *\n   * @param {string} name - The name of the series\n   * @param {string} val - The value of that series\n   * @param {object} el - Optional el (indicates which series was hovered/clicked). If this param is not present, means we need to show total\n   */\n  printInnerLabels(labelsConfig, name2, val, el) {\n    const w = this.w;\n    let labelColor;\n    if (el) {\n      if (labelsConfig.name.color === void 0) {\n        labelColor = w.globals.colors[parseInt(el.parentNode.getAttribute(\"rel\"), 10) - 1];\n      } else {\n        labelColor = labelsConfig.name.color;\n      }\n    } else {\n      if (w.globals.series.length > 1 && labelsConfig.total.show) {\n        labelColor = labelsConfig.total.color;\n      }\n    }\n    let elLabel = w.globals.dom.baseEl.querySelector(\".apexcharts-datalabel-label\");\n    let elValue = w.globals.dom.baseEl.querySelector(\".apexcharts-datalabel-value\");\n    let lbFormatter = labelsConfig.value.formatter;\n    val = lbFormatter(val, w);\n    if (!el && typeof labelsConfig.total.formatter === \"function\") {\n      val = labelsConfig.total.formatter(w);\n    }\n    const isTotal = name2 === labelsConfig.total.label;\n    name2 = !this.donutDataLabels.total.label ? \"\" : labelsConfig.name.formatter(name2, isTotal, w);\n    if (elLabel !== null) {\n      elLabel.textContent = name2;\n    }\n    if (elValue !== null) {\n      elValue.textContent = val;\n    }\n    if (elLabel !== null) {\n      elLabel.style.fill = labelColor;\n    }\n  }\n  printDataLabelsInner(el, dataLabelsConfig) {\n    let w = this.w;\n    let val = el.getAttribute(\"data:value\");\n    let name2 = w.globals.seriesNames[parseInt(el.parentNode.getAttribute(\"rel\"), 10) - 1];\n    if (w.globals.series.length > 1) {\n      this.printInnerLabels(dataLabelsConfig, name2, val, el);\n    }\n    let dataLabelsGroup = w.globals.dom.baseEl.querySelector(\".apexcharts-datalabels-group\");\n    if (dataLabelsGroup !== null) {\n      dataLabelsGroup.style.opacity = 1;\n    }\n  }\n  drawSpokes(parent) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const spokeConfig = w.config.plotOptions.polarArea.spokes;\n    if (spokeConfig.strokeWidth === 0) return;\n    let spokes = [];\n    let angleDivision = 360 / w.globals.series.length;\n    for (let i = 0; i < w.globals.series.length; i++) {\n      spokes.push(Utils$1.polarToCartesian(this.centerX, this.centerY, w.globals.radialSize, w.config.plotOptions.pie.startAngle + angleDivision * i));\n    }\n    spokes.forEach((p, i) => {\n      const line = graphics.drawLine(p.x, p.y, this.centerX, this.centerY, Array.isArray(spokeConfig.connectorColors) ? spokeConfig.connectorColors[i] : spokeConfig.connectorColors);\n      parent.add(line);\n    });\n  }\n  revertDataLabelsInner() {\n    const w = this.w;\n    if (this.donutDataLabels.show) {\n      let dataLabelsGroup = w.globals.dom.Paper.findOne(`.apexcharts-datalabels-group`);\n      let dataLabels = this.renderInnerDataLabels(dataLabelsGroup, this.donutDataLabels, {\n        hollowSize: this.donutSize,\n        centerX: this.centerX,\n        centerY: this.centerY,\n        opacity: this.donutDataLabels.show\n      });\n      let elPie = w.globals.dom.Paper.findOne(\".apexcharts-radialbar, .apexcharts-pie\");\n      elPie.add(dataLabels);\n    }\n  }\n}\nclass Radar {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.chartType = this.w.config.chart.type;\n    this.initialAnim = this.w.config.chart.animations.enabled;\n    this.dynamicAnim = this.initialAnim && this.w.config.chart.animations.dynamicAnimation.enabled;\n    this.animDur = 0;\n    const w = this.w;\n    this.graphics = new Graphics(this.ctx);\n    this.lineColorArr = w.globals.stroke.colors !== void 0 ? w.globals.stroke.colors : w.globals.colors;\n    this.defaultSize = w.globals.svgHeight < w.globals.svgWidth ? w.globals.gridHeight : w.globals.gridWidth;\n    this.isLog = w.config.yaxis[0].logarithmic;\n    this.logBase = w.config.yaxis[0].logBase;\n    this.coreUtils = new CoreUtils(this.ctx);\n    this.maxValue = this.isLog ? this.coreUtils.getLogVal(this.logBase, w.globals.maxY, 0) : w.globals.maxY;\n    this.minValue = this.isLog ? this.coreUtils.getLogVal(this.logBase, this.w.globals.minY, 0) : w.globals.minY;\n    this.polygons = w.config.plotOptions.radar.polygons;\n    this.strokeWidth = w.config.stroke.show ? w.config.stroke.width : 0;\n    this.size = this.defaultSize / 2.1 - this.strokeWidth - w.config.chart.dropShadow.blur;\n    if (w.config.xaxis.labels.show) {\n      this.size = this.size - w.globals.xAxisLabelsWidth / 1.75;\n    }\n    if (w.config.plotOptions.radar.size !== void 0) {\n      this.size = w.config.plotOptions.radar.size;\n    }\n    this.dataRadiusOfPercent = [];\n    this.dataRadius = [];\n    this.angleArr = [];\n    this.yaxisLabelsTextsPos = [];\n  }\n  draw(series) {\n    let w = this.w;\n    const fill = new Fill(this.ctx);\n    const allSeries = [];\n    const dataLabels = new DataLabels(this.ctx);\n    if (series.length) {\n      this.dataPointsLen = series[w.globals.maxValsInArrayIndex].length;\n    }\n    this.disAngle = Math.PI * 2 / this.dataPointsLen;\n    let halfW = w.globals.gridWidth / 2;\n    let halfH = w.globals.gridHeight / 2;\n    let translateX = halfW + w.config.plotOptions.radar.offsetX;\n    let translateY = halfH + w.config.plotOptions.radar.offsetY;\n    let ret = this.graphics.group({\n      class: \"apexcharts-radar-series apexcharts-plot-series\",\n      transform: `translate(${translateX || 0}, ${translateY || 0})`\n    });\n    let dataPointsPos = [];\n    let elPointsMain = null;\n    let elDataPointsMain = null;\n    this.yaxisLabels = this.graphics.group({\n      class: \"apexcharts-yaxis\"\n    });\n    series.forEach((s, i) => {\n      let longestSeries = s.length === w.globals.dataPoints;\n      let elSeries = this.graphics.group().attr({\n        class: `apexcharts-series`,\n        \"data:longestSeries\": longestSeries,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      this.dataRadiusOfPercent[i] = [];\n      this.dataRadius[i] = [];\n      this.angleArr[i] = [];\n      s.forEach((dv, j) => {\n        const range = Math.abs(this.maxValue - this.minValue);\n        dv = dv - this.minValue;\n        if (this.isLog) {\n          dv = this.coreUtils.getLogVal(this.logBase, dv, 0);\n        }\n        this.dataRadiusOfPercent[i][j] = dv / range;\n        this.dataRadius[i][j] = this.dataRadiusOfPercent[i][j] * this.size;\n        this.angleArr[i][j] = j * this.disAngle;\n      });\n      dataPointsPos = this.getDataPointsPos(this.dataRadius[i], this.angleArr[i]);\n      const paths = this.createPaths(dataPointsPos, {\n        x: 0,\n        y: 0\n      });\n      elPointsMain = this.graphics.group({\n        class: \"apexcharts-series-markers-wrap apexcharts-element-hidden\"\n      });\n      elDataPointsMain = this.graphics.group({\n        class: `apexcharts-datalabels`,\n        \"data:realIndex\": i\n      });\n      w.globals.delayedElements.push({\n        el: elPointsMain.node,\n        index: i\n      });\n      const defaultRenderedPathOptions = {\n        i,\n        realIndex: i,\n        animationDelay: i,\n        initialSpeed: w.config.chart.animations.speed,\n        dataChangeSpeed: w.config.chart.animations.dynamicAnimation.speed,\n        className: `apexcharts-radar`,\n        shouldClipToGrid: false,\n        bindEventsOnPaths: false,\n        stroke: w.globals.stroke.colors[i],\n        strokeLineCap: w.config.stroke.lineCap\n      };\n      let pathFrom = null;\n      if (w.globals.previousPaths.length > 0) {\n        pathFrom = this.getPreviousPath(i);\n      }\n      for (let p = 0; p < paths.linePathsTo.length; p++) {\n        let renderedLinePath = this.graphics.renderPaths(__spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: pathFrom === null ? paths.linePathsFrom[p] : pathFrom,\n          pathTo: paths.linePathsTo[p],\n          strokeWidth: Array.isArray(this.strokeWidth) ? this.strokeWidth[i] : this.strokeWidth,\n          fill: \"none\",\n          drawShadow: false\n        }));\n        elSeries.add(renderedLinePath);\n        let pathFill = fill.fillPath({\n          seriesNumber: i\n        });\n        let renderedAreaPath = this.graphics.renderPaths(__spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: pathFrom === null ? paths.areaPathsFrom[p] : pathFrom,\n          pathTo: paths.areaPathsTo[p],\n          strokeWidth: 0,\n          fill: pathFill,\n          drawShadow: false\n        }));\n        if (w.config.chart.dropShadow.enabled) {\n          const filters = new Filters(this.ctx);\n          const shadow = w.config.chart.dropShadow;\n          filters.dropShadow(renderedAreaPath, Object.assign({}, shadow, {\n            noUserSpaceOnUse: true\n          }), i);\n        }\n        elSeries.add(renderedAreaPath);\n      }\n      s.forEach((sj, j) => {\n        let markers = new Markers(this.ctx);\n        let opts = markers.getMarkerConfig({\n          cssClass: \"apexcharts-marker\",\n          seriesIndex: i,\n          dataPointIndex: j\n        });\n        let point = this.graphics.drawMarker(dataPointsPos[j].x, dataPointsPos[j].y, opts);\n        point.attr(\"rel\", j);\n        point.attr(\"j\", j);\n        point.attr(\"index\", i);\n        point.node.setAttribute(\"default-marker-size\", opts.pSize);\n        let elPointsWrap = this.graphics.group({\n          class: \"apexcharts-series-markers\"\n        });\n        if (elPointsWrap) {\n          elPointsWrap.add(point);\n        }\n        elPointsMain.add(elPointsWrap);\n        elSeries.add(elPointsMain);\n        const dataLabelsConfig = w.config.dataLabels;\n        if (dataLabelsConfig.enabled) {\n          let text = dataLabelsConfig.formatter(w.globals.series[i][j], {\n            seriesIndex: i,\n            dataPointIndex: j,\n            w\n          });\n          dataLabels.plotDataLabelsText({\n            x: dataPointsPos[j].x,\n            y: dataPointsPos[j].y,\n            text,\n            textAnchor: \"middle\",\n            i,\n            j: i,\n            parent: elDataPointsMain,\n            offsetCorrection: false,\n            dataLabelsConfig: __spreadValues({}, dataLabelsConfig)\n          });\n        }\n        elSeries.add(elDataPointsMain);\n      });\n      allSeries.push(elSeries);\n    });\n    this.drawPolygons({\n      parent: ret\n    });\n    if (w.config.xaxis.labels.show) {\n      const xaxisTexts = this.drawXAxisTexts();\n      ret.add(xaxisTexts);\n    }\n    allSeries.forEach(elS => {\n      ret.add(elS);\n    });\n    ret.add(this.yaxisLabels);\n    return ret;\n  }\n  drawPolygons(opts) {\n    const w = this.w;\n    const {\n      parent\n    } = opts;\n    const helpers = new CircularChartsHelpers(this.ctx);\n    const yaxisTexts = w.globals.yAxisScale[0].result.reverse();\n    const layers = yaxisTexts.length;\n    let radiusSizes = [];\n    let layerDis = this.size / (layers - 1);\n    for (let i = 0; i < layers; i++) {\n      radiusSizes[i] = layerDis * i;\n    }\n    radiusSizes.reverse();\n    let polygonStrings = [];\n    let lines = [];\n    radiusSizes.forEach((radiusSize, r) => {\n      const polygon = Utils$1.getPolygonPos(radiusSize, this.dataPointsLen);\n      let string = \"\";\n      polygon.forEach((p, i) => {\n        if (r === 0) {\n          const line = this.graphics.drawLine(p.x, p.y, 0, 0, Array.isArray(this.polygons.connectorColors) ? this.polygons.connectorColors[i] : this.polygons.connectorColors);\n          lines.push(line);\n        }\n        if (i === 0) {\n          this.yaxisLabelsTextsPos.push({\n            x: p.x,\n            y: p.y\n          });\n        }\n        string += p.x + \",\" + p.y + \" \";\n      });\n      polygonStrings.push(string);\n    });\n    polygonStrings.forEach((p, i) => {\n      const strokeColors = this.polygons.strokeColors;\n      const strokeWidth = this.polygons.strokeWidth;\n      const polygon = this.graphics.drawPolygon(p, Array.isArray(strokeColors) ? strokeColors[i] : strokeColors, Array.isArray(strokeWidth) ? strokeWidth[i] : strokeWidth, w.globals.radarPolygons.fill.colors[i]);\n      parent.add(polygon);\n    });\n    lines.forEach(l => {\n      parent.add(l);\n    });\n    if (w.config.yaxis[0].show) {\n      this.yaxisLabelsTextsPos.forEach((p, i) => {\n        const yText = helpers.drawYAxisTexts(p.x, p.y, i, yaxisTexts[i]);\n        this.yaxisLabels.add(yText);\n      });\n    }\n  }\n  drawXAxisTexts() {\n    const w = this.w;\n    const xaxisLabelsConfig = w.config.xaxis.labels;\n    let elXAxisWrap = this.graphics.group({\n      class: \"apexcharts-xaxis\"\n    });\n    let polygonPos = Utils$1.getPolygonPos(this.size, this.dataPointsLen);\n    w.globals.labels.forEach((label, i) => {\n      let formatter = w.config.xaxis.labels.formatter;\n      let dataLabels = new DataLabels(this.ctx);\n      if (polygonPos[i]) {\n        let textPos = this.getTextPos(polygonPos[i], this.size);\n        let text = formatter(label, {\n          seriesIndex: -1,\n          dataPointIndex: i,\n          w\n        });\n        const dataLabelText = dataLabels.plotDataLabelsText({\n          x: textPos.newX,\n          y: textPos.newY,\n          text,\n          textAnchor: textPos.textAnchor,\n          i,\n          j: i,\n          parent: elXAxisWrap,\n          className: \"apexcharts-xaxis-label\",\n          color: Array.isArray(xaxisLabelsConfig.style.colors) && xaxisLabelsConfig.style.colors[i] ? xaxisLabelsConfig.style.colors[i] : \"#a8a8a8\",\n          dataLabelsConfig: __spreadValues({\n            textAnchor: textPos.textAnchor,\n            dropShadow: {\n              enabled: false\n            }\n          }, xaxisLabelsConfig),\n          offsetCorrection: false\n        });\n        dataLabelText.on(\"click\", e => {\n          if (typeof w.config.chart.events.xAxisLabelClick === \"function\") {\n            const opts = Object.assign({}, w, {\n              labelIndex: i\n            });\n            w.config.chart.events.xAxisLabelClick(e, this.ctx, opts);\n          }\n        });\n      }\n    });\n    return elXAxisWrap;\n  }\n  createPaths(pos, origin) {\n    let linePathsTo = [];\n    let linePathsFrom = [];\n    let areaPathsTo = [];\n    let areaPathsFrom = [];\n    if (pos.length) {\n      linePathsFrom = [this.graphics.move(origin.x, origin.y)];\n      areaPathsFrom = [this.graphics.move(origin.x, origin.y)];\n      let linePathTo = this.graphics.move(pos[0].x, pos[0].y);\n      let areaPathTo = this.graphics.move(pos[0].x, pos[0].y);\n      pos.forEach((p, i) => {\n        linePathTo += this.graphics.line(p.x, p.y);\n        areaPathTo += this.graphics.line(p.x, p.y);\n        if (i === pos.length - 1) {\n          linePathTo += \"Z\";\n          areaPathTo += \"Z\";\n        }\n      });\n      linePathsTo.push(linePathTo);\n      areaPathsTo.push(areaPathTo);\n    }\n    return {\n      linePathsFrom,\n      linePathsTo,\n      areaPathsFrom,\n      areaPathsTo\n    };\n  }\n  getTextPos(pos, polygonSize) {\n    let limit = 10;\n    let textAnchor = \"middle\";\n    let newX = pos.x;\n    let newY = pos.y;\n    if (Math.abs(pos.x) >= limit) {\n      if (pos.x > 0) {\n        textAnchor = \"start\";\n        newX += 10;\n      } else if (pos.x < 0) {\n        textAnchor = \"end\";\n        newX -= 10;\n      }\n    } else {\n      textAnchor = \"middle\";\n    }\n    if (Math.abs(pos.y) >= polygonSize - limit) {\n      if (pos.y < 0) {\n        newY -= 10;\n      } else if (pos.y > 0) {\n        newY += 10;\n      }\n    }\n    return {\n      textAnchor,\n      newX,\n      newY\n    };\n  }\n  getPreviousPath(realIndex) {\n    let w = this.w;\n    let pathFrom = null;\n    for (let pp = 0; pp < w.globals.previousPaths.length; pp++) {\n      let gpp = w.globals.previousPaths[pp];\n      if (gpp.paths.length > 0 && parseInt(gpp.realIndex, 10) === parseInt(realIndex, 10)) {\n        if (typeof w.globals.previousPaths[pp].paths[0] !== \"undefined\") {\n          pathFrom = w.globals.previousPaths[pp].paths[0].d;\n        }\n      }\n    }\n    return pathFrom;\n  }\n  getDataPointsPos(dataRadiusArr, angleArr, dataPointsLen = this.dataPointsLen) {\n    dataRadiusArr = dataRadiusArr || [];\n    angleArr = angleArr || [];\n    let dataPointsPosArray = [];\n    for (let j = 0; j < dataPointsLen; j++) {\n      let curPointPos = {};\n      curPointPos.x = dataRadiusArr[j] * Math.sin(angleArr[j]);\n      curPointPos.y = -dataRadiusArr[j] * Math.cos(angleArr[j]);\n      dataPointsPosArray.push(curPointPos);\n    }\n    return dataPointsPosArray;\n  }\n}\nclass Radial extends Pie {\n  constructor(ctx) {\n    super(ctx);\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.animBeginArr = [0];\n    this.animDur = 0;\n    const w = this.w;\n    this.startAngle = w.config.plotOptions.radialBar.startAngle;\n    this.endAngle = w.config.plotOptions.radialBar.endAngle;\n    this.totalAngle = Math.abs(w.config.plotOptions.radialBar.endAngle - w.config.plotOptions.radialBar.startAngle);\n    this.trackStartAngle = w.config.plotOptions.radialBar.track.startAngle;\n    this.trackEndAngle = w.config.plotOptions.radialBar.track.endAngle;\n    this.barLabels = this.w.config.plotOptions.radialBar.barLabels;\n    this.donutDataLabels = this.w.config.plotOptions.radialBar.dataLabels;\n    this.radialDataLabels = this.donutDataLabels;\n    if (!this.trackStartAngle) this.trackStartAngle = this.startAngle;\n    if (!this.trackEndAngle) this.trackEndAngle = this.endAngle;\n    if (this.endAngle === 360) this.endAngle = 359.99;\n    this.margin = parseInt(w.config.plotOptions.radialBar.track.margin, 10);\n    this.onBarLabelClick = this.onBarLabelClick.bind(this);\n  }\n  draw(series) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let ret = graphics.group({\n      class: \"apexcharts-radialbar\"\n    });\n    if (w.globals.noData) return ret;\n    let elSeries = graphics.group();\n    let centerY = this.defaultSize / 2;\n    let centerX = w.globals.gridWidth / 2;\n    let size = this.defaultSize / 2.05;\n    if (!w.config.chart.sparkline.enabled) {\n      size = size - w.config.stroke.width - w.config.chart.dropShadow.blur;\n    }\n    let colorArr = w.globals.fill.colors;\n    if (w.config.plotOptions.radialBar.track.show) {\n      let elTracks = this.drawTracks({\n        size,\n        centerX,\n        centerY,\n        colorArr,\n        series\n      });\n      elSeries.add(elTracks);\n    }\n    let elG = this.drawArcs({\n      size,\n      centerX,\n      centerY,\n      colorArr,\n      series\n    });\n    let totalAngle = 360;\n    if (w.config.plotOptions.radialBar.startAngle < 0) {\n      totalAngle = this.totalAngle;\n    }\n    let angleRatio = (360 - totalAngle) / 360;\n    w.globals.radialSize = size - size * angleRatio;\n    if (this.radialDataLabels.value.show) {\n      let offset = Math.max(this.radialDataLabels.value.offsetY, this.radialDataLabels.name.offsetY);\n      w.globals.radialSize += offset * angleRatio;\n    }\n    elSeries.add(elG.g);\n    if (w.config.plotOptions.radialBar.hollow.position === \"front\") {\n      elG.g.add(elG.elHollow);\n      if (elG.dataLabels) {\n        elG.g.add(elG.dataLabels);\n      }\n    }\n    ret.add(elSeries);\n    return ret;\n  }\n  drawTracks(opts) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let g = graphics.group({\n      class: \"apexcharts-tracks\"\n    });\n    let filters = new Filters(this.ctx);\n    let fill = new Fill(this.ctx);\n    let strokeWidth = this.getStrokeWidth(opts);\n    opts.size = opts.size - strokeWidth / 2;\n    for (let i = 0; i < opts.series.length; i++) {\n      let elRadialBarTrack = graphics.group({\n        class: \"apexcharts-radialbar-track apexcharts-track\"\n      });\n      g.add(elRadialBarTrack);\n      elRadialBarTrack.attr({\n        rel: i + 1\n      });\n      opts.size = opts.size - strokeWidth - this.margin;\n      const trackConfig = w.config.plotOptions.radialBar.track;\n      let pathFill = fill.fillPath({\n        seriesNumber: 0,\n        size: opts.size,\n        fillColors: Array.isArray(trackConfig.background) ? trackConfig.background[i] : trackConfig.background,\n        solid: true\n      });\n      let startAngle = this.trackStartAngle;\n      let endAngle = this.trackEndAngle;\n      if (Math.abs(endAngle) + Math.abs(startAngle) >= 360) endAngle = 360 - Math.abs(this.startAngle) - 0.1;\n      let elPath = graphics.drawPath({\n        d: \"\",\n        stroke: pathFill,\n        strokeWidth: strokeWidth * parseInt(trackConfig.strokeWidth, 10) / 100,\n        fill: \"none\",\n        strokeOpacity: trackConfig.opacity,\n        classes: \"apexcharts-radialbar-area\"\n      });\n      if (trackConfig.dropShadow.enabled) {\n        const shadow = trackConfig.dropShadow;\n        filters.dropShadow(elPath, shadow);\n      }\n      elRadialBarTrack.add(elPath);\n      elPath.attr(\"id\", \"apexcharts-radialbarTrack-\" + i);\n      this.animatePaths(elPath, {\n        centerX: opts.centerX,\n        centerY: opts.centerY,\n        endAngle,\n        startAngle,\n        size: opts.size,\n        i,\n        totalItems: 2,\n        animBeginArr: 0,\n        dur: 0,\n        isTrack: true\n      });\n    }\n    return g;\n  }\n  drawArcs(opts) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let fill = new Fill(this.ctx);\n    let filters = new Filters(this.ctx);\n    let g = graphics.group();\n    let strokeWidth = this.getStrokeWidth(opts);\n    opts.size = opts.size - strokeWidth / 2;\n    let hollowFillID = w.config.plotOptions.radialBar.hollow.background;\n    let hollowSize = opts.size - strokeWidth * opts.series.length - this.margin * opts.series.length - strokeWidth * parseInt(w.config.plotOptions.radialBar.track.strokeWidth, 10) / 100 / 2;\n    let hollowRadius = hollowSize - w.config.plotOptions.radialBar.hollow.margin;\n    if (w.config.plotOptions.radialBar.hollow.image !== void 0) {\n      hollowFillID = this.drawHollowImage(opts, g, hollowSize, hollowFillID);\n    }\n    let elHollow = this.drawHollow({\n      size: hollowRadius,\n      centerX: opts.centerX,\n      centerY: opts.centerY,\n      fill: hollowFillID ? hollowFillID : \"transparent\"\n    });\n    if (w.config.plotOptions.radialBar.hollow.dropShadow.enabled) {\n      const shadow = w.config.plotOptions.radialBar.hollow.dropShadow;\n      filters.dropShadow(elHollow, shadow);\n    }\n    let shown = 1;\n    if (!this.radialDataLabels.total.show && w.globals.series.length > 1) {\n      shown = 0;\n    }\n    let dataLabels = null;\n    if (this.radialDataLabels.show) {\n      let dataLabelsGroup = w.globals.dom.Paper.findOne(`.apexcharts-datalabels-group`);\n      dataLabels = this.renderInnerDataLabels(dataLabelsGroup, this.radialDataLabels, {\n        hollowSize,\n        centerX: opts.centerX,\n        centerY: opts.centerY,\n        opacity: shown\n      });\n    }\n    if (w.config.plotOptions.radialBar.hollow.position === \"back\") {\n      g.add(elHollow);\n      if (dataLabels) {\n        g.add(dataLabels);\n      }\n    }\n    let reverseLoop = false;\n    if (w.config.plotOptions.radialBar.inverseOrder) {\n      reverseLoop = true;\n    }\n    for (let i = reverseLoop ? opts.series.length - 1 : 0; reverseLoop ? i >= 0 : i < opts.series.length; reverseLoop ? i-- : i++) {\n      let elRadialBarArc = graphics.group({\n        class: `apexcharts-series apexcharts-radial-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i])\n      });\n      g.add(elRadialBarArc);\n      elRadialBarArc.attr({\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      this.ctx.series.addCollapsedClassToSeries(elRadialBarArc, i);\n      opts.size = opts.size - strokeWidth - this.margin;\n      let pathFill = fill.fillPath({\n        seriesNumber: i,\n        size: opts.size,\n        value: opts.series[i]\n      });\n      let startAngle = this.startAngle;\n      let prevStartAngle;\n      const dataValue = Utils$1.negToZero(opts.series[i] > 100 ? 100 : opts.series[i]) / 100;\n      let endAngle = Math.round(this.totalAngle * dataValue) + this.startAngle;\n      let prevEndAngle;\n      if (w.globals.dataChanged) {\n        prevStartAngle = this.startAngle;\n        prevEndAngle = Math.round(this.totalAngle * Utils$1.negToZero(w.globals.previousPaths[i]) / 100) + prevStartAngle;\n      }\n      const currFullAngle = Math.abs(endAngle) + Math.abs(startAngle);\n      if (currFullAngle > 360) {\n        endAngle = endAngle - 0.01;\n      }\n      const prevFullAngle = Math.abs(prevEndAngle) + Math.abs(prevStartAngle);\n      if (prevFullAngle > 360) {\n        prevEndAngle = prevEndAngle - 0.01;\n      }\n      let angle = endAngle - startAngle;\n      const dashArray = Array.isArray(w.config.stroke.dashArray) ? w.config.stroke.dashArray[i] : w.config.stroke.dashArray;\n      let elPath = graphics.drawPath({\n        d: \"\",\n        stroke: pathFill,\n        strokeWidth,\n        fill: \"none\",\n        fillOpacity: w.config.fill.opacity,\n        classes: \"apexcharts-radialbar-area apexcharts-radialbar-slice-\" + i,\n        strokeDashArray: dashArray\n      });\n      Graphics.setAttrs(elPath.node, {\n        \"data:angle\": angle,\n        \"data:value\": opts.series[i]\n      });\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        filters.dropShadow(elPath, shadow, i);\n      }\n      filters.setSelectionFilter(elPath, 0, i);\n      this.addListeners(elPath, this.radialDataLabels);\n      elRadialBarArc.add(elPath);\n      elPath.attr({\n        index: 0,\n        j: i\n      });\n      if (this.barLabels.enabled) {\n        let barStartCords = Utils$1.polarToCartesian(opts.centerX, opts.centerY, opts.size, startAngle);\n        let text = this.barLabels.formatter(w.globals.seriesNames[i], {\n          seriesIndex: i,\n          w\n        });\n        let classes = [\"apexcharts-radialbar-label\"];\n        if (!this.barLabels.onClick) {\n          classes.push(\"apexcharts-no-click\");\n        }\n        let textColor = this.barLabels.useSeriesColors ? w.globals.colors[i] : w.config.chart.foreColor;\n        if (!textColor) {\n          textColor = w.config.chart.foreColor;\n        }\n        const x = barStartCords.x + this.barLabels.offsetX;\n        const y = barStartCords.y + this.barLabels.offsetY;\n        let elText = graphics.drawText({\n          x,\n          y,\n          text,\n          textAnchor: \"end\",\n          dominantBaseline: \"middle\",\n          fontFamily: this.barLabels.fontFamily,\n          fontWeight: this.barLabels.fontWeight,\n          fontSize: this.barLabels.fontSize,\n          foreColor: textColor,\n          cssClass: classes.join(\" \")\n        });\n        elText.on(\"click\", this.onBarLabelClick);\n        elText.attr({\n          rel: i + 1\n        });\n        if (startAngle !== 0) {\n          elText.attr({\n            \"transform-origin\": `${x} ${y}`,\n            transform: `rotate(${startAngle} 0 0)`\n          });\n        }\n        elRadialBarArc.add(elText);\n      }\n      let dur = 0;\n      if (this.initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n        dur = w.config.chart.animations.speed;\n      }\n      if (w.globals.dataChanged) {\n        dur = w.config.chart.animations.dynamicAnimation.speed;\n      }\n      this.animDur = dur / (opts.series.length * 1.2) + this.animDur;\n      this.animBeginArr.push(this.animDur);\n      this.animatePaths(elPath, {\n        centerX: opts.centerX,\n        centerY: opts.centerY,\n        endAngle,\n        startAngle,\n        prevEndAngle,\n        prevStartAngle,\n        size: opts.size,\n        i,\n        totalItems: 2,\n        animBeginArr: this.animBeginArr,\n        dur,\n        shouldSetPrevPaths: true\n      });\n    }\n    return {\n      g,\n      elHollow,\n      dataLabels\n    };\n  }\n  drawHollow(opts) {\n    const graphics = new Graphics(this.ctx);\n    let circle = graphics.drawCircle(opts.size * 2);\n    circle.attr({\n      class: \"apexcharts-radialbar-hollow\",\n      cx: opts.centerX,\n      cy: opts.centerY,\n      r: opts.size,\n      fill: opts.fill\n    });\n    return circle;\n  }\n  drawHollowImage(opts, g, hollowSize, hollowFillID) {\n    const w = this.w;\n    let fill = new Fill(this.ctx);\n    let randID = Utils$1.randomId();\n    let hollowFillImg = w.config.plotOptions.radialBar.hollow.image;\n    if (w.config.plotOptions.radialBar.hollow.imageClipped) {\n      fill.clippedImgArea({\n        width: hollowSize,\n        height: hollowSize,\n        image: hollowFillImg,\n        patternID: `pattern${w.globals.cuid}${randID}`\n      });\n      hollowFillID = `url(#pattern${w.globals.cuid}${randID})`;\n    } else {\n      const imgWidth = w.config.plotOptions.radialBar.hollow.imageWidth;\n      const imgHeight = w.config.plotOptions.radialBar.hollow.imageHeight;\n      if (imgWidth === void 0 && imgHeight === void 0) {\n        let image = w.globals.dom.Paper.image(hollowFillImg, function (loader) {\n          this.move(opts.centerX - loader.width / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetX, opts.centerY - loader.height / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetY);\n        });\n        g.add(image);\n      } else {\n        let image = w.globals.dom.Paper.image(hollowFillImg, function () {\n          this.move(opts.centerX - imgWidth / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetX, opts.centerY - imgHeight / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetY);\n          this.size(imgWidth, imgHeight);\n        });\n        g.add(image);\n      }\n    }\n    return hollowFillID;\n  }\n  getStrokeWidth(opts) {\n    const w = this.w;\n    return opts.size * (100 - parseInt(w.config.plotOptions.radialBar.hollow.size, 10)) / 100 / (opts.series.length + 1) - this.margin;\n  }\n  onBarLabelClick(e) {\n    let seriesIndex = parseInt(e.target.getAttribute(\"rel\"), 10) - 1;\n    const legendClick = this.barLabels.onClick;\n    const w = this.w;\n    if (legendClick) {\n      legendClick(w.globals.seriesNames[seriesIndex], {\n        w,\n        seriesIndex\n      });\n    }\n  }\n}\nclass RangeBar extends Bar {\n  draw(series, seriesIndex) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    this.rangeBarOptions = this.w.config.plotOptions.rangeBar;\n    this.series = series;\n    this.seriesRangeStart = w.globals.seriesRangeStart;\n    this.seriesRangeEnd = w.globals.seriesRangeEnd;\n    this.barHelpers.initVariables(series);\n    let ret = graphics.group({\n      class: \"apexcharts-rangebar-series apexcharts-plot-series\"\n    });\n    for (let i = 0; i < series.length; i++) {\n      let x, y, xDivision, yDivision, zeroH, zeroW;\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let {\n        columnGroupIndex\n      } = this.barHelpers.getGroupIndex(realIndex);\n      let elSeries = graphics.group({\n        class: `apexcharts-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        rel: i + 1,\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      if (series[i].length > 0) {\n        this.visibleI = this.visibleI + 1;\n      }\n      let barHeight = 0;\n      let barWidth = 0;\n      let translationsIndex = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex][0];\n        translationsIndex = realIndex;\n      }\n      let initPositions = this.barHelpers.initialPositions(realIndex);\n      y = initPositions.y;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      barHeight = initPositions.barHeight;\n      xDivision = initPositions.xDivision;\n      yDivision = initPositions.yDivision;\n      zeroH = initPositions.zeroH;\n      let elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      let elGoalsMarkers = graphics.group({\n        class: \"apexcharts-rangebar-goals-markers\"\n      });\n      for (let j = 0; j < w.globals.dataPoints; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        const y1 = this.seriesRangeStart[i][j];\n        const y2 = this.seriesRangeEnd[i][j];\n        let paths = null;\n        let barXPosition = null;\n        let barYPosition = null;\n        const params = {\n          x,\n          y,\n          strokeWidth,\n          elSeries\n        };\n        let seriesLen = this.seriesLen;\n        if (w.config.plotOptions.bar.rangeBarGroupRows) {\n          seriesLen = 1;\n        }\n        if (typeof w.config.series[i].data[j] === \"undefined\") {\n          break;\n        }\n        if (this.isHorizontal) {\n          barYPosition = y + barHeight * this.visibleI;\n          let srty = (yDivision - barHeight * seriesLen) / 2;\n          if (w.config.series[i].data[j].x) {\n            let positions = this.detectOverlappingBars({\n              i,\n              j,\n              barYPosition,\n              srty,\n              barHeight,\n              yDivision,\n              initPositions\n            });\n            barHeight = positions.barHeight;\n            barYPosition = positions.barYPosition;\n          }\n          paths = this.drawRangeBarPaths(__spreadValues({\n            indexes: {\n              i,\n              j,\n              realIndex\n            },\n            barHeight,\n            barYPosition,\n            zeroW,\n            yDivision,\n            y1,\n            y2\n          }, params));\n          barWidth = paths.barWidth;\n        } else {\n          if (w.globals.isXNumeric) {\n            x = (w.globals.seriesX[i][j] - w.globals.minX) / this.xRatio - barWidth / 2;\n          }\n          barXPosition = x + barWidth * this.visibleI;\n          let srtx = (xDivision - barWidth * seriesLen) / 2;\n          if (w.config.series[i].data[j].x) {\n            let positions = this.detectOverlappingBars({\n              i,\n              j,\n              barXPosition,\n              srtx,\n              barWidth,\n              xDivision,\n              initPositions\n            });\n            barWidth = positions.barWidth;\n            barXPosition = positions.barXPosition;\n          }\n          paths = this.drawRangeColumnPaths(__spreadValues({\n            indexes: {\n              i,\n              j,\n              realIndex,\n              translationsIndex\n            },\n            barWidth,\n            barXPosition,\n            zeroH,\n            xDivision\n          }, params));\n          barHeight = paths.barHeight;\n        }\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        y = paths.y;\n        x = paths.x;\n        let pathFill = this.barHelpers.getPathFillColor(series, i, j, realIndex);\n        this.renderSeries({\n          realIndex,\n          pathFill: pathFill.color,\n          lineFill: pathFill.useRangeColor ? pathFill.color : w.globals.stroke.colors[realIndex],\n          j,\n          i,\n          x,\n          y,\n          y1,\n          y2,\n          pathFrom: paths.pathFrom,\n          pathTo: paths.pathTo,\n          strokeWidth,\n          elSeries,\n          series,\n          barHeight,\n          barWidth,\n          barXPosition,\n          barYPosition,\n          columnGroupIndex,\n          elDataLabelsWrap,\n          elGoalsMarkers,\n          visibleSeries: this.visibleI,\n          type: \"rangebar\"\n        });\n      }\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  detectOverlappingBars({\n    i,\n    j,\n    barYPosition,\n    barXPosition,\n    srty,\n    srtx,\n    barHeight,\n    barWidth,\n    yDivision,\n    xDivision,\n    initPositions\n  }) {\n    const w = this.w;\n    let overlaps = [];\n    let rangeName = w.config.series[i].data[j].rangeName;\n    const x = w.config.series[i].data[j].x;\n    const labelX = Array.isArray(x) ? x.join(\" \") : x;\n    const rowIndex = w.globals.labels.map(_ => Array.isArray(_) ? _.join(\" \") : _).indexOf(labelX);\n    const overlappedIndex = w.globals.seriesRange[i].findIndex(tx => tx.x === labelX && tx.overlaps.length > 0);\n    if (this.isHorizontal) {\n      if (w.config.plotOptions.bar.rangeBarGroupRows) {\n        barYPosition = srty + yDivision * rowIndex;\n      } else {\n        barYPosition = srty + barHeight * this.visibleI + yDivision * rowIndex;\n      }\n      if (overlappedIndex > -1 && !w.config.plotOptions.bar.rangeBarOverlap) {\n        overlaps = w.globals.seriesRange[i][overlappedIndex].overlaps;\n        if (overlaps.indexOf(rangeName) > -1) {\n          barHeight = initPositions.barHeight / overlaps.length;\n          barYPosition = barHeight * this.visibleI + yDivision * (100 - parseInt(this.barOptions.barHeight, 10)) / 100 / 2 + barHeight * (this.visibleI + overlaps.indexOf(rangeName)) + yDivision * rowIndex;\n        }\n      }\n    } else {\n      if (rowIndex > -1 && !w.globals.timescaleLabels.length) {\n        if (w.config.plotOptions.bar.rangeBarGroupRows) {\n          barXPosition = srtx + xDivision * rowIndex;\n        } else {\n          barXPosition = srtx + barWidth * this.visibleI + xDivision * rowIndex;\n        }\n      }\n      if (overlappedIndex > -1 && !w.config.plotOptions.bar.rangeBarOverlap) {\n        overlaps = w.globals.seriesRange[i][overlappedIndex].overlaps;\n        if (overlaps.indexOf(rangeName) > -1) {\n          barWidth = initPositions.barWidth / overlaps.length;\n          barXPosition = barWidth * this.visibleI + xDivision * (100 - parseInt(this.barOptions.barWidth, 10)) / 100 / 2 + barWidth * (this.visibleI + overlaps.indexOf(rangeName)) + xDivision * rowIndex;\n        }\n      }\n    }\n    return {\n      barYPosition,\n      barXPosition,\n      barHeight,\n      barWidth\n    };\n  }\n  drawRangeColumnPaths({\n    indexes,\n    x,\n    xDivision,\n    barWidth,\n    barXPosition,\n    zeroH\n  }) {\n    let w = this.w;\n    const {\n      i,\n      j,\n      realIndex,\n      translationsIndex\n    } = indexes;\n    const yRatio = this.yRatio[translationsIndex];\n    const range = this.getRangeValue(realIndex, j);\n    let y1 = Math.min(range.start, range.end);\n    let y2 = Math.max(range.start, range.end);\n    if (typeof this.series[i][j] === \"undefined\" || this.series[i][j] === null) {\n      y1 = zeroH;\n    } else {\n      y1 = zeroH - y1 / yRatio;\n      y2 = zeroH - y2 / yRatio;\n    }\n    const barHeight = Math.abs(y2 - y1);\n    const paths = this.barHelpers.getColumnPaths({\n      barXPosition,\n      barWidth,\n      y1,\n      y2,\n      strokeWidth: this.strokeWidth,\n      series: this.seriesRangeEnd,\n      realIndex,\n      i: realIndex,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      x = x + xDivision;\n    } else {\n      const xForNumericXAxis = this.getBarXForNumericXAxis({\n        x,\n        j,\n        realIndex,\n        barWidth\n      });\n      x = xForNumericXAxis.x;\n      barXPosition = xForNumericXAxis.barXPosition;\n    }\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      barHeight,\n      x,\n      y: range.start < 0 && range.end < 0 ? y1 : y2,\n      goalY: this.barHelpers.getGoalValues(\"y\", null, zeroH, i, j, translationsIndex),\n      barXPosition\n    };\n  }\n  preventBarOverflow(val) {\n    const w = this.w;\n    if (val < 0) {\n      val = 0;\n    }\n    if (val > w.globals.gridWidth) {\n      val = w.globals.gridWidth;\n    }\n    return val;\n  }\n  drawRangeBarPaths({\n    indexes,\n    y,\n    y1,\n    y2,\n    yDivision,\n    barHeight,\n    barYPosition,\n    zeroW\n  }) {\n    let w = this.w;\n    const {\n      realIndex,\n      j\n    } = indexes;\n    let x1 = this.preventBarOverflow(zeroW + y1 / this.invertedYRatio);\n    let x2 = this.preventBarOverflow(zeroW + y2 / this.invertedYRatio);\n    const range = this.getRangeValue(realIndex, j);\n    const barWidth = Math.abs(x2 - x1);\n    const paths = this.barHelpers.getBarpaths({\n      barYPosition,\n      barHeight,\n      x1,\n      x2,\n      strokeWidth: this.strokeWidth,\n      series: this.seriesRangeEnd,\n      i: realIndex,\n      realIndex,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      y = y + yDivision;\n    }\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      barWidth,\n      x: range.start < 0 && range.end < 0 ? x1 : x2,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, realIndex, j),\n      y\n    };\n  }\n  getRangeValue(i, j) {\n    const w = this.w;\n    return {\n      start: w.globals.seriesRangeStart[i][j],\n      end: w.globals.seriesRangeEnd[i][j]\n    };\n  }\n}\nfunction normalize(data, area) {\n  let sum = 0;\n  for (let i = 0; i < data.length; i++) {\n    sum += data[i];\n  }\n  const multiplier = area / sum;\n  const result = new Array(data.length);\n  for (let i = 0; i < data.length; i++) {\n    result[i] = data[i] * multiplier;\n  }\n  return result;\n}\nfunction calculateRatio(rowMin, rowMax, rowSum, length) {\n  const lengthSq = length * length;\n  const sumSq = rowSum * rowSum;\n  return Math.max(lengthSq * rowMax / sumSq, sumSq / (lengthSq * rowMin));\n}\nfunction improvesRatio(rowLen, rowMin, rowMax, rowSum, nextNode, length) {\n  if (rowLen === 0) return true;\n  const currentRatio = calculateRatio(rowMin, rowMax, rowSum, length);\n  const newRatio = calculateRatio(Math.min(rowMin, nextNode), Math.max(rowMax, nextNode), rowSum + nextNode, length);\n  return currentRatio >= newRatio;\n}\nfunction emitCoordinates(coords, row, rowLen, rowSum, xoffset, yoffset, width, height) {\n  if (width >= height) {\n    const areaWidth = rowSum / height;\n    let subY = yoffset;\n    for (let i = 0; i < rowLen; i++) {\n      const h = row[i] / areaWidth;\n      coords.push([xoffset, subY, xoffset + areaWidth, subY + h]);\n      subY += h;\n    }\n  } else {\n    const areaHeight = rowSum / width;\n    let subX = xoffset;\n    for (let i = 0; i < rowLen; i++) {\n      const w = row[i] / areaHeight;\n      coords.push([subX, yoffset, subX + w, yoffset + areaHeight]);\n      subX += w;\n    }\n  }\n}\nfunction squarify(data, xoffset, yoffset, width, height) {\n  const coords = [];\n  const n = data.length;\n  if (n === 0) return coords;\n  const row = new Array(n);\n  let rowLen = 0;\n  let rowSum = 0;\n  let rowMin = Infinity;\n  let rowMax = -Infinity;\n  let i = 0;\n  while (i < n) {\n    const length = Math.min(width, height);\n    const val = data[i];\n    if (improvesRatio(rowLen, rowMin, rowMax, rowSum, val, length)) {\n      row[rowLen] = val;\n      rowLen++;\n      rowSum += val;\n      if (val < rowMin) rowMin = val;\n      if (val > rowMax) rowMax = val;\n      i++;\n    } else {\n      emitCoordinates(coords, row, rowLen, rowSum, xoffset, yoffset, width, height);\n      if (width >= height) {\n        const areaWidth = rowSum / height;\n        xoffset += areaWidth;\n        width -= areaWidth;\n      } else {\n        const areaHeight = rowSum / width;\n        yoffset += areaHeight;\n        height -= areaHeight;\n      }\n      rowLen = 0;\n      rowSum = 0;\n      rowMin = Infinity;\n      rowMax = -Infinity;\n    }\n  }\n  if (rowLen > 0) {\n    emitCoordinates(coords, row, rowLen, rowSum, xoffset, yoffset, width, height);\n  }\n  return coords;\n}\nfunction generate(data, width, height) {\n  const n = data.length;\n  const sums = new Array(n);\n  for (let i = 0; i < n; i++) {\n    let s = 0;\n    const series = data[i];\n    for (let j = 0; j < series.length; j++) {\n      s += series[j];\n    }\n    sums[i] = s;\n  }\n  const seriesRects = squarify(normalize(sums, width * height), 0, 0, width, height);\n  const results = new Array(n);\n  for (let i = 0; i < n; i++) {\n    const rect = seriesRects[i];\n    const rx = rect[0];\n    const ry = rect[1];\n    const rw = rect[2] - rx;\n    const rh = rect[3] - ry;\n    results[i] = squarify(normalize(data[i], rw * rh), rx, ry, rw, rh);\n  }\n  return results;\n}\nconst TreemapSquared = {\n  generate\n};\nclass TreemapChart {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.strokeWidth = this.w.config.stroke.width;\n    this.helpers = new TreemapHelpers(ctx);\n    this.dynamicAnim = this.w.config.chart.animations.dynamicAnimation;\n    this.labels = [];\n  }\n  draw(series) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const fill = new Fill(this.ctx);\n    let ret = graphics.group({\n      class: \"apexcharts-treemap\"\n    });\n    if (w.globals.noData) return ret;\n    let ser = [];\n    series.forEach(s => {\n      let d = s.map(v => {\n        return Math.abs(v);\n      });\n      ser.push(d);\n    });\n    this.negRange = this.helpers.checkColorRange();\n    w.config.series.forEach((s, i) => {\n      s.data.forEach(l => {\n        if (!Array.isArray(this.labels[i])) this.labels[i] = [];\n        this.labels[i].push(l.x);\n      });\n    });\n    const nodes = TreemapSquared.generate(ser, w.globals.gridWidth, w.globals.gridHeight);\n    nodes.forEach((node, i) => {\n      let elSeries = graphics.group({\n        class: `apexcharts-series apexcharts-treemap-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      graphics.setupEventDelegation(elSeries, \".apexcharts-treemap-rect\");\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        const filters = new Filters(this.ctx);\n        filters.dropShadow(ret, shadow, i);\n      }\n      let elDataLabelWrap = graphics.group({\n        class: \"apexcharts-data-labels\"\n      });\n      let bounds = {\n        xMin: Infinity,\n        yMin: Infinity,\n        xMax: -Infinity,\n        yMax: -Infinity\n      };\n      node.forEach((r, j) => {\n        const x1 = r[0];\n        const y1 = r[1];\n        const x2 = r[2];\n        const y2 = r[3];\n        bounds.xMin = Math.min(bounds.xMin, x1);\n        bounds.yMin = Math.min(bounds.yMin, y1);\n        bounds.xMax = Math.max(bounds.xMax, x2);\n        bounds.yMax = Math.max(bounds.yMax, y2);\n        let colorProps = this.helpers.getShadeColor(w.config.chart.type, i, j, this.negRange);\n        let color = colorProps.color;\n        let pathFill = fill.fillPath({\n          color,\n          seriesNumber: i,\n          dataPointIndex: j\n        });\n        let elRect = graphics.drawRect(x1, y1, x2 - x1, y2 - y1, w.config.plotOptions.treemap.borderRadius, \"#fff\", 1, this.strokeWidth, w.config.plotOptions.treemap.useFillColorAsStroke ? color : w.globals.stroke.colors[i]);\n        elRect.attr({\n          cx: x1,\n          cy: y1,\n          index: i,\n          i,\n          j,\n          width: x2 - x1,\n          height: y2 - y1,\n          fill: pathFill\n        });\n        elRect.node.classList.add(\"apexcharts-treemap-rect\");\n        let fromRect = {\n          x: x1 + (x2 - x1) / 2,\n          y: y1 + (y2 - y1) / 2,\n          width: 0,\n          height: 0\n        };\n        let toRect = {\n          x: x1,\n          y: y1,\n          width: x2 - x1,\n          height: y2 - y1\n        };\n        if (w.config.chart.animations.enabled && !w.globals.dataChanged) {\n          let speed = 1;\n          if (!w.globals.resized) {\n            speed = w.config.chart.animations.speed;\n          }\n          this.animateTreemap(elRect, fromRect, toRect, speed);\n        }\n        if (w.globals.dataChanged) {\n          let speed = 1;\n          if (this.dynamicAnim.enabled && w.globals.shouldAnimate) {\n            speed = this.dynamicAnim.speed;\n            if (w.globals.previousPaths[i] && w.globals.previousPaths[i][j] && w.globals.previousPaths[i][j].rect) {\n              fromRect = w.globals.previousPaths[i][j].rect;\n            }\n            this.animateTreemap(elRect, fromRect, toRect, speed);\n          }\n        }\n        let fontSize = this.getFontSize(r);\n        let formattedText = w.config.dataLabels.formatter(this.labels[i][j], {\n          value: w.globals.series[i][j],\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        });\n        if (w.config.plotOptions.treemap.dataLabels.format === \"truncate\") {\n          fontSize = parseInt(w.config.dataLabels.style.fontSize, 10);\n          formattedText = this.truncateLabels(formattedText, fontSize, x1, y1, x2, y2);\n        }\n        let dataLabels = null;\n        if (w.globals.series[i][j]) {\n          dataLabels = this.helpers.calculateDataLabels({\n            text: formattedText,\n            x: (x1 + x2) / 2,\n            y: (y1 + y2) / 2 + this.strokeWidth / 2 + fontSize / 3,\n            i,\n            j,\n            colorProps,\n            fontSize,\n            series\n          });\n        }\n        if (w.config.dataLabels.enabled && dataLabels) {\n          this.rotateToFitLabel(dataLabels, fontSize, formattedText, x1, y1, x2, y2);\n        }\n        elSeries.add(elRect);\n        if (dataLabels !== null) {\n          elSeries.add(dataLabels);\n        }\n      });\n      const seriesTitle = w.config.plotOptions.treemap.seriesTitle;\n      if (w.config.series.length > 1 && seriesTitle && seriesTitle.show) {\n        const sName = w.config.series[i].name || \"\";\n        if (sName && bounds.xMin < Infinity && bounds.yMin < Infinity) {\n          const {\n            offsetX,\n            offsetY,\n            borderColor,\n            borderWidth,\n            borderRadius,\n            style\n          } = seriesTitle;\n          const textColor = style.color || w.config.chart.foreColor;\n          const padding = {\n            left: style.padding.left,\n            right: style.padding.right,\n            top: style.padding.top,\n            bottom: style.padding.bottom\n          };\n          const textSize = graphics.getTextRects(sName, style.fontSize, style.fontFamily);\n          const labelRectWidth = textSize.width + padding.left + padding.right;\n          const labelRectHeight = textSize.height + padding.top + padding.bottom;\n          const labelX = bounds.xMin + (offsetX || 0);\n          const labelY = bounds.yMin + (offsetY || 0);\n          const elLabelRect = graphics.drawRect(labelX, labelY, labelRectWidth, labelRectHeight, borderRadius, style.background, 1, borderWidth, borderColor);\n          const elLabelText = graphics.drawText({\n            x: labelX + padding.left,\n            y: labelY + padding.top + textSize.height * 0.75,\n            text: sName,\n            fontSize: style.fontSize,\n            fontFamily: style.fontFamily,\n            fontWeight: style.fontWeight,\n            foreColor: textColor,\n            cssClass: style.cssClass || \"\"\n          });\n          elSeries.add(elLabelRect);\n          elSeries.add(elLabelText);\n        }\n      }\n      elSeries.add(elDataLabelWrap);\n      ret.add(elSeries);\n    });\n    return ret;\n  }\n  // This calculates a font-size based upon\n  // average label length and the size of the box\n  getFontSize(coordinates) {\n    const w = this.w;\n    function totalLabelLength(arr) {\n      let i,\n        total = 0;\n      if (Array.isArray(arr[0])) {\n        for (i = 0; i < arr.length; i++) {\n          total += totalLabelLength(arr[i]);\n        }\n      } else {\n        for (i = 0; i < arr.length; i++) {\n          total += arr[i].length;\n        }\n      }\n      return total;\n    }\n    function countLabels(arr) {\n      let i,\n        total = 0;\n      if (Array.isArray(arr[0])) {\n        for (i = 0; i < arr.length; i++) {\n          total += countLabels(arr[i]);\n        }\n      } else {\n        for (i = 0; i < arr.length; i++) {\n          total += 1;\n        }\n      }\n      return total;\n    }\n    let averagelabelsize = totalLabelLength(this.labels) / countLabels(this.labels);\n    function fontSize(width, height) {\n      let area = width * height;\n      let arearoot = Math.pow(area, 0.5);\n      return Math.min(arearoot / averagelabelsize, parseInt(w.config.dataLabels.style.fontSize, 10));\n    }\n    return fontSize(coordinates[2] - coordinates[0], coordinates[3] - coordinates[1]);\n  }\n  rotateToFitLabel(elText, fontSize, text, x1, y1, x2, y2) {\n    const graphics = new Graphics(this.ctx);\n    const textRect = graphics.getTextRects(text, fontSize);\n    if (textRect.width + this.w.config.stroke.width + 5 > x2 - x1 && textRect.width <= y2 - y1) {\n      let labelRotatingCenter = graphics.rotateAroundCenter(elText.node);\n      elText.node.setAttribute(\"transform\", `rotate(-90 ${labelRotatingCenter.x} ${labelRotatingCenter.y}) translate(${textRect.height / 3})`);\n    }\n  }\n  // This is an alternative label formatting method that uses a\n  // consistent font size, and trims the edge of long labels\n  truncateLabels(text, fontSize, x1, y1, x2, y2) {\n    const graphics = new Graphics(this.ctx);\n    const textRect = graphics.getTextRects(text, fontSize);\n    const labelMaxWidth = textRect.width + this.w.config.stroke.width + 5 > x2 - x1 && y2 - y1 > x2 - x1 ? y2 - y1 : x2 - x1;\n    const truncatedText = graphics.getTextBasedOnMaxWidth({\n      text,\n      maxWidth: labelMaxWidth,\n      fontSize\n    });\n    if (text.length !== truncatedText.length && labelMaxWidth / fontSize < 5) {\n      return \"\";\n    } else {\n      return truncatedText;\n    }\n  }\n  animateTreemap(el, fromRect, toRect, speed) {\n    const animations = new Animations(this.ctx);\n    animations.animateRect(el, fromRect, toRect, speed, () => {\n      animations.animationCompleted(el);\n    });\n  }\n}\nclass Core {\n  constructor(el, ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.el = el;\n  }\n  setupElements() {\n    const {\n      globals: gl,\n      config: cnf\n    } = this.w;\n    const ct = cnf.chart.type;\n    const axisChartsArrTypes = [\"line\", \"area\", \"bar\", \"rangeBar\", \"rangeArea\", \"candlestick\", \"boxPlot\", \"scatter\", \"bubble\", \"radar\", \"heatmap\", \"treemap\"];\n    const xyChartsArrTypes = [\"line\", \"area\", \"bar\", \"rangeBar\", \"rangeArea\", \"candlestick\", \"boxPlot\", \"scatter\", \"bubble\"];\n    gl.axisCharts = axisChartsArrTypes.includes(ct);\n    gl.xyCharts = xyChartsArrTypes.includes(ct);\n    gl.isBarHorizontal = [\"bar\", \"rangeBar\", \"boxPlot\"].includes(ct) && cnf.plotOptions.bar.horizontal;\n    gl.chartClass = `.apexcharts${gl.chartID}`;\n    gl.dom.baseEl = this.el;\n    gl.dom.elWrap = BrowserAPIs.createElementNS(\"http://www.w3.org/1999/xhtml\", \"div\");\n    Graphics.setAttrs(gl.dom.elWrap, {\n      id: gl.chartClass.substring(1),\n      class: `apexcharts-canvas ${gl.chartClass.substring(1)}`\n    });\n    this.el.appendChild(gl.dom.elWrap);\n    const SVG2 = Environment.isBrowser() ? window.SVG : global.SVG;\n    gl.dom.Paper = SVG2().addTo(gl.dom.elWrap);\n    gl.dom.Paper.attr({\n      class: \"apexcharts-svg\",\n      \"xmlns:data\": \"ApexChartsNS\",\n      transform: `translate(${cnf.chart.offsetX}, ${cnf.chart.offsetY})`\n    });\n    gl.dom.Paper.node.style.background = cnf.theme.mode === \"dark\" && !cnf.chart.background ? \"#343A3F\" : cnf.theme.mode === \"light\" && !cnf.chart.background ? \"#fff\" : cnf.chart.background;\n    this.setSVGDimensions();\n    gl.dom.elLegendForeign = document.createElementNS(gl.SVGNS, \"foreignObject\");\n    Graphics.setAttrs(gl.dom.elLegendForeign, {\n      x: 0,\n      y: 0,\n      width: gl.svgWidth,\n      height: gl.svgHeight\n    });\n    gl.dom.elLegendWrap = document.createElement(\"div\");\n    gl.dom.elLegendWrap.classList.add(\"apexcharts-legend\");\n    gl.dom.elWrap.appendChild(gl.dom.elLegendWrap);\n    gl.dom.Paper.node.appendChild(gl.dom.elLegendForeign);\n    if (cnf.chart.accessibility.enabled) {\n      const ariaLabel = this.getAccessibleChartLabel();\n      gl.dom.Paper.attr({\n        role: \"img\",\n        \"aria-label\": ariaLabel\n      });\n      const titleEl = document.createElementNS(gl.SVGNS, \"title\");\n      titleEl.textContent = cnf.title.text || \"Chart\";\n      gl.dom.Paper.node.insertBefore(titleEl, gl.dom.elLegendForeign.nextSibling);\n      if (cnf.chart.accessibility.description) {\n        const descEl = document.createElementNS(gl.SVGNS, \"desc\");\n        descEl.textContent = cnf.chart.accessibility.description;\n        gl.dom.Paper.node.insertBefore(descEl, titleEl.nextSibling);\n      }\n    }\n    gl.dom.elGraphical = gl.dom.Paper.group().attr({\n      class: \"apexcharts-inner apexcharts-graphical\"\n    });\n    gl.dom.elDefs = gl.dom.Paper.defs();\n    gl.dom.Paper.add(gl.dom.elGraphical);\n    gl.dom.elGraphical.add(gl.dom.elDefs);\n  }\n  plotChartType(ser, xyRatios) {\n    const {\n      w,\n      ctx\n    } = this;\n    const {\n      config: cnf,\n      globals: gl\n    } = w;\n    const seriesTypes = {\n      line: {\n        series: [],\n        i: []\n      },\n      area: {\n        series: [],\n        i: []\n      },\n      scatter: {\n        series: [],\n        i: []\n      },\n      bubble: {\n        series: [],\n        i: []\n      },\n      bar: {\n        series: [],\n        i: []\n      },\n      candlestick: {\n        series: [],\n        i: []\n      },\n      boxPlot: {\n        series: [],\n        i: []\n      },\n      rangeBar: {\n        series: [],\n        i: []\n      },\n      rangeArea: {\n        series: [],\n        seriesRangeEnd: [],\n        i: []\n      }\n    };\n    const chartType = cnf.chart.type || \"line\";\n    let nonComboType = null;\n    let comboCount = 0;\n    gl.series.forEach((serie, st) => {\n      var _a, _b;\n      const seriesType = ((_a = ser[st]) == null ? void 0 : _a.type) === \"column\" ? \"bar\" : ((_b = ser[st]) == null ? void 0 : _b.type) || (chartType === \"column\" ? \"bar\" : chartType);\n      if (seriesTypes[seriesType]) {\n        if (seriesType === \"rangeArea\") {\n          seriesTypes[seriesType].series.push(gl.seriesRangeStart[st]);\n          seriesTypes[seriesType].seriesRangeEnd.push(gl.seriesRangeEnd[st]);\n        } else {\n          seriesTypes[seriesType].series.push(serie);\n        }\n        seriesTypes[seriesType].i.push(st);\n        if (seriesType === \"bar\") w.globals.columnSeries = seriesTypes.bar;\n      } else if ([\"heatmap\", \"treemap\", \"pie\", \"donut\", \"polarArea\", \"radialBar\", \"radar\"].includes(seriesType)) {\n        nonComboType = seriesType;\n      } else {\n        console.warn(`You have specified an unrecognized series type (${seriesType}).`);\n      }\n      if (chartType !== seriesType && seriesType !== \"scatter\") comboCount++;\n    });\n    if (comboCount > 0) {\n      if (nonComboType) {\n        console.warn(`Chart or series type ${nonComboType} cannot appear with other chart or series types.`);\n      }\n      if (seriesTypes.bar.series.length > 0 && cnf.plotOptions.bar.horizontal) {\n        comboCount -= seriesTypes.bar.series.length;\n        seriesTypes.bar = {\n          series: [],\n          i: []\n        };\n        w.globals.columnSeries = {\n          series: [],\n          i: []\n        };\n        console.warn(\"Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`\");\n      }\n    }\n    gl.comboCharts || (gl.comboCharts = comboCount > 0);\n    const line = new Line(ctx, xyRatios);\n    const boxCandlestick = new BoxCandleStick(ctx, xyRatios);\n    ctx.pie = new Pie(ctx);\n    const radialBar = new Radial(ctx);\n    ctx.rangeBar = new RangeBar(ctx, xyRatios);\n    const radar = new Radar(ctx);\n    let elGraph = [];\n    if (gl.comboCharts) {\n      const coreUtils = new CoreUtils(ctx);\n      if (seriesTypes.area.series.length > 0) {\n        elGraph.push(...coreUtils.drawSeriesByGroup(seriesTypes.area, gl.areaGroups, \"area\", line));\n      }\n      if (seriesTypes.bar.series.length > 0) {\n        if (cnf.chart.stacked) {\n          const barStacked = new BarStacked(ctx, xyRatios);\n          elGraph.push(barStacked.draw(seriesTypes.bar.series, seriesTypes.bar.i));\n        } else {\n          ctx.bar = new Bar(ctx, xyRatios);\n          elGraph.push(ctx.bar.draw(seriesTypes.bar.series, seriesTypes.bar.i));\n        }\n      }\n      if (seriesTypes.rangeArea.series.length > 0) {\n        elGraph.push(line.draw(seriesTypes.rangeArea.series, \"rangeArea\", seriesTypes.rangeArea.i, seriesTypes.rangeArea.seriesRangeEnd));\n      }\n      if (seriesTypes.line.series.length > 0) {\n        elGraph.push(...coreUtils.drawSeriesByGroup(seriesTypes.line, gl.lineGroups, \"line\", line));\n      }\n      if (seriesTypes.candlestick.series.length > 0) {\n        elGraph.push(boxCandlestick.draw(seriesTypes.candlestick.series, \"candlestick\", seriesTypes.candlestick.i));\n      }\n      if (seriesTypes.boxPlot.series.length > 0) {\n        elGraph.push(boxCandlestick.draw(seriesTypes.boxPlot.series, \"boxPlot\", seriesTypes.boxPlot.i));\n      }\n      if (seriesTypes.rangeBar.series.length > 0) {\n        elGraph.push(ctx.rangeBar.draw(seriesTypes.rangeBar.series, seriesTypes.rangeBar.i));\n      }\n      if (seriesTypes.scatter.series.length > 0) {\n        const scatterLine = new Line(ctx, xyRatios, true);\n        elGraph.push(scatterLine.draw(seriesTypes.scatter.series, \"scatter\", seriesTypes.scatter.i));\n      }\n      if (seriesTypes.bubble.series.length > 0) {\n        const bubbleLine = new Line(ctx, xyRatios, true);\n        elGraph.push(bubbleLine.draw(seriesTypes.bubble.series, \"bubble\", seriesTypes.bubble.i));\n      }\n    } else {\n      switch (cnf.chart.type) {\n        case \"line\":\n          elGraph = line.draw(gl.series, \"line\");\n          break;\n        case \"area\":\n          elGraph = line.draw(gl.series, \"area\");\n          break;\n        case \"bar\":\n          if (cnf.chart.stacked) {\n            const barStacked = new BarStacked(ctx, xyRatios);\n            elGraph = barStacked.draw(gl.series);\n          } else {\n            ctx.bar = new Bar(ctx, xyRatios);\n            elGraph = ctx.bar.draw(gl.series);\n          }\n          break;\n        case \"candlestick\":\n          {\n            const candleStick = new BoxCandleStick(ctx, xyRatios);\n            elGraph = candleStick.draw(gl.series, \"candlestick\");\n            break;\n          }\n        case \"boxPlot\":\n          {\n            const boxPlot = new BoxCandleStick(ctx, xyRatios);\n            elGraph = boxPlot.draw(gl.series, cnf.chart.type);\n            break;\n          }\n        case \"rangeBar\":\n          elGraph = ctx.rangeBar.draw(gl.series);\n          break;\n        case \"rangeArea\":\n          elGraph = line.draw(gl.seriesRangeStart, \"rangeArea\", void 0, gl.seriesRangeEnd);\n          break;\n        case \"heatmap\":\n          {\n            const heatmap = new HeatMap(ctx, xyRatios);\n            elGraph = heatmap.draw(gl.series);\n            break;\n          }\n        case \"treemap\":\n          {\n            const treemap = new TreemapChart(ctx);\n            elGraph = treemap.draw(gl.series);\n            break;\n          }\n        case \"pie\":\n        case \"donut\":\n        case \"polarArea\":\n          elGraph = ctx.pie.draw(gl.series);\n          break;\n        case \"radialBar\":\n          elGraph = radialBar.draw(gl.series);\n          break;\n        case \"radar\":\n          elGraph = radar.draw(gl.series);\n          break;\n        default:\n          elGraph = line.draw(gl.series);\n      }\n    }\n    return elGraph;\n  }\n  setSVGDimensions() {\n    const {\n      globals: gl,\n      config: cnf\n    } = this.w;\n    cnf.chart.width = cnf.chart.width || \"100%\";\n    cnf.chart.height = cnf.chart.height || \"auto\";\n    gl.svgWidth = cnf.chart.width;\n    gl.svgHeight = cnf.chart.height;\n    let elDim = Utils$1.getDimensions(this.el);\n    const widthUnit = cnf.chart.width.toString().split(/[0-9]+/g).pop();\n    if (widthUnit === \"%\") {\n      if (Utils$1.isNumber(elDim[0])) {\n        if (elDim[0].width === 0) {\n          elDim = Utils$1.getDimensions(this.el.parentNode);\n        }\n        gl.svgWidth = elDim[0] * parseInt(cnf.chart.width, 10) / 100;\n      }\n    } else if (widthUnit === \"px\" || widthUnit === \"\") {\n      gl.svgWidth = parseInt(cnf.chart.width, 10);\n    }\n    const heightUnit = String(cnf.chart.height).toString().split(/[0-9]+/g).pop();\n    if (gl.svgHeight !== \"auto\" && gl.svgHeight !== \"\") {\n      if (heightUnit === \"%\") {\n        const elParentDim = Utils$1.getDimensions(this.el.parentNode);\n        gl.svgHeight = elParentDim[1] * parseInt(cnf.chart.height, 10) / 100;\n      } else {\n        gl.svgHeight = parseInt(cnf.chart.height, 10);\n      }\n    } else {\n      gl.svgHeight = gl.axisCharts ? gl.svgWidth / 1.61 : gl.svgWidth / 1.2;\n    }\n    gl.svgWidth = Math.max(gl.svgWidth, 0);\n    gl.svgHeight = Math.max(gl.svgHeight, 0);\n    Graphics.setAttrs(gl.dom.Paper.node, {\n      width: gl.svgWidth,\n      height: gl.svgHeight\n    });\n    if (heightUnit !== \"%\") {\n      const offsetY = cnf.chart.sparkline.enabled ? 0 : gl.axisCharts ? cnf.chart.parentHeightOffset : 0;\n      gl.dom.Paper.node.parentNode.parentNode.style.minHeight = `${gl.svgHeight + offsetY}px`;\n    }\n    gl.dom.elWrap.style.width = `${gl.svgWidth}px`;\n    gl.dom.elWrap.style.height = `${gl.svgHeight}px`;\n  }\n  shiftGraphPosition() {\n    const {\n      globals: gl\n    } = this.w;\n    const {\n      translateY: tY,\n      translateX: tX\n    } = gl;\n    Graphics.setAttrs(gl.dom.elGraphical.node, {\n      transform: `translate(${tX}, ${tY})`\n    });\n  }\n  resizeNonAxisCharts() {\n    const {\n      w\n    } = this;\n    const {\n      globals: gl\n    } = w;\n    let legendHeight = 0;\n    let offY = w.config.chart.sparkline.enabled ? 1 : 15;\n    offY += w.config.grid.padding.bottom;\n    if ([\"top\", \"bottom\"].includes(w.config.legend.position) && w.config.legend.show && !w.config.legend.floating) {\n      legendHeight = new Legend(this.ctx).legendHelpers.getLegendDimensions().clwh + 7;\n    }\n    const el = w.globals.dom.baseEl.querySelector(\".apexcharts-radialbar, .apexcharts-pie\");\n    let chartInnerDimensions = w.globals.radialSize * 2.05;\n    if (el && !w.config.chart.sparkline.enabled && w.config.plotOptions.radialBar.startAngle !== 0) {\n      const elRadialRect = Utils$1.getBoundingClientRect(el);\n      chartInnerDimensions = elRadialRect.bottom;\n      const maxHeight = elRadialRect.bottom - elRadialRect.top;\n      chartInnerDimensions = Math.max(w.globals.radialSize * 2.05, maxHeight);\n    }\n    const newHeight = Math.ceil(chartInnerDimensions + gl.translateY + legendHeight + offY);\n    if (gl.dom.elLegendForeign) {\n      gl.dom.elLegendForeign.setAttribute(\"height\", newHeight);\n    }\n    if (w.config.chart.height && String(w.config.chart.height).includes(\"%\")) return;\n    gl.dom.elWrap.style.height = `${newHeight}px`;\n    Graphics.setAttrs(gl.dom.Paper.node, {\n      height: newHeight\n    });\n    gl.dom.Paper.node.parentNode.parentNode.style.minHeight = `${newHeight}px`;\n  }\n  coreCalculations() {\n    new Range(this.ctx).init();\n  }\n  resetGlobals() {\n    const resetxyValues = () => this.w.config.series.map(() => []);\n    const globalObj = new Globals();\n    const {\n      globals: gl\n    } = this.w;\n    const parsingFlags = {\n      dataWasParsed: gl.dataWasParsed,\n      originalSeries: gl.originalSeries\n    };\n    globalObj.initGlobalVars(gl);\n    gl.seriesXvalues = resetxyValues();\n    gl.seriesYvalues = resetxyValues();\n    if (parsingFlags.dataWasParsed) {\n      gl.dataWasParsed = parsingFlags.dataWasParsed;\n      gl.originalSeries = parsingFlags.originalSeries;\n    }\n  }\n  isMultipleY() {\n    if (Array.isArray(this.w.config.yaxis) && this.w.config.yaxis.length > 1) {\n      this.w.globals.isMultipleYAxis = true;\n      return true;\n    }\n    return false;\n  }\n  xySettings() {\n    const {\n      w\n    } = this;\n    let xyRatios = null;\n    if (w.globals.axisCharts) {\n      if (w.config.xaxis.crosshairs.position === \"back\") {\n        new Crosshairs(this.ctx).drawXCrosshairs();\n      }\n      if (w.config.yaxis[0].crosshairs.position === \"back\") {\n        new Crosshairs(this.ctx).drawYCrosshairs();\n      }\n      if (w.config.xaxis.type === \"datetime\" && w.config.xaxis.labels.formatter === void 0) {\n        this.ctx.timeScale = new TimeScale(this.ctx);\n        let formattedTimeScale = [];\n        if (isFinite(w.globals.minX) && isFinite(w.globals.maxX) && !w.globals.isBarHorizontal) {\n          formattedTimeScale = this.ctx.timeScale.calculateTimeScaleTicks(w.globals.minX, w.globals.maxX);\n        } else if (w.globals.isBarHorizontal) {\n          formattedTimeScale = this.ctx.timeScale.calculateTimeScaleTicks(w.globals.minY, w.globals.maxY);\n        }\n        this.ctx.timeScale.recalcDimensionsBasedOnFormat(formattedTimeScale);\n      }\n      const coreUtils = new CoreUtils(this.ctx);\n      xyRatios = coreUtils.getCalculatedRatios();\n    }\n    return xyRatios;\n  }\n  updateSourceChart(targetChart) {\n    this.ctx.w.globals.selection = void 0;\n    this.ctx.updateHelpers._updateOptions({\n      chart: {\n        selection: {\n          xaxis: {\n            min: targetChart.w.globals.minX,\n            max: targetChart.w.globals.maxX\n          }\n        }\n      }\n    }, false, false);\n  }\n  setupBrushHandler() {\n    const {\n      ctx,\n      w\n    } = this;\n    if (!w.config.chart.brush.enabled) return;\n    if (typeof w.config.chart.events.selection !== \"function\") {\n      const targets = Array.isArray(w.config.chart.brush.targets) ? w.config.chart.brush.targets : [w.config.chart.brush.target];\n      targets.forEach(target => {\n        const targetChart = ctx.constructor.getChartByID(target);\n        targetChart.w.globals.brushSource = this.ctx;\n        if (typeof targetChart.w.config.chart.events.zoomed !== \"function\") {\n          targetChart.w.config.chart.events.zoomed = () => this.updateSourceChart(targetChart);\n        }\n        if (typeof targetChart.w.config.chart.events.scrolled !== \"function\") {\n          targetChart.w.config.chart.events.scrolled = () => this.updateSourceChart(targetChart);\n        }\n      });\n      w.config.chart.events.selection = (chart, e) => {\n        targets.forEach(target => {\n          const targetChart = ctx.constructor.getChartByID(target);\n          targetChart.ctx.updateHelpers._updateOptions({\n            xaxis: {\n              min: e.xaxis.min,\n              max: e.xaxis.max\n            }\n          }, false, false, false, false);\n        });\n      };\n    }\n  }\n  getAccessibleChartLabel() {\n    const w = this.w;\n    const cnf = w.config;\n    let label = \"\";\n    if (cnf.chart.accessibility && cnf.chart.accessibility.description) {\n      label = cnf.chart.accessibility.description;\n    } else if (cnf.title.text) {\n      const chartType = cnf.chart.type;\n      label = `${cnf.title.text}. ${chartType} chart`;\n      if (cnf.subtitle.text) {\n        label += `. ${cnf.subtitle.text}`;\n      }\n    } else {\n      const chartType = cnf.chart.type;\n      const seriesCount = w.globals.series.length || (cnf.series ? cnf.series.length : 0);\n      label = `${chartType} chart with ${seriesCount} data series`;\n    }\n    return label;\n  }\n}\nclass PerformanceCache {\n  /**\n   * Invalidate all caches\n   * @param {Object} w - ApexCharts globals object\n   */\n  static invalidateAll(w) {\n    if (!w || !w.globals) return;\n    if (w.globals.cachedSelectors) {\n      w.globals.cachedSelectors = {};\n    }\n    if (w.globals.domCache) {\n      w.globals.domCache.clear();\n    }\n    w.globals.dimensionCache = {};\n  }\n  /**\n   * Invalidate dimension cache only\n   * @param {Object} w - ApexCharts globals object\n   */\n  static invalidateDimensions(w) {\n    if (!w || !w.globals) return;\n    w.globals.dimensionCache = {};\n  }\n  /**\n   * Invalidate selector cache only\n   * @param {Object} w - ApexCharts globals object\n   */\n  static invalidateSelectors(w) {\n    if (!w || !w.globals) return;\n    if (w.globals.cachedSelectors) {\n      w.globals.cachedSelectors = {};\n    }\n  }\n  /**\n   * Get cached selector result or compute and cache it\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @param {Function} queryFn - Function to execute if not cached\n   * @returns {*} Cached or newly computed result\n   */\n  static getCachedSelector(w, key, queryFn) {\n    if (!w || !w.globals) return queryFn();\n    if (!w.globals.cachedSelectors) {\n      w.globals.cachedSelectors = {};\n    }\n    if (!w.globals.cachedSelectors[key]) {\n      w.globals.cachedSelectors[key] = queryFn();\n    }\n    return w.globals.cachedSelectors[key];\n  }\n  /**\n   * Get cached dimension or compute and cache it\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @param {Function} computeFn - Function to compute dimensions\n   * @param {number} maxAge - Maximum cache age in milliseconds (default: 1000ms)\n   * @returns {*} Cached or newly computed dimensions\n   */\n  static getCachedDimension(w, key, computeFn, maxAge = 1e3) {\n    if (!w || !w.globals) return computeFn();\n    if (!w.globals.dimensionCache) {\n      w.globals.dimensionCache = {};\n    }\n    const cache = w.globals.dimensionCache[key];\n    const now = Date.now();\n    if (cache && cache.lastUpdate && now - cache.lastUpdate < maxAge) {\n      return cache.value;\n    }\n    const value = computeFn();\n    w.globals.dimensionCache[key] = {\n      value,\n      lastUpdate: now\n    };\n    return value;\n  }\n  /**\n   * Cache a DOM element reference\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @param {Element} element - DOM element to cache\n   */\n  static cacheDOMElement(w, key, element) {\n    if (!w || !w.globals) return;\n    if (!w.globals.domCache) {\n      w.globals.domCache = /* @__PURE__ */new Map();\n    }\n    w.globals.domCache.set(key, element);\n  }\n  /**\n   * Get cached DOM element\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @returns {Element|null} Cached element or null\n   */\n  static getCachedDOMElement(w, key) {\n    if (!w || !w.globals || !w.globals.domCache) return null;\n    return w.globals.domCache.get(key) || null;\n  }\n}\nclass UpdateHelpers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  /**\n   * private method to update Options.\n   *\n   * @param {object} options - A new config object can be passed which will be merged with the existing config object\n   * @param {boolean} redraw - should redraw from beginning or should use existing paths and redraw from there\n   * @param {boolean} animate - should animate or not on updating Options\n   * @param {boolean} overwriteInitialConfig - should update the initial config or not\n   */\n  _updateOptions(options2, redraw = false, animate = true, updateSyncedCharts = true, overwriteInitialConfig = false) {\n    return new Promise(resolve => {\n      let charts = [this.ctx];\n      if (updateSyncedCharts) {\n        charts = this.ctx.getSyncedCharts();\n      }\n      if (this.ctx.w.globals.isExecCalled) {\n        charts = [this.ctx];\n        this.ctx.w.globals.isExecCalled = false;\n      }\n      charts.forEach((ch, chartIndex) => {\n        let w = ch.w;\n        w.globals.shouldAnimate = animate;\n        if (!redraw) {\n          w.globals.resized = true;\n          w.globals.dataChanged = true;\n          if (animate) {\n            ch.series.getPreviousPaths();\n          }\n        }\n        if (options2 && typeof options2 === \"object\") {\n          ch.config = new Config(options2);\n          options2 = CoreUtils.extendArrayProps(ch.config, options2, w);\n          if (ch.w.globals.chartID !== this.ctx.w.globals.chartID) {\n            delete options2.series;\n          }\n          w.config = Utils$1.extend(w.config, options2);\n          if (overwriteInitialConfig) {\n            w.globals.lastXAxis = options2.xaxis ? Utils$1.clone(options2.xaxis) : [];\n            w.globals.lastYAxis = options2.yaxis ? Utils$1.clone(options2.yaxis) : [];\n            w.globals.initialConfig = Utils$1.extend({}, w.config);\n            w.globals.initialSeries = Utils$1.clone(w.config.series);\n            if (options2.series) {\n              for (let i = 0; i < w.globals.collapsedSeriesIndices.length; i++) {\n                let series = w.config.series[w.globals.collapsedSeriesIndices[i]];\n                w.globals.collapsedSeries[i].data = w.globals.axisCharts ? series.data.slice() : series;\n              }\n              for (let i = 0; i < w.globals.ancillaryCollapsedSeriesIndices.length; i++) {\n                let series = w.config.series[w.globals.ancillaryCollapsedSeriesIndices[i]];\n                w.globals.ancillaryCollapsedSeries[i].data = w.globals.axisCharts ? series.data.slice() : series;\n              }\n              ch.series.emptyCollapsedSeries(w.config.series);\n            }\n          }\n        }\n        return ch.update(options2).then(() => {\n          if (chartIndex === charts.length - 1) {\n            resolve(ch);\n          }\n        });\n      });\n    });\n  }\n  /**\n   * Private method to update Series.\n   *\n   * @param {array} series - New series which will override the existing\n   */\n  _updateSeries(newSeries, animate, overwriteInitialSeries = false) {\n    return new Promise(resolve => {\n      const w = this.w;\n      w.globals.shouldAnimate = animate;\n      w.globals.dataChanged = true;\n      PerformanceCache.invalidateSelectors(w);\n      if (animate) {\n        this.ctx.series.getPreviousPaths();\n      }\n      this.ctx.data.resetParsingFlags();\n      this.ctx.data.parseData(newSeries);\n      if (overwriteInitialSeries) {\n        w.globals.initialConfig.series = Utils$1.clone(w.config.series);\n        w.globals.initialSeries = Utils$1.clone(w.config.series);\n      }\n      return this.ctx.update().then(() => {\n        resolve(this.ctx);\n      });\n    });\n  }\n  _extendSeries(s, i) {\n    const w = this.w;\n    const ser = w.config.series[i];\n    return __spreadProps(__spreadValues({}, w.config.series[i]), {\n      name: s.name ? s.name : ser == null ? void 0 : ser.name,\n      color: s.color ? s.color : ser == null ? void 0 : ser.color,\n      type: s.type ? s.type : ser == null ? void 0 : ser.type,\n      group: s.group ? s.group : ser == null ? void 0 : ser.group,\n      hidden: typeof s.hidden !== \"undefined\" ? s.hidden : ser == null ? void 0 : ser.hidden,\n      data: s.data ? s.data : ser == null ? void 0 : ser.data,\n      zIndex: typeof s.zIndex !== \"undefined\" ? s.zIndex : i\n    });\n  }\n  toggleDataPointSelection(seriesIndex, dataPointIndex) {\n    const w = this.w;\n    let elPath = null;\n    const parent = `.apexcharts-series[data\\\\:realIndex='${seriesIndex}']`;\n    if (w.globals.axisCharts) {\n      elPath = w.globals.dom.Paper.findOne(`${parent} path[j='${dataPointIndex}'], ${parent} circle[j='${dataPointIndex}'], ${parent} rect[j='${dataPointIndex}']`);\n    } else {\n      if (typeof dataPointIndex === \"undefined\") {\n        elPath = w.globals.dom.Paper.findOne(`${parent} path[j='${seriesIndex}']`);\n        if (w.config.chart.type === \"pie\" || w.config.chart.type === \"polarArea\" || w.config.chart.type === \"donut\") {\n          this.ctx.pie.pieClicked(seriesIndex);\n        }\n      }\n    }\n    if (elPath) {\n      const graphics = new Graphics(this.ctx);\n      graphics.pathMouseDown(elPath, null);\n    } else {\n      console.warn(\"toggleDataPointSelection: Element not found\");\n      return null;\n    }\n    return elPath.node ? elPath.node : null;\n  }\n  forceXAxisUpdate(options2) {\n    const w = this.w;\n    const minmax = [\"min\", \"max\"];\n    minmax.forEach(a => {\n      if (typeof options2.xaxis[a] !== \"undefined\") {\n        w.config.xaxis[a] = options2.xaxis[a];\n        w.globals.lastXAxis[a] = options2.xaxis[a];\n      }\n    });\n    if (options2.xaxis.categories && options2.xaxis.categories.length) {\n      w.config.xaxis.categories = options2.xaxis.categories;\n    }\n    if (w.config.xaxis.convertedCatToNumeric) {\n      const defaults = new Defaults(options2);\n      options2 = defaults.convertCatToNumericXaxis(options2, this.ctx);\n    }\n    return options2;\n  }\n  forceYAxisUpdate(options2) {\n    if (options2.chart && options2.chart.stacked && options2.chart.stackType === \"100%\") {\n      if (Array.isArray(options2.yaxis)) {\n        options2.yaxis.forEach((yaxe, index) => {\n          options2.yaxis[index].min = 0;\n          options2.yaxis[index].max = 100;\n        });\n      } else {\n        options2.yaxis.min = 0;\n        options2.yaxis.max = 100;\n      }\n    }\n    return options2;\n  }\n  /**\n   * This function reverts the yaxis and xaxis min/max values to what it was when the chart was defined.\n   * This function fixes an important bug where a user might load a new series after zooming in/out of previous series which resulted in wrong min/max\n   * Also, this should never be called internally on zoom/pan - the reset should only happen when user calls the updateSeries() function externally\n   * The function also accepts an object {xaxis, yaxis} which when present is set as the new xaxis/yaxis\n   */\n  revertDefaultAxisMinMax(opts) {\n    const w = this.w;\n    let xaxis = w.globals.lastXAxis;\n    let yaxis = w.globals.lastYAxis;\n    if (opts && opts.xaxis) {\n      xaxis = opts.xaxis;\n    }\n    if (opts && opts.yaxis) {\n      yaxis = opts.yaxis;\n    }\n    w.config.xaxis.min = xaxis.min;\n    w.config.xaxis.max = xaxis.max;\n    const getLastYAxis = index => {\n      if (typeof yaxis[index] !== \"undefined\") {\n        w.config.yaxis[index].min = yaxis[index].min;\n        w.config.yaxis[index].max = yaxis[index].max;\n      }\n    };\n    w.config.yaxis.map((yaxe, index) => {\n      if (w.globals.zoomed) {\n        getLastYAxis(index);\n      } else {\n        if (typeof yaxis[index] !== \"undefined\") {\n          getLastYAxis(index);\n        } else {\n          if (typeof this.ctx.opts.yaxis[index] !== \"undefined\") {\n            yaxe.min = this.ctx.opts.yaxis[index].min;\n            yaxe.max = this.ctx.opts.yaxis[index].max;\n          }\n        }\n      }\n    });\n  }\n}\nif (Environment.isBrowser()) {\n  if (typeof window.SVG === \"undefined\") {\n    window.SVG = SVG;\n  }\n  if (typeof window.Apex === \"undefined\") {\n    window.Apex = {};\n  }\n} else {\n  if (typeof global !== \"undefined\") {\n    if (typeof global.Apex === \"undefined\") {\n      global.Apex = {};\n    }\n  }\n}\nclass InitCtxVariables {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  initModules() {\n    this.ctx.publicMethods = [\"updateOptions\", \"updateSeries\", \"appendData\", \"appendSeries\", \"isSeriesHidden\", \"highlightSeries\", \"toggleSeries\", \"showSeries\", \"hideSeries\", \"setLocale\", \"resetSeries\", \"zoomX\", \"toggleDataPointSelection\", \"dataURI\", \"exportToCSV\", \"addXaxisAnnotation\", \"addYaxisAnnotation\", \"addPointAnnotation\", \"clearAnnotations\", \"removeAnnotation\", \"paper\", \"destroy\"];\n    this.ctx.eventList = [\"click\", \"mousedown\", \"mousemove\", \"mouseleave\", \"touchstart\", \"touchmove\", \"touchleave\", \"mouseup\", \"touchend\", \"keydown\", \"keyup\"];\n    this.ctx.animations = new Animations(this.ctx);\n    this.ctx.axes = new Axes(this.ctx);\n    this.ctx.core = new Core(this.ctx.el, this.ctx);\n    this.ctx.config = new Config({});\n    this.ctx.data = new Data(this.ctx);\n    this.ctx.grid = new Grid(this.ctx);\n    this.ctx.graphics = new Graphics(this.ctx);\n    this.ctx.coreUtils = new CoreUtils(this.ctx);\n    this.ctx.crosshairs = new Crosshairs(this.ctx);\n    this.ctx.events = new Events(this.ctx);\n    this.ctx.exports = new Exports(this.ctx);\n    this.ctx.fill = new Fill(this.ctx);\n    this.ctx.localization = new Localization(this.ctx);\n    this.ctx.options = new Options();\n    this.ctx.responsive = new Responsive(this.ctx);\n    this.ctx.series = new Series(this.ctx);\n    this.ctx.theme = new Theme(this.ctx);\n    this.ctx.formatters = new Formatters(this.ctx);\n    this.ctx.titleSubtitle = new TitleSubtitle(this.ctx);\n    this.ctx.legend = new Legend(this.ctx);\n    this.ctx.toolbar = new Toolbar(this.ctx);\n    this.ctx.tooltip = new Tooltip(this.ctx);\n    this.ctx.dimensions = new Dimensions(this.ctx);\n    this.ctx.updateHelpers = new UpdateHelpers(this.ctx);\n    this.ctx.zoomPanSelection = new ZoomPanSelection(this.ctx);\n    this.ctx.w.globals.tooltip = new Tooltip(this.ctx);\n  }\n}\nclass Destroy {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  clear({\n    isUpdating\n  }) {\n    if (this.ctx.zoomPanSelection) {\n      this.ctx.zoomPanSelection.destroy();\n    }\n    if (this.ctx.toolbar) {\n      this.ctx.toolbar.destroy();\n    }\n    if (this.w.globals.resizeObserver && typeof this.w.globals.resizeObserver.disconnect === \"function\") {\n      this.w.globals.resizeObserver.disconnect();\n      this.w.globals.resizeObserver = null;\n    }\n    PerformanceCache.invalidateAll(this.w);\n    this.ctx.animations = null;\n    this.ctx.axes = null;\n    this.ctx.annotations = null;\n    this.ctx.core = null;\n    this.ctx.data = null;\n    this.ctx.grid = null;\n    this.ctx.series = null;\n    this.ctx.responsive = null;\n    this.ctx.theme = null;\n    this.ctx.formatters = null;\n    this.ctx.titleSubtitle = null;\n    this.ctx.legend = null;\n    this.ctx.dimensions = null;\n    this.ctx.options = null;\n    this.ctx.crosshairs = null;\n    this.ctx.zoomPanSelection = null;\n    this.ctx.updateHelpers = null;\n    this.ctx.toolbar = null;\n    this.ctx.localization = null;\n    this.ctx.w.globals.tooltip = null;\n    this.clearDomElements({\n      isUpdating\n    });\n  }\n  killSVG(draw) {\n    draw.each(function () {\n      this.removeClass(\"*\");\n      this.off();\n    }, true);\n    draw.clear();\n  }\n  clearDomElements({\n    isUpdating\n  }) {\n    const elSVG = this.w.globals.dom.Paper.node;\n    if (elSVG.parentNode && elSVG.parentNode.parentNode && !isUpdating) {\n      elSVG.parentNode.parentNode.style.minHeight = \"unset\";\n    }\n    const baseEl = this.w.globals.dom.baseEl;\n    if (baseEl) {\n      this.ctx.eventList.forEach(event => {\n        baseEl.removeEventListener(event, this.ctx.events.documentEvent);\n      });\n    }\n    const domEls = this.w.globals.dom;\n    if (this.ctx.el !== null) {\n      while (this.ctx.el.firstChild) {\n        this.ctx.el.removeChild(this.ctx.el.firstChild);\n      }\n    }\n    this.killSVG(domEls.Paper);\n    domEls.Paper.remove();\n    domEls.elWrap = null;\n    domEls.elGraphical = null;\n    domEls.elLegendWrap = null;\n    domEls.elLegendForeign = null;\n    domEls.baseEl = null;\n    domEls.elGridRect = null;\n    domEls.elGridRectMask = null;\n    domEls.elGridRectBarMask = null;\n    domEls.elGridRectMarkerMask = null;\n    domEls.elForecastMask = null;\n    domEls.elNonForecastMask = null;\n    domEls.elDefs = null;\n  }\n}\nlet ros = /* @__PURE__ */new WeakMap();\nfunction addResizeListener(el, fn) {\n  if (Environment.isSSR()) return;\n  let called = false;\n  if (el.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n    const elRect = el.getBoundingClientRect();\n    if (el.style.display === \"none\" || elRect.width === 0) {\n      called = true;\n    }\n  }\n  let ro = new ResizeObserver(r => {\n    if (called) {\n      fn.call(el, r);\n    }\n    called = true;\n  });\n  if (el.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    Array.from(el.children).forEach(c => ro.observe(c));\n  } else {\n    ro.observe(el);\n  }\n  ros.set(fn, ro);\n}\nfunction removeResizeListener(el, fn) {\n  if (Environment.isSSR()) return;\n  let ro = ros.get(fn);\n  if (ro) {\n    ro.disconnect();\n    ros.delete(fn);\n  }\n}\nconst apexCSS = '@keyframes opaque {\\n  0% {\\n    opacity: 0\\n  }\\n\\n  to {\\n    opacity: 1\\n  }\\n}\\n\\n@keyframes resizeanim {\\n\\n  0%,\\n  to {\\n    opacity: 0\\n  }\\n}\\n\\n.apexcharts-canvas {\\n  position: relative;\\n  direction: ltr !important;\\n  user-select: none\\n}\\n\\n.apexcharts-canvas ::-webkit-scrollbar {\\n  -webkit-appearance: none;\\n  width: 6px\\n}\\n\\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\\n  border-radius: 4px;\\n  background-color: rgba(0, 0, 0, .5);\\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\\n}\\n\\n.apexcharts-inner {\\n  position: relative\\n}\\n\\n.apexcharts-text tspan {\\n  font-family: inherit\\n}\\n\\nrect.legend-mouseover-inactive,\\n.legend-mouseover-inactive rect,\\n.legend-mouseover-inactive path,\\n.legend-mouseover-inactive circle,\\n.legend-mouseover-inactive line,\\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\\n  transition: .15s ease all;\\n  opacity: .2\\n}\\n\\n.apexcharts-legend-text {\\n  padding-left: 15px;\\n  margin-left: -15px;\\n}\\n\\n.apexcharts-legend-series[role=\"button\"]:focus {\\n  outline: 2px solid #008FFB;\\n  outline-offset: 2px;\\n}\\n\\n.apexcharts-legend-series[role=\"button\"]:focus:not(:focus-visible) {\\n  outline: none;\\n}\\n\\n.apexcharts-legend-series[role=\"button\"]:focus-visible {\\n  outline: 2px solid #008FFB;\\n  outline-offset: 2px;\\n}\\n\\n.apexcharts-series-collapsed {\\n  opacity: 0\\n}\\n\\n.apexcharts-tooltip {\\n  border-radius: 5px;\\n  box-shadow: 2px 2px 6px -4px #999;\\n  cursor: default;\\n  font-size: 14px;\\n  left: 62px;\\n  opacity: 0;\\n  pointer-events: none;\\n  position: absolute;\\n  top: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  z-index: 12;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-tooltip.apexcharts-active {\\n  opacity: 1;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-light {\\n  border: 1px solid #e3e3e3;\\n  background: rgba(255, 255, 255, .96)\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-dark {\\n  color: #fff;\\n  background: rgba(30, 30, 30, .8)\\n}\\n\\n.apexcharts-tooltip * {\\n  font-family: inherit\\n}\\n\\n.apexcharts-tooltip-title {\\n  padding: 6px;\\n  font-size: 15px;\\n  margin-bottom: 4px\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\\n  background: #eceff1;\\n  border-bottom: 1px solid #ddd\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\\n  background: rgba(0, 0, 0, .7);\\n  border-bottom: 1px solid #333\\n}\\n\\n.apexcharts-tooltip-text-goals-value,\\n.apexcharts-tooltip-text-y-value,\\n.apexcharts-tooltip-text-z-value {\\n  display: inline-block;\\n  margin-left: 5px;\\n  font-weight: 600\\n}\\n\\n.apexcharts-tooltip-text-goals-label:empty,\\n.apexcharts-tooltip-text-goals-value:empty,\\n.apexcharts-tooltip-text-y-label:empty,\\n.apexcharts-tooltip-text-y-value:empty,\\n.apexcharts-tooltip-text-z-value:empty,\\n.apexcharts-tooltip-title:empty {\\n  display: none\\n}\\n\\n.apexcharts-tooltip-text-goals-label,\\n.apexcharts-tooltip-text-goals-value {\\n  padding: 6px 0 5px\\n}\\n\\n.apexcharts-tooltip-goals-group,\\n.apexcharts-tooltip-text-goals-label,\\n.apexcharts-tooltip-text-goals-value {\\n  display: flex\\n}\\n\\n.apexcharts-tooltip-text-goals-label:not(:empty),\\n.apexcharts-tooltip-text-goals-value:not(:empty) {\\n  margin-top: -6px\\n}\\n\\n.apexcharts-tooltip-marker {\\n  display: inline-block;\\n  position: relative;\\n  width: 16px;\\n  height: 16px;\\n  font-size: 16px;\\n  line-height: 16px;\\n  margin-right: 4px;\\n  text-align: center;\\n  vertical-align: middle;\\n  color: inherit;\\n}\\n\\n.apexcharts-tooltip-marker::before {\\n  content: \"\";\\n  display: inline-block;\\n  width: 100%;\\n  text-align: center;\\n  color: currentcolor;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  font-size: 26px;\\n  font-family: Arial, Helvetica, sans-serif;\\n  line-height: 14px;\\n  font-weight: 900;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"circle\"]::before {\\n  content: \"\\\\25CF\";\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"square\"]::before,\\n.apexcharts-tooltip-marker[shape=\"rect\"]::before {\\n  content: \"\\\\25A0\";\\n  transform: translate(-1px, -2px);\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"line\"]::before {\\n  content: \"\\\\2500\";\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"diamond\"]::before {\\n  content: \"\\\\25C6\";\\n  font-size: 28px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"triangle\"]::before {\\n  content: \"\\\\25B2\";\\n  font-size: 22px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"cross\"]::before {\\n  content: \"\\\\2715\";\\n  font-size: 18px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"plus\"]::before {\\n  content: \"\\\\2715\";\\n  transform: rotate(45deg) translate(-1px, -1px);\\n  font-size: 18px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"star\"]::before {\\n  content: \"\\\\2605\";\\n  font-size: 18px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"sparkle\"]::before {\\n  content: \"\\\\2726\";\\n  font-size: 20px;\\n}\\n\\n.apexcharts-tooltip-series-group {\\n  padding: 0 10px;\\n  display: none;\\n  text-align: left;\\n  justify-content: left;\\n  align-items: center\\n}\\n\\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\\n  opacity: 1\\n}\\n\\n.apexcharts-tooltip-series-group.apexcharts-active,\\n.apexcharts-tooltip-series-group:last-child {\\n  padding-bottom: 4px\\n}\\n\\n.apexcharts-tooltip-y-group {\\n  padding: 6px 0 5px\\n}\\n\\n.apexcharts-custom-tooltip,\\n.apexcharts-tooltip-box {\\n  padding: 4px 8px\\n}\\n\\n.apexcharts-tooltip-boxPlot {\\n  display: flex;\\n  flex-direction: column-reverse\\n}\\n\\n.apexcharts-tooltip-box>div {\\n  margin: 4px 0\\n}\\n\\n.apexcharts-tooltip-box span.value {\\n  font-weight: 700\\n}\\n\\n.apexcharts-tooltip-rangebar {\\n  padding: 5px 8px\\n}\\n\\n.apexcharts-tooltip-rangebar .category {\\n  font-weight: 600;\\n  color: #777\\n}\\n\\n.apexcharts-tooltip-rangebar .series-name {\\n  font-weight: 700;\\n  display: block;\\n  margin-bottom: 5px\\n}\\n\\n.apexcharts-xaxistooltip,\\n.apexcharts-yaxistooltip {\\n  opacity: 0;\\n  pointer-events: none;\\n  color: #373d3f;\\n  font-size: 13px;\\n  text-align: center;\\n  border-radius: 2px;\\n  position: absolute;\\n  z-index: 10;\\n  background: #eceff1;\\n  border: 1px solid #90a4ae\\n}\\n\\n.apexcharts-xaxistooltip {\\n  padding: 9px 10px;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\\n  background: rgba(0, 0, 0, .7);\\n  border: 1px solid rgba(0, 0, 0, .5);\\n  color: #fff\\n}\\n\\n.apexcharts-xaxistooltip:after,\\n.apexcharts-xaxistooltip:before {\\n  left: 50%;\\n  border: solid transparent;\\n  content: \" \";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none\\n}\\n\\n.apexcharts-xaxistooltip:after {\\n  border-color: transparent;\\n  border-width: 6px;\\n  margin-left: -6px\\n}\\n\\n.apexcharts-xaxistooltip:before {\\n  border-color: transparent;\\n  border-width: 7px;\\n  margin-left: -7px\\n}\\n\\n.apexcharts-xaxistooltip-bottom:after,\\n.apexcharts-xaxistooltip-bottom:before {\\n  bottom: 100%\\n}\\n\\n.apexcharts-xaxistooltip-top:after,\\n.apexcharts-xaxistooltip-top:before {\\n  top: 100%\\n}\\n\\n.apexcharts-xaxistooltip-bottom:after {\\n  border-bottom-color: #eceff1\\n}\\n\\n.apexcharts-xaxistooltip-bottom:before {\\n  border-bottom-color: #90a4ae\\n}\\n\\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\\n  border-bottom-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-xaxistooltip-top:after {\\n  border-top-color: #eceff1\\n}\\n\\n.apexcharts-xaxistooltip-top:before {\\n  border-top-color: #90a4ae\\n}\\n\\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\\n  border-top-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-xaxistooltip.apexcharts-active {\\n  opacity: 1;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-yaxistooltip {\\n  padding: 4px 10px\\n}\\n\\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\\n  background: rgba(0, 0, 0, .7);\\n  border: 1px solid rgba(0, 0, 0, .5);\\n  color: #fff\\n}\\n\\n.apexcharts-yaxistooltip:after,\\n.apexcharts-yaxistooltip:before {\\n  top: 50%;\\n  border: solid transparent;\\n  content: \" \";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none\\n}\\n\\n.apexcharts-yaxistooltip:after {\\n  border-color: transparent;\\n  border-width: 6px;\\n  margin-top: -6px\\n}\\n\\n.apexcharts-yaxistooltip:before {\\n  border-color: transparent;\\n  border-width: 7px;\\n  margin-top: -7px\\n}\\n\\n.apexcharts-yaxistooltip-left:after,\\n.apexcharts-yaxistooltip-left:before {\\n  left: 100%\\n}\\n\\n.apexcharts-yaxistooltip-right:after,\\n.apexcharts-yaxistooltip-right:before {\\n  right: 100%\\n}\\n\\n.apexcharts-yaxistooltip-left:after {\\n  border-left-color: #eceff1\\n}\\n\\n.apexcharts-yaxistooltip-left:before {\\n  border-left-color: #90a4ae\\n}\\n\\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\\n  border-left-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-yaxistooltip-right:after {\\n  border-right-color: #eceff1\\n}\\n\\n.apexcharts-yaxistooltip-right:before {\\n  border-right-color: #90a4ae\\n}\\n\\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\\n  border-right-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-yaxistooltip.apexcharts-active {\\n  opacity: 1\\n}\\n\\n.apexcharts-yaxistooltip-hidden {\\n  display: none\\n}\\n\\n.apexcharts-xcrosshairs,\\n.apexcharts-ycrosshairs {\\n  pointer-events: none;\\n  opacity: 0;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-xcrosshairs.apexcharts-active,\\n.apexcharts-ycrosshairs.apexcharts-active {\\n  opacity: 1;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-ycrosshairs-hidden {\\n  opacity: 0\\n}\\n\\n.apexcharts-selection-rect {\\n  cursor: move\\n}\\n\\n.svg_select_shape {\\n  stroke-width: 1;\\n  stroke-dasharray: 10 10;\\n  stroke: black;\\n  stroke-opacity: 0.1;\\n  pointer-events: none;\\n  fill: none;\\n}\\n\\n.svg_select_handle {\\n  stroke-width: 3;\\n  stroke: black;\\n  fill: none;\\n}\\n\\n.svg_select_handle_r {\\n  cursor: e-resize;\\n}\\n\\n.svg_select_handle_l {\\n  cursor: w-resize;\\n}\\n\\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\\n  cursor: crosshair\\n}\\n\\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\\n  cursor: move\\n}\\n\\n.apexcharts-menu-icon,\\n.apexcharts-pan-icon,\\n.apexcharts-reset-icon,\\n.apexcharts-selection-icon,\\n.apexcharts-toolbar-custom-icon,\\n.apexcharts-zoom-icon,\\n.apexcharts-zoomin-icon,\\n.apexcharts-zoomout-icon {\\n  cursor: pointer;\\n  width: 20px;\\n  height: 20px;\\n  line-height: 24px;\\n  color: #6e8192;\\n  text-align: center\\n}\\n\\n.apexcharts-menu-icon svg,\\n.apexcharts-reset-icon svg,\\n.apexcharts-zoom-icon svg,\\n.apexcharts-zoomin-icon svg,\\n.apexcharts-zoomout-icon svg {\\n  fill: #6e8192\\n}\\n\\n.apexcharts-selection-icon svg {\\n  fill: #444;\\n  transform: scale(.76)\\n}\\n\\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\\n  fill: #f3f4f5\\n}\\n\\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\\n  fill: #008ffb\\n}\\n\\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\\n  fill: #333\\n}\\n\\n.apexcharts-menu-icon,\\n.apexcharts-selection-icon {\\n  position: relative\\n}\\n\\n.apexcharts-reset-icon {\\n  margin-left: 5px\\n}\\n\\n.apexcharts-menu-icon,\\n.apexcharts-reset-icon,\\n.apexcharts-zoom-icon {\\n  transform: scale(.85)\\n}\\n\\n.apexcharts-zoomin-icon,\\n.apexcharts-zoomout-icon {\\n  transform: scale(.7)\\n}\\n\\n.apexcharts-zoomout-icon {\\n  margin-right: 3px\\n}\\n\\n.apexcharts-pan-icon {\\n  transform: scale(.62);\\n  position: relative;\\n  left: 1px;\\n  top: 0\\n}\\n\\n.apexcharts-pan-icon svg {\\n  fill: #fff;\\n  stroke: #6e8192;\\n  stroke-width: 2\\n}\\n\\n.apexcharts-pan-icon.apexcharts-selected svg {\\n  stroke: #008ffb\\n}\\n\\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\\n  stroke: #333\\n}\\n\\n.apexcharts-toolbar {\\n  position: absolute;\\n  z-index: 11;\\n  max-width: 176px;\\n  text-align: right;\\n  border-radius: 3px;\\n  padding: 0 6px 2px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center\\n}\\n\\n.apexcharts-menu {\\n  background: #fff;\\n  position: absolute;\\n  top: 100%;\\n  border: 1px solid #ddd;\\n  border-radius: 3px;\\n  padding: 3px;\\n  right: 10px;\\n  opacity: 0;\\n  min-width: 110px;\\n  transition: .15s ease all;\\n  pointer-events: none\\n}\\n\\n.apexcharts-menu.apexcharts-menu-open {\\n  opacity: 1;\\n  pointer-events: all;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-menu-item {\\n  padding: 6px 7px;\\n  font-size: 12px;\\n  cursor: pointer\\n}\\n\\n.apexcharts-theme-light .apexcharts-menu-item:hover {\\n  background: #eee\\n}\\n\\n.apexcharts-theme-dark .apexcharts-menu {\\n  background: rgba(0, 0, 0, .7);\\n  color: #fff\\n}\\n\\n@media screen and (min-width:768px) {\\n  .apexcharts-canvas:hover .apexcharts-toolbar {\\n    opacity: 1\\n  }\\n}\\n\\n.apexcharts-canvas .apexcharts-element-hidden,\\n.apexcharts-datalabel.apexcharts-element-hidden,\\n.apexcharts-hide .apexcharts-series-points {\\n  opacity: 0;\\n}\\n\\n.apexcharts-hidden-element-shown {\\n  opacity: 1;\\n  transition: 0.25s ease all;\\n}\\n\\n.apexcharts-datalabel,\\n.apexcharts-datalabel-label,\\n.apexcharts-datalabel-value,\\n.apexcharts-datalabels,\\n.apexcharts-pie-label {\\n  cursor: default;\\n  pointer-events: none\\n}\\n\\n.apexcharts-pie-label-delay {\\n  opacity: 0;\\n  animation-name: opaque;\\n  animation-duration: .3s;\\n  animation-fill-mode: forwards;\\n  animation-timing-function: ease\\n}\\n\\n.apexcharts-radialbar-label {\\n  cursor: pointer;\\n}\\n\\n.apexcharts-annotation-rect,\\n.apexcharts-area-series .apexcharts-area,\\n.apexcharts-gridline,\\n.apexcharts-line,\\n.apexcharts-point-annotation-label,\\n.apexcharts-radar-series path:not(.apexcharts-marker),\\n.apexcharts-radar-series polygon,\\n.apexcharts-toolbar svg,\\n.apexcharts-tooltip .apexcharts-marker,\\n.apexcharts-xaxis-annotation-label,\\n.apexcharts-yaxis-annotation-label,\\n.apexcharts-zoom-rect,\\n.no-pointer-events {\\n  pointer-events: none\\n}\\n\\n.apexcharts-tooltip-active .apexcharts-marker {\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-radar-series .apexcharts-yaxis {\\n  pointer-events: none;\\n}\\n\\n.resize-triggers {\\n  animation: 1ms resizeanim;\\n  visibility: hidden;\\n  opacity: 0;\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden\\n}\\n\\n.contract-trigger:before,\\n.resize-triggers,\\n.resize-triggers>div {\\n  content: \" \";\\n  display: block;\\n  position: absolute;\\n  top: 0;\\n  left: 0\\n}\\n\\n.resize-triggers>div {\\n  height: 100%;\\n  width: 100%;\\n  background: #eee;\\n  overflow: auto\\n}\\n\\n.contract-trigger:before {\\n  overflow: hidden;\\n  width: 200%;\\n  height: 200%\\n}\\n\\n.apexcharts-bar-goals-markers {\\n  pointer-events: none\\n}\\n\\n.apexcharts-bar-shadows {\\n  pointer-events: none\\n}\\n\\n.apexcharts-rangebar-goals-markers {\\n  pointer-events: none\\n}\\n\\n.apexcharts-disable-transitions * {\\n  transition: none !important;\\n}';\nclass ApexCharts {\n  constructor(el, opts) {\n    this.opts = opts;\n    this.ctx = this;\n    this.w = new Base(opts).init();\n    this.el = el;\n    this.w.globals.cuid = Utils$1.randomId();\n    this.w.globals.chartID = this.w.config.chart.id ? Utils$1.escapeString(this.w.config.chart.id) : this.w.globals.cuid;\n    const initCtx = new InitCtxVariables(this);\n    initCtx.initModules();\n    this.lastUpdateOptions = null;\n    this.create = Utils$1.bind(this.create, this);\n    if (Environment.isBrowser()) {\n      this.windowResizeHandler = this._windowResizeHandler.bind(this);\n      this.parentResizeHandler = this._parentResizeCallback.bind(this);\n    }\n  }\n  /**\n   * The primary method user will call to render the chart.\n   */\n  render() {\n    return new Promise((resolve, reject) => {\n      var _a;\n      if (Utils$1.elementExists(this.el)) {\n        if (typeof Apex._chartInstances === \"undefined\") {\n          Apex._chartInstances = [];\n        }\n        if (this.w.config.chart.id) {\n          Apex._chartInstances.push({\n            id: this.w.globals.chartID,\n            group: this.w.config.chart.group,\n            chart: this\n          });\n        }\n        this.setLocale(this.w.config.chart.defaultLocale);\n        const beforeMount = this.w.config.chart.events.beforeMount;\n        if (typeof beforeMount === \"function\") {\n          beforeMount(this, this.w);\n        }\n        this.events.fireEvent(\"beforeMount\", [this, this.w]);\n        if (Environment.isBrowser()) {\n          window.addEventListener(\"resize\", this.windowResizeHandler);\n          addResizeListener(this.el.parentNode, this.parentResizeHandler);\n          let rootNode = this.el.getRootNode && this.el.getRootNode();\n          let inShadowRoot = Utils$1.is(\"ShadowRoot\", rootNode);\n          let doc = this.el.ownerDocument;\n          let css = inShadowRoot ? rootNode.getElementById(\"apexcharts-css\") : doc.getElementById(\"apexcharts-css\");\n          if (!css) {\n            css = BrowserAPIs.createElementNS(\"http://www.w3.org/1999/xhtml\", \"style\");\n            css.id = \"apexcharts-css\";\n            css.textContent = apexCSS;\n            const nonce = ((_a = this.opts.chart) == null ? void 0 : _a.nonce) || this.w.config.chart.nonce;\n            if (nonce) {\n              css.setAttribute(\"nonce\", nonce);\n            }\n            if (inShadowRoot) {\n              rootNode.prepend(css);\n            } else if (this.w.config.chart.injectStyleSheet !== false) {\n              doc.head.appendChild(css);\n            }\n          }\n        }\n        let graphData = this.create(this.w.config.series, {});\n        if (!graphData) return resolve(this);\n        this.mount(graphData).then(() => {\n          if (typeof this.w.config.chart.events.mounted === \"function\") {\n            this.w.config.chart.events.mounted(this, this.w);\n          }\n          this.events.fireEvent(\"mounted\", [this, this.w]);\n          resolve(graphData);\n        }).catch(e => {\n          reject(e);\n        });\n      } else {\n        reject(new Error(\"Element not found\"));\n      }\n    });\n  }\n  create(ser, opts) {\n    let w = this.w;\n    const initCtx = new InitCtxVariables(this);\n    initCtx.initModules();\n    let gl = this.w.globals;\n    gl.noData = false;\n    gl.animationEnded = false;\n    if (!Utils$1.elementExists(this.el)) {\n      gl.animationEnded = true;\n      return null;\n    }\n    this.responsive.checkResponsiveConfig(opts);\n    if (w.config.xaxis.convertedCatToNumeric) {\n      const defaults = new Defaults(w.config);\n      defaults.convertCatToNumericXaxis(w.config, this.ctx);\n    }\n    this.core.setupElements();\n    if (w.config.chart.type === \"treemap\") {\n      w.config.grid.show = false;\n      w.config.yaxis[0].show = false;\n    }\n    if (gl.svgWidth === 0) {\n      gl.animationEnded = true;\n      return null;\n    }\n    let series = ser;\n    ser.forEach((s, realIndex) => {\n      if (s.hidden) {\n        series = this.legend.legendHelpers.getSeriesAfterCollapsing({\n          realIndex\n        });\n      }\n    });\n    const combo = CoreUtils.checkComboSeries(series, w.config.chart.type);\n    gl.comboCharts = combo.comboCharts;\n    gl.comboBarCount = combo.comboBarCount;\n    const allSeriesAreEmpty = series.every(s => s.data && s.data.length === 0);\n    if (series.length === 0 || allSeriesAreEmpty && gl.collapsedSeries.length < 1) {\n      this.series.handleNoData();\n    }\n    this.events.setupEventHandlers();\n    this.data.parseData(series);\n    this.theme.init();\n    const markers = new Markers(this);\n    markers.setGlobalMarkerSize();\n    this.formatters.setLabelFormatters();\n    this.titleSubtitle.draw();\n    if (!gl.noData || gl.collapsedSeries.length === gl.series.length || w.config.legend.showForSingleSeries) {\n      this.legend.init();\n    }\n    this.series.hasAllSeriesEqualX();\n    if (gl.axisCharts) {\n      this.core.coreCalculations();\n      if (w.config.xaxis.type !== \"category\") {\n        this.formatters.setLabelFormatters();\n      }\n      this.ctx.toolbar.minX = w.globals.minX;\n      this.ctx.toolbar.maxX = w.globals.maxX;\n    }\n    this.formatters.heatmapLabelFormatters();\n    const coreUtils = new CoreUtils(this);\n    coreUtils.getLargestMarkerSize();\n    this.dimensions.plotCoords();\n    const xyRatios = this.core.xySettings();\n    this.grid.createGridMask();\n    const elGraph = this.core.plotChartType(series, xyRatios);\n    const dataLabels = new DataLabels(this);\n    dataLabels.bringForward();\n    if (w.config.dataLabels.background.enabled) {\n      dataLabels.dataLabelsBackground();\n    }\n    this.core.shiftGraphPosition();\n    if (w.globals.dataPoints > 50) {\n      w.globals.dom.elWrap.classList.add(\"apexcharts-disable-transitions\");\n    }\n    const dim = {\n      plot: {\n        left: w.globals.translateX,\n        top: w.globals.translateY,\n        width: w.globals.gridWidth,\n        height: w.globals.gridHeight\n      }\n    };\n    return {\n      elGraph,\n      xyRatios,\n      dimensions: dim\n    };\n  }\n  mount(graphData = null) {\n    let me = this;\n    let w = me.w;\n    return new Promise((resolve, reject) => {\n      var _a, _b;\n      if (me.el === null) {\n        return reject(new Error(\"Not enough data to display or target element not found\"));\n      } else if (graphData === null || w.globals.allSeriesCollapsed) {\n        me.series.handleNoData();\n      }\n      me.grid = new Grid(me);\n      let elgrid = me.grid.drawGrid();\n      me.annotations = new Annotations(me);\n      me.annotations.drawImageAnnos();\n      me.annotations.drawTextAnnos();\n      if (w.config.grid.position === \"back\") {\n        if (elgrid) {\n          w.globals.dom.elGraphical.add(elgrid.el);\n        }\n        if ((_a = elgrid == null ? void 0 : elgrid.elGridBorders) == null ? void 0 : _a.node) {\n          w.globals.dom.elGraphical.add(elgrid.elGridBorders);\n        }\n      }\n      if (Array.isArray(graphData.elGraph)) {\n        for (let g = 0; g < graphData.elGraph.length; g++) {\n          w.globals.dom.elGraphical.add(graphData.elGraph[g]);\n        }\n      } else {\n        w.globals.dom.elGraphical.add(graphData.elGraph);\n      }\n      if (w.config.grid.position === \"front\") {\n        if (elgrid) {\n          w.globals.dom.elGraphical.add(elgrid.el);\n        }\n        if ((_b = elgrid == null ? void 0 : elgrid.elGridBorders) == null ? void 0 : _b.node) {\n          w.globals.dom.elGraphical.add(elgrid.elGridBorders);\n        }\n      }\n      if (w.config.xaxis.crosshairs.position === \"front\") {\n        me.crosshairs.drawXCrosshairs();\n      }\n      if (w.config.yaxis[0].crosshairs.position === \"front\") {\n        me.crosshairs.drawYCrosshairs();\n      }\n      if (w.config.chart.type !== \"treemap\") {\n        me.axes.drawAxis(w.config.chart.type, elgrid);\n      }\n      let xAxis = new XAxis(this.ctx, elgrid);\n      let yaxis = new YAxis(this.ctx, elgrid);\n      if (elgrid !== null) {\n        xAxis.xAxisLabelCorrections(elgrid.xAxisTickWidth);\n        yaxis.setYAxisTextAlignments();\n        w.config.yaxis.map((yaxe, index) => {\n          if (w.globals.ignoreYAxisIndexes.indexOf(index) === -1) {\n            yaxis.yAxisTitleRotate(index, yaxe.opposite);\n          }\n        });\n      }\n      me.annotations.drawAxesAnnotations();\n      if (!w.globals.noData) {\n        if (w.config.tooltip.enabled && !w.globals.noData) {\n          me.w.globals.tooltip.drawTooltip(graphData.xyRatios);\n        }\n        if (w.globals.axisCharts && (w.globals.isXNumeric || w.config.xaxis.convertedCatToNumeric || w.globals.isRangeBar)) {\n          if (w.config.chart.zoom.enabled || w.config.chart.selection && w.config.chart.selection.enabled || w.config.chart.pan && w.config.chart.pan.enabled) {\n            me.zoomPanSelection.init({\n              xyRatios: graphData.xyRatios\n            });\n          }\n        } else {\n          const tools = w.config.chart.toolbar.tools;\n          let toolsArr = [\"zoom\", \"zoomin\", \"zoomout\", \"selection\", \"pan\", \"reset\"];\n          toolsArr.forEach(t => {\n            tools[t] = false;\n          });\n        }\n        if (w.config.chart.toolbar.show && !w.globals.allSeriesCollapsed) {\n          me.toolbar.createToolbar();\n        }\n      }\n      if (w.globals.memory.methodsToExec.length > 0) {\n        w.globals.memory.methodsToExec.forEach(fn => {\n          fn.method(fn.params, false, fn.context);\n        });\n      }\n      if (!w.globals.axisCharts && !w.globals.noData) {\n        me.core.resizeNonAxisCharts();\n      }\n      resolve(me);\n    });\n  }\n  /**\n   * Destroy the chart instance by removing all elements which also clean up event listeners on those elements.\n   */\n  destroy() {\n    if (Environment.isBrowser()) {\n      window.removeEventListener(\"resize\", this.windowResizeHandler);\n      removeResizeListener(this.el.parentNode, this.parentResizeHandler);\n    }\n    const chartID = this.w.config.chart.id;\n    if (chartID) {\n      Apex._chartInstances.forEach((c, i) => {\n        if (c.id === Utils$1.escapeString(chartID)) {\n          Apex._chartInstances.splice(i, 1);\n        }\n      });\n    }\n    new Destroy(this.ctx).clear({\n      isUpdating: false\n    });\n  }\n  /**\n   * Allows users to update Options after the chart has rendered.\n   *\n   * @param {object} options - A new config object can be passed which will be merged with the existing config object\n   * @param {boolean} redraw - should redraw from beginning or should use existing paths and redraw from there\n   * @param {boolean} animate - should animate or not on updating Options\n   */\n  updateOptions(options2, redraw = false, animate = true, updateSyncedCharts = true, overwriteInitialConfig = true) {\n    const w = this.w;\n    w.globals.selection = void 0;\n    if (this.lastUpdateOptions) {\n      if (Utils$1.shallowEqual(this.lastUpdateOptions, options2)) {\n        return this;\n      }\n      if (options2.series && this.lastUpdateOptions.series) {\n        if (JSON.stringify(this.lastUpdateOptions.series) === JSON.stringify(options2.series)) {\n          const optionsWithoutSeries = __spreadValues({}, options2);\n          const lastWithoutSeries = __spreadValues({}, this.lastUpdateOptions);\n          delete optionsWithoutSeries.series;\n          delete lastWithoutSeries.series;\n          if (Utils$1.shallowEqual(optionsWithoutSeries, lastWithoutSeries)) {\n            return this;\n          }\n        }\n      }\n    }\n    if (options2.series) {\n      this.data.resetParsingFlags();\n      this.series.resetSeries(false, true, false);\n      if (options2.series.length && options2.series[0].data) {\n        options2.series = options2.series.map((s, i) => {\n          return this.updateHelpers._extendSeries(s, i);\n        });\n      }\n      this.updateHelpers.revertDefaultAxisMinMax();\n    }\n    if (options2.xaxis) {\n      options2 = this.updateHelpers.forceXAxisUpdate(options2);\n    }\n    if (options2.yaxis) {\n      options2 = this.updateHelpers.forceYAxisUpdate(options2);\n    }\n    if (w.globals.collapsedSeriesIndices.length > 0) {\n      this.series.clearPreviousPaths();\n    }\n    if (options2.theme) {\n      options2 = this.theme.updateThemeOptions(options2);\n    }\n    return this.updateHelpers._updateOptions(options2, redraw, animate, updateSyncedCharts, overwriteInitialConfig);\n  }\n  /**\n   * Allows users to update Series after the chart has rendered.\n   *\n   * @param {array} series - New series which will override the existing\n   */\n  updateSeries(newSeries = [], animate = true, overwriteInitialSeries = true) {\n    this.data.resetParsingFlags();\n    this.series.resetSeries(false);\n    this.updateHelpers.revertDefaultAxisMinMax();\n    return this.updateHelpers._updateSeries(newSeries, animate, overwriteInitialSeries);\n  }\n  /**\n   * Allows users to append a new series after the chart has rendered.\n   *\n   * @param {array} newSerie - New serie which will be appended to the existing series\n   */\n  appendSeries(newSerie, animate = true, overwriteInitialSeries = true) {\n    this.data.resetParsingFlags();\n    const newSeries = this.w.config.series.slice();\n    newSeries.push(newSerie);\n    this.series.resetSeries(false);\n    this.updateHelpers.revertDefaultAxisMinMax();\n    return this.updateHelpers._updateSeries(newSeries, animate, overwriteInitialSeries);\n  }\n  /**\n   * Allows users to append Data to series.\n   *\n   * @param {array} newData - New data in the same format as series\n   */\n  appendData(newData, overwriteInitialSeries = true) {\n    let me = this;\n    me.data.resetParsingFlags();\n    me.w.globals.dataChanged = true;\n    me.series.getPreviousPaths();\n    let newSeries = me.w.config.series.slice();\n    for (let i = 0; i < newSeries.length; i++) {\n      if (newData[i] !== null && typeof newData[i] !== \"undefined\") {\n        for (let j = 0; j < newData[i].data.length; j++) {\n          newSeries[i].data.push(newData[i].data[j]);\n        }\n      }\n    }\n    me.w.config.series = newSeries;\n    if (overwriteInitialSeries) {\n      me.w.globals.initialSeries = Utils$1.clone(me.w.config.series);\n    }\n    return this.update();\n  }\n  update(options2) {\n    return new Promise((resolve, reject) => {\n      if (this.lastUpdateOptions && JSON.stringify(this.lastUpdateOptions) === JSON.stringify(options2)) {\n        return resolve(this);\n      }\n      this.lastUpdateOptions = Utils$1.clone(options2);\n      new Destroy(this.ctx).clear({\n        isUpdating: true\n      });\n      const graphData = this.create(this.w.config.series, options2);\n      if (!graphData) return resolve(this);\n      this.mount(graphData).then(() => {\n        if (typeof this.w.config.chart.events.updated === \"function\") {\n          this.w.config.chart.events.updated(this, this.w);\n        }\n        this.events.fireEvent(\"updated\", [this, this.w]);\n        this.w.globals.isDirty = true;\n        resolve(this);\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n  /**\n   * Get all charts in the same \"group\" (including the instance which is called upon) to sync them when user zooms in/out or pan.\n   */\n  getSyncedCharts() {\n    const chartGroups = this.getGroupedCharts();\n    let allCharts = [this];\n    if (chartGroups.length) {\n      allCharts = [];\n      chartGroups.forEach(ch => {\n        allCharts.push(ch);\n      });\n    }\n    return allCharts;\n  }\n  /**\n   * Get charts in the same \"group\" (excluding the instance which is called upon) to perform operations on the other charts of the same group (eg., tooltip hovering)\n   */\n  getGroupedCharts() {\n    return Apex._chartInstances.filter(ch => {\n      if (ch.group) {\n        return true;\n      }\n    }).map(ch => this.w.config.chart.group === ch.group ? ch.chart : this);\n  }\n  static getChartByID(id) {\n    const chartId = Utils$1.escapeString(id);\n    if (!Apex._chartInstances) return void 0;\n    const c = Apex._chartInstances.filter(ch => ch.id === chartId)[0];\n    return c && c.chart;\n  }\n  /**\n   * Allows the user to provide data attrs in the element and the chart will render automatically when this method is called by searching for the elements containing 'data-apexcharts' attribute\n   */\n  static initOnLoad() {\n    const els = document.querySelectorAll(\"[data-apexcharts]\");\n    for (let i = 0; i < els.length; i++) {\n      const el = els[i];\n      const options2 = JSON.parse(els[i].getAttribute(\"data-options\"));\n      const apexChart = new ApexCharts(el, options2);\n      apexChart.render();\n    }\n  }\n  /**\n   * This static method allows users to call chart methods without necessarily from the\n   * instance of the chart in case user has assigned chartID to the targeted chart.\n   * The chartID is used for mapping the instance stored in Apex._chartInstances global variable\n   *\n   * This is helpful in cases when you don't have reference of the chart instance\n   * easily and need to call the method from anywhere.\n   * For eg, in React/Vue applications when you have many parent/child components,\n   * and need easy reference to other charts for performing dynamic operations\n   *\n   * @param {string} chartID - The unique identifier which will be used to call methods\n   * on that chart instance\n   * @param {function} fn - The method name to call\n   * @param {object} opts - The parameters which are accepted in the original method will be passed here in the same order.\n   */\n  static exec(chartID, fn, ...opts) {\n    const chart = this.getChartByID(chartID);\n    if (!chart) return;\n    chart.w.globals.isExecCalled = true;\n    let ret = null;\n    if (chart.publicMethods.indexOf(fn) !== -1) {\n      ret = chart[fn](...opts);\n    }\n    return ret;\n  }\n  static merge(target, source) {\n    return Utils$1.extend(target, source);\n  }\n  static getThemePalettes() {\n    return {\n      palette1: [\"#008FFB\", \"#00E396\", \"#FEB019\", \"#FF4560\", \"#775DD0\"],\n      palette2: [\"#3F51B5\", \"#03A9F4\", \"#4CAF50\", \"#F9CE1D\", \"#FF9800\"],\n      palette3: [\"#33B2DF\", \"#546E7A\", \"#D4526E\", \"#13D8AA\", \"#A5978B\"],\n      palette4: [\"#4ECDC4\", \"#C7F464\", \"#81D4FA\", \"#FD6A6A\", \"#546E7A\"],\n      palette5: [\"#2B908F\", \"#F9A3A4\", \"#90EE7E\", \"#FA4443\", \"#69D2E7\"],\n      palette6: [\"#449DD1\", \"#F86624\", \"#EA3546\", \"#662E9B\", \"#C5D86D\"],\n      palette7: [\"#D7263D\", \"#1B998B\", \"#2E294E\", \"#F46036\", \"#E2C044\"],\n      palette8: [\"#662E9B\", \"#F86624\", \"#F9C80E\", \"#EA3546\", \"#43BCCD\"],\n      palette9: [\"#5C4742\", \"#A5978B\", \"#8D5B4C\", \"#5A2A27\", \"#C4BBAF\"],\n      palette10: [\"#A300D6\", \"#7D02EB\", \"#5653FE\", \"#2983FF\", \"#00B1F2\"]\n    };\n  }\n  toggleSeries(seriesName) {\n    return this.series.toggleSeries(seriesName);\n  }\n  highlightSeriesOnLegendHover(e, targetElement) {\n    return this.series.toggleSeriesOnHover(e, targetElement);\n  }\n  showSeries(seriesName) {\n    this.series.showSeries(seriesName);\n  }\n  hideSeries(seriesName) {\n    this.series.hideSeries(seriesName);\n  }\n  highlightSeries(seriesName) {\n    this.series.highlightSeries(seriesName);\n  }\n  isSeriesHidden(seriesName) {\n    this.series.isSeriesHidden(seriesName);\n  }\n  resetSeries(shouldUpdateChart = true, shouldResetZoom = true) {\n    this.series.resetSeries(shouldUpdateChart, shouldResetZoom);\n  }\n  // Public method to add event listener on chart context\n  addEventListener(name2, handler) {\n    this.events.addEventListener(name2, handler);\n  }\n  // Public method to remove event listener on chart context\n  removeEventListener(name2, handler) {\n    this.events.removeEventListener(name2, handler);\n  }\n  addXaxisAnnotation(opts, pushToMemory = true, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.addXaxisAnnotationExternal(opts, pushToMemory, me);\n  }\n  addYaxisAnnotation(opts, pushToMemory = true, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.addYaxisAnnotationExternal(opts, pushToMemory, me);\n  }\n  addPointAnnotation(opts, pushToMemory = true, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.addPointAnnotationExternal(opts, pushToMemory, me);\n  }\n  clearAnnotations(context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.clearAnnotations(me);\n  }\n  removeAnnotation(id, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.removeAnnotation(me, id);\n  }\n  getChartArea() {\n    const el = this.w.globals.dom.baseEl.querySelector(\".apexcharts-inner\");\n    return el;\n  }\n  getSeriesTotalXRange(minX, maxX) {\n    return this.coreUtils.getSeriesTotalsXRange(minX, maxX);\n  }\n  getHighestValueInSeries(seriesIndex = 0) {\n    const range = new Range(this.ctx);\n    return range.getMinYMaxY(seriesIndex).highestY;\n  }\n  getLowestValueInSeries(seriesIndex = 0) {\n    const range = new Range(this.ctx);\n    return range.getMinYMaxY(seriesIndex).lowestY;\n  }\n  getSeriesTotal() {\n    return this.w.globals.seriesTotals;\n  }\n  toggleDataPointSelection(seriesIndex, dataPointIndex) {\n    return this.updateHelpers.toggleDataPointSelection(seriesIndex, dataPointIndex);\n  }\n  zoomX(min, max) {\n    this.ctx.toolbar.zoomUpdateOptions(min, max);\n  }\n  setLocale(localeName) {\n    this.localization.setCurrentLocaleValues(localeName);\n  }\n  dataURI(options2) {\n    const exp = new Exports(this.ctx);\n    return exp.dataURI(options2);\n  }\n  getSvgString(scale) {\n    return new Exports(this.ctx).getSvgString(scale);\n  }\n  exportToCSV(options2 = {}) {\n    const exp = new Exports(this.ctx);\n    return exp.exportToCSV(options2);\n  }\n  paper() {\n    return this.w.globals.dom.Paper;\n  }\n  _parentResizeCallback() {\n    if (this.w.globals.animationEnded && this.w.config.chart.redrawOnParentResize) {\n      this._windowResize();\n    }\n  }\n  /**\n   * Handle window resize and re-draw the whole chart.\n   */\n  _windowResize() {\n    clearTimeout(this.w.globals.resizeTimer);\n    this.w.globals.resizeTimer = window.setTimeout(() => {\n      this.w.globals.resized = true;\n      this.w.globals.dataChanged = false;\n      this.ctx.update();\n    }, 150);\n  }\n  _windowResizeHandler() {\n    let {\n      redrawOnWindowResize: redraw\n    } = this.w.config.chart;\n    if (typeof redraw === \"function\") {\n      redraw = redraw();\n    }\n    redraw && this._windowResize();\n  }\n}\nexport { ApexCharts as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","Environment","isSSR","window","document","isBrowser","hasAPI","api","SSRElement","constructor","nodeName","namespaceURI","attributes","Map","children","textContent","style","classList","SSRClassList","parentNode","setAttribute","name2","set","getAttribute","get","removeAttribute","delete","hasAttribute","has","appendChild","child","push","removeChild","index","indexOf","splice","insertBefore","newNode","referenceNode","cloneNode","deep","clone","forEach","assign","getBoundingClientRect","width","_ssrWidth","height","_ssrHeight","top","left","right","bottom","x","y","getRootNode","root","toString","attrs","length","childrenStr","map","c","join","innerHTML","outerHTML","isConnected","classes","Set","add","classNames","remove","contains","className","toggle","force","Array","from","SSRDOMShim","SVGNS","XLINKNS","createElementNS","qualifiedName","createTextNode","data","nodeType","querySelector","querySelectorAll","getComputedStyle","element","createXMLSerializer","serializeToString","createDOMParser","parseFromString","str","_type","documentElement","shim","xmlSerializerInstance","domParserInstance","BrowserAPIs","init","selector","getXMLSerializer","XMLSerializer","getDOMParser","DOMParser","addWindowEventListener","event","handler","options2","addEventListener","removeWindowEventListener","removeEventListener","requestAnimationFrame","callback","cancelAnimationFrame","id","elementExists","_ssrMode","composed","getWindow","getDocument","_getShim","_resetShim","Utils$1","Utils","bind","fn","me","apply","arguments","isObject","item","isArray","is","type","val","isSafari","test","navigator","userAgent","listToArray","list","i","array","extend","target","source","target2","TypeError","output2","source2","nextKey","output","keys","extendArray","arrToExtend","resultArr","extendedArr","monthMod","month","visited","WeakMap","shallow","cloneResult","slice","Date","getTime","shallowClone","shallowEqual","obj1","obj2","keys1","keys2","log10","Math","log","LN10","roundToBase10","pow","floor","roundToBase","base","parseNumber","parseFloat","stripNumber","num","precision","Number","isInteger","toPrecision","randomId","random","substring","noExponents","includes","round","isInShadowDOM","el","rootNode","getShadowRootHost","host","getDimensions","inShadowDOM","hostRect","computedStyle","e","clientWidth","clientHeight","elementHeight","elementWidth","paddingTop","paddingBottom","paddingLeft","paddingRight","rect","getLargestStringFromArr","arr","reduce","aa","bb","hexToRgba","hex","opacity","h","replace","match","RegExp","parseInt","getOpacityFromRGBA","rgba","rgb2hex","rgb","shadeRGBColor","percent","color","f","split","t","p","R","G","B","shadeHexColor","shadeColor","isColorHex","isCSSVariable","trim","startsWith","endsWith","getThemeColor","tempElem","createElement","cssText","body","computedColor","getPolygonPos","size","dataPointsLen","dotsArray","angle","PI","curPos","sin","cos","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","escapeString","escapeWith","newStr","negToZero","moveIndexInArray","old_index","new_index","k","extractNumber","s","findAncestor","cls","parentElement","setELstyles","styles","preciseAddition","aDecimals","String","bDecimals","factor","max","isNumber","isNaN","isFloat","n","isMsEdge","ua","edge","getGCD","abs","getPrimeFactors","factors","divisor","mod","big","Animations","ctx","w","animateLine","to","speed","attr","animate","animateMarker","easing","cb","after","animateRect","animatePathsGradually","params","realIndex","j","fill","pathFrom","pathTo","delay","delayFactor","config","chart","animations","animateGradually","enabled","dynamicAnimation","globals","dataChanged","morphSVG","comboCharts","showDelayedElements","delayedElements","d","ele","animationCompleted","animationEnded","events","animationEnd","disableAnimationForCorrupPath","gridHeight","shouldAnimate","plot","series","maxValsInArrayIndex","Filters","getDefaultFilter","unfilter","dropShadow","applyFilter","filterType","_a","_b","_c","shadowAttr","brightnessFactor","filterWith","colorMatrix","values","in","result","addShadow","noUserSpaceOnUse","filterer","node","_scaleFilterSize","blur","enabledOnSeries","offset","dx","dy","gaussianBlur","stdDeviation","flood","composite","in2","operator","merge","_d","_e","setSelectionFilter","dataPointIndex","selectedDataPoints","activeFilter","states","active","filter","setAttributes","Graphics","roundPathCorners","pathString","moveTowardsLength","movingPoint","targetPoint","amount","distance","sqrt","moveTowardsFractional","min","fraction","adjustCommand","cmd","newPoint","pointForCommand","pathParts","parts","part","commands","commands2","resultCommands","startPoint","virtualCloseLine","cmdIndex","prevCmd","curCmd","nextCmd","prevPoint","curPoint","nextPoint","curveStart","curveEnd","origPoint","startControl","endControl","curveCmd","newStartPoint","drawLine","x1","y1","x2","y2","lineColor","dashArray","strokeWidth","strokeLineCap","line","dom","Paper","stroke","drawRect","strokeColor","strokeDashArray","rx","ry","drawPolygon","polygonString","polygon","drawCircle","circle","drawPath","fillOpacity","strokeOpacity","strokeLinecap","lineCap","path","class","group","g","move","hORv","curve","quadraticCurve","arc","axisRotation","largeArcFlag","sweepFlag","relative","coord","renderPaths","animationDelay","initialSpeed","dataChangeSpeed","chartType","shouldClipToGrid","bindEventsOnPaths","drawShadow","filters","anim","initialAnim","dynamicAnim","moveCommand","resized","strokeDashArrayOpt","isHorizontal","cuid","pathMouseEnter","pathMouseLeave","pathMouseDown","defaultAnimateOpts","drawPattern","pattern","drawGradient","gfrom","gto","opacityFrom","opacityTo","stops","colorStops","stop1","stop2","stop3","stop4","radial","gradient","stop","gradientStops","offx","gridWidth","offy","gradientUnits","cx","cy","r","fx","fy","getTextBasedOnMaxWidth","text","maxWidth","fontSize","fontFamily","tRects","getTextRects","wordWidth","wordsBasedOnWidth","drawText","textAnchor","fontWeight","foreColor","cssClass","isPlainText","dominantBaseline","truncatedText","commonProps","elText","tspan","newLine","plain","getMarkerPath","points","step","xPos","yPos","drawMarkerShape","opts","pointStrokeColor","pointStrokeDashArray","pointStrokeWidth","pointFillColor","pointFillOpacity","pointStrokeOpacity","shape","drawMarker","pSize","dataPointMouseEnter","seriesIndex","fireEvent","hover","isTouchDevice","hoverFilter","dataPointMouseLeave","selected","allowMultipleDataPointsSelection","elPaths","find","elCircles","deSelect","els","dataPointSelection","rotateAroundCenter","getBBox","setupEventDelegation","parentGroup","targetSelector","currentHovered","targetNode","_findDelegateTarget","instance","relatedNode","relatedTarget","boundary","matches","setAttrs","transform","useBBox","cacheKey","cache","textRectsCache","virtualText","bbox","placeTextWithEllipsis","textObj","textString","getComputedTextLength","getSubStringLength","CoreUtils","checkComboSeries","comboBarCount","comboCount","getStackedSeriesTotals","excludedSeriesIndices","total","getSeriesTotalByIndex","acc","cur","getStackedSeriesTotalsByGroups","seriesGroups","sg","includedIndexes","si","seriesNames","excludedIndices","_","fi","setSeriesYAxisMappings","gl","cnf","axisSeriesMap","seriesYAxisReverseMap","unassignedSeriesIndices","seriesNameArrayStyle","yaxis","some","seriesName","yaxe","yi","unassignedYAxisIndices","assigned","name","console","warn","ra","sa","lastUnassignedYAxis","shift","seriesYAxisMap","axisSeries","ai","concat","isSeriesNull","seriesHaveSameValues","every","getCategoryLabels","labels","catLabels","xaxis","convertedCatToNumeric","formatter","minX","getLargestSeries","getLargestMarkerSize","markers","m","discrete","sizeOffset","largestSize","getSeriesTotals","seriesTotals","ser","getSeriesTotalsXRange","maxX","seriesTotalsXRange","seriesX","getPercentSeries","seriesPercent","stackedSeriesTotals","getCalculatedRatios","yRatio","invertedYRatio","xRatio","invertedXRatio","zRatio","baseLineY","baseLineInvertedY","baseLineX","yRange","isMultipleYAxis","minYArr","maxYArr","minY","maxY","xRange","zRange","maxZ","minZ","MIN_VALUE","hasNegs","scaleBaseLineYScale","yAxis","sign","logarithmic","getBaseLog","logBase","getLogSeries","seriesLog","yAxisIndex","getLogVal","invalidLogScale","getLogValAtSeriesIndex","min_log_val","max_log_val","number_of_height_levels","log_height_value","getLogYRatios","yLogRatio","logYRange","MAX_VALUE","range","v","extendArrayProps","configInstance","extendYAxis","annotations","extendYAxisAnnotations","extendXAxisAnnotations","extendPointAnnotations","drawSeriesByGroup","typeSeries","typeGroups","chartClass","graph","gn","gs","gi","ii","draw","Helpers$4","Helpers","annoCtx","setOrientations","anno","annoIndex","label","orientation","xAnno","baseEl","xAnnoCoord","yOffset","position","graphics","addBackgroundToAnno","annoEl","gridEl","elGridRect","gridBBox","zoom","coords","pleft","pright","ptop","pbottom","padding","elRect","barPadForNumericAxis","borderRadius","background","borderWidth","borderColor","annotationsBackground","annoLabel","parent","mouseEnter","mouseLeave","click","getY1Y2","yP","clipped","invertAxis","categoryLabels","catIndex","xLabel","barHeight","marker","reversed","getX1X2","xP","inversedReversedAxis","dataFormatXNumeric","sparkline","getStringX","barWidth","toFixed","rX","XAnnotations","helpers","addXaxisAnnotation","clipX1","clipX2","offsetX","offsetY","result2","temp","fillColor","textRects","textY","rel","drawXAxisAnnotations","elg","DateTime","months31","months30","daysCntOfYear","isValidDate","date","parseDate","getTimeStamp","dateStr","parse","utc","datetimeUTC","toISOString","substr","getDate","timestamp","toUTCString","parsed","parseDateWithTimezone","formatDate","format","locale","MMMM","months","MMM","shortMonths","dddd","days","ddd","shortDays","len","s2","getUTCFullYear","getFullYear","M","getUTCMonth","getMonth","getUTCDate","H","getUTCHours","getHours","getUTCMinutes","getMinutes","getUTCSeconds","getSeconds","getUTCMilliseconds","getMilliseconds","T","charAt","toLowerCase","tz","getTimezoneOffset","K","tzHrs","tzMin","day","getUTCDay","getDay","getTimeUnitsfromTimestamp","tsMin","tsMax","minD","maxD","minMillisecond","maxMillisecond","minSecond","maxSecond","minMinute","maxMinute","minHour","maxHour","minDate","maxDate","minMonth","maxMonth","minYear","maxYear","isLeapYear","year","calculcateLastDaysOfMonth","subtract","determineDaysOfMonths","determineDaysOfYear","determineRemainingDaysOfYear","dayOfYear","Formatters","tooltipKeyFormat","xLabelFormat","_opts","tooltip","datetimeObj","defaultGeneralFormatter","defaultYFormatter","yValueDecimal","decimalsInFloat","setLabelFormatters","xaxisTooltipFormatter","ttKeyFormatter","ttZFormatter","legendFormatter","xLabelFormatter","diff","isBarHorizontal","ttVal","z","legend","yLabelFormatters","xyCharts","heatmapLabelFormatters","yAxisScale","longest","niceMax","niceMin","AxesUtils","getLabel","timescaleLabels","drawnLabels","isLeafGroup","rawLabel","xlbFormatter","customFormatter","isBold","xFormat","dateFormatter","determineHighestUnit","unit","highestUnit","textRect","rotateXLabels","rotate","allowDuplicatesInTimeScale","showDuplicates","timeScale","checkLabelBasedOnTickamount","labelsLen","ticks","tickAmount","tickMultiple","checkForOverflowingLabels","drawnLabelsRects","skipFirstTimelinelabel","skipLastTimelinelabel","hideOverlappingLabels","prev","checkForReversedLabels","reverse","yAxisAllSeriesCollapsed","collapsedSeriesIndices","translateYAxisIndex","newStyle","isYAxisHidden","show","showForNullSeries","seriesIndices","coreUtils","getYAxisForeColor","yColors","theme","pushExtraColors","drawYAxisTicks","axisBorder","axisTicks","labelsDivider","elYaxis","tY","translateY","opposite","elTick","YAnnotations","axesUtils","addYaxisAnnotation","clipY1","clipY2","drawn","_getYAxisAnnotationWidth","textX","drawYAxisAnnotations","PointAnnotations","addPointAnnotation","clipX","clipY","optsPoints","pRadius","point","customSVG","SVG","image","imgWidth","imgHeight","addImage","appendTo","drawPointAnnotations","options","en","Options","showAlways","stepSize","forceNiceScale","floating","minWidth","align","colors","title","crosshairs","pointAnnotation","yAxisAnnotation","xAxisAnnotation","backgroundColor","texts","images","shapes","locales","defaultLocale","beforeMount","mounted","updated","mouseMove","xAxisLabelClick","legendClick","markerClick","selection","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled","keyDown","keyUp","parentHeightOffset","redrawOnParentResize","redrawOnWindowResize","nonce","injectStyleSheet","brush","autoScaleYaxis","targets","stacked","stackOnlyBar","stackType","toolbar","tools","download","zoomin","zoomout","pan","reset","customIcons","export","csv","filename","columnDelimiter","headerCategory","headerValue","categoryFormatter","valueFormatter","png","svg","scale","autoSelected","allowMouseWheelZoom","zoomedArea","accessibility","description","announcements","keyboard","parsing","plotOptions","isSlopeChart","threshold","colorAboveThreshold","colorBelowThreshold","area","fillTo","bar","horizontal","columnWidth","distributed","borderRadiusApplication","borderRadiusWhenStacked","rangeBarOverlap","rangeBarGroupRows","hideZeroBarsWhenGrouped","isDumbbell","dumbbellColors","isFunnel","isFunnel3d","ranges","backgroundBarColors","backgroundBarOpacity","backgroundBarRadius","dataLabels","maxItems","hideOverflowingLabels","bubble","zScaling","minBubbleRadius","maxBubbleRadius","candlestick","upward","downward","wick","useFillColor","boxPlot","upper","lower","heatmap","enableShades","shadeIntensity","reverseNegativeShade","useFillColorAsStroke","colorScale","inverse","treemap","seriesTitle","radialBar","inverseOrder","startAngle","endAngle","hollow","margin","imageWidth","imageHeight","imageOffsetX","imageOffsetY","imageClipped","track","barLabels","useSeriesColors","onClick","pie","customScale","expandOnClick","minAngleToShowLabel","donut","polarArea","rings","spokes","connectorColors","radar","polygons","strokeColors","shade","gradientToColors","inverseColors","src","forecastDataPoints","count","grid","lines","row","column","showForSingleSeries","showForZeroSeries","horizontalAlign","tooltipHoverFormatter","customLegendItems","clusterGroupedSeries","clusterGroupedSeriesOrientation","fillColors","customHTML","itemMargin","vertical","onItemClick","toggleDataSeries","onItemHover","highlightDataSeries","showNullDataPoints","onDblClick","noData","verticalAlign","responsive","subtitle","shared","hideEmptySeries","followCursor","intersect","custom","fillSeriesColor","onDatasetHover","items","display","fixed","categories","overwriteCategories","rotateAlways","minHeight","maxHeight","datetimeFormatter","hour","minute","second","groups","tickPlacement","colorFrom","colorTo","mode","palette","monochrome","shadeTo","Annotations","xAxisAnnotations","yAxisAnnotations","pointsAnnotations","xDivision","dataPoints","drawAxesAnnotations","axisCharts","yAnnotations","xAnnotations","pointAnnotations","annoArray","annoElArray","elGraphical","drawImageAnnos","drawTextAnnos","addText","img","addXaxisAnnotationExternal","pushToMemory","context","addAnnotationExternal","contextMethod","addYaxisAnnotationExternal","addPointAnnotationExternal","childNodes","axesAnno","axesAnnoLabel","memory","methodsToExec","method","clearAnnotations","annos","firstChild","removeAnnotation","annotationArray","getRangeValues","isTimeline","start","seriesRangeStart","end","seriesRangeEnd","ylabel","yLbFormatter","yLbTitleFormatter","isFinite","startVal","endVal","buildRangeTooltipHTML","tooltipLabels","getFormatters","valueHTML","rangeValues","Defaults","hideYAxis","defaults","ret","slope","funnel","_getBoxTooltip","rangeBar","handleTimelineTooltip","handleRangeColumnTooltip","getVal","dumbbell","rangeArea","handleRangeAreaTooltip","stacked100","existingDataLabelFormatter","isBar","stackedBars","barDefaults","convertCatToNumeric","convertCatToNumericXaxis","cats","defaultFormatter","scatter","o","seriesCandleO","seriesCandleH","seriesCandleM","l","seriesCandleL","seriesCandleC","Config","responsiveOverride","_f","_g","_h","_i","_j","extendAnnotations","newDefaults","chartDefaults","chartTypes","checkForDarkTheme","Apex","checkForCatToNumericXAxis","mergedWithDefaultConfig","handleUserInputErrors","unsupportedZoom","notNumericXAxis","isLogY","newYaxis","Error","Globals","initGlobalVars","seriesRange","seriesGoals","seriesZ","seriesColors","seriesXvalues","seriesYvalues","dataWasParsed","originalSeries","hasXaxisGroups","barGroups","lineGroups","areaGroups","hasSeriesGroups","noLabelsProvided","resizeTimer","selectionResizeTimer","lastWheelExecution","pointsArray","dataLabelsRects","domCache","dimensionCache","cachedSelectors","isXNumeric","isDataXYZ","isMultiLineX","initialMaxX","initialMinX","minXDiff","xAxisScale","xAxisTicksPositions","yLabelsCoords","yTitleCoords","padHorizontal","xTickAmount","multiAxisTickAmount","globalVars","chartID","clicked","clientX","clientY","radarPolygons","msMaxTouchPoints","isDirty","isExecCalled","initialConfig","initialSeries","lastXAxis","lastYAxis","columnSeries","allSeriesCollapsed","collapsedSeries","ancillaryCollapsedSeries","ancillaryCollapsedSeriesIndices","risingSeries","capturedSeriesIndex","capturedDataPointIndex","ignoreYAxisIndexes","radialSize","zoomEnabled","panEnabled","selectionEnabled","mousedown","lastClientPosition","visibleXRange","svgWidth","svgHeight","resizeObserver","previousPaths","allSeriesHasEqualX","lastDrawnDataLabelsIndexes","hasNullValues","defaultLabels","LINE_HEIGHT_RATIO","xAxisLabelsHeight","xAxisGroupLabelsHeight","xAxisLabelsWidth","yAxisLabelsWidth","scaleX","scaleY","translateX","translateYAxisX","yAxisWidths","translateXAxisY","translateXAxisX","niceScaleAllowedMagMsd","niceScaleDefaultTicks","Base","Fill","patternIDs","clippedImgArea","svgW","svgH","fillImg","elPattern","patternID","patternUnits","elImage","setAttributeNS","xlink","preserveAspectRatio","elDefs","getSeriesIndex","cType","seriesNumber","computeColorStops","multiColorConfig","maxPositive","minNegative","totalRange","negativePercentage","fillPath","pathFill","patternFill","gradientFill","drawMultiColorLine","getFillColors","fillType","getFillType","useGradient","defaultColor","handlePatternFill","fillConfig","handleGradientFill","imgSrc","patternKey","solid","fillCnf","patternStrokeWidth","patternLineColor","pf","utils","gradientFrom","gradientTo","gToColor","Markers","_filters","_graphics","setGlobalMarkerSize","plotChartMarkers","pointsPos","alwaysDrawMarker","isVirtualPoint","elMarkersWrap","hasDiscreteMarkers","q","markerElement","invalidMarker","markerClasses","shouldMarkerDraw","getMarkerConfig","shouldCreateMarkerWrap","setupMarkerDelegation","pStyle","getMarkerStyle","pointShape","passive","addEvents","Scatter","elSeries","elPointsMain","elParent","elPointsWrap","shouldDraw","Infinity","drawPoint","markerConfig","pathFillCircle","setTimeout","centerTextInBubble","DataLabels","dataLabelsCorrection","alwaysDrawDataLabel","drawnextLabel","lastDrawnIndex","lastDataLabelRect","drawDataLabel","pos","isRangeStart","dataLabelsConfig","elDataLabelsWrap","seriesCollapsed","getText","centerTextInBubbleCoords","plotDataLabelsText","offsetCorrection","dataLabelText","correctedLabels","dataLabelColor","offX","offY","textShadow","addBackgroundToDataLabel","bCnf","paddingH","paddingV","dataLabelsBackground","elDataLabels","shouldAnim","bringForward","elDataLabelsNodes","nextSibling","apexchartsLegendCSS","Series","legendInactiveClass","clearSeriesCache","allSeriesEls","highlightSeriesEls","getAllSeriesEls","getElementsByClassName","getSeriesByName","isSeriesHidden","targetElement","isHidden","addCollapsedClassToSeries","iterateOnAllCollapsedSeries","cs","toggleSeries","legendHelpers","showSeries","hideSeries","resetSeries","shouldUpdateChart","shouldResetZoom","shouldResetCollapsed","emptyCollapsedSeries","updateHelpers","revertDefaultAxisMinMax","_updateSeries","highlightSeries","seriesEl","dataLabelEl","yaxisEl","yaxisIndex","se","toggleSeriesOnHover","highlightRangeInSeries","allHeatMapElements","activeInactive","action","removeInactiveClassFromHoveredRange","rangeMax","seriesCnt","getActiveConfigSeriesIndex","order","activeIndex","activeSeriesIndex","checkChartType","hasData","getBarSeriesIndices","getPreviousPaths","pushPaths","seriesEls","paths","dArr","getPaths","heatTreeSeries","getAttr","clearPreviousPaths","handleNoData","noDataOpts","titleText","setNullSeriesToZeroValues","sl","hasAllSeriesEqualX","equalLen","filteredSerX","filteredSeriesX","Data","twoDSeries","threeDSeries","twoDSeriesX","getFirstDataPoint","sr","isMultiFormat","isFormatXY","isFormat2DArray","firstDataPoint","handleFormat2DArray","isBoxPlot","ts","handleFormatXY","dt","activeI","activeData","goals","isXString","isXArr","isXDate","isRangeColumn","isRangeData","fallbackToCategory","handleRangeData","handleRangeDataFormat","rangeUniques","sarr","yItems","arri","range1y1","range1y2","sri","range2","range2y1","range2y2","overlaps","rangeName","handleCandleStickBoxData","ohlc","handleCandleStickBoxDataFormat","rangeStart","rangeEnd","uniqueKeysMap","uniqueKeys","keyObj","isDataPoint2D","serO","serH","serM","serL","serC","getVals","isFlat","vals","parseDataAxisCharts","xlabels","isRangeBar","buckets","handleDates","isDate","error","singleArray","parseDataNonAxisCharts","hasOldFormat","hasNewFormat","processedData","extractPieDataFromSeries","numVal","resetParsingFlags","serie","__apexParsed","firstItem","extractPieDataFromSeriesObjects","seriesArray","serieIndex","dataPoint","handleExternalLabelsData","srt","JSON","stringify","_generateExternalLabels","labelArr","seriesDataFiltered","findIndex","gls","glsi","parseRawDataIfNeeded","globalParsing","processedSeries","effectiveParsing","transformedData","itemIndex","getNestedValue","yValues","fieldName","zValue","current","parseData","excludeCollapsedSeriesInYAxis","core","resetGlobals","isMultipleY","stackedSeriesTotalsByGroups","yAxisIndexes","yAxisArr","collapsedCount","Exports","svgStringToNode","svgString","parser","svgDoc","scaleSvgNode","getAttributeNS","getSvgString","_scale","Promise","resolve","clonedNode","elWrap","serializedNode","shouldIncludeLegendStyles","elLegendWrap","exportStyles","svgNode","convertImagesToBase64","then","getElementsByTagName","promises","href","getBase64FromUrl","base64","catch","all","url","reject","Image","crossOrigin","onload","canvas","getContext","drawImage","toDataURL","onerror","svgUrl","svgData","svgBlob","Blob","URL","createObjectURL","dataURI","canvasBg","fillStyle","fillRect","encodeURIComponent","msToBlob","blob","imgURI","exportToSVG","triggerDownload","exportToPng","option","msSaveOrOpenBlob","exportToCSV","fileName","lineDelimiter","columns","rows","universalBOM","gSeries","getFormattedCategory","cat","toDateString","getFormattedValue","seriesMaxDataLength","dataFormat","getCat","lbFormatter","activeSeries","getEmptyDataForCsvColumn","handleAxisRowsColumns","sI","ci","pop","handleUnequalXValues","dataItem","sort","sname","ext","downloadLink","XAxis","elgrid","xaxisLabels","isCategoryBarHorizontal","xaxisFontSize","xaxisFontFamily","xaxisForeColors","xaxisBorderWidth","xaxisBorderHeight","drawXaxis","elXaxis","elXaxisTexts","drawXAxisLabelAndGroup","colWidth","labelsGroup","overwriteStyles","cols","elXaxisTitle","elXAxisTitleText","elHorzLine","elGridBorders","colWidthCb","offsetYCorrection","isCategoryTickAmounts","getCatForeColor","xAxisHeight","on","labelIndex","elTooltipTitle","drawXaxisInversed","elYaxisTexts","colHeight","ylabels","getForeColor","multiY","elLabel","labelRotatingCenter","elVerticalLine","drawXaxisTicks","appendToElement","getXAxisTicksPositions","xCount","xCountForCategoryCharts","x1Count","xAxisLabelCorrections","xAxis","xAxisTexts","yAxisTextsInversed","xAxisTextsInversed","xat","textRotatingCenter","tSpan","firstLabelPosX","lastLabelPosX","Grid","drawGridArea","elGrid","drawGrid","renderGrid","createGridMask","strokeSize","createClipPath","clipPath","elGridRectMask","elGridRectBarMask","elGridRectMarkerMask","elForecastMask","elNonForecastMask","hasBar","barWidthLeft","barWidthRight","elGridRectBar","markerSize","elGridRectMarker","defs","_drawGridLines","_drawGridLine","y_2","gacc","isHorzLine","excludeBorders","_drawGridBandRect","_drawXYLines","datetimeLines","xC","elgridLinesV","categoryLines","tA","elgridLinesH","_drawInvertedXYLines","hide","gridAxisIndex","yTickAmount","drawGridBands","xAxisTickWidth","drawBands","xc","Scales","niceScale","yMin","yMax","jsPrecision","axisCnf","maxTicks","gotMin","gotMax","gotStepSize","gotTickAmount","tiks","proximityRatio","niceStep","mag","magPow","magMsd","ceil","stepMag","crudeStep","gcdStep","tMin","tMax","yMinPrev","yMaxPrev","last","tt","reduceLoop","xFactors","lowest","div","next","err","linearScale","_adjustTicksForSmallRange","MIN_PRECISION","magnitude","multiplier","EPSILON","logarithmicScaleNice","logs","logMax","logMin","logarithmicScale","logRange","logTickSpacing","logTick","newTicks","formattedVal","setYScaleForIndex","setXScale","scaleMultipleYAxes","groupNames","as","lowestY","highestY","seriesType","seriesGroupName","mapSeries","sumSeries","posSeries","negSeries","collapsed","gni","Range","scales","setYRange","setXRange","setZRange","getMinYMaxY","startingSeriesIndex","endingSeriesIndex","seriesMin","seriesMax","brushSource","firstXIndex","lastXIndex","lowestYInAllSeries","minYMaxY","_setStackedMinMax","minmax","getInitialMinXMaxX","catScale","_handleSingleDataPoint","_getMinXDiff","newMinX","setUTCDate","setDate","newMaxX","sX","xDiff","stackedPoss","stackedNegs","indicesOfSeriesInGroup","stackSeries","entries","stgi","YAxis","axisFontFamily","xAxisoffX","drawYaxis","yaxisStyle","yaxisFontSize","yaxisFontFamily","yaxisFontWeight","lY","firstLabel","xPad","getTextAnchor","existingYLabels","label2","addTooltip","rotateLabel","addYAxisTitle","addAxisBorder","firstLabelCenter","labelCenter","elYaxisTitle","elYAxisTitleText","drawYaxisInversed","inversedYAxisTitleText","inversedYAxisBorder","lineCorrection","yAxisTitleRotate","yAxisOpposite","elYAxisLabelsWrap","yAxisLabelsCoord","yAxisTitle","yAxisTitleCoord","xPaddingForYAxisTitle","titleRotatingCenter","padd","setYAxisXPosition","yaxisLabelCoords","xLeft","xRight","leftOffsetX","rightOffsetX","multipleYs","shouldNotDrawAxis","axisWidth","setYAxisTextAlignments","yAxisInner","yAxisTexts","Events","documentEvent","args","evs","setupEventHandlers","clickableArea","eventList","which","capture","setupBrushHandler","elMenu","touches","Localization","setCurrentLocaleValues","localeName","selectedLocale","Axes","drawAxis","inner","Crosshairs","drawXCrosshairs","crosshairGradient","crosshairShadow","shadow","shadowLeft","shadowTop","shadowBlur","shadowColor","shadowOpacity","xcrosshairsFill","xcrosshairs","crosshairsWidth","drawYCrosshairs","crosshair","ycrosshairs","ycrosshairsHidden","Responsive","checkResponsiveConfig","res","breakpoint","iterateResponsiveOptions","newOptions","largestBreakpoint","innerWidth","screen","overrideResponsiveOptions","newConfig","Theme","isColorFn","isHeatmapDistributed","checkHeatmapDistributed","isBarDistributed","checkBarDistributed","setDefaultColors","configColors","getColors","applySeriesColors","getMonochromeColors","defaultColors","applyColorTypes","applyDataLabelsColors","applyRadarPolygonsColors","applyMarkersColors","predefined","globalsColors","glsCnt","newColor","colorTypes","colorSeries","updateThemeOptions","palettes","getThemePalettes","palette1","TitleSubtitle","drawTitleSubtitle","tsConfig","Helpers$3","Helpers2","dCtx","getTitleSubtitleCoords","getLegendsRect","lgRect","getDatalabelsRect","allLabels","datum","labelText","dataLabelsStyle","labelrect","getLargestStringFromMultiArr","valArr","maxArrs","xl","maxArrLen","maxArrIndex","DimXAxis","getxAxisLabelsCoords","getxAxisTimeScaleLabelsCoords","lgWidthForSideLegends","dimHelpers","xLabelrect","xArrLabelrect","yAxisWidth","gridPad","getRotatedTextRects","getxAxisGroupLabelsCoords","getxAxisTitleCoords","totalWidthRotated","overlappingXLabels","additionalPaddingXLabels","xaxisLabelCoords","xtype","lbWidth","isBarOpposite","isCollapsed","rightPad","firstimescaleLabel","lastTimescaleLabel","lastLabelPosition","yAxisWidthRight","firstLabelPosition","yAxisWidthLeft","lgRightRectWidth","xPadRight","padYAxe","xPadLeft","DimYAxis","getyAxisLabelsCoords","labelPad","formatterArgs","yS","yAxisMinWidth","minV","curr","barYaxisLabels","rotateStr","arrLabelrect","getyAxisTitleCoords","getTotalYAxisWidth","isHiddenYAxis","padForLabelTitle","yLabelCoord","yTitleCoord","DimGrid","gridPadForColumnsInNumericAxis","type2","seriesLen","barsPresent","gridPadFortitleSubtitle","gridShrinkOffset","isSparkline","titleSubtitle","titleCoords","subtitleCoords","setGridXPosForDualYAxis","Dimensions","dimYAxis","dimXAxis","dimGrid","plotCoords","datalabelsCoords","maxStrokeWidth","setDimensionsForAxisCharts","setDimensionsForNonAxisCharts","xaxisGroupLabelCoords","xtitleCoords","conditionalChecksForAxisCoords","xAxisWidth","legendTopBottom","objyAxis","xAxisNum","baseXAxisHeight","xAxisHeightMultiplicate","rotatedXAxisOffset","rotatedXAxisLegendOffset","additionalOffset","minYAxisWidth","maxYAxisWidth","Helpers$2","Helpers3","lgCtx","getLegendStyles","stylesheet","rule","getLegendDimensions","currLegendsWrap","currLegendsWrapWidth","currLegendsWrapHeight","clwh","clww","appendToForeignObject","elLegendForeign","seriesToMakeVisible","csi","riseCollapsedSeries","legendItem","legendTextEl","statusText","findOne","printDataLabelsInner","getSeriesAfterCollapsing","collapseData","removeIndexOfRising","_getSeriesBasedOnCollapsedState","seriesChildren","sc","hidden","Legend","onLegendClick","onLegendHovered","isBarsDistributed","showLegendAlways","drawLegends","legendAlignHorizontal","legendAlignVertical","createLegendMarker","fillcolor","elMarker","mShape","mSize","mOffsetX","mOffsetY","mBorderWidth","mStyle","SVGMarker","addTo","shapesEls","shapeEl","legendNames","isLegendInversed","legendGroups","elLegend","elLegendText","textColor","_a2","onLegendKeyDown","setLegendWrapXY","legendHeight","dim","titleH","subtitleH","fixedHeigthWidth","hw","dimensions","titleRect","subtitleRect","lRect","hoverOverLegend","isLegendItem","preventDefault","clickAllowed","icoPan","icoZoom","icoReset","icoZoomIn","icoZoomOut","icoSelect","icoMenu","Toolbar","ev","selectedClass","localeValues","createToolbar","createDiv","elToolbarWrap","elZoom","elZoomIn","elZoomOut","elPan","elSelection","elZoomReset","elMenuIcon","elCustomIcons","toolbarControls","appendZoomControl","ico","tool","icon","zoomSelectionCtrls","menu","_createHamburgerMenu","addToolbarEventListeners","elMenuItems","menuItems","exportToPNG","handleZoomReset","toggleZoomSelection","handleZoomIn","handleZoomOut","togglePanning","toggleMenu","handleDownload","charts","getSyncedCharts","ch","toggleOtherControls","enabledType","getToolbarIconsReference","enableZoomPanFromToolbar","el2","toggleEls","newMinXMaxX","_getNewMinXMaxX","disableZoomIn","zoomUpdateOptions","disableZoomOut","shouldFloor","beforeZoomRange","getBeforeZoomRange","_updateOptions","zoomCallback","newRange","exprt","resetZoomRange","destroy","SVGElement","_listeners","_filter","tspans","css","dasharray","linecap","center","box","clear","eventType","off","each","inst","removeClass","Point","matrix","Matrix","deg","rad","multiply","sx","sy","Box","gradientCounter","SVGGradient","container","builder","tag","_id","StopBuilder","valueOf","patternCounter","SVGPattern","patternContainer","SVGContainer","_make","pts","_makeContainer","TspanBuilder","textNode","TspanWrapper","dataset","newline","filterCounter","SVGFilter","FilterBuilder","_primitive","sources","mn","installFilterMethods","ElementClass","svgRoot","parsePath","re","numRe","letters","positions","exec","paramStr","nums","numMatch","lastIndex","toUpperCase","pathBbox","arrayToPath","simplify","reflection","setPosAndReflection","toBezier","retVal","arcToBezier","findNextM","xAxisRotation","A","primedCoord","lambda","mat","cSquare","O","OA","OB","tetaStart","tetaEnd","deltaTeta","nbSectors","arcSegPoints","sinAngle","cosAngle","pt","il","acos","tan","handleBlock","startArr","startOffsetM","startOffsetNextM","destArr","destOffsetM","destOffsetNextM","startArrTemp","destArrTemp","posStart","posDest","dest","synchronizePaths","fromD","toD","morphPaths","synced","idx","toIdx","easeInOut","parseColor","interpolateColor","SVGAnimationRunner","duration","_attrTarget","_plotTarget","_afterCb","_duringCb","_next","_root","_scheduled","_schedule","during","queueMicrotask","_executeChain","chain","cumulativeDelay","runner","_execute","startDelay","run","fromAttrs","fromColors","toColors","fromVal","fc","tc","morphFn","fromPath","performance","now","tick","elapsed","rawPos","installAnimationMethods","installDraggable","draggable","_dragCleanup","constraints","onPointerDown","button","stopPropagation","isTouch","svgEl","startAttrX","startAttrY","startClientX","startClientY","ownerSVGElement","ctm","getScreenCTM","onMove","mev","newX","newY","CustomEvent","detail","dispatchEvent","onUp","installSelectable","select","_selectCleanup","createHandle","updateHandle","handleGroup","handles","handleNames","subGroup","handle","updatePositions","elTransform","lt","rt","lb","rb","_selectHandles","_selectHandlesMap","_updateSelectPositions","resize","enable","_resizeCleanup","cleanupFns","makeHandleDraggable","handleInfo","handleNode","startX","startW","newW","xmlns","ZoomPanSelection","dragged","endX","dragX","startY","endY","dragY","moveDirection","debounceTimer","debounceDelay","wheelDelay","xyRatios","zoomRect","selectionRect","gridRect","slDraggableRect","selectionDragging","preselectedSelection","hoverArea","svgMouseEvents","mouseWheelEvent","zoomtype","shiftKey","shiftWasPressed","pc","falsePositives","changedTouches","gridRectDim","panDragging","selectionDrawing","handleMouseUp","makeSelectionRectDraggable","isResized","selectionDrawn","hideSelectionRect","executeMouseWheelZoom","clearTimeout","mouseX","currentMinX","currentMaxX","totalX","zoomFactorIn","zoomFactorOut","zoomRange","deltaY","midPoint","minRange","rectDim","createRot","updateRot","pointArr","handleName","drawSelectionRect","scalingAttrs","inversedX","inversedY","selectionWidth","selectionHeight","selRect","timerInterval","getSelAttr","draggedProps","xyAxis","localStartX","localEndX","localStartY","localEndY","xLowestValue","xHighestValue","yHighestValue","yLowestValue","highestVal","lowestVal","deltaX","panScrolled","updateScrolledChart","Utils2","tooltipContext","ttCtx","getNearestValues","seriesBound","hoverWidth","hoverHeight","xDivisor","yDivisor","hasBars","hoverX","hoverY","notInRect","jHorz","capturedSeries","closest","seriesXValArr","seriesXVal","seriesYValArr","seriesYVal","chartGridEl","getElGrid","chartGridElBoundingRect","transformedHoverX","transformedHoverY","closestInMultiArray","closestInArray","getFirstActiveXArray","Xarrays","firstActiveSeriesIndex","xarr","Yarrays","isActiveSeries","closestDist","closestSeriesIndex","closestPointIndex","xArr","yArr","xVal","distX","dist","yVal","distY","currIndex","newdiff","isXoverlap","xSameForAllSeriesJArr","isInitialSeriesSameLen","sameLen","getBarsHeight","allbars","bars","totalHeight","getElMarkers","getAllMarkers","filterCollapsed","markersWraps","indexA","indexB","hasMarkers","getPathFromPoint","getElBars","getHoverMarkerSize","hoverSize","toggleAllTooltipSeriesGroups","state","allTooltipSeriesGroups","Labels","tooltipUtil","drawSeriesTexts","ttItems","handleCustomTooltip","toggleActiveInactiveSeries","getValuesToPrint","printLabels","tooltipEl","getElTooltip","tooltipRect","ttWidth","ttHeight","goalVals","hasGoalValues","zVal","xAxisTTVal","pColor","inverset","getSeriesName","tIndex","getValBySeriesIndex","goal","targetFill","DOMHandling","ttItemsChildren","showTooltipTitle","tooltipTitle","isXAxisTooltipEnabled","xaxisTooltipText","ttYLabel","ttYVal","ttGLabel","ttGVal","createGoalsHtml","gLabels","gVals","ttZLabel","ttZVal","ttItemMarker","ttItemText","tConfig","firstTooltipSeriesGroup","customFormatterOpts","zFormatter","bufferXVal","customTooltip","Element","Position","moveXCrosshairs","getElXCrosshairs","xcrosshairsWidth","tx","moveXAxisTooltip","moveYCrosshairs","xaxisTooltip","xaxisOffY","xaxisTTText","xaxisTTTextWidth","moveYAxisTooltip","yaxisTTEls","ycrosshairsHiddenRectY1","yAxisTTRect","yAxisTTHeight","moveTooltip","pointSize","moveMarkers","allPoints","resetPointsSize","enlargeCurrentPoint","moveDynamicPointOnHover","pointsArr","serType","fixedTooltip","moveDynamicPointsOnHover","pcy","pcy2","rangeStartIndex","pcyDiff","moveStickyTooltipOverBars","barLen","jBar","bcx","bcy","bw","isBoxOrCandle","dataPointsDividedWidth","Marker","tooltipPosition","drawDynamicPoints","elsSeries","pointsMain","PointClasses","elPointOptions","elPointsG","newPointSize","enlargePoints","col","newSize","oldPointSize","elPoint","lastChild","Intersect","isVerticalGroupedRangeBar","handleHeatTreeTooltip","opt","handleMarkerTooltip","showOnIntersect","handleBarTooltip","bx","barXY","getBarTooltipXY","cl","barRect","bh","handleXForColumns","handleYForBars","dataPointsDividedHeight","AxesTooltip","drawXaxisTooltip","isBottom","tooltipCssClass","renderTo","drawYaxisTooltip","isRight","yaxisOffX","yaxisTooltip","yaxisTooltipText","setXCrosshairWidth","handleYCrosshair","drawYaxisTooltipText","yAxisSeriesArr","yaxisTooltips","translationsIndex","Tooltip","axesTooltip","isBarShared","lastHoverTime","dimensionUpdateScheduled","setupDimensionCache","updateDimensionCache","ResizeObserver","observe","lastUpdate","getCachedDimensions","cache2","age","drawTooltip","ttItemsCnt","legendLabels","createTTElements","addSVGEvents","gTxt","gYZ","gValText","txtLabel","txtValue","commonBar","chartWithmarkers","tooltipY","tooltipX","seriesHoverParams","validSharedChartTypes","addPathsEventListeners","addDatapointEventsListeners","seriesAll","lineAreaPoints","drawFixedTooltipRect","self","extendedOpts","onSeriesHover","targetDelay","timeSinceLastUpdate","seriesHover","seriesHoverTimeout","chartGroups","getGroupedCharts","newOpts","seriesHoverByContext","chartCtx","cachedDims","axisChartsTooltips","nonAxisChartsTooltips","handleMouseOut","syncedCharts","isStickyTooltip","hasYAxisTooltip","handleStickyTooltip","markerXY","yt","legendName","defaultText","decodeURIComponent","capj","bounds","handleStickyCapturedSeries","firstVisibleSeries","create","ignoreNull","deactivateHoverFilter","allPaths","_k","_l","_m","_n","_o","_p","handlePoints","lsIndex","commonSeriesTextsParams","barSeriesHeight","MINUTES_IN_DAY","SECONDS_IN_DAY","MIN_ZOOM_DAYS","TimeScale","timeScaleArray","calculateTimeScaleTicks","daysDiff","determineInterval","timeIntervals","daysWidthOnXAxis","hoursWidthOnXAxis","minutesWidthOnXAxis","secondsWidthOnXAxis","numberOfHours","numberOfMinutes","numberOfSeconds","numberOfDays","numberOfMonths","numberOfYears","firstVal","currentMillisecond","currentSecond","currentMinute","currentHour","currentMonthDate","currentDate","currentMonth","currentYear","tickInterval","generateYearScale","generateMonthScale","generateDayScale","generateHourScale","generateMinuteScale","generateSecondScale","adjustedMonthInTimeScaleArray","defaultReturn","filteredTimeScale","modulo","shouldNotSkipUnit","shouldNotPrint","recalcDimensionsBasedOnFormat","reformattedTimescaleArray","formatDates","removedOverlappingTS","removeOverlappingTS","yearsDiff","hoursDiff","minutesDiff","secondsDiff","firstTickValue","firstTickPosition","remainingDays","remainingDaysOfFirstYear","yrCounter","remainingDaysOfFirstMonth","month2","_getYear","monthVal","changeMonth","dateVal","monthdays","remainingHours","changeDate","remainingMins","checkNextMonth","checkNextMonth2","remainingSecs","remainingMillisecs","createRawDateString","raw","dateToFormat","customFormat","dtFormatter","dateString","equalLabelLengthFlag","constantLabelWidth","filteredArray","prevLabelWidth","prevPos","BarDataLabels","barCtx","totalFormatter","handleBarDataLabels","columnGroupIndex","barXPosition","barYPosition","visibleSeries","totalDataLabels","dataLabelsX","dataLabelsY","dataLabelsPos","barDataLabelsConfig","barOptions","barTotalDataLabelsConfig","yLabel","calculateBarsDataLabelsPosition","calculateColumnsDataLabelsPosition","drawCalculatedDataLabels","drawTotalDataLabels","totalDataLabelsX","totalDataLabelsY","totalDataLabelsAnchor","getStackedTotalDataLabel","totalDataLabelsBcx","zeroEncounters","barHelpers","getZeroValueEncounters","offsetDLX","valIsNegative","isReversed","lowestPrevY","prevY","lastActiveBarSerieIndex","ADDITIONAL_OFFY","totalLabeltextRects","lowestPrevX","prevX","isSeriesNotCollapsed","txRect","modifiedDataLabelsConfig","totalDataLabelText","Helpers$1","Helpers4","initVariables","totalItems","visibleI","visibleItems","arrBorderRadius","createBorderRadiusArr","brArr","zeroSerieses","checkZeroSeries","initialPositions","yDivision","zeroH","zeroW","xForNumericX","getBarXForNumericXAxis","initializeStackedPrevVars","prevYF","prevXF","prevYVal","prevXVal","initializeStackedXYVars","xArrj","xArrjF","xArrjVal","yArrj","yArrjF","yArrjVal","getPathFillColor","useRangeColor","colorRange","getStrokeWidth","isNullValue","alwaysApplyRadius","numSeries","numColumns","positiveIndices","negativeIndices","nonZeroCount","firstPositiveIndex","lastPositiveIndex","highestNegativeIndex","lowestNegativeIndex","barBackground","bcolor","getColumnPaths","seriesGroup","bW","bXP","columnWidthOffset","strokeCenter","direction","getPreviousPath","_ctx","getBarpaths","bYP","bH","barHeightOffset","zs","zsj","getXForValue","zeroPositionForNull","xForVal","getYForValue","yForVal","getGoalValues","pushGoal","commonAttrs","strokeHeight","drawGoalLine","goalX","goalY","lineGroup","sHeight","sWidth","drawBarShadow","prevPaths","currPaths","prevX2","prevX1","prevY1","currX2","currX1","currY1","prevY2","shadowPath","nonZeroColumns","_si","getGroupIndex","groupIndex","cGI","columnGroupIndices","Bar","pathArr","barSeriesIndices","bc","initPositions","elGoalsMarkers","elBarShadows","pathsParams","indexes","drawBarPaths","drawColumnPaths","barShadow","barGoalLine","renderSeries","lineFill","skipDrawing","_bindingsDelegated","fetchColor","i2","exp","checkAvailableColor","barDataLabels","dataLabelsObj","renderedPath","forecast","sxI","pp","gpp","BarStacked","groupCtx","xArrValues","yArrValues","commonPathOpts","drawStackedBarPaths","drawStackedColumnPaths","flipClass","userBarHeight","userColumnWidth","subDivisions","prevBarW","gsi","seriesVal","prevBarH","prevYValue","BoxCandleStick","ctype","candlestickOptions","boxOptions","isOHLC","drawHorizontalBoxPaths","drawVerticalBoxPaths","pi","candleColors","boxColors","getColor","color2","colorPos","colorNeg","getOHLCValue","l1","l2","openY","closeY","getCandleVal","TreemapHelpers","checkColorRange","negRange","chartOpts","getShadeColor","colorShadePercent","colorProps","determineColor","rTotal","calculateDataLabels","HeatMap","rectRadius","rev","heatSeries","dIndex","heatColor","heatColorProps","animateHeatMap","animateHeatColor","formattedText","unshift","Helpers5","lineCtx","sameValueSeriesFix","calculatePoints","ptX","ptY","xPT1st","categoryAxisCorrection","checkPreviousPaths","pathFromLine","pathFromArea","appendPathFrom","determineFirstPrevY","lineYPosition","prevSeriesY","zeroY","tangents","finiteDifferences","","tgts","svgPath","spline","p0","t0","p2","t2","p1","Line","isPointsChart","pointsChart","noNegatives","lineHelpers","allSeries","_initSerieVariables","y2Arrj","linePaths","areaPaths","pX","pY","pY2","firstPrevY","firstPrevY2","pathsFrom","_calculatePathsFrom","rYArrj","rY2Arrj","iteratingOpts","_iterateOverDataPoints","iterations","pathsFrom2","rangePaths","segments","_handlePaths","zIndex","areaBottomY","firstPoint","longestSeries","linePath","areaPath","forecastCutoff","defaultRenderedPathOptions","prevFill","linePathCommonOpts","renderedForecastPath","getY","_y","lineYPos","pathState","segmentStartX","isNull","prevIndex","pii","calculatedPaths","_createPaths","handleNullDataPoints","_handleMarkersAndLabels","isLowerRangeAreaPath","yAj","getSmoothInputs","getSegmentLengths","segLens","getSegments","_xAj","_yAj","smoothInputs","smoothInputsLower","segmentCount","smoothInputsIndex","svgPoints","_start","_end","upperLinePaths","u","pathToPoint","curve2","y3","CircularChartsHelpers","drawYAxisTexts","yaxisConfig","yaxisLabel","Pie","animBeginArr","animDur","donutDataLabels","lineColorArr","defaultSize","fullAngle","initialAngle","donutSize","scaleSize","halfW","halfH","dataLabelsGroup","sliceLabels","sliceSizes","prevSectorAngleArr","elPie","sectorAngleArr","drawPolarElements","prevTotal","previousAngle","elG","drawArcs","renderInnerDataLabels","hollowSize","prevStartAngle","prevEndAngle","elPieArc","getChangedPath","elPath","addListeners","labelPosition","dur","animatePaths","animateStartingPos","shouldSetPrevPaths","pieClicked","elPieLabelWrap","elPieLabel","revertDataLabelsInner","prevAngle","fromStartAngle","toStartAngle","animateArc","currAngle","fromAngle","getPiePath","isTrack","origPath","allEls","pieSlice","startDeg","startRadians","endDeg","endRadians","startInner","endInner","largeArc","pathBeginning","gCircles","gYAxis","yScale","yTexts","circleSize","drawSpokes","showTotal","labelColor","valueColor","labelFontSize","labelFontFamily","labelFontWeight","valOffset","elValue","printInnerLabels","labelsConfig","isTotal","spokeConfig","angleDivision","Radar","isLog","maxValue","minValue","dataRadiusOfPercent","dataRadius","angleArr","yaxisLabelsTextsPos","disAngle","dataPointsPos","elDataPointsMain","yaxisLabels","dv","getDataPointsPos","createPaths","linePathsTo","renderedLinePath","linePathsFrom","renderedAreaPath","areaPathsFrom","areaPathsTo","sj","drawPolygons","xaxisTexts","drawXAxisTexts","elS","yaxisTexts","layers","radiusSizes","layerDis","polygonStrings","radiusSize","string","yText","xaxisLabelsConfig","elXAxisWrap","polygonPos","textPos","getTextPos","origin","linePathTo","areaPathTo","polygonSize","limit","dataRadiusArr","dataPointsPosArray","curPointPos","Radial","totalAngle","trackStartAngle","trackEndAngle","radialDataLabels","onBarLabelClick","colorArr","elTracks","drawTracks","angleRatio","elHollow","elRadialBarTrack","trackConfig","hollowFillID","hollowRadius","drawHollowImage","drawHollow","shown","reverseLoop","elRadialBarArc","dataValue","currFullAngle","prevFullAngle","barStartCords","randID","hollowFillImg","loader","RangeBar","rangeBarOptions","srty","detectOverlappingBars","drawRangeBarPaths","srtx","drawRangeColumnPaths","labelX","rowIndex","overlappedIndex","getRangeValue","xForNumericXAxis","preventBarOverflow","normalize","sum","calculateRatio","rowMin","rowMax","rowSum","lengthSq","sumSq","improvesRatio","rowLen","nextNode","currentRatio","newRatio","emitCoordinates","xoffset","yoffset","areaWidth","subY","areaHeight","subX","squarify","generate","sums","seriesRects","results","rw","rh","TreemapSquared","TreemapChart","nodes","elDataLabelWrap","xMin","xMax","fromRect","toRect","animateTreemap","getFontSize","truncateLabels","rotateToFitLabel","sName","textSize","labelRectWidth","labelRectHeight","labelY","elLabelRect","elLabelText","coordinates","totalLabelLength","countLabels","averagelabelsize","arearoot","labelMaxWidth","Core","setupElements","ct","axisChartsArrTypes","xyChartsArrTypes","SVG2","global","setSVGDimensions","ariaLabel","getAccessibleChartLabel","role","titleEl","descEl","plotChartType","seriesTypes","nonComboType","st","boxCandlestick","elGraph","barStacked","scatterLine","bubbleLine","candleStick","elDim","widthUnit","heightUnit","elParentDim","shiftGraphPosition","tX","resizeNonAxisCharts","chartInnerDimensions","elRadialRect","newHeight","coreCalculations","resetxyValues","globalObj","parsingFlags","xySettings","formattedTimeScale","updateSourceChart","targetChart","getChartByID","seriesCount","PerformanceCache","invalidateAll","invalidateDimensions","invalidateSelectors","getCachedSelector","queryFn","getCachedDimension","computeFn","maxAge","cacheDOMElement","getCachedDOMElement","UpdateHelpers","redraw","updateSyncedCharts","overwriteInitialConfig","chartIndex","update","newSeries","overwriteInitialSeries","_extendSeries","toggleDataPointSelection","forceXAxisUpdate","forceYAxisUpdate","getLastYAxis","InitCtxVariables","initModules","publicMethods","axes","exports","localization","formatters","zoomPanSelection","Destroy","isUpdating","disconnect","clearDomElements","killSVG","elSVG","domEls","ros","addResizeListener","called","Node","DOCUMENT_FRAGMENT_NODE","ro","removeResizeListener","apexCSS","ApexCharts","initCtx","lastUpdateOptions","windowResizeHandler","_windowResizeHandler","parentResizeHandler","_parentResizeCallback","render","_chartInstances","setLocale","inShadowRoot","doc","ownerDocument","getElementById","prepend","head","graphData","mount","combo","allSeriesAreEmpty","toolsArr","updateOptions","optionsWithoutSeries","lastWithoutSeries","updateSeries","appendSeries","newSerie","appendData","newData","allCharts","chartId","initOnLoad","apexChart","palette2","palette3","palette4","palette5","palette6","palette7","palette8","palette9","palette10","highlightSeriesOnLegendHover","getChartArea","getSeriesTotalXRange","getHighestValueInSeries","getLowestValueInSeries","getSeriesTotal","zoomX","paper","_windowResize","default"],"sources":["C:/Users/MAX/Desktop/Final_Year_Project/frontend/node_modules/apexcharts/dist/apexcharts.esm.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n/*!\n * ApexCharts v5.5.1\n * (c) 2018-2026 ApexCharts\n */\nclass Environment {\n  /**\n   * Check if running in server-side rendering environment (Node.js)\n   * @returns {boolean} True if in SSR/Node.js, false if in browser\n   */\n  static isSSR() {\n    return typeof window === \"undefined\" || typeof document === \"undefined\";\n  }\n  /**\n   * Check if running in browser environment\n   * @returns {boolean} True if in browser, false if in SSR/Node.js\n   */\n  static isBrowser() {\n    return !this.isSSR();\n  }\n  /**\n   * Check if a specific browser API is available\n   * @param {string} api - Name of the API to check (e.g., 'ResizeObserver')\n   * @returns {boolean} True if API is available\n   */\n  static hasAPI(api) {\n    if (this.isSSR()) return false;\n    return typeof window[api] !== \"undefined\";\n  }\n}\nclass SSRElement {\n  constructor(nodeName, namespaceURI = null) {\n    this.nodeName = nodeName;\n    this.namespaceURI = namespaceURI;\n    this.attributes = /* @__PURE__ */ new Map();\n    this.children = [];\n    this.textContent = \"\";\n    this.style = {};\n    this.classList = new SSRClassList();\n    this.parentNode = null;\n  }\n  setAttribute(name2, value) {\n    this.attributes.set(name2, value);\n  }\n  getAttribute(name2) {\n    return this.attributes.get(name2);\n  }\n  removeAttribute(name2) {\n    this.attributes.delete(name2);\n  }\n  hasAttribute(name2) {\n    return this.attributes.has(name2);\n  }\n  appendChild(child) {\n    if (child && child !== this) {\n      child.parentNode = this;\n      this.children.push(child);\n    }\n    return child;\n  }\n  removeChild(child) {\n    const index = this.children.indexOf(child);\n    if (index !== -1) {\n      this.children.splice(index, 1);\n      child.parentNode = null;\n    }\n    return child;\n  }\n  insertBefore(newNode, referenceNode) {\n    if (!referenceNode) {\n      return this.appendChild(newNode);\n    }\n    const index = this.children.indexOf(referenceNode);\n    if (index !== -1) {\n      newNode.parentNode = this;\n      this.children.splice(index, 0, newNode);\n    }\n    return newNode;\n  }\n  cloneNode(deep = false) {\n    const clone = new SSRElement(this.nodeName, this.namespaceURI);\n    clone.textContent = this.textContent;\n    this.attributes.forEach((value, key) => {\n      clone.attributes.set(key, value);\n    });\n    Object.assign(clone.style, this.style);\n    if (deep) {\n      this.children.forEach((child) => {\n        if (child.cloneNode) {\n          clone.appendChild(child.cloneNode(true));\n        }\n      });\n    }\n    return clone;\n  }\n  getBoundingClientRect() {\n    return {\n      width: this._ssrWidth || 0,\n      height: this._ssrHeight || 0,\n      top: 0,\n      left: 0,\n      right: this._ssrWidth || 0,\n      bottom: this._ssrHeight || 0,\n      x: 0,\n      y: 0\n    };\n  }\n  getRootNode() {\n    let root = this;\n    while (root.parentNode) {\n      root = root.parentNode;\n    }\n    return root;\n  }\n  toString() {\n    let attrs = \"\";\n    this.attributes.forEach((value, key) => {\n      attrs += ` ${key}=\"${value}\"`;\n    });\n    if (this.children.length === 0 && !this.textContent) {\n      return `<${this.nodeName}${attrs}/>`;\n    }\n    const childrenStr = this.children.map((c) => c.toString()).join(\"\");\n    return `<${this.nodeName}${attrs}>${this.textContent}${childrenStr}</${this.nodeName}>`;\n  }\n  // Property getters/setters\n  get innerHTML() {\n    return this.children.map((c) => c.toString()).join(\"\");\n  }\n  set innerHTML(value) {\n    this.children = [];\n    this.textContent = value;\n  }\n  get outerHTML() {\n    return this.toString();\n  }\n  get isConnected() {\n    return true;\n  }\n}\nclass SSRClassList {\n  constructor() {\n    this.classes = /* @__PURE__ */ new Set();\n  }\n  add(...classNames) {\n    classNames.forEach((name2) => this.classes.add(name2));\n  }\n  remove(...classNames) {\n    classNames.forEach((name2) => this.classes.delete(name2));\n  }\n  contains(className) {\n    return this.classes.has(className);\n  }\n  toggle(className, force) {\n    if (force === true) {\n      this.classes.add(className);\n      return true;\n    } else if (force === false) {\n      this.classes.delete(className);\n      return false;\n    } else {\n      if (this.classes.has(className)) {\n        this.classes.delete(className);\n        return false;\n      } else {\n        this.classes.add(className);\n        return true;\n      }\n    }\n  }\n  toString() {\n    return Array.from(this.classes).join(\" \");\n  }\n}\nclass SSRDOMShim {\n  constructor() {\n    this.SVGNS = \"http://www.w3.org/2000/svg\";\n    this.XLINKNS = \"http://www.w3.org/1999/xlink\";\n  }\n  /**\n   * Create SVG element with namespace\n   * @param {string} namespaceURI - Namespace URI\n   * @param {string} qualifiedName - Element tag name\n   * @returns {SSRElement} Mock SVG element\n   */\n  createElementNS(namespaceURI, qualifiedName) {\n    return new SSRElement(qualifiedName, namespaceURI);\n  }\n  /**\n   * Create text node\n   * @param {string} data - Text content\n   * @returns {object} Text node mock\n   */\n  createTextNode(data) {\n    return {\n      nodeName: \"#text\",\n      nodeType: 3,\n      textContent: data,\n      toString() {\n        return this.textContent;\n      }\n    };\n  }\n  /**\n   * Query selector (returns null in SSR)\n   * @returns {null}\n   */\n  querySelector() {\n    return null;\n  }\n  /**\n   * Query selector all (returns empty array in SSR)\n   * @returns {Array}\n   */\n  querySelectorAll() {\n    return [];\n  }\n  /**\n   * Get computed style (returns empty object in SSR)\n   * @returns {object}\n   */\n  getComputedStyle() {\n    return {};\n  }\n  /**\n   * Get bounding client rect for element\n   * @param {SSRElement} element - Element to measure\n   * @returns {object} Mock dimensions\n   */\n  getBoundingClientRect(element) {\n    if (element && element.getBoundingClientRect) {\n      return element.getBoundingClientRect();\n    }\n    return {\n      width: 0,\n      height: 0,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  }\n  /**\n   * Create mock XMLSerializer for SSR\n   * @returns {object} XMLSerializer mock\n   */\n  createXMLSerializer() {\n    return {\n      serializeToString(element) {\n        return element.toString ? element.toString() : \"\";\n      }\n    };\n  }\n  /**\n   * Create mock DOMParser for SSR\n   * @returns {object} DOMParser mock\n   */\n  createDOMParser() {\n    return {\n      parseFromString(str, _type) {\n        const root = new SSRElement(\"root\");\n        root.innerHTML = str;\n        return {\n          documentElement: root\n        };\n      }\n    };\n  }\n}\nlet shim = null;\nlet xmlSerializerInstance = null;\nlet domParserInstance = null;\nclass BrowserAPIs {\n  /**\n   * Initialize the SSR shim if in SSR environment\n   * Must be called before using other methods\n   */\n  static init() {\n    if (Environment.isSSR() && !shim) {\n      shim = new SSRDOMShim();\n    }\n  }\n  /**\n   * Create an SVG element with namespace\n   * @param {string} namespaceURI - Namespace URI\n   * @param {string} qualifiedName - Element tag name\n   * @returns {Element|SSRElement} SVG element\n   */\n  static createElementNS(namespaceURI, qualifiedName) {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      return shim.createElementNS(namespaceURI, qualifiedName);\n    }\n    return document.createElementNS(namespaceURI, qualifiedName);\n  }\n  /**\n   * Create a text node\n   * @param {string} data - Text content\n   * @returns {Text|object} Text node\n   */\n  static createTextNode(data) {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      return shim.createTextNode(data);\n    }\n    return document.createTextNode(data);\n  }\n  /**\n   * Query selector\n   * @param {string} selector - CSS selector\n   * @returns {Element|null}\n   */\n  static querySelector(selector) {\n    if (Environment.isSSR()) {\n      return null;\n    }\n    return document.querySelector(selector);\n  }\n  /**\n   * Query selector all\n   * @param {string} selector - CSS selector\n   * @returns {NodeList|Array}\n   */\n  static querySelectorAll(selector) {\n    if (Environment.isSSR()) {\n      return [];\n    }\n    return document.querySelectorAll(selector);\n  }\n  /**\n   * Get computed style for an element\n   * @param {Element} element - Element to get styles for\n   * @returns {CSSStyleDeclaration|object}\n   */\n  static getComputedStyle(element) {\n    if (Environment.isSSR()) {\n      return {};\n    }\n    return window.getComputedStyle(element);\n  }\n  /**\n   * Get bounding client rect for an element\n   * @param {Element} element - Element to measure\n   * @returns {DOMRect|object}\n   */\n  static getBoundingClientRect(element) {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      return shim.getBoundingClientRect(element);\n    }\n    return element ? element.getBoundingClientRect() : {\n      width: 0,\n      height: 0,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  }\n  /**\n   * Get XMLSerializer instance\n   * @returns {XMLSerializer|object}\n   */\n  static getXMLSerializer() {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      if (!xmlSerializerInstance) {\n        xmlSerializerInstance = shim.createXMLSerializer();\n      }\n      return xmlSerializerInstance;\n    }\n    if (!xmlSerializerInstance) {\n      xmlSerializerInstance = new XMLSerializer();\n    }\n    return xmlSerializerInstance;\n  }\n  /**\n   * Get DOMParser instance\n   * @returns {DOMParser|object}\n   */\n  static getDOMParser() {\n    if (Environment.isSSR()) {\n      if (!shim) this.init();\n      if (!domParserInstance) {\n        domParserInstance = shim.createDOMParser();\n      }\n      return domParserInstance;\n    }\n    if (!domParserInstance) {\n      domParserInstance = new DOMParser();\n    }\n    return domParserInstance;\n  }\n  /**\n   * Add event listener to window\n   * @param {string} event - Event name\n   * @param {Function} handler - Event handler\n   * @param {object} options - Event options\n   */\n  static addWindowEventListener(event, handler, options2) {\n    if (Environment.isBrowser()) {\n      window.addEventListener(event, handler, options2);\n    }\n  }\n  /**\n   * Remove event listener from window\n   * @param {string} event - Event name\n   * @param {Function} handler - Event handler\n   * @param {object} options - Event options\n   */\n  static removeWindowEventListener(event, handler, options2) {\n    if (Environment.isBrowser()) {\n      window.removeEventListener(event, handler, options2);\n    }\n  }\n  /**\n   * Request animation frame\n   * @param {Function} callback - Callback function\n   * @returns {number|null}\n   */\n  static requestAnimationFrame(callback) {\n    if (Environment.isBrowser()) {\n      return window.requestAnimationFrame(callback);\n    }\n    callback();\n    return null;\n  }\n  /**\n   * Cancel animation frame\n   * @param {number} id - Animation frame ID\n   */\n  static cancelAnimationFrame(id) {\n    if (Environment.isBrowser() && id) {\n      window.cancelAnimationFrame(id);\n    }\n  }\n  /**\n   * Check if element exists\n   * @param {Element} element - Element to check\n   * @returns {boolean}\n   */\n  static elementExists(element) {\n    if (!element) return false;\n    if (Environment.isSSR()) {\n      return element._ssrMode === true || element.nodeName !== void 0;\n    }\n    return element.getRootNode ? element.getRootNode({ composed: true }) === document || element.isConnected : false;\n  }\n  /**\n   * Get window object (or null in SSR)\n   * @returns {Window|null}\n   */\n  static getWindow() {\n    return Environment.isBrowser() ? window : null;\n  }\n  /**\n   * Get document object (or null in SSR)\n   * @returns {Document|null}\n   */\n  static getDocument() {\n    return Environment.isBrowser() ? document : null;\n  }\n  /**\n   * Get the shim instance (for testing purposes)\n   * @returns {SSRDOMShim|null}\n   */\n  static _getShim() {\n    return shim;\n  }\n  /**\n   * Reset the shim instance (for testing purposes)\n   */\n  static _resetShim() {\n    shim = null;\n    xmlSerializerInstance = null;\n    domParserInstance = null;\n  }\n}\nlet Utils$1 = class Utils {\n  static bind(fn, me) {\n    return function() {\n      return fn.apply(me, arguments);\n    };\n  }\n  static isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n  }\n  // Type checking that works across different window objects\n  static is(type, val) {\n    return Object.prototype.toString.call(val) === \"[object \" + type + \"]\";\n  }\n  static isSafari() {\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  }\n  static listToArray(list) {\n    let i, array = [];\n    for (i = 0; i < list.length; i++) {\n      array[i] = list[i];\n    }\n    return array;\n  }\n  // to extend defaults with user options\n  // credit: http://stackoverflow.com/questions/27936772/deep-object-merging-in-es6-es7#answer-34749873\n  static extend(target, source) {\n    if (typeof Object.assign !== \"function\") {\n      (function() {\n        Object.assign = function(target2) {\n          if (target2 === void 0 || target2 === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n          }\n          let output2 = Object(target2);\n          for (let index = 1; index < arguments.length; index++) {\n            let source2 = arguments[index];\n            if (source2 !== void 0 && source2 !== null) {\n              for (let nextKey in source2) {\n                if (Object.prototype.hasOwnProperty.call(source2, nextKey)) {\n                  output2[nextKey] = source2[nextKey];\n                }\n              }\n            }\n          }\n          return output2;\n        };\n      })();\n    }\n    let output = Object.assign({}, target);\n    if (this.isObject(target) && this.isObject(source)) {\n      Object.keys(source).forEach((key) => {\n        if (this.isObject(source[key])) {\n          if (!(key in target)) {\n            Object.assign(output, {\n              [key]: source[key]\n            });\n          } else {\n            output[key] = this.extend(target[key], source[key]);\n          }\n        } else {\n          Object.assign(output, {\n            [key]: source[key]\n          });\n        }\n      });\n    }\n    return output;\n  }\n  static extendArray(arrToExtend, resultArr) {\n    let extendedArr = [];\n    arrToExtend.map((item) => {\n      extendedArr.push(Utils.extend(resultArr, item));\n    });\n    arrToExtend = extendedArr;\n    return arrToExtend;\n  }\n  // If month counter exceeds 12, it starts again from 1\n  static monthMod(month) {\n    return month % 12;\n  }\n  /**\n   * clone object with optional shallow copy for performance\n   * @param {*} source - Source object to clone\n   * @param {WeakMap} visited - Circular reference tracker\n   * @param {boolean} shallow - If true, performs shallow copy (default: false)\n   * @returns {*} Cloned object\n   */\n  static clone(source, visited = /* @__PURE__ */ new WeakMap(), shallow = false) {\n    if (source === null || typeof source !== \"object\") {\n      return source;\n    }\n    if (visited.has(source)) {\n      return visited.get(source);\n    }\n    let cloneResult;\n    if (Array.isArray(source)) {\n      if (shallow) {\n        cloneResult = source.slice();\n      } else {\n        cloneResult = [];\n        visited.set(source, cloneResult);\n        for (let i = 0; i < source.length; i++) {\n          cloneResult[i] = this.clone(source[i], visited, false);\n        }\n      }\n    } else if (source instanceof Date) {\n      cloneResult = new Date(source.getTime());\n    } else {\n      if (shallow) {\n        cloneResult = Object.assign({}, source);\n      } else {\n        cloneResult = {};\n        visited.set(source, cloneResult);\n        for (let prop in source) {\n          if (Object.prototype.hasOwnProperty.call(source, prop)) {\n            cloneResult[prop] = this.clone(source[prop], visited, false);\n          }\n        }\n      }\n    }\n    return cloneResult;\n  }\n  /**\n   * Shallow clone for performance when deep clone isn't needed\n   * @param {*} source - Source to clone\n   * @returns {*} Shallow cloned object\n   */\n  static shallowClone(source) {\n    if (source === null || typeof source !== \"object\") {\n      return source;\n    }\n    if (Array.isArray(source)) {\n      return source.slice();\n    }\n    return Object.assign({}, source);\n  }\n  /**\n   * Fast shallow equality check for objects\n   * @param {Object} obj1 - First object\n   * @param {Object} obj2 - Second object\n   * @returns {boolean} True if shallowly equal\n   */\n  static shallowEqual(obj1, obj2) {\n    if (obj1 === obj2) return true;\n    if (!obj1 || !obj2) return false;\n    if (typeof obj1 !== \"object\" || typeof obj2 !== \"object\") {\n      return obj1 === obj2;\n    }\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) return false;\n    for (let key of keys1) {\n      if (obj1[key] !== obj2[key]) return false;\n    }\n    return true;\n  }\n  static log10(x) {\n    return Math.log(x) / Math.LN10;\n  }\n  static roundToBase10(x) {\n    return Math.pow(10, Math.floor(Math.log10(x)));\n  }\n  static roundToBase(x, base) {\n    return Math.pow(base, Math.floor(Math.log(x) / Math.log(base)));\n  }\n  static parseNumber(val) {\n    if (typeof val === \"number\" || val === null) return val;\n    return parseFloat(val);\n  }\n  static stripNumber(num, precision = 2) {\n    return Number.isInteger(num) ? num : parseFloat(num.toPrecision(precision));\n  }\n  static randomId() {\n    return (Math.random() + 1).toString(36).substring(4);\n  }\n  static noExponents(num) {\n    if (num.toString().includes(\"e\")) {\n      return Math.round(num);\n    }\n    return num;\n  }\n  static elementExists(element) {\n    if (!element || !element.isConnected) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * detects if an element is inside a Shadow DOM\n   */\n  static isInShadowDOM(el) {\n    if (!el || !el.getRootNode) {\n      return false;\n    }\n    const rootNode = el.getRootNode();\n    return rootNode && rootNode !== document && Utils.is(\"ShadowRoot\", rootNode);\n  }\n  /**\n   * gets the shadow root host element\n   */\n  static getShadowRootHost(el) {\n    if (!Utils.isInShadowDOM(el)) {\n      return null;\n    }\n    const rootNode = el.getRootNode();\n    return rootNode.host || null;\n  }\n  static getDimensions(el) {\n    if (!el) return [0, 0];\n    if (Environment.isSSR()) {\n      return [el._ssrWidth || 400, el._ssrHeight || 300];\n    }\n    const rootNode = el.getRootNode && el.getRootNode();\n    const inShadowDOM = rootNode && rootNode !== document;\n    if (inShadowDOM && rootNode.host) {\n      const hostRect = rootNode.host.getBoundingClientRect();\n      return [hostRect.width, hostRect.height];\n    }\n    let computedStyle;\n    try {\n      computedStyle = getComputedStyle(el, null);\n    } catch (e) {\n      return [el.clientWidth || 0, el.clientHeight || 0];\n    }\n    let elementHeight = el.clientHeight;\n    let elementWidth = el.clientWidth;\n    elementHeight -= parseFloat(computedStyle.paddingTop) + parseFloat(computedStyle.paddingBottom);\n    elementWidth -= parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight);\n    return [elementWidth, elementHeight];\n  }\n  static getBoundingClientRect(element) {\n    if (!element) {\n      return {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n    }\n    if (Environment.isSSR()) {\n      return BrowserAPIs.getBoundingClientRect(element);\n    }\n    const rect = element.getBoundingClientRect();\n    return {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: element.clientWidth,\n      height: element.clientHeight,\n      x: rect.left,\n      y: rect.top\n    };\n  }\n  static getLargestStringFromArr(arr) {\n    return arr.reduce((a, b) => {\n      if (Array.isArray(b)) {\n        b = b.reduce((aa, bb) => aa.length > bb.length ? aa : bb);\n      }\n      return a.length > b.length ? a : b;\n    }, 0);\n  }\n  // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-12342275\n  static hexToRgba(hex = \"#999999\", opacity = 0.6) {\n    if (hex.substring(0, 1) !== \"#\") {\n      hex = \"#999999\";\n    }\n    let h = hex.replace(\"#\", \"\");\n    h = h.match(new RegExp(\"(.{\" + h.length / 3 + \"})\", \"g\"));\n    for (let i = 0; i < h.length; i++) {\n      h[i] = parseInt(h[i].length === 1 ? h[i] + h[i] : h[i], 16);\n    }\n    if (typeof opacity !== \"undefined\") h.push(opacity);\n    return \"rgba(\" + h.join(\",\") + \")\";\n  }\n  static getOpacityFromRGBA(rgba) {\n    return parseFloat(rgba.replace(/^.*,(.+)\\)/, \"$1\"));\n  }\n  static rgb2hex(rgb) {\n    rgb = rgb.match(\n      /^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i\n    );\n    return rgb && rgb.length === 4 ? \"#\" + (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : \"\";\n  }\n  shadeRGBColor(percent, color) {\n    let f = color.split(\",\"), t = percent < 0 ? 0 : 255, p = percent < 0 ? percent * -1 : percent, R = parseInt(f[0].slice(4), 10), G = parseInt(f[1], 10), B = parseInt(f[2], 10);\n    return \"rgb(\" + (Math.round((t - R) * p) + R) + \",\" + (Math.round((t - G) * p) + G) + \",\" + (Math.round((t - B) * p) + B) + \")\";\n  }\n  shadeHexColor(percent, color) {\n    let f = parseInt(color.slice(1), 16), t = percent < 0 ? 0 : 255, p = percent < 0 ? percent * -1 : percent, R = f >> 16, G = f >> 8 & 255, B = f & 255;\n    return \"#\" + (16777216 + (Math.round((t - R) * p) + R) * 65536 + (Math.round((t - G) * p) + G) * 256 + (Math.round((t - B) * p) + B)).toString(16).slice(1);\n  }\n  // beautiful color shading blending code\n  // http://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors\n  shadeColor(p, color) {\n    if (Utils.isColorHex(color)) {\n      return this.shadeHexColor(p, color);\n    } else {\n      return this.shadeRGBColor(p, color);\n    }\n  }\n  static isColorHex(color) {\n    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(color);\n  }\n  static isCSSVariable(color) {\n    if (typeof color !== \"string\") return false;\n    const value = color.trim();\n    return value.startsWith(\"var(\") && value.endsWith(\")\");\n  }\n  static getThemeColor(color) {\n    if (!Utils.isCSSVariable(color)) return color;\n    const tempElem = document.createElement(\"div\");\n    tempElem.style.cssText = \"position:fixed; left: -9999px; visibility:hidden;\";\n    tempElem.style.color = color;\n    document.body.appendChild(tempElem);\n    let computedColor;\n    try {\n      computedColor = window.getComputedStyle(tempElem).color;\n    } finally {\n      if (tempElem.parentNode) {\n        tempElem.parentNode.removeChild(tempElem);\n      }\n    }\n    return computedColor;\n  }\n  static getPolygonPos(size, dataPointsLen) {\n    let dotsArray = [];\n    let angle = Math.PI * 2 / dataPointsLen;\n    for (let i = 0; i < dataPointsLen; i++) {\n      let curPos = {};\n      curPos.x = size * Math.sin(i * angle);\n      curPos.y = -size * Math.cos(i * angle);\n      dotsArray.push(curPos);\n    }\n    return dotsArray;\n  }\n  static polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n    let angleInRadians = (angleInDegrees - 90) * Math.PI / 180;\n    return {\n      x: centerX + radius * Math.cos(angleInRadians),\n      y: centerY + radius * Math.sin(angleInRadians)\n    };\n  }\n  static escapeString(str, escapeWith = \"x\") {\n    let newStr = str.toString().slice();\n    newStr = newStr.replace(\n      /[` ~!@#$%^&*()|+=?;:'\",.<>{}[\\]\\\\/]/gi,\n      escapeWith\n    );\n    return newStr;\n  }\n  static negToZero(val) {\n    return val < 0 ? 0 : val;\n  }\n  static moveIndexInArray(arr, old_index, new_index) {\n    if (new_index >= arr.length) {\n      let k = new_index - arr.length + 1;\n      while (k--) {\n        arr.push(void 0);\n      }\n    }\n    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n    return arr;\n  }\n  static extractNumber(s) {\n    return parseFloat(s.replace(/[^\\d.]*/g, \"\"));\n  }\n  static findAncestor(el, cls) {\n    while ((el = el.parentElement) && !el.classList.contains(cls)) ;\n    return el;\n  }\n  static setELstyles(el, styles) {\n    for (let key in styles) {\n      if (Object.prototype.hasOwnProperty.call(styles, key)) {\n        el.style.key = styles[key];\n      }\n    }\n  }\n  // prevents JS prevision errors when adding\n  static preciseAddition(a, b) {\n    let aDecimals = (String(a).split(\".\")[1] || \"\").length;\n    let bDecimals = (String(b).split(\".\")[1] || \"\").length;\n    let factor = Math.pow(10, Math.max(aDecimals, bDecimals));\n    return (Math.round(a * factor) + Math.round(b * factor)) / factor;\n  }\n  static isNumber(value) {\n    return !isNaN(value) && parseFloat(Number(value)) === value && !isNaN(parseInt(value, 10));\n  }\n  static isFloat(n) {\n    return Number(n) === n && n % 1 !== 0;\n  }\n  static isMsEdge() {\n    let ua = window.navigator.userAgent;\n    let edge = ua.indexOf(\"Edge/\");\n    if (edge > 0) {\n      return parseInt(ua.substring(edge + 5, ua.indexOf(\".\", edge)), 10);\n    }\n    return false;\n  }\n  //\n  // Find the Greatest Common Divisor of two numbers\n  //\n  static getGCD(a, b, p = 7) {\n    let factor = Math.pow(10, p - Math.floor(Math.log10(Math.max(a, b))));\n    if (factor > 1) {\n      a = Math.round(Math.abs(a) * factor);\n      b = Math.round(Math.abs(b) * factor);\n    } else {\n      factor = 1;\n    }\n    while (b) {\n      let t = b;\n      b = a % b;\n      a = t;\n    }\n    return a / factor;\n  }\n  static getPrimeFactors(n) {\n    const factors = [];\n    let divisor = 2;\n    while (n >= 2) {\n      if (n % divisor == 0) {\n        factors.push(divisor);\n        n = n / divisor;\n      } else {\n        divisor++;\n      }\n    }\n    return factors;\n  }\n  static mod(a, b, p = 7) {\n    let big = Math.pow(10, p - Math.floor(Math.log10(Math.max(a, b))));\n    a = Math.round(Math.abs(a) * big);\n    b = Math.round(Math.abs(b) * big);\n    return a % b / big;\n  }\n};\nclass Animations {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  animateLine(el, from, to, speed) {\n    el.attr(from).animate(speed).attr(to);\n  }\n  /*\n   ** Animate radius of a circle element\n   */\n  animateMarker(el, speed, easing, cb) {\n    el.attr({\n      opacity: 0\n    }).animate(speed).attr({\n      opacity: 1\n    }).after(() => {\n      cb();\n    });\n  }\n  /*\n   ** Animate rect properties\n   */\n  animateRect(el, from, to, speed, fn) {\n    el.attr(from).animate(speed).attr(to).after(() => fn());\n  }\n  animatePathsGradually(params) {\n    let { el, realIndex, j, fill, pathFrom, pathTo, speed, delay } = params;\n    let me = this;\n    let w = this.w;\n    let delayFactor = 0;\n    if (w.config.chart.animations.animateGradually.enabled) {\n      delayFactor = w.config.chart.animations.animateGradually.delay;\n    }\n    if (w.config.chart.animations.dynamicAnimation.enabled && w.globals.dataChanged && w.config.chart.type !== \"bar\") {\n      delayFactor = 0;\n    }\n    me.morphSVG(\n      el,\n      realIndex,\n      j,\n      w.config.chart.type === \"line\" && !w.globals.comboCharts ? \"stroke\" : fill,\n      pathFrom,\n      pathTo,\n      speed,\n      delay * delayFactor\n    );\n  }\n  showDelayedElements() {\n    this.w.globals.delayedElements.forEach((d) => {\n      const ele = d.el;\n      ele.classList.remove(\"apexcharts-element-hidden\");\n      ele.classList.add(\"apexcharts-hidden-element-shown\");\n    });\n  }\n  animationCompleted(el) {\n    const w = this.w;\n    if (w.globals.animationEnded) return;\n    w.globals.animationEnded = true;\n    this.showDelayedElements();\n    if (typeof w.config.chart.events.animationEnd === \"function\") {\n      w.config.chart.events.animationEnd(this.ctx, { el, w });\n    }\n  }\n  // SVG.js animation for morphing one path to another\n  morphSVG(el, realIndex, j, fill, pathFrom, pathTo, speed, delay) {\n    let w = this.w;\n    if (!pathFrom) {\n      pathFrom = el.attr(\"pathFrom\");\n    }\n    if (!pathTo) {\n      pathTo = el.attr(\"pathTo\");\n    }\n    const disableAnimationForCorrupPath = () => {\n      if (w.config.chart.type === \"radar\") {\n        speed = 1;\n      }\n      return `M 0 ${w.globals.gridHeight}`;\n    };\n    if (!pathFrom || pathFrom.indexOf(\"undefined\") > -1 || pathFrom.indexOf(\"NaN\") > -1) {\n      pathFrom = disableAnimationForCorrupPath();\n    }\n    if (!pathTo.trim() || pathTo.indexOf(\"undefined\") > -1 || pathTo.indexOf(\"NaN\") > -1) {\n      pathTo = disableAnimationForCorrupPath();\n    }\n    if (!w.globals.shouldAnimate) {\n      speed = 1;\n    }\n    el.plot(pathFrom).animate(1, delay).plot(pathFrom).animate(speed, delay).plot(pathTo).after(() => {\n      if (Utils$1.isNumber(j)) {\n        if (j === w.globals.series[w.globals.maxValsInArrayIndex].length - 2 && w.globals.shouldAnimate) {\n          this.animationCompleted(el);\n        }\n      } else if (fill !== \"none\" && w.globals.shouldAnimate) {\n        if (!w.globals.comboCharts && realIndex === w.globals.series.length - 1 || w.globals.comboCharts) {\n          this.animationCompleted(el);\n        }\n      }\n      this.showDelayedElements();\n    });\n  }\n}\nclass Filters {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // create a re-usable filter which can be appended other filter effects and applied to multiple elements\n  getDefaultFilter(el, i) {\n    const w = this.w;\n    if (el.unfilter) {\n      el.unfilter(true);\n    }\n    if (w.config.chart.dropShadow.enabled) {\n      this.dropShadow(el, w.config.chart.dropShadow, i);\n    }\n  }\n  applyFilter(el, i, filterType) {\n    var _a, _b, _c;\n    const w = this.w;\n    if (el.unfilter) {\n      el.unfilter(true);\n    }\n    if (filterType === \"none\") {\n      this.getDefaultFilter(el, i);\n      return;\n    }\n    const shadowAttr = w.config.chart.dropShadow;\n    const brightnessFactor = filterType === \"lighten\" ? 2 : 0.3;\n    if (el.filterWith) {\n      el.filterWith((add) => {\n        add.colorMatrix({\n          type: \"matrix\",\n          values: `\n            ${brightnessFactor} 0 0 0 0\n            0 ${brightnessFactor} 0 0 0\n            0 0 ${brightnessFactor} 0 0\n            0 0 0 1 0\n          `,\n          in: \"SourceGraphic\",\n          result: \"brightness\"\n        });\n        if (shadowAttr.enabled) {\n          this.addShadow(add, i, shadowAttr, \"brightness\");\n        }\n      });\n      if (!shadowAttr.noUserSpaceOnUse) {\n        (_b = (_a = el.filterer()) == null ? void 0 : _a.node) == null ? void 0 : _b.setAttribute(\"filterUnits\", \"userSpaceOnUse\");\n      }\n      this._scaleFilterSize((_c = el.filterer()) == null ? void 0 : _c.node);\n    }\n  }\n  // appends dropShadow to the filter object which can be chained with other filter effects\n  addShadow(add, i, attrs, source) {\n    var _a;\n    const w = this.w;\n    let { blur, top, left, color, opacity } = attrs;\n    color = Array.isArray(color) ? color[i] : color;\n    if (((_a = w.config.chart.dropShadow.enabledOnSeries) == null ? void 0 : _a.length) > 0) {\n      if (w.config.chart.dropShadow.enabledOnSeries.indexOf(i) === -1) {\n        return add;\n      }\n    }\n    add.offset({\n      in: source,\n      dx: left,\n      dy: top,\n      result: \"offset\"\n    });\n    add.gaussianBlur({\n      in: \"offset\",\n      stdDeviation: blur,\n      result: \"blur\"\n    });\n    add.flood({\n      \"flood-color\": color,\n      \"flood-opacity\": opacity,\n      result: \"flood\"\n    });\n    add.composite({\n      in: \"flood\",\n      in2: \"blur\",\n      operator: \"in\",\n      result: \"shadow\"\n    });\n    add.merge([\"shadow\", source]);\n  }\n  // directly adds dropShadow to the element and returns the same element.\n  dropShadow(el, attrs, i = 0) {\n    var _a, _b, _c, _d, _e;\n    const w = this.w;\n    if (el.unfilter) {\n      el.unfilter(true);\n    }\n    if (Utils$1.isMsEdge() && w.config.chart.type === \"radialBar\") {\n      return el;\n    }\n    if (((_a = w.config.chart.dropShadow.enabledOnSeries) == null ? void 0 : _a.length) > 0) {\n      if (((_b = w.config.chart.dropShadow.enabledOnSeries) == null ? void 0 : _b.indexOf(i)) === -1) {\n        return el;\n      }\n    }\n    if (el.filterWith) {\n      el.filterWith((add) => {\n        this.addShadow(add, i, attrs, \"SourceGraphic\");\n      });\n      if (!attrs.noUserSpaceOnUse) {\n        (_d = (_c = el.filterer()) == null ? void 0 : _c.node) == null ? void 0 : _d.setAttribute(\"filterUnits\", \"userSpaceOnUse\");\n      }\n      this._scaleFilterSize((_e = el.filterer()) == null ? void 0 : _e.node);\n    }\n    return el;\n  }\n  setSelectionFilter(el, realIndex, dataPointIndex) {\n    const w = this.w;\n    if (typeof w.globals.selectedDataPoints[realIndex] !== \"undefined\") {\n      if (w.globals.selectedDataPoints[realIndex].indexOf(dataPointIndex) > -1) {\n        el.node.setAttribute(\"selected\", true);\n        let activeFilter = w.config.states.active.filter;\n        if (activeFilter !== \"none\") {\n          this.applyFilter(el, realIndex, activeFilter.type);\n        }\n      }\n    }\n  }\n  _scaleFilterSize(el) {\n    if (!el) return;\n    const setAttributes = (attrs) => {\n      for (let key in attrs) {\n        if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n          el.setAttribute(key, attrs[key]);\n        }\n      }\n    };\n    setAttributes({\n      width: \"200%\",\n      height: \"200%\",\n      x: \"-50%\",\n      y: \"-50%\"\n    });\n  }\n}\nclass Graphics {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  /*****************************************************************************\n   *                                                                            *\n   *  SVG Path Rounding Function                                                *\n   *  Copyright (C) 2014 Yona Appletree                                         *\n   *                                                                            *\n   *  Licensed under the Apache License, Version 2.0 (the \"License\");           *\n   *  you may not use this file except in compliance with the License.          *\n   *  You may obtain a copy of the License at                                   *\n   *                                                                            *\n   *      http://www.apache.org/licenses/LICENSE-2.0                            *\n   *                                                                            *\n   *  Unless required by applicable law or agreed to in writing, software       *\n   *  distributed under the License is distributed on an \"AS IS\" BASIS,         *\n   *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  *\n   *  See the License for the specific language governing permissions and       *\n   *  limitations under the License.                                            *\n   *                                                                            *\n   *****************************************************************************/\n  /**\n   * SVG Path rounding function. Takes an input path string and outputs a path\n   * string where all line-line corners have been rounded. Only supports absolute\n   * commands at the moment.\n   *\n   * @param pathString The SVG input path\n   * @param radius The amount to round the corners, either a value in the SVG\n   *               coordinate space, or, if useFractionalRadius is true, a value\n   *               from 0 to 1.\n   * @returns A new SVG path string with the rounding\n   */\n  roundPathCorners(pathString, radius) {\n    if (pathString.indexOf(\"NaN\") > -1) pathString = \"\";\n    function moveTowardsLength(movingPoint, targetPoint, amount) {\n      var width = targetPoint.x - movingPoint.x;\n      var height = targetPoint.y - movingPoint.y;\n      var distance = Math.sqrt(width * width + height * height);\n      return moveTowardsFractional(\n        movingPoint,\n        targetPoint,\n        Math.min(1, amount / distance)\n      );\n    }\n    function moveTowardsFractional(movingPoint, targetPoint, fraction) {\n      return {\n        x: movingPoint.x + (targetPoint.x - movingPoint.x) * fraction,\n        y: movingPoint.y + (targetPoint.y - movingPoint.y) * fraction\n      };\n    }\n    function adjustCommand(cmd, newPoint) {\n      if (cmd.length > 2) {\n        cmd[cmd.length - 2] = newPoint.x;\n        cmd[cmd.length - 1] = newPoint.y;\n      }\n    }\n    function pointForCommand(cmd) {\n      return {\n        x: parseFloat(cmd[cmd.length - 2]),\n        y: parseFloat(cmd[cmd.length - 1])\n      };\n    }\n    var pathParts = pathString.split(/[,\\s]/).reduce(function(parts, part) {\n      var match = part.match(/^([a-zA-Z])(.+)/);\n      if (match) {\n        parts.push(match[1]);\n        parts.push(match[2]);\n      } else {\n        parts.push(part);\n      }\n      return parts;\n    }, []);\n    var commands = pathParts.reduce(function(commands2, part) {\n      if (parseFloat(part) == part && commands2.length) {\n        commands2[commands2.length - 1].push(part);\n      } else {\n        commands2.push([part]);\n      }\n      return commands2;\n    }, []);\n    var resultCommands = [];\n    if (commands.length > 1) {\n      var startPoint = pointForCommand(commands[0]);\n      var virtualCloseLine = null;\n      if (commands[commands.length - 1][0] == \"Z\" && commands[0].length > 2) {\n        virtualCloseLine = [\"L\", startPoint.x, startPoint.y];\n        commands[commands.length - 1] = virtualCloseLine;\n      }\n      resultCommands.push(commands[0]);\n      for (var cmdIndex = 1; cmdIndex < commands.length; cmdIndex++) {\n        var prevCmd = resultCommands[resultCommands.length - 1];\n        var curCmd = commands[cmdIndex];\n        var nextCmd = curCmd == virtualCloseLine ? commands[1] : commands[cmdIndex + 1];\n        if (nextCmd && prevCmd && prevCmd.length > 2 && curCmd[0] == \"L\" && nextCmd.length > 2 && nextCmd[0] == \"L\") {\n          var prevPoint = pointForCommand(prevCmd);\n          var curPoint = pointForCommand(curCmd);\n          var nextPoint = pointForCommand(nextCmd);\n          var curveStart, curveEnd;\n          curveStart = moveTowardsLength(curPoint, prevPoint, radius);\n          curveEnd = moveTowardsLength(curPoint, nextPoint, radius);\n          adjustCommand(curCmd, curveStart);\n          curCmd.origPoint = curPoint;\n          resultCommands.push(curCmd);\n          var startControl = moveTowardsFractional(curveStart, curPoint, 0.5);\n          var endControl = moveTowardsFractional(curPoint, curveEnd, 0.5);\n          var curveCmd = [\n            \"C\",\n            startControl.x,\n            startControl.y,\n            endControl.x,\n            endControl.y,\n            curveEnd.x,\n            curveEnd.y\n          ];\n          curveCmd.origPoint = curPoint;\n          resultCommands.push(curveCmd);\n        } else {\n          resultCommands.push(curCmd);\n        }\n      }\n      if (virtualCloseLine) {\n        var newStartPoint = pointForCommand(\n          resultCommands[resultCommands.length - 1]\n        );\n        resultCommands.push([\"Z\"]);\n        adjustCommand(resultCommands[0], newStartPoint);\n      }\n    } else {\n      resultCommands = commands;\n    }\n    return resultCommands.reduce(function(str, c) {\n      return str + c.join(\" \") + \" \";\n    }, \"\");\n  }\n  drawLine(x1, y1, x2, y2, lineColor = \"#a8a8a8\", dashArray = 0, strokeWidth = null, strokeLineCap = \"butt\") {\n    let w = this.w;\n    let line = w.globals.dom.Paper.line().attr({\n      x1,\n      y1,\n      x2,\n      y2,\n      stroke: lineColor,\n      \"stroke-dasharray\": dashArray,\n      \"stroke-width\": strokeWidth,\n      \"stroke-linecap\": strokeLineCap\n    });\n    return line;\n  }\n  drawRect(x1 = 0, y1 = 0, x2 = 0, y2 = 0, radius = 0, color = \"#fefefe\", opacity = 1, strokeWidth = null, strokeColor = null, strokeDashArray = 0) {\n    let w = this.w;\n    let rect = w.globals.dom.Paper.rect();\n    rect.attr({\n      x: x1,\n      y: y1,\n      width: x2 > 0 ? x2 : 0,\n      height: y2 > 0 ? y2 : 0,\n      rx: radius,\n      ry: radius,\n      opacity,\n      \"stroke-width\": strokeWidth !== null ? strokeWidth : 0,\n      stroke: strokeColor !== null ? strokeColor : \"none\",\n      \"stroke-dasharray\": strokeDashArray\n    });\n    rect.node.setAttribute(\"fill\", color);\n    return rect;\n  }\n  drawPolygon(polygonString, stroke = \"#e1e1e1\", strokeWidth = 1, fill = \"none\") {\n    const w = this.w;\n    const polygon = w.globals.dom.Paper.polygon(polygonString).attr({\n      fill,\n      stroke,\n      \"stroke-width\": strokeWidth\n    });\n    return polygon;\n  }\n  drawCircle(radius, attrs = null) {\n    const w = this.w;\n    if (radius < 0) radius = 0;\n    const c = w.globals.dom.Paper.circle(radius * 2);\n    if (attrs !== null) {\n      c.attr(attrs);\n    }\n    return c;\n  }\n  drawPath({\n    d = \"\",\n    stroke = \"#a8a8a8\",\n    strokeWidth = 1,\n    fill,\n    fillOpacity = 1,\n    strokeOpacity = 1,\n    classes,\n    strokeLinecap = null,\n    strokeDashArray = 0\n  }) {\n    let w = this.w;\n    if (strokeLinecap === null) {\n      strokeLinecap = w.config.stroke.lineCap;\n    }\n    if (d.indexOf(\"undefined\") > -1 || d.indexOf(\"NaN\") > -1) {\n      d = `M 0 ${w.globals.gridHeight}`;\n    }\n    let p = w.globals.dom.Paper.path(d).attr({\n      fill,\n      \"fill-opacity\": fillOpacity,\n      stroke,\n      \"stroke-opacity\": strokeOpacity,\n      \"stroke-linecap\": strokeLinecap,\n      \"stroke-width\": strokeWidth,\n      \"stroke-dasharray\": strokeDashArray,\n      class: classes\n    });\n    return p;\n  }\n  group(attrs = null) {\n    const w = this.w;\n    const g = w.globals.dom.Paper.group();\n    if (attrs !== null) {\n      g.attr(attrs);\n    }\n    return g;\n  }\n  move(x, y) {\n    let move = [\"M\", x, y].join(\" \");\n    return move;\n  }\n  line(x, y, hORv = null) {\n    let line = null;\n    if (hORv === null) {\n      line = [\" L\", x, y].join(\" \");\n    } else if (hORv === \"H\") {\n      line = [\" H\", x].join(\" \");\n    } else if (hORv === \"V\") {\n      line = [\" V\", y].join(\" \");\n    }\n    return line;\n  }\n  curve(x1, y1, x2, y2, x, y) {\n    let curve = [\"C\", x1, y1, x2, y2, x, y].join(\" \");\n    return curve;\n  }\n  quadraticCurve(x1, y1, x, y) {\n    let curve = [\"Q\", x1, y1, x, y].join(\" \");\n    return curve;\n  }\n  arc(rx, ry, axisRotation, largeArcFlag, sweepFlag, x, y, relative = false) {\n    let coord = \"A\";\n    if (relative) coord = \"a\";\n    let arc = [coord, rx, ry, axisRotation, largeArcFlag, sweepFlag, x, y].join(\n      \" \"\n    );\n    return arc;\n  }\n  /**\n   * @memberof Graphics\n   * @param {object}\n   *  i = series's index\n   *  realIndex = realIndex is series's actual index when it was drawn time. After several redraws, the iterating \"i\" may change in loops, but realIndex doesn't\n   *  pathFrom = existing pathFrom to animateTo\n   *  pathTo = new Path to which d attr will be animated from pathFrom to pathTo\n   *  stroke = line Color\n   *  strokeWidth = width of path Line\n   *  fill = it can be gradient, single color, pattern or image\n   *  animationDelay = how much to delay when starting animation (in milliseconds)\n   *  dataChangeSpeed = for dynamic animations, when data changes\n   *  className = class attribute to add\n   * @return {object} svg.js path object\n   **/\n  renderPaths({\n    j,\n    realIndex,\n    pathFrom,\n    pathTo,\n    stroke,\n    strokeWidth,\n    strokeLinecap,\n    fill,\n    animationDelay,\n    initialSpeed,\n    dataChangeSpeed,\n    className,\n    chartType,\n    shouldClipToGrid = true,\n    bindEventsOnPaths = true,\n    drawShadow = true\n  }) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const anim = new Animations(this.ctx);\n    let initialAnim = this.w.config.chart.animations.enabled;\n    let dynamicAnim = initialAnim && this.w.config.chart.animations.dynamicAnimation.enabled;\n    if (pathFrom && pathFrom.startsWith(\"M 0 0\") && pathTo) {\n      const moveCommand = pathTo.match(/^M\\s+[\\d.-]+\\s+[\\d.-]+/);\n      if (moveCommand) {\n        pathFrom = pathFrom.replace(/^M\\s+0\\s+0/, moveCommand[0]);\n      }\n    }\n    let d;\n    let shouldAnimate = !!(initialAnim && !w.globals.resized || dynamicAnim && w.globals.dataChanged && w.globals.shouldAnimate);\n    if (shouldAnimate) {\n      d = pathFrom;\n    } else {\n      d = pathTo;\n      w.globals.animationEnded = true;\n    }\n    let strokeDashArrayOpt = w.config.stroke.dashArray;\n    let strokeDashArray = 0;\n    if (Array.isArray(strokeDashArrayOpt)) {\n      strokeDashArray = strokeDashArrayOpt[realIndex];\n    } else {\n      strokeDashArray = w.config.stroke.dashArray;\n    }\n    let el = this.drawPath({\n      d,\n      stroke,\n      strokeWidth,\n      fill,\n      fillOpacity: 1,\n      classes: className,\n      strokeLinecap,\n      strokeDashArray\n    });\n    el.attr(\"index\", realIndex);\n    if (shouldClipToGrid) {\n      if (chartType === \"bar\" && !w.globals.isHorizontal || w.globals.comboCharts) {\n        el.attr({\n          \"clip-path\": `url(#gridRectBarMask${w.globals.cuid})`\n        });\n      } else {\n        el.attr({\n          \"clip-path\": `url(#gridRectMask${w.globals.cuid})`\n        });\n      }\n    }\n    if (w.config.chart.dropShadow.enabled && drawShadow) {\n      filters.dropShadow(el, w.config.chart.dropShadow, realIndex);\n    }\n    if (bindEventsOnPaths) {\n      el.node.addEventListener(\"mouseenter\", this.pathMouseEnter.bind(this, el));\n      el.node.addEventListener(\"mouseleave\", this.pathMouseLeave.bind(this, el));\n      el.node.addEventListener(\"mousedown\", this.pathMouseDown.bind(this, el));\n    }\n    el.attr({\n      pathTo,\n      pathFrom\n    });\n    const defaultAnimateOpts = {\n      el,\n      j,\n      realIndex,\n      pathFrom,\n      pathTo,\n      fill,\n      strokeWidth,\n      delay: animationDelay\n    };\n    if (initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n      anim.animatePathsGradually(__spreadProps(__spreadValues({}, defaultAnimateOpts), {\n        speed: initialSpeed\n      }));\n    } else {\n      if (w.globals.resized || !w.globals.dataChanged) {\n        anim.showDelayedElements();\n      }\n    }\n    if (w.globals.dataChanged && dynamicAnim && shouldAnimate) {\n      anim.animatePathsGradually(__spreadProps(__spreadValues({}, defaultAnimateOpts), {\n        speed: dataChangeSpeed\n      }));\n    }\n    return el;\n  }\n  drawPattern(style, width, height, stroke = \"#a8a8a8\", strokeWidth = 0) {\n    let w = this.w;\n    let p = w.globals.dom.Paper.pattern(width, height, (add) => {\n      if (style === \"horizontalLines\") {\n        add.line(0, 0, height, 0).stroke({ color: stroke, width: strokeWidth + 1 });\n      } else if (style === \"verticalLines\") {\n        add.line(0, 0, 0, width).stroke({ color: stroke, width: strokeWidth + 1 });\n      } else if (style === \"slantedLines\") {\n        add.line(0, 0, width, height).stroke({ color: stroke, width: strokeWidth });\n      } else if (style === \"squares\") {\n        add.rect(width, height).fill(\"none\").stroke({ color: stroke, width: strokeWidth });\n      } else if (style === \"circles\") {\n        add.circle(width).fill(\"none\").stroke({ color: stroke, width: strokeWidth });\n      }\n    });\n    return p;\n  }\n  drawGradient(style, gfrom, gto, opacityFrom, opacityTo, size = null, stops = null, colorStops = [], i = 0) {\n    let w = this.w;\n    let g;\n    if (gfrom.length < 9 && gfrom.indexOf(\"#\") === 0) {\n      gfrom = Utils$1.hexToRgba(gfrom, opacityFrom);\n    }\n    if (gto.length < 9 && gto.indexOf(\"#\") === 0) {\n      gto = Utils$1.hexToRgba(gto, opacityTo);\n    }\n    let stop1 = 0;\n    let stop2 = 1;\n    let stop3 = 1;\n    let stop4 = null;\n    if (stops !== null) {\n      stop1 = typeof stops[0] !== \"undefined\" ? stops[0] / 100 : 0;\n      stop2 = typeof stops[1] !== \"undefined\" ? stops[1] / 100 : 1;\n      stop3 = typeof stops[2] !== \"undefined\" ? stops[2] / 100 : 1;\n      stop4 = typeof stops[3] !== \"undefined\" ? stops[3] / 100 : null;\n    }\n    let radial = !!(w.config.chart.type === \"donut\" || w.config.chart.type === \"pie\" || w.config.chart.type === \"polarArea\" || w.config.chart.type === \"bubble\");\n    if (!colorStops || colorStops.length === 0) {\n      g = w.globals.dom.Paper.gradient(radial ? \"radial\" : \"linear\", (add) => {\n        add.stop(stop1, gfrom, opacityFrom);\n        add.stop(stop2, gto, opacityTo);\n        add.stop(stop3, gto, opacityTo);\n        if (stop4 !== null) {\n          add.stop(stop4, gfrom, opacityFrom);\n        }\n      });\n    } else {\n      g = w.globals.dom.Paper.gradient(radial ? \"radial\" : \"linear\", (add) => {\n        let gradientStops = Array.isArray(colorStops[i]) ? colorStops[i] : colorStops;\n        gradientStops.forEach((s) => {\n          add.stop(s.offset / 100, s.color, s.opacity);\n        });\n      });\n    }\n    if (!radial) {\n      if (style === \"vertical\") {\n        g.from(0, 0).to(0, 1);\n      } else if (style === \"diagonal\") {\n        g.from(0, 0).to(1, 1);\n      } else if (style === \"horizontal\") {\n        g.from(0, 1).to(1, 1);\n      } else if (style === \"diagonal2\") {\n        g.from(1, 0).to(0, 1);\n      }\n    } else {\n      let offx = w.globals.gridWidth / 2;\n      let offy = w.globals.gridHeight / 2;\n      if (w.config.chart.type !== \"bubble\") {\n        g.attr({\n          gradientUnits: \"userSpaceOnUse\",\n          cx: offx,\n          cy: offy,\n          r: size\n        });\n      } else {\n        g.attr({\n          cx: 0.5,\n          cy: 0.5,\n          r: 0.8,\n          fx: 0.2,\n          fy: 0.2\n        });\n      }\n    }\n    return g;\n  }\n  getTextBasedOnMaxWidth({ text, maxWidth, fontSize, fontFamily }) {\n    const tRects = this.getTextRects(text, fontSize, fontFamily);\n    const wordWidth = tRects.width / text.length;\n    const wordsBasedOnWidth = Math.floor(maxWidth / wordWidth);\n    if (maxWidth < tRects.width) {\n      return text.slice(0, wordsBasedOnWidth - 3) + \"...\";\n    }\n    return text;\n  }\n  drawText({\n    x,\n    y,\n    text,\n    textAnchor,\n    fontSize,\n    fontFamily,\n    fontWeight,\n    foreColor,\n    opacity,\n    maxWidth,\n    cssClass = \"\",\n    isPlainText = true,\n    dominantBaseline = \"auto\"\n  }) {\n    let w = this.w;\n    if (typeof text === \"undefined\") text = \"\";\n    let truncatedText = text;\n    if (!textAnchor) {\n      textAnchor = \"start\";\n    }\n    if (!foreColor || !foreColor.length) {\n      foreColor = w.config.chart.foreColor;\n    }\n    fontFamily = fontFamily || w.config.chart.fontFamily;\n    fontSize = fontSize || \"11px\";\n    fontWeight = fontWeight || \"regular\";\n    const commonProps = {\n      maxWidth,\n      fontSize,\n      fontFamily\n    };\n    let elText;\n    if (Array.isArray(text)) {\n      elText = w.globals.dom.Paper.text((add) => {\n        for (let i = 0; i < text.length; i++) {\n          truncatedText = text[i];\n          if (maxWidth) {\n            truncatedText = this.getTextBasedOnMaxWidth(__spreadValues({\n              text: text[i]\n            }, commonProps));\n          }\n          i === 0 ? add.tspan(truncatedText) : add.tspan(truncatedText).newLine();\n        }\n      });\n    } else {\n      if (maxWidth) {\n        truncatedText = this.getTextBasedOnMaxWidth(__spreadValues({\n          text\n        }, commonProps));\n      }\n      elText = isPlainText ? w.globals.dom.Paper.plain(text) : w.globals.dom.Paper.text((add) => add.tspan(truncatedText));\n    }\n    elText.attr({\n      x,\n      y,\n      \"text-anchor\": textAnchor,\n      \"dominant-baseline\": dominantBaseline,\n      \"font-size\": fontSize,\n      \"font-family\": fontFamily,\n      \"font-weight\": fontWeight,\n      fill: foreColor,\n      class: \"apexcharts-text \" + cssClass\n    });\n    elText.node.style.fontFamily = fontFamily;\n    elText.node.style.opacity = opacity;\n    return elText;\n  }\n  getMarkerPath(x, y, type, size) {\n    let d = \"\";\n    switch (type) {\n      case \"cross\":\n        size = size / 1.4;\n        d = `M ${x - size} ${y - size} L ${x + size} ${y + size}  M ${x - size} ${y + size} L ${x + size} ${y - size}`;\n        break;\n      case \"plus\":\n        size = size / 1.12;\n        d = `M ${x - size} ${y} L ${x + size} ${y}  M ${x} ${y - size} L ${x} ${y + size}`;\n        break;\n      case \"star\":\n      case \"sparkle\": {\n        let points = 5;\n        size = size * 1.15;\n        if (type === \"sparkle\") {\n          size = size / 1.1;\n          points = 4;\n        }\n        const step = Math.PI / points;\n        for (let i = 0; i <= 2 * points; i++) {\n          const angle = i * step;\n          const radius = i % 2 === 0 ? size : size / 2;\n          const xPos = x + radius * Math.sin(angle);\n          const yPos = y - radius * Math.cos(angle);\n          d += (i === 0 ? \"M\" : \"L\") + xPos + \",\" + yPos;\n        }\n        d += \"Z\";\n        break;\n      }\n      case \"triangle\":\n        d = `M ${x} ${y - size} \n             L ${x + size} ${y + size} \n             L ${x - size} ${y + size} \n             Z`;\n        break;\n      case \"square\":\n      case \"rect\":\n        size = size / 1.125;\n        d = `M ${x - size} ${y - size} \n           L ${x + size} ${y - size} \n           L ${x + size} ${y + size} \n           L ${x - size} ${y + size} \n           Z`;\n        break;\n      case \"diamond\":\n        size = size * 1.05;\n        d = `M ${x} ${y - size} \n             L ${x + size} ${y} \n             L ${x} ${y + size} \n             L ${x - size} ${y} \n            Z`;\n        break;\n      case \"line\":\n        size = size / 1.1;\n        d = `M ${x - size} ${y} \n           L ${x + size} ${y}`;\n        break;\n      case \"circle\":\n      default:\n        size = size * 2;\n        d = `M ${x}, ${y} \n           m -${size / 2}, 0 \n           a ${size / 2},${size / 2} 0 1,0 ${size},0 \n           a ${size / 2},${size / 2} 0 1,0 -${size},0`;\n        break;\n    }\n    return d;\n  }\n  /**\n   * @param {number} x - The x-coordinate of the marker\n   * @param {number} y - The y-coordinate of the marker.\n   * @param {number} size - The size of the marker\n   * @param {Object} opts - The options for the marker.\n   * @returns {Object} The created marker.\n   */\n  drawMarkerShape(x, y, type, size, opts) {\n    const path = this.drawPath({\n      d: this.getMarkerPath(x, y, type, size, opts),\n      stroke: opts.pointStrokeColor,\n      strokeDashArray: opts.pointStrokeDashArray,\n      strokeWidth: opts.pointStrokeWidth,\n      fill: opts.pointFillColor,\n      fillOpacity: opts.pointFillOpacity,\n      strokeOpacity: opts.pointStrokeOpacity\n    });\n    path.attr({\n      cx: x,\n      cy: y,\n      shape: opts.shape,\n      class: opts.class ? opts.class : \"\"\n    });\n    return path;\n  }\n  drawMarker(x, y, opts) {\n    x = x || 0;\n    let size = opts.pSize || 0;\n    if (!Utils$1.isNumber(y)) {\n      size = 0;\n      y = 0;\n    }\n    return this.drawMarkerShape(x, y, opts == null ? void 0 : opts.shape, size, __spreadValues(__spreadValues({}, opts), opts.shape === \"line\" || opts.shape === \"plus\" || opts.shape === \"cross\" ? {\n      pointStrokeColor: opts.pointFillColor,\n      pointStrokeOpacity: opts.pointFillOpacity\n    } : {}));\n  }\n  pathMouseEnter(path, e) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const i = parseInt(path.node.getAttribute(\"index\"), 10);\n    const j = parseInt(path.node.getAttribute(\"j\"), 10);\n    if (typeof w.config.chart.events.dataPointMouseEnter === \"function\") {\n      w.config.chart.events.dataPointMouseEnter(e, this.ctx, {\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    this.ctx.events.fireEvent(\"dataPointMouseEnter\", [\n      e,\n      this.ctx,\n      { seriesIndex: i, dataPointIndex: j, w }\n    ]);\n    if (w.config.states.active.filter.type !== \"none\") {\n      if (path.node.getAttribute(\"selected\") === \"true\") {\n        return;\n      }\n    }\n    if (w.config.states.hover.filter.type !== \"none\") {\n      if (!w.globals.isTouchDevice) {\n        let hoverFilter = w.config.states.hover.filter;\n        filters.applyFilter(path, i, hoverFilter.type);\n      }\n    }\n  }\n  pathMouseLeave(path, e) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const i = parseInt(path.node.getAttribute(\"index\"), 10);\n    const j = parseInt(path.node.getAttribute(\"j\"), 10);\n    if (typeof w.config.chart.events.dataPointMouseLeave === \"function\") {\n      w.config.chart.events.dataPointMouseLeave(e, this.ctx, {\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    this.ctx.events.fireEvent(\"dataPointMouseLeave\", [\n      e,\n      this.ctx,\n      { seriesIndex: i, dataPointIndex: j, w }\n    ]);\n    if (w.config.states.active.filter.type !== \"none\") {\n      if (path.node.getAttribute(\"selected\") === \"true\") {\n        return;\n      }\n    }\n    if (w.config.states.hover.filter.type !== \"none\") {\n      filters.getDefaultFilter(path, i);\n    }\n  }\n  pathMouseDown(path, e) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    const i = parseInt(path.node.getAttribute(\"index\"), 10);\n    const j = parseInt(path.node.getAttribute(\"j\"), 10);\n    let selected = \"false\";\n    if (path.node.getAttribute(\"selected\") === \"true\") {\n      path.node.setAttribute(\"selected\", \"false\");\n      if (w.globals.selectedDataPoints[i].indexOf(j) > -1) {\n        let index = w.globals.selectedDataPoints[i].indexOf(j);\n        w.globals.selectedDataPoints[i].splice(index, 1);\n      }\n    } else {\n      if (!w.config.states.active.allowMultipleDataPointsSelection && w.globals.selectedDataPoints.length > 0) {\n        w.globals.selectedDataPoints = [];\n        const elPaths = w.globals.dom.Paper.find(\n          \".apexcharts-series path:not(.apexcharts-decoration-element)\"\n        );\n        const elCircles = w.globals.dom.Paper.find(\n          \".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)\"\n        );\n        const deSelect = (els) => {\n          Array.prototype.forEach.call(els, (el) => {\n            el.node.setAttribute(\"selected\", \"false\");\n            filters.getDefaultFilter(el, i);\n          });\n        };\n        deSelect(elPaths);\n        deSelect(elCircles);\n      }\n      path.node.setAttribute(\"selected\", \"true\");\n      selected = \"true\";\n      if (typeof w.globals.selectedDataPoints[i] === \"undefined\") {\n        w.globals.selectedDataPoints[i] = [];\n      }\n      w.globals.selectedDataPoints[i].push(j);\n    }\n    if (selected === \"true\") {\n      let activeFilter = w.config.states.active.filter;\n      if (activeFilter !== \"none\") {\n        filters.applyFilter(path, i, activeFilter.type);\n      } else {\n        if (w.config.states.hover.filter !== \"none\") {\n          if (!w.globals.isTouchDevice) {\n            let hoverFilter = w.config.states.hover.filter;\n            filters.applyFilter(path, i, hoverFilter.type);\n          }\n        }\n      }\n    } else {\n      if (w.config.states.active.filter.type !== \"none\") {\n        if (w.config.states.hover.filter.type !== \"none\" && !w.globals.isTouchDevice) {\n          let hoverFilter = w.config.states.hover.filter;\n          filters.applyFilter(path, i, hoverFilter.type);\n        } else {\n          filters.getDefaultFilter(path, i);\n        }\n      }\n    }\n    if (typeof w.config.chart.events.dataPointSelection === \"function\") {\n      w.config.chart.events.dataPointSelection(e, this.ctx, {\n        selectedDataPoints: w.globals.selectedDataPoints,\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    if (e) {\n      this.ctx.events.fireEvent(\"dataPointSelection\", [\n        e,\n        this.ctx,\n        {\n          selectedDataPoints: w.globals.selectedDataPoints,\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        }\n      ]);\n    }\n  }\n  rotateAroundCenter(el) {\n    let coord = {};\n    if (el && typeof el.getBBox === \"function\") {\n      coord = el.getBBox();\n    }\n    let x = coord.x + coord.width / 2;\n    let y = coord.y + coord.height / 2;\n    return {\n      x,\n      y\n    };\n  }\n  /**\n   * Sets up event delegation on a parent group element.\n   * Uses mouseover/mouseout (which bubble) to simulate mouseenter/mouseleave\n   * on matching child elements, reducing per-element listener overhead.\n   */\n  setupEventDelegation(parentGroup, targetSelector) {\n    let currentHovered = null;\n    parentGroup.node.addEventListener(\"mouseover\", (e) => {\n      const targetNode = Graphics._findDelegateTarget(\n        e.target,\n        parentGroup.node,\n        targetSelector\n      );\n      if (!targetNode || targetNode === currentHovered) return;\n      if (currentHovered && currentHovered.instance) {\n        this.pathMouseLeave(currentHovered.instance, e);\n      }\n      currentHovered = targetNode;\n      if (targetNode.instance) {\n        this.pathMouseEnter(targetNode.instance, e);\n      }\n    });\n    parentGroup.node.addEventListener(\"mouseout\", (e) => {\n      if (!currentHovered) return;\n      const relatedNode = e.relatedTarget ? Graphics._findDelegateTarget(\n        e.relatedTarget,\n        parentGroup.node,\n        targetSelector\n      ) : null;\n      if (relatedNode !== currentHovered) {\n        if (currentHovered && currentHovered.instance) {\n          this.pathMouseLeave(currentHovered.instance, e);\n        }\n        currentHovered = null;\n      }\n    });\n    parentGroup.node.addEventListener(\"mousedown\", (e) => {\n      const targetNode = Graphics._findDelegateTarget(\n        e.target,\n        parentGroup.node,\n        targetSelector\n      );\n      if (targetNode && targetNode.instance) {\n        this.pathMouseDown(targetNode.instance, e);\n      }\n    });\n  }\n  static _findDelegateTarget(node, boundary, selector) {\n    while (node && node !== boundary && node !== document) {\n      if (node.matches && node.matches(selector)) return node;\n      node = node.parentNode;\n    }\n    return null;\n  }\n  static setAttrs(el, attrs) {\n    for (let key in attrs) {\n      if (Object.prototype.hasOwnProperty.call(attrs, key)) {\n        el.setAttribute(key, attrs[key]);\n      }\n    }\n  }\n  getTextRects(text, fontSize, fontFamily, transform, useBBox = true) {\n    let w = this.w;\n    const cacheKey = `${text}|${fontSize}|${fontFamily}|${transform}|${useBBox}`;\n    const cache = w.globals.textRectsCache;\n    if (cache && cache.has(cacheKey)) {\n      return cache.get(cacheKey);\n    }\n    let virtualText = this.drawText({\n      x: -200,\n      y: -200,\n      text,\n      textAnchor: \"start\",\n      fontSize,\n      fontFamily,\n      foreColor: \"#fff\",\n      opacity: 0\n    });\n    if (transform) {\n      virtualText.attr(\"transform\", transform);\n    }\n    w.globals.dom.Paper.add(virtualText);\n    let rect = virtualText.bbox();\n    if (!useBBox) {\n      rect = virtualText.node.getBoundingClientRect();\n    }\n    virtualText.remove();\n    const result = {\n      width: rect.width,\n      height: rect.height\n    };\n    if (cache) {\n      cache.set(cacheKey, result);\n    }\n    return result;\n  }\n  /**\n   * append ... to long text\n   * http://stackoverflow.com/questions/9241315/trimming-text-to-a-given-pixel-width-in-svg\n   * @memberof Graphics\n   **/\n  placeTextWithEllipsis(textObj, textString, width) {\n    if (typeof textObj.getComputedTextLength !== \"function\") return;\n    textObj.textContent = textString;\n    if (textString.length > 0) {\n      if (textObj.getComputedTextLength() >= width / 1.1) {\n        for (let x = textString.length - 3; x > 0; x -= 3) {\n          if (textObj.getSubStringLength(0, x) <= width / 1.1) {\n            textObj.textContent = textString.substring(0, x) + \"...\";\n            return;\n          }\n        }\n        textObj.textContent = \".\";\n      }\n    }\n  }\n}\nclass CoreUtils {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  static checkComboSeries(series, chartType) {\n    let comboCharts = false;\n    let comboBarCount = 0;\n    let comboCount = 0;\n    if (chartType === void 0) {\n      chartType = \"line\";\n    }\n    if (series.length && typeof series[0].type !== \"undefined\") {\n      series.forEach((s) => {\n        if (s.type === \"bar\" || s.type === \"column\" || s.type === \"candlestick\" || s.type === \"boxPlot\") {\n          comboBarCount++;\n        }\n        if (typeof s.type !== \"undefined\" && s.type !== chartType) {\n          comboCount++;\n        }\n      });\n    }\n    if (comboCount > 0) {\n      comboCharts = true;\n    }\n    return {\n      comboBarCount,\n      comboCharts\n    };\n  }\n  /**\n   * @memberof CoreUtils\n   * returns the sum of all individual values in a multiple stacked series\n   * Eg. w.globals.series = [[32,33,43,12], [2,3,5,1]]\n   *  @return [34,36,48,13]\n   **/\n  getStackedSeriesTotals(excludedSeriesIndices = []) {\n    const w = this.w;\n    let total = [];\n    if (w.globals.series.length === 0) return total;\n    for (let i = 0; i < w.globals.series[w.globals.maxValsInArrayIndex].length; i++) {\n      let t = 0;\n      for (let j = 0; j < w.globals.series.length; j++) {\n        if (typeof w.globals.series[j][i] !== \"undefined\" && excludedSeriesIndices.indexOf(j) === -1) {\n          t += w.globals.series[j][i];\n        }\n      }\n      total.push(t);\n    }\n    return total;\n  }\n  // get total of the all values inside all series\n  getSeriesTotalByIndex(index = null) {\n    if (index === null) {\n      return this.w.config.series.reduce((acc, cur) => acc + cur, 0);\n    } else {\n      return this.w.globals.series[index].reduce((acc, cur) => acc + cur, 0);\n    }\n  }\n  /**\n   * @memberof CoreUtils\n   * returns the sum of values in a multiple stacked grouped charts\n   * Eg. w.globals.series = [[32,33,43,12], [2,3,5,1], [43, 23, 34, 22]]\n   * series 1 and 2 are in a group, while series 3 is in another group\n   *  @return [[34, 36, 48, 12], [43, 23, 34, 22]]\n   **/\n  getStackedSeriesTotalsByGroups() {\n    const w = this.w;\n    let total = [];\n    w.globals.seriesGroups.forEach((sg) => {\n      let includedIndexes = [];\n      w.config.series.forEach((s, si) => {\n        if (sg.indexOf(w.globals.seriesNames[si]) > -1) {\n          includedIndexes.push(si);\n        }\n      });\n      const excludedIndices = w.globals.series.map((_, fi) => includedIndexes.indexOf(fi) === -1 ? fi : -1).filter((f) => f !== -1);\n      total.push(this.getStackedSeriesTotals(excludedIndices));\n    });\n    return total;\n  }\n  setSeriesYAxisMappings() {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    let axisSeriesMap = [];\n    let seriesYAxisReverseMap = [];\n    let unassignedSeriesIndices = [];\n    let seriesNameArrayStyle = gl.series.length > cnf.yaxis.length || cnf.yaxis.some((a) => Array.isArray(a.seriesName));\n    cnf.series.forEach((s, i) => {\n      unassignedSeriesIndices.push(i);\n      seriesYAxisReverseMap.push(null);\n    });\n    cnf.yaxis.forEach((yaxe, yi) => {\n      axisSeriesMap[yi] = [];\n    });\n    let unassignedYAxisIndices = [];\n    cnf.yaxis.forEach((yaxe, yi) => {\n      let assigned = false;\n      if (yaxe.seriesName) {\n        let seriesNames = [];\n        if (Array.isArray(yaxe.seriesName)) {\n          seriesNames = yaxe.seriesName;\n        } else {\n          seriesNames.push(yaxe.seriesName);\n        }\n        seriesNames.forEach((name2) => {\n          cnf.series.forEach((s, si) => {\n            if (s.name === name2) {\n              let remove = si;\n              if (yi === si || seriesNameArrayStyle) {\n                if (!seriesNameArrayStyle || unassignedSeriesIndices.indexOf(si) > -1) {\n                  axisSeriesMap[yi].push([yi, si]);\n                } else {\n                  console.warn(\n                    \"Series '\" + s.name + \"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes.\"\n                  );\n                }\n              } else {\n                axisSeriesMap[si].push([si, yi]);\n                remove = yi;\n              }\n              assigned = true;\n              remove = unassignedSeriesIndices.indexOf(remove);\n              if (remove !== -1) {\n                unassignedSeriesIndices.splice(remove, 1);\n              }\n            }\n          });\n        });\n      }\n      if (!assigned) {\n        unassignedYAxisIndices.push(yi);\n      }\n    });\n    axisSeriesMap = axisSeriesMap.map((yaxe) => {\n      let ra = [];\n      yaxe.forEach((sa) => {\n        seriesYAxisReverseMap[sa[1]] = sa[0];\n        ra.push(sa[1]);\n      });\n      return ra;\n    });\n    let lastUnassignedYAxis = cnf.yaxis.length - 1;\n    for (let i = 0; i < unassignedYAxisIndices.length; i++) {\n      lastUnassignedYAxis = unassignedYAxisIndices[i];\n      axisSeriesMap[lastUnassignedYAxis] = [];\n      if (unassignedSeriesIndices) {\n        let si = unassignedSeriesIndices[0];\n        unassignedSeriesIndices.shift();\n        axisSeriesMap[lastUnassignedYAxis].push(si);\n        seriesYAxisReverseMap[si] = lastUnassignedYAxis;\n      } else {\n        break;\n      }\n    }\n    unassignedSeriesIndices.forEach((i) => {\n      axisSeriesMap[lastUnassignedYAxis].push(i);\n      seriesYAxisReverseMap[i] = lastUnassignedYAxis;\n    });\n    gl.seriesYAxisMap = axisSeriesMap.map((x) => x);\n    gl.seriesYAxisReverseMap = seriesYAxisReverseMap.map((x) => x);\n    gl.seriesYAxisMap.forEach((axisSeries, ai) => {\n      axisSeries.forEach((si) => {\n        if (cnf.series[si] && cnf.series[si].group === void 0) {\n          cnf.series[si].group = \"apexcharts-axis-\".concat(ai.toString());\n        }\n      });\n    });\n  }\n  isSeriesNull(index = null) {\n    let r = [];\n    if (index === null) {\n      r = this.w.config.series.filter((d) => d !== null);\n    } else {\n      r = this.w.config.series[index].data.filter((d) => d !== null);\n    }\n    return r.length === 0;\n  }\n  seriesHaveSameValues(index) {\n    return this.w.globals.series[index].every((val, i, arr) => val === arr[0]);\n  }\n  getCategoryLabels(labels) {\n    const w = this.w;\n    let catLabels = labels.slice();\n    if (w.config.xaxis.convertedCatToNumeric) {\n      catLabels = labels.map((i) => {\n        return w.config.xaxis.labels.formatter(i - w.globals.minX + 1);\n      });\n    }\n    return catLabels;\n  }\n  // maxValsInArrayIndex is the index of series[] which has the largest number of items\n  getLargestSeries() {\n    const w = this.w;\n    w.globals.maxValsInArrayIndex = w.globals.series.map((a) => a.length).indexOf(\n      Math.max.apply(\n        Math,\n        w.globals.series.map((a) => a.length)\n      )\n    );\n  }\n  getLargestMarkerSize() {\n    const w = this.w;\n    let size = 0;\n    w.globals.markers.size.forEach((m) => {\n      size = Math.max(size, m);\n    });\n    if (w.config.markers.discrete && w.config.markers.discrete.length) {\n      w.config.markers.discrete.forEach((m) => {\n        size = Math.max(size, m.size);\n      });\n    }\n    if (size > 0) {\n      if (w.config.markers.hover.size > 0) {\n        size = w.config.markers.hover.size;\n      } else {\n        size += w.config.markers.hover.sizeOffset;\n      }\n    }\n    w.globals.markers.largestSize = size;\n    return size;\n  }\n  /**\n   * @memberof Core\n   * returns the sum of all values in a series\n   * Eg. w.globals.series = [[32,33,43,12], [2,3,5,1]]\n   *  @return [120, 11]\n   **/\n  getSeriesTotals() {\n    const w = this.w;\n    w.globals.seriesTotals = w.globals.series.map((ser) => {\n      let total = 0;\n      if (Array.isArray(ser)) {\n        for (let j = 0; j < ser.length; j++) {\n          total += ser[j];\n        }\n      } else {\n        total += ser;\n      }\n      return total;\n    });\n  }\n  getSeriesTotalsXRange(minX, maxX) {\n    const w = this.w;\n    const seriesTotalsXRange = w.globals.series.map((ser, index) => {\n      let total = 0;\n      for (let j = 0; j < ser.length; j++) {\n        if (w.globals.seriesX[index][j] > minX && w.globals.seriesX[index][j] < maxX) {\n          total += ser[j];\n        }\n      }\n      return total;\n    });\n    return seriesTotalsXRange;\n  }\n  /**\n   * @memberof CoreUtils\n   * returns the percentage value of all individual values which can be used in a 100% stacked series\n   * Eg. w.globals.series = [[32, 33, 43, 12], [2, 3, 5, 1]]\n   *  @return [[94.11, 91.66, 89.58, 92.30], [5.88, 8.33, 10.41, 7.7]]\n   **/\n  getPercentSeries() {\n    const w = this.w;\n    w.globals.seriesPercent = w.globals.series.map((ser) => {\n      let seriesPercent = [];\n      if (Array.isArray(ser)) {\n        for (let j = 0; j < ser.length; j++) {\n          let total = w.globals.stackedSeriesTotals[j];\n          let percent = 0;\n          if (total) {\n            percent = 100 * ser[j] / total;\n          }\n          seriesPercent.push(percent);\n        }\n      } else {\n        const total = w.globals.seriesTotals.reduce((acc, val) => acc + val, 0);\n        let percent = 100 * ser / total;\n        seriesPercent.push(percent);\n      }\n      return seriesPercent;\n    });\n  }\n  getCalculatedRatios() {\n    let w = this.w;\n    let gl = w.globals;\n    let yRatio = [];\n    let invertedYRatio = 0;\n    let xRatio = 0;\n    let invertedXRatio = 0;\n    let zRatio = 0;\n    let baseLineY = [];\n    let baseLineInvertedY = 0.1;\n    let baseLineX = 0;\n    gl.yRange = [];\n    if (gl.isMultipleYAxis) {\n      for (let i = 0; i < gl.minYArr.length; i++) {\n        gl.yRange.push(Math.abs(gl.minYArr[i] - gl.maxYArr[i]));\n        baseLineY.push(0);\n      }\n    } else {\n      gl.yRange.push(Math.abs(gl.minY - gl.maxY));\n    }\n    gl.xRange = Math.abs(gl.maxX - gl.minX);\n    gl.zRange = Math.abs(gl.maxZ - gl.minZ);\n    for (let i = 0; i < gl.yRange.length; i++) {\n      yRatio.push(gl.yRange[i] / gl.gridHeight);\n    }\n    xRatio = gl.xRange / gl.gridWidth;\n    invertedYRatio = gl.yRange / gl.gridWidth;\n    invertedXRatio = gl.xRange / gl.gridHeight;\n    zRatio = gl.zRange / gl.gridHeight * 16;\n    if (!zRatio) {\n      zRatio = 1;\n    }\n    if (gl.minY !== Number.MIN_VALUE && Math.abs(gl.minY) !== 0) {\n      gl.hasNegs = true;\n    }\n    if (w.globals.seriesYAxisReverseMap.length > 0) {\n      let scaleBaseLineYScale = (y, i) => {\n        let yAxis = w.config.yaxis[w.globals.seriesYAxisReverseMap[i]];\n        let sign = y < 0 ? -1 : 1;\n        y = Math.abs(y);\n        if (yAxis.logarithmic) {\n          y = this.getBaseLog(yAxis.logBase, y);\n        }\n        return -sign * y / yRatio[i];\n      };\n      if (gl.isMultipleYAxis) {\n        baseLineY = [];\n        for (let i = 0; i < yRatio.length; i++) {\n          baseLineY.push(scaleBaseLineYScale(gl.minYArr[i], i));\n        }\n      } else {\n        baseLineY = [];\n        baseLineY.push(scaleBaseLineYScale(gl.minY, 0));\n        if (gl.minY !== Number.MIN_VALUE && Math.abs(gl.minY) !== 0) {\n          baseLineInvertedY = -gl.minY / invertedYRatio;\n          baseLineX = gl.minX / xRatio;\n        }\n      }\n    } else {\n      baseLineY = [];\n      baseLineY.push(0);\n      baseLineInvertedY = 0;\n      baseLineX = 0;\n    }\n    return {\n      yRatio,\n      invertedYRatio,\n      zRatio,\n      xRatio,\n      invertedXRatio,\n      baseLineInvertedY,\n      baseLineY,\n      baseLineX\n    };\n  }\n  getLogSeries(series) {\n    const w = this.w;\n    w.globals.seriesLog = series.map((s, i) => {\n      let yAxisIndex = w.globals.seriesYAxisReverseMap[i];\n      if (w.config.yaxis[yAxisIndex] && w.config.yaxis[yAxisIndex].logarithmic) {\n        return s.map((d) => {\n          if (d === null) return null;\n          return this.getLogVal(w.config.yaxis[yAxisIndex].logBase, d, i);\n        });\n      } else {\n        return s;\n      }\n    });\n    return w.globals.invalidLogScale ? series : w.globals.seriesLog;\n  }\n  getLogValAtSeriesIndex(val, seriesIndex) {\n    if (val === null) return null;\n    const w = this.w;\n    let yAxisIndex = w.globals.seriesYAxisReverseMap[seriesIndex];\n    if (w.config.yaxis[yAxisIndex] && w.config.yaxis[yAxisIndex].logarithmic) {\n      return this.getLogVal(\n        w.config.yaxis[yAxisIndex].logBase,\n        val,\n        seriesIndex\n      );\n    }\n    return val;\n  }\n  getBaseLog(base, value) {\n    return Math.log(value) / Math.log(base);\n  }\n  getLogVal(b, d, seriesIndex) {\n    if (d <= 0) {\n      return 0;\n    }\n    const w = this.w;\n    const min_log_val = w.globals.minYArr[seriesIndex] === 0 ? -1 : this.getBaseLog(b, w.globals.minYArr[seriesIndex]);\n    const max_log_val = w.globals.maxYArr[seriesIndex] === 0 ? 0 : this.getBaseLog(b, w.globals.maxYArr[seriesIndex]);\n    const number_of_height_levels = max_log_val - min_log_val;\n    if (d < 1) return d / number_of_height_levels;\n    const log_height_value = this.getBaseLog(b, d) - min_log_val;\n    return log_height_value / number_of_height_levels;\n  }\n  getLogYRatios(yRatio) {\n    const w = this.w;\n    const gl = this.w.globals;\n    gl.yLogRatio = yRatio.slice();\n    gl.logYRange = gl.yRange.map((_, i) => {\n      let yAxisIndex = w.globals.seriesYAxisReverseMap[i];\n      if (w.config.yaxis[yAxisIndex] && this.w.config.yaxis[yAxisIndex].logarithmic) {\n        let maxY = -Number.MAX_VALUE;\n        let minY = Number.MIN_VALUE;\n        let range = 1;\n        gl.seriesLog.forEach((s, si) => {\n          s.forEach((v) => {\n            if (w.config.yaxis[si] && w.config.yaxis[si].logarithmic) {\n              maxY = Math.max(v, maxY);\n              minY = Math.min(v, minY);\n            }\n          });\n        });\n        range = Math.pow(gl.yRange[i], Math.abs(minY - maxY) / gl.yRange[i]);\n        gl.yLogRatio[i] = range / gl.gridHeight;\n        return range;\n      }\n    });\n    return gl.invalidLogScale ? yRatio.slice() : gl.yLogRatio;\n  }\n  // Some config objects can be array - and we need to extend them correctly\n  static extendArrayProps(configInstance, options2, w) {\n    var _a, _b;\n    if (options2 == null ? void 0 : options2.yaxis) {\n      options2 = configInstance.extendYAxis(options2, w);\n    }\n    if (options2 == null ? void 0 : options2.annotations) {\n      if (options2.annotations.yaxis) {\n        options2 = configInstance.extendYAxisAnnotations(options2);\n      }\n      if ((_a = options2 == null ? void 0 : options2.annotations) == null ? void 0 : _a.xaxis) {\n        options2 = configInstance.extendXAxisAnnotations(options2);\n      }\n      if ((_b = options2 == null ? void 0 : options2.annotations) == null ? void 0 : _b.points) {\n        options2 = configInstance.extendPointAnnotations(options2);\n      }\n    }\n    return options2;\n  }\n  // Series of the same group and type can be stacked together distinct from\n  // other series of the same type on the same axis.\n  drawSeriesByGroup(typeSeries, typeGroups, type, chartClass) {\n    let w = this.w;\n    let graph = [];\n    if (typeSeries.series.length > 0) {\n      typeGroups.forEach((gn) => {\n        let gs = [];\n        let gi = [];\n        typeSeries.i.forEach((i, ii) => {\n          if (w.config.series[i].group === gn) {\n            gs.push(typeSeries.series[ii]);\n            gi.push(i);\n          }\n        });\n        gs.length > 0 && graph.push(chartClass.draw(gs, type, gi));\n      });\n    }\n    return graph;\n  }\n}\nlet Helpers$4 = class Helpers {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n  }\n  setOrientations(anno, annoIndex = null) {\n    const w = this.w;\n    if (anno.label.orientation === \"vertical\") {\n      const i = annoIndex !== null ? annoIndex : 0;\n      const xAnno = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='${i}']`\n      );\n      if (xAnno !== null) {\n        const xAnnoCoord = xAnno.getBBox();\n        xAnno.setAttribute(\n          \"x\",\n          parseFloat(xAnno.getAttribute(\"x\")) - xAnnoCoord.height + 4\n        );\n        const yOffset = anno.label.position === \"top\" ? xAnnoCoord.width : -xAnnoCoord.width;\n        xAnno.setAttribute(\"y\", parseFloat(xAnno.getAttribute(\"y\")) + yOffset);\n        const { x, y } = this.annoCtx.graphics.rotateAroundCenter(xAnno);\n        xAnno.setAttribute(\"transform\", `rotate(-90 ${x} ${y})`);\n      }\n    }\n  }\n  addBackgroundToAnno(annoEl, anno) {\n    const w = this.w;\n    if (!annoEl || !anno.label.text || !String(anno.label.text).trim()) {\n      return null;\n    }\n    const gridEl = w.globals.dom.baseEl.querySelector(\".apexcharts-grid\");\n    const elGridRect = gridEl.getBoundingClientRect();\n    const gridBBox = gridEl.getBBox();\n    const zoom = elGridRect.width / gridBBox.width || 1;\n    const coords = annoEl.getBoundingClientRect();\n    let {\n      left: pleft,\n      right: pright,\n      top: ptop,\n      bottom: pbottom\n    } = anno.label.style.padding;\n    if (anno.label.orientation === \"vertical\") {\n      [ptop, pbottom, pleft, pright] = [pleft, pright, ptop, pbottom];\n    }\n    const x1 = (coords.left - elGridRect.left) / zoom - pleft;\n    const y1 = (coords.top - elGridRect.top) / zoom - ptop;\n    const elRect = this.annoCtx.graphics.drawRect(\n      x1 - w.globals.barPadForNumericAxis,\n      y1,\n      coords.width / zoom + pleft + pright,\n      coords.height / zoom + ptop + pbottom,\n      anno.label.borderRadius,\n      anno.label.style.background,\n      1,\n      anno.label.borderWidth,\n      anno.label.borderColor,\n      0\n    );\n    if (anno.id) {\n      elRect.node.classList.add(anno.id);\n    }\n    return elRect;\n  }\n  annotationsBackground() {\n    const w = this.w;\n    const add = (anno, i, type) => {\n      const annoLabel = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-${type}-annotations .apexcharts-${type}-annotation-label[rel='${i}']`\n      );\n      if (annoLabel) {\n        const parent = annoLabel.parentNode;\n        const elRect = this.addBackgroundToAnno(annoLabel, anno);\n        if (elRect) {\n          parent.insertBefore(elRect.node, annoLabel);\n          if (anno.label.mouseEnter) {\n            elRect.node.addEventListener(\n              \"mouseenter\",\n              anno.label.mouseEnter.bind(this, anno)\n            );\n          }\n          if (anno.label.mouseLeave) {\n            elRect.node.addEventListener(\n              \"mouseleave\",\n              anno.label.mouseLeave.bind(this, anno)\n            );\n          }\n          if (anno.label.click) {\n            elRect.node.addEventListener(\n              \"click\",\n              anno.label.click.bind(this, anno)\n            );\n          }\n        }\n      }\n    };\n    w.config.annotations.xaxis.forEach((anno, i) => add(anno, i, \"xaxis\"));\n    w.config.annotations.yaxis.forEach((anno, i) => add(anno, i, \"yaxis\"));\n    w.config.annotations.points.forEach((anno, i) => add(anno, i, \"point\"));\n  }\n  getY1Y2(type, anno) {\n    var _a;\n    const w = this.w;\n    let y = type === \"y1\" ? anno.y : anno.y2;\n    let yP;\n    let clipped = false;\n    if (this.annoCtx.invertAxis) {\n      const labels = w.config.xaxis.convertedCatToNumeric ? w.globals.categoryLabels : w.globals.labels;\n      const catIndex = labels.indexOf(y);\n      const xLabel = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-yaxis-texts-g text:nth-child(${catIndex + 1})`\n      );\n      yP = xLabel ? parseFloat(xLabel.getAttribute(\"y\")) : (w.globals.gridHeight / labels.length - 1) * (catIndex + 1) - w.globals.barHeight;\n      if (anno.seriesIndex !== void 0 && w.globals.barHeight) {\n        yP -= w.globals.barHeight / 2 * (w.globals.series.length - 1) - w.globals.barHeight * anno.seriesIndex;\n      }\n    } else {\n      const seriesIndex = w.globals.seriesYAxisMap[anno.yAxisIndex][0];\n      const yPos = w.config.yaxis[anno.yAxisIndex].logarithmic ? new CoreUtils(this.annoCtx.ctx).getLogVal(\n        w.config.yaxis[anno.yAxisIndex].logBase,\n        y,\n        seriesIndex\n      ) / w.globals.yLogRatio[seriesIndex] : (y - w.globals.minYArr[seriesIndex]) / (w.globals.yRange[seriesIndex] / w.globals.gridHeight);\n      yP = w.globals.gridHeight - Math.min(Math.max(yPos, 0), w.globals.gridHeight);\n      clipped = yPos > w.globals.gridHeight || yPos < 0;\n      if (anno.marker && (anno.y === void 0 || anno.y === null)) {\n        yP = 0;\n      }\n      if ((_a = w.config.yaxis[anno.yAxisIndex]) == null ? void 0 : _a.reversed) {\n        yP = yPos;\n      }\n    }\n    if (typeof y === \"string\" && y.includes(\"px\")) {\n      yP = parseFloat(y);\n    }\n    return { yP, clipped };\n  }\n  getX1X2(type, anno) {\n    const w = this.w;\n    const x = type === \"x1\" ? anno.x : anno.x2;\n    const min = this.annoCtx.invertAxis ? w.globals.minY : w.globals.minX;\n    const max = this.annoCtx.invertAxis ? w.globals.maxY : w.globals.maxX;\n    const range = this.annoCtx.invertAxis ? w.globals.yRange[0] : w.globals.xRange;\n    let clipped = false;\n    let xP = this.annoCtx.inversedReversedAxis ? (max - x) / (range / w.globals.gridWidth) : (x - min) / (range / w.globals.gridWidth);\n    if ((w.config.xaxis.type === \"category\" || w.config.xaxis.convertedCatToNumeric) && !this.annoCtx.invertAxis && !w.globals.dataFormatXNumeric) {\n      if (!w.config.chart.sparkline.enabled) {\n        xP = this.getStringX(x);\n      }\n    }\n    if (typeof x === \"string\" && x.includes(\"px\")) {\n      xP = parseFloat(x);\n    }\n    if ((x === void 0 || x === null) && anno.marker) {\n      xP = w.globals.gridWidth;\n    }\n    if (anno.seriesIndex !== void 0 && w.globals.barWidth && !this.annoCtx.invertAxis) {\n      xP -= w.globals.barWidth / 2 * (w.globals.series.length - 1) - w.globals.barWidth * anno.seriesIndex;\n    }\n    if (typeof xP !== \"number\") {\n      xP = 0;\n      clipped = true;\n    }\n    if (parseFloat(xP.toFixed(10)) > parseFloat(w.globals.gridWidth.toFixed(10))) {\n      xP = w.globals.gridWidth;\n      clipped = true;\n    } else if (xP < 0) {\n      xP = 0;\n      clipped = true;\n    }\n    return { x: xP, clipped };\n  }\n  getStringX(x) {\n    const w = this.w;\n    let rX = x;\n    if (w.config.xaxis.convertedCatToNumeric && w.globals.categoryLabels.length) {\n      x = w.globals.categoryLabels.indexOf(x) + 1;\n    }\n    const catIndex = w.globals.labels.map((item) => Array.isArray(item) ? item.join(\" \") : item).indexOf(x);\n    const xLabel = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-xaxis-texts-g text:nth-child(${catIndex + 1})`\n    );\n    if (xLabel) {\n      rX = parseFloat(xLabel.getAttribute(\"x\"));\n    }\n    return rX;\n  }\n};\nclass XAnnotations {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n    this.invertAxis = this.annoCtx.invertAxis;\n    this.helpers = new Helpers$4(this.annoCtx);\n  }\n  addXaxisAnnotation(anno, parent, index) {\n    let w = this.w;\n    let result = this.helpers.getX1X2(\"x1\", anno);\n    let x1 = result.x;\n    let clipX1 = result.clipped;\n    let clipX2 = true;\n    let x2;\n    const text = anno.label.text;\n    let strokeDashArray = anno.strokeDashArray;\n    if (!Utils$1.isNumber(x1)) return;\n    if (anno.x2 === null || typeof anno.x2 === \"undefined\") {\n      if (!clipX1) {\n        let line = this.annoCtx.graphics.drawLine(\n          x1 + anno.offsetX,\n          // x1\n          0 + anno.offsetY,\n          // y1\n          x1 + anno.offsetX,\n          // x2\n          w.globals.gridHeight + anno.offsetY,\n          // y2\n          anno.borderColor,\n          // lineColor\n          strokeDashArray,\n          //dashArray\n          anno.borderWidth\n        );\n        parent.appendChild(line.node);\n        if (anno.id) {\n          line.node.classList.add(anno.id);\n        }\n      }\n    } else {\n      let result2 = this.helpers.getX1X2(\"x2\", anno);\n      x2 = result2.x;\n      clipX2 = result2.clipped;\n      if (x2 < x1) {\n        let temp = x1;\n        x1 = x2;\n        x2 = temp;\n      }\n      let rect = this.annoCtx.graphics.drawRect(\n        x1 + anno.offsetX,\n        // x1\n        0 + anno.offsetY,\n        // y1\n        x2 - x1,\n        // x2\n        w.globals.gridHeight + anno.offsetY,\n        // y2\n        0,\n        // radius\n        anno.fillColor,\n        // color\n        anno.opacity,\n        // opacity,\n        1,\n        // strokeWidth\n        anno.borderColor,\n        // strokeColor\n        strokeDashArray\n        // stokeDashArray\n      );\n      rect.node.classList.add(\"apexcharts-annotation-rect\");\n      rect.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n      parent.appendChild(rect.node);\n      if (anno.id) {\n        rect.node.classList.add(anno.id);\n      }\n    }\n    if (!(clipX1 && clipX2)) {\n      let textRects = this.annoCtx.graphics.getTextRects(\n        text,\n        parseFloat(anno.label.style.fontSize)\n      );\n      let textY = anno.label.position === \"top\" ? 4 : anno.label.position === \"center\" ? w.globals.gridHeight / 2 + (anno.label.orientation === \"vertical\" ? textRects.width / 2 : 0) : w.globals.gridHeight;\n      let elText = this.annoCtx.graphics.drawText({\n        x: x1 + anno.label.offsetX,\n        y: textY + anno.label.offsetY - (anno.label.orientation === \"vertical\" ? anno.label.position === \"top\" ? textRects.width / 2 - 12 : -textRects.width / 2 : 0),\n        text,\n        textAnchor: anno.label.textAnchor,\n        fontSize: anno.label.style.fontSize,\n        fontFamily: anno.label.style.fontFamily,\n        fontWeight: anno.label.style.fontWeight,\n        foreColor: anno.label.style.color,\n        cssClass: `apexcharts-xaxis-annotation-label ${anno.label.style.cssClass} ${anno.id ? anno.id : \"\"}`\n      });\n      elText.attr({\n        rel: index\n      });\n      parent.appendChild(elText.node);\n      this.annoCtx.helpers.setOrientations(anno, index);\n    }\n  }\n  drawXAxisAnnotations() {\n    let w = this.w;\n    let elg = this.annoCtx.graphics.group({\n      class: \"apexcharts-xaxis-annotations\"\n    });\n    w.config.annotations.xaxis.map((anno, index) => {\n      this.addXaxisAnnotation(anno, elg.node, index);\n    });\n    return elg;\n  }\n}\nclass DateTime {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.months31 = [1, 3, 5, 7, 8, 10, 12];\n    this.months30 = [2, 4, 6, 9, 11];\n    this.daysCntOfYear = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n  }\n  isValidDate(date) {\n    if (typeof date === \"number\") {\n      return false;\n    }\n    return !isNaN(this.parseDate(date));\n  }\n  getTimeStamp(dateStr) {\n    if (!Date.parse(dateStr)) {\n      return dateStr;\n    }\n    const utc = this.w.config.xaxis.labels.datetimeUTC;\n    return !utc ? new Date(dateStr).getTime() : new Date(new Date(dateStr).toISOString().substr(0, 25)).getTime();\n  }\n  getDate(timestamp) {\n    const utc = this.w.config.xaxis.labels.datetimeUTC;\n    return utc ? new Date(new Date(timestamp).toUTCString()) : new Date(timestamp);\n  }\n  parseDate(dateStr) {\n    const parsed = Date.parse(dateStr);\n    if (!isNaN(parsed)) {\n      return this.getTimeStamp(dateStr);\n    }\n    let output = Date.parse(dateStr.replace(/-/g, \"/\").replace(/[a-z]+/gi, \" \"));\n    output = this.getTimeStamp(output);\n    return output;\n  }\n  // This fixes the difference of x-axis labels between chrome/safari\n  // Fixes #1726, #1544, #1485, #1255\n  parseDateWithTimezone(dateStr) {\n    return Date.parse(dateStr.replace(/-/g, \"/\").replace(/[a-z]+/gi, \" \"));\n  }\n  // http://stackoverflow.com/questions/14638018/current-time-formatting-with-javascript#answer-14638191\n  formatDate(date, format) {\n    const locale = this.w.globals.locale;\n    const utc = this.w.config.xaxis.labels.datetimeUTC;\n    let MMMM = [\"\\0\", ...locale.months];\n    let MMM = [\"\u0001\", ...locale.shortMonths];\n    let dddd = [\"\u0002\", ...locale.days];\n    let ddd = [\"\u0003\", ...locale.shortDays];\n    function ii(i, len) {\n      let s2 = i + \"\";\n      len = len || 2;\n      while (s2.length < len) s2 = \"0\" + s2;\n      return s2;\n    }\n    let y = utc ? date.getUTCFullYear() : date.getFullYear();\n    format = format.replace(/(^|[^\\\\])yyyy+/g, \"$1\" + y);\n    format = format.replace(/(^|[^\\\\])yy/g, \"$1\" + y.toString().substr(2, 2));\n    format = format.replace(/(^|[^\\\\])y/g, \"$1\" + y);\n    let M = (utc ? date.getUTCMonth() : date.getMonth()) + 1;\n    format = format.replace(/(^|[^\\\\])MMMM+/g, \"$1\" + MMMM[0]);\n    format = format.replace(/(^|[^\\\\])MMM/g, \"$1\" + MMM[0]);\n    format = format.replace(/(^|[^\\\\])MM/g, \"$1\" + ii(M));\n    format = format.replace(/(^|[^\\\\])M/g, \"$1\" + M);\n    let d = utc ? date.getUTCDate() : date.getDate();\n    format = format.replace(/(^|[^\\\\])dddd+/g, \"$1\" + dddd[0]);\n    format = format.replace(/(^|[^\\\\])ddd/g, \"$1\" + ddd[0]);\n    format = format.replace(/(^|[^\\\\])dd/g, \"$1\" + ii(d));\n    format = format.replace(/(^|[^\\\\])d/g, \"$1\" + d);\n    let H = utc ? date.getUTCHours() : date.getHours();\n    format = format.replace(/(^|[^\\\\])HH+/g, \"$1\" + ii(H));\n    format = format.replace(/(^|[^\\\\])H/g, \"$1\" + H);\n    let h = H > 12 ? H - 12 : H === 0 ? 12 : H;\n    format = format.replace(/(^|[^\\\\])hh+/g, \"$1\" + ii(h));\n    format = format.replace(/(^|[^\\\\])h/g, \"$1\" + h);\n    let m = utc ? date.getUTCMinutes() : date.getMinutes();\n    format = format.replace(/(^|[^\\\\])mm+/g, \"$1\" + ii(m));\n    format = format.replace(/(^|[^\\\\])m/g, \"$1\" + m);\n    let s = utc ? date.getUTCSeconds() : date.getSeconds();\n    format = format.replace(/(^|[^\\\\])ss+/g, \"$1\" + ii(s));\n    format = format.replace(/(^|[^\\\\])s/g, \"$1\" + s);\n    let f = utc ? date.getUTCMilliseconds() : date.getMilliseconds();\n    format = format.replace(/(^|[^\\\\])fff+/g, \"$1\" + ii(f, 3));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])ff/g, \"$1\" + ii(f));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])f/g, \"$1\" + f);\n    let T = H < 12 ? \"AM\" : \"PM\";\n    format = format.replace(/(^|[^\\\\])TT+/g, \"$1\" + T);\n    format = format.replace(/(^|[^\\\\])T/g, \"$1\" + T.charAt(0));\n    let t = T.toLowerCase();\n    format = format.replace(/(^|[^\\\\])tt+/g, \"$1\" + t);\n    format = format.replace(/(^|[^\\\\])t/g, \"$1\" + t.charAt(0));\n    let tz = -date.getTimezoneOffset();\n    let K = utc || !tz ? \"Z\" : tz > 0 ? \"+\" : \"-\";\n    if (!utc) {\n      tz = Math.abs(tz);\n      let tzHrs = Math.floor(tz / 60);\n      let tzMin = tz % 60;\n      K += ii(tzHrs) + \":\" + ii(tzMin);\n    }\n    format = format.replace(/(^|[^\\\\])K/g, \"$1\" + K);\n    let day = (utc ? date.getUTCDay() : date.getDay()) + 1;\n    format = format.replace(new RegExp(dddd[0], \"g\"), dddd[day]);\n    format = format.replace(new RegExp(ddd[0], \"g\"), ddd[day]);\n    format = format.replace(new RegExp(MMMM[0], \"g\"), MMMM[M]);\n    format = format.replace(new RegExp(MMM[0], \"g\"), MMM[M]);\n    format = format.replace(/\\\\(.)/g, \"$1\");\n    return format;\n  }\n  getTimeUnitsfromTimestamp(minX, maxX) {\n    let w = this.w;\n    if (w.config.xaxis.min !== void 0) {\n      minX = w.config.xaxis.min;\n    }\n    if (w.config.xaxis.max !== void 0) {\n      maxX = w.config.xaxis.max;\n    }\n    const tsMin = this.getDate(minX);\n    const tsMax = this.getDate(maxX);\n    const minD = this.formatDate(tsMin, \"yyyy MM dd HH mm ss fff\").split(\" \");\n    const maxD = this.formatDate(tsMax, \"yyyy MM dd HH mm ss fff\").split(\" \");\n    return {\n      minMillisecond: parseInt(minD[6], 10),\n      maxMillisecond: parseInt(maxD[6], 10),\n      minSecond: parseInt(minD[5], 10),\n      maxSecond: parseInt(maxD[5], 10),\n      minMinute: parseInt(minD[4], 10),\n      maxMinute: parseInt(maxD[4], 10),\n      minHour: parseInt(minD[3], 10),\n      maxHour: parseInt(maxD[3], 10),\n      minDate: parseInt(minD[2], 10),\n      maxDate: parseInt(maxD[2], 10),\n      minMonth: parseInt(minD[1], 10) - 1,\n      maxMonth: parseInt(maxD[1], 10) - 1,\n      minYear: parseInt(minD[0], 10),\n      maxYear: parseInt(maxD[0], 10)\n    };\n  }\n  isLeapYear(year) {\n    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n  }\n  calculcateLastDaysOfMonth(month, year, subtract) {\n    const days = this.determineDaysOfMonths(month, year);\n    return days - subtract;\n  }\n  determineDaysOfYear(year) {\n    let days = 365;\n    if (this.isLeapYear(year)) {\n      days = 366;\n    }\n    return days;\n  }\n  determineRemainingDaysOfYear(year, month, date) {\n    let dayOfYear = this.daysCntOfYear[month] + date;\n    if (month > 1 && this.isLeapYear()) dayOfYear++;\n    return dayOfYear;\n  }\n  determineDaysOfMonths(month, year) {\n    let days = 30;\n    month = Utils$1.monthMod(month);\n    switch (true) {\n      case this.months30.indexOf(month) > -1:\n        if (month === 2) {\n          if (this.isLeapYear(year)) {\n            days = 29;\n          } else {\n            days = 28;\n          }\n        }\n        break;\n      case this.months31.indexOf(month) > -1:\n        days = 31;\n        break;\n      default:\n        days = 31;\n        break;\n    }\n    return days;\n  }\n}\nclass Formatters {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.tooltipKeyFormat = \"dd MMM\";\n  }\n  xLabelFormat(fn, val, timestamp, _opts) {\n    let w = this.w;\n    if (w.config.xaxis.type === \"datetime\") {\n      if (w.config.xaxis.labels.formatter === void 0) {\n        if (w.config.tooltip.x.formatter === void 0) {\n          let datetimeObj = new DateTime(this.ctx);\n          return datetimeObj.formatDate(\n            datetimeObj.getDate(val),\n            w.config.tooltip.x.format\n          );\n        }\n      }\n    }\n    return fn(val, timestamp, _opts);\n  }\n  defaultGeneralFormatter(val) {\n    if (Array.isArray(val)) {\n      return val.map((v) => {\n        return v;\n      });\n    } else {\n      return val;\n    }\n  }\n  defaultYFormatter(v, yaxe) {\n    let w = this.w;\n    if (Utils$1.isNumber(v)) {\n      if (w.globals.yValueDecimal !== 0) {\n        v = v.toFixed(\n          yaxe.decimalsInFloat !== void 0 ? yaxe.decimalsInFloat : w.globals.yValueDecimal\n        );\n      } else {\n        const f = v.toFixed(0);\n        v = v == f ? f : v.toFixed(1);\n      }\n    }\n    return v;\n  }\n  setLabelFormatters() {\n    let w = this.w;\n    w.globals.xaxisTooltipFormatter = (val) => {\n      return this.defaultGeneralFormatter(val);\n    };\n    w.globals.ttKeyFormatter = (val) => {\n      return this.defaultGeneralFormatter(val);\n    };\n    w.globals.ttZFormatter = (val) => {\n      return val;\n    };\n    w.globals.legendFormatter = (val) => {\n      return this.defaultGeneralFormatter(val);\n    };\n    if (w.config.xaxis.labels.formatter !== void 0) {\n      w.globals.xLabelFormatter = w.config.xaxis.labels.formatter;\n    } else {\n      w.globals.xLabelFormatter = (val) => {\n        if (Utils$1.isNumber(val)) {\n          if (!w.config.xaxis.convertedCatToNumeric && w.config.xaxis.type === \"numeric\") {\n            if (Utils$1.isNumber(w.config.xaxis.decimalsInFloat)) {\n              return val.toFixed(w.config.xaxis.decimalsInFloat);\n            } else {\n              const diff = w.globals.maxX - w.globals.minX;\n              if (diff > 0 && diff < 100) {\n                return val.toFixed(1);\n              }\n              return val.toFixed(0);\n            }\n          }\n          if (w.globals.isBarHorizontal) {\n            const range = w.globals.maxY - w.globals.minYArr;\n            if (range < 4) {\n              return val.toFixed(1);\n            }\n          }\n          return val.toFixed(0);\n        }\n        return val;\n      };\n    }\n    if (typeof w.config.tooltip.x.formatter === \"function\") {\n      w.globals.ttKeyFormatter = w.config.tooltip.x.formatter;\n    } else {\n      w.globals.ttKeyFormatter = w.globals.xLabelFormatter;\n    }\n    if (typeof w.config.xaxis.tooltip.formatter === \"function\") {\n      w.globals.xaxisTooltipFormatter = w.config.xaxis.tooltip.formatter;\n    }\n    if (Array.isArray(w.config.tooltip.y)) {\n      w.globals.ttVal = w.config.tooltip.y;\n    } else {\n      if (w.config.tooltip.y.formatter !== void 0) {\n        w.globals.ttVal = w.config.tooltip.y;\n      }\n    }\n    if (w.config.tooltip.z.formatter !== void 0) {\n      w.globals.ttZFormatter = w.config.tooltip.z.formatter;\n    }\n    if (w.config.legend.formatter !== void 0) {\n      w.globals.legendFormatter = w.config.legend.formatter;\n    }\n    w.config.yaxis.forEach((yaxe, i) => {\n      if (yaxe.labels.formatter !== void 0) {\n        w.globals.yLabelFormatters[i] = yaxe.labels.formatter;\n      } else {\n        w.globals.yLabelFormatters[i] = (val) => {\n          if (!w.globals.xyCharts) return val;\n          if (Array.isArray(val)) {\n            return val.map((v) => {\n              return this.defaultYFormatter(v, yaxe, i);\n            });\n          } else {\n            return this.defaultYFormatter(val, yaxe, i);\n          }\n        };\n      }\n    });\n    return w.globals;\n  }\n  heatmapLabelFormatters() {\n    const w = this.w;\n    if (w.config.chart.type === \"heatmap\") {\n      w.globals.yAxisScale[0].result = w.globals.seriesNames.slice();\n      let longest = w.globals.seriesNames.reduce(\n        (a, b) => a.length > b.length ? a : b,\n        0\n      );\n      w.globals.yAxisScale[0].niceMax = longest;\n      w.globals.yAxisScale[0].niceMin = longest;\n    }\n  }\n}\nclass AxesUtils {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // Based on the formatter function, get the label text and position\n  getLabel(labels, timescaleLabels, x, i, drawnLabels = [], fontSize = \"12px\", isLeafGroup = true) {\n    const w = this.w;\n    let rawLabel = typeof labels[i] === \"undefined\" ? \"\" : labels[i];\n    let label = rawLabel;\n    let xlbFormatter = w.globals.xLabelFormatter;\n    let customFormatter = w.config.xaxis.labels.formatter;\n    let isBold = false;\n    let xFormat = new Formatters(this.ctx);\n    let timestamp = rawLabel;\n    if (isLeafGroup) {\n      label = xFormat.xLabelFormat(xlbFormatter, rawLabel, timestamp, {\n        i,\n        dateFormatter: new DateTime(this.ctx).formatDate,\n        w\n      });\n      if (customFormatter !== void 0) {\n        label = customFormatter(rawLabel, labels[i], {\n          i,\n          dateFormatter: new DateTime(this.ctx).formatDate,\n          w\n        });\n      }\n    }\n    const determineHighestUnit = (unit) => {\n      let highestUnit = null;\n      timescaleLabels.forEach((t) => {\n        if (t.unit === \"month\") {\n          highestUnit = \"year\";\n        } else if (t.unit === \"day\") {\n          highestUnit = \"month\";\n        } else if (t.unit === \"hour\") {\n          highestUnit = \"day\";\n        } else if (t.unit === \"minute\") {\n          highestUnit = \"hour\";\n        }\n      });\n      return highestUnit === unit;\n    };\n    if (timescaleLabels.length > 0) {\n      isBold = determineHighestUnit(timescaleLabels[i].unit);\n      x = timescaleLabels[i].position;\n      label = timescaleLabels[i].value;\n    } else {\n      if (w.config.xaxis.type === \"datetime\" && customFormatter === void 0) {\n        label = \"\";\n      }\n    }\n    if (typeof label === \"undefined\") label = \"\";\n    label = Array.isArray(label) ? label : label.toString();\n    let graphics = new Graphics(this.ctx);\n    let textRect = {};\n    if (w.globals.rotateXLabels && isLeafGroup) {\n      textRect = graphics.getTextRects(\n        label,\n        parseInt(fontSize, 10),\n        null,\n        `rotate(${w.config.xaxis.labels.rotate} 0 0)`,\n        false\n      );\n    } else {\n      textRect = graphics.getTextRects(label, parseInt(fontSize, 10));\n    }\n    const allowDuplicatesInTimeScale = !w.config.xaxis.labels.showDuplicates && this.ctx.timeScale;\n    if (!Array.isArray(label) && (String(label) === \"NaN\" || drawnLabels.indexOf(label) >= 0 && allowDuplicatesInTimeScale)) {\n      label = \"\";\n    }\n    return {\n      x,\n      text: label,\n      textRect,\n      isBold\n    };\n  }\n  checkLabelBasedOnTickamount(i, label, labelsLen) {\n    const w = this.w;\n    let ticks = w.config.xaxis.tickAmount;\n    if (ticks === \"dataPoints\") ticks = Math.round(w.globals.gridWidth / 120);\n    if (ticks > labelsLen) return label;\n    let tickMultiple = Math.round(labelsLen / (ticks + 1));\n    if (i % tickMultiple === 0) {\n      return label;\n    } else {\n      label.text = \"\";\n    }\n    return label;\n  }\n  checkForOverflowingLabels(i, label, labelsLen, drawnLabels, drawnLabelsRects) {\n    const w = this.w;\n    if (i === 0) {\n      if (w.globals.skipFirstTimelinelabel) {\n        label.text = \"\";\n      }\n    }\n    if (i === labelsLen - 1) {\n      if (w.globals.skipLastTimelinelabel) {\n        label.text = \"\";\n      }\n    }\n    if (w.config.xaxis.labels.hideOverlappingLabels && drawnLabels.length > 0) {\n      const prev = drawnLabelsRects[drawnLabelsRects.length - 1];\n      if (w.config.xaxis.labels.trim && w.config.xaxis.type !== \"datetime\") {\n        return label;\n      }\n      if (label.x < prev.textRect.width / (w.globals.rotateXLabels ? Math.abs(w.config.xaxis.labels.rotate) / 12 : 1.01) + prev.x) {\n        label.text = \"\";\n      }\n    }\n    return label;\n  }\n  checkForReversedLabels(i, labels) {\n    const w = this.w;\n    if (w.config.yaxis[i] && w.config.yaxis[i].reversed) {\n      labels.reverse();\n    }\n    return labels;\n  }\n  yAxisAllSeriesCollapsed(index) {\n    const gl = this.w.globals;\n    return !gl.seriesYAxisMap[index].some((si) => {\n      return gl.collapsedSeriesIndices.indexOf(si) === -1;\n    });\n  }\n  // Method to translate annotation.yAxisIndex values from\n  // seriesName-as-a-string values to seriesName-as-an-array values (old style\n  // series mapping to new style).\n  translateYAxisIndex(index) {\n    const w = this.w;\n    const gl = w.globals;\n    const yaxis = w.config.yaxis;\n    let newStyle = gl.series.length > yaxis.length || yaxis.some((a) => Array.isArray(a.seriesName));\n    if (newStyle) {\n      return index;\n    } else {\n      return gl.seriesYAxisReverseMap[index];\n    }\n  }\n  isYAxisHidden(index) {\n    const w = this.w;\n    const yaxis = w.config.yaxis[index];\n    if (!yaxis.show || this.yAxisAllSeriesCollapsed(index)) {\n      return true;\n    }\n    if (!yaxis.showForNullSeries) {\n      const seriesIndices = w.globals.seriesYAxisMap[index];\n      const coreUtils = new CoreUtils(this.ctx);\n      return seriesIndices.every((si) => coreUtils.isSeriesNull(si));\n    }\n    return false;\n  }\n  // get the label color for y-axis\n  // realIndex is the actual series index, while i is the tick Index\n  getYAxisForeColor(yColors, realIndex) {\n    const w = this.w;\n    if (Array.isArray(yColors) && w.globals.yAxisScale[realIndex]) {\n      this.ctx.theme.pushExtraColors(\n        yColors,\n        w.globals.yAxisScale[realIndex].result.length,\n        false\n      );\n    }\n    return yColors;\n  }\n  drawYAxisTicks(x, tickAmount, axisBorder, axisTicks, realIndex, labelsDivider, elYaxis) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let tY = w.globals.translateY + w.config.yaxis[realIndex].labels.offsetY;\n    if (w.globals.isBarHorizontal) {\n      tY = 0;\n    } else if (w.config.chart.type === \"heatmap\") {\n      tY += labelsDivider / 2;\n    }\n    if (axisTicks.show && tickAmount > 0) {\n      if (w.config.yaxis[realIndex].opposite === true) x = x + axisTicks.width;\n      for (let i = tickAmount; i >= 0; i--) {\n        let elTick = graphics.drawLine(\n          x + axisBorder.offsetX - axisTicks.width + axisTicks.offsetX,\n          tY + axisTicks.offsetY,\n          x + axisBorder.offsetX + axisTicks.offsetX,\n          tY + axisTicks.offsetY,\n          axisTicks.color\n        );\n        elYaxis.add(elTick);\n        tY += labelsDivider;\n      }\n    }\n  }\n}\nclass YAnnotations {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n    this.helpers = new Helpers$4(this.annoCtx);\n    this.axesUtils = new AxesUtils(this.annoCtx);\n  }\n  addYaxisAnnotation(anno, parent, index) {\n    let w = this.w;\n    let strokeDashArray = anno.strokeDashArray;\n    let result = this.helpers.getY1Y2(\"y1\", anno);\n    let y1 = result.yP;\n    let clipY1 = result.clipped;\n    let y2;\n    let clipY2 = true;\n    let drawn = false;\n    const text = anno.label.text;\n    if (anno.y2 === null || typeof anno.y2 === \"undefined\") {\n      if (!clipY1) {\n        drawn = true;\n        let line = this.annoCtx.graphics.drawLine(\n          0 + anno.offsetX,\n          // x1\n          y1 + anno.offsetY,\n          // y1\n          this._getYAxisAnnotationWidth(anno),\n          // x2\n          y1 + anno.offsetY,\n          // y2\n          anno.borderColor,\n          // lineColor\n          strokeDashArray,\n          // dashArray\n          anno.borderWidth\n        );\n        parent.appendChild(line.node);\n        if (anno.id) {\n          line.node.classList.add(anno.id);\n        }\n      }\n    } else {\n      result = this.helpers.getY1Y2(\"y2\", anno);\n      y2 = result.yP;\n      clipY2 = result.clipped;\n      if (y2 > y1) {\n        let temp = y1;\n        y1 = y2;\n        y2 = temp;\n      }\n      if (!(clipY1 && clipY2)) {\n        drawn = true;\n        let rect = this.annoCtx.graphics.drawRect(\n          0 + anno.offsetX,\n          // x1\n          y2 + anno.offsetY,\n          // y1\n          this._getYAxisAnnotationWidth(anno),\n          // x2\n          y1 - y2,\n          // y2\n          0,\n          // radius\n          anno.fillColor,\n          // color\n          anno.opacity,\n          // opacity,\n          1,\n          // strokeWidth\n          anno.borderColor,\n          // strokeColor\n          strokeDashArray\n          // stokeDashArray\n        );\n        rect.node.classList.add(\"apexcharts-annotation-rect\");\n        rect.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n        parent.appendChild(rect.node);\n        if (anno.id) {\n          rect.node.classList.add(anno.id);\n        }\n      }\n    }\n    if (drawn) {\n      let textX = anno.label.position === \"right\" ? w.globals.gridWidth : anno.label.position === \"center\" ? w.globals.gridWidth / 2 : 0;\n      let elText = this.annoCtx.graphics.drawText({\n        x: textX + anno.label.offsetX,\n        y: (y2 != null ? y2 : y1) + anno.label.offsetY - 3,\n        text,\n        textAnchor: anno.label.textAnchor,\n        fontSize: anno.label.style.fontSize,\n        fontFamily: anno.label.style.fontFamily,\n        fontWeight: anno.label.style.fontWeight,\n        foreColor: anno.label.style.color,\n        cssClass: `apexcharts-yaxis-annotation-label ${anno.label.style.cssClass} ${anno.id ? anno.id : \"\"}`\n      });\n      elText.attr({\n        rel: index\n      });\n      parent.appendChild(elText.node);\n    }\n  }\n  _getYAxisAnnotationWidth(anno) {\n    const w = this.w;\n    let width = w.globals.gridWidth;\n    if (anno.width.indexOf(\"%\") > -1) {\n      width = w.globals.gridWidth * parseInt(anno.width, 10) / 100;\n    } else {\n      width = parseInt(anno.width, 10);\n    }\n    return width + anno.offsetX;\n  }\n  drawYAxisAnnotations() {\n    const w = this.w;\n    let elg = this.annoCtx.graphics.group({\n      class: \"apexcharts-yaxis-annotations\"\n    });\n    w.config.annotations.yaxis.forEach((anno, index) => {\n      anno.yAxisIndex = this.axesUtils.translateYAxisIndex(anno.yAxisIndex);\n      if (!(this.axesUtils.isYAxisHidden(anno.yAxisIndex) && this.axesUtils.yAxisAllSeriesCollapsed(anno.yAxisIndex))) {\n        this.addYaxisAnnotation(anno, elg.node, index);\n      }\n    });\n    return elg;\n  }\n}\nclass PointAnnotations {\n  constructor(annoCtx) {\n    this.w = annoCtx.w;\n    this.annoCtx = annoCtx;\n    this.helpers = new Helpers$4(this.annoCtx);\n  }\n  addPointAnnotation(anno, parent, index) {\n    const w = this.w;\n    if (w.globals.collapsedSeriesIndices.indexOf(anno.seriesIndex) > -1) {\n      return;\n    }\n    let result = this.helpers.getX1X2(\"x1\", anno);\n    let x = result.x;\n    let clipX = result.clipped;\n    result = this.helpers.getY1Y2(\"y1\", anno);\n    let y = result.yP;\n    let clipY = result.clipped;\n    if (!Utils$1.isNumber(x)) return;\n    if (!(clipY || clipX)) {\n      let optsPoints = {\n        pSize: anno.marker.size,\n        pointStrokeWidth: anno.marker.strokeWidth,\n        pointFillColor: anno.marker.fillColor,\n        pointStrokeColor: anno.marker.strokeColor,\n        shape: anno.marker.shape,\n        pRadius: anno.marker.radius,\n        class: `apexcharts-point-annotation-marker ${anno.marker.cssClass} ${anno.id ? anno.id : \"\"}`\n      };\n      let point = this.annoCtx.graphics.drawMarker(\n        x + anno.marker.offsetX,\n        y + anno.marker.offsetY,\n        optsPoints\n      );\n      parent.appendChild(point.node);\n      const text = anno.label.text ? anno.label.text : \"\";\n      let elText = this.annoCtx.graphics.drawText({\n        x: x + anno.label.offsetX,\n        y: y + anno.label.offsetY - anno.marker.size - parseFloat(anno.label.style.fontSize) / 1.6,\n        text,\n        textAnchor: anno.label.textAnchor,\n        fontSize: anno.label.style.fontSize,\n        fontFamily: anno.label.style.fontFamily,\n        fontWeight: anno.label.style.fontWeight,\n        foreColor: anno.label.style.color,\n        cssClass: `apexcharts-point-annotation-label ${anno.label.style.cssClass} ${anno.id ? anno.id : \"\"}`\n      });\n      elText.attr({\n        rel: index\n      });\n      parent.appendChild(elText.node);\n      if (anno.customSVG.SVG) {\n        let g = this.annoCtx.graphics.group({\n          class: \"apexcharts-point-annotations-custom-svg \" + anno.customSVG.cssClass\n        });\n        g.attr({\n          transform: `translate(${x + anno.customSVG.offsetX}, ${y + anno.customSVG.offsetY})`\n        });\n        g.node.innerHTML = anno.customSVG.SVG;\n        parent.appendChild(g.node);\n      }\n      if (anno.image.path) {\n        let imgWidth = anno.image.width ? anno.image.width : 20;\n        let imgHeight = anno.image.height ? anno.image.height : 20;\n        point = this.annoCtx.addImage({\n          x: x + anno.image.offsetX - imgWidth / 2,\n          y: y + anno.image.offsetY - imgHeight / 2,\n          width: imgWidth,\n          height: imgHeight,\n          path: anno.image.path,\n          appendTo: \".apexcharts-point-annotations\"\n        });\n      }\n      if (anno.mouseEnter) {\n        point.node.addEventListener(\n          \"mouseenter\",\n          anno.mouseEnter.bind(this, anno)\n        );\n      }\n      if (anno.mouseLeave) {\n        point.node.addEventListener(\n          \"mouseleave\",\n          anno.mouseLeave.bind(this, anno)\n        );\n      }\n      if (anno.click) {\n        point.node.addEventListener(\"click\", anno.click.bind(this, anno));\n      }\n    }\n  }\n  drawPointAnnotations() {\n    let w = this.w;\n    let elg = this.annoCtx.graphics.group({\n      class: \"apexcharts-point-annotations\"\n    });\n    w.config.annotations.points.map((anno, index) => {\n      this.addPointAnnotation(anno, elg.node, index);\n    });\n    return elg;\n  }\n}\nconst name = \"en\";\nconst options = { \"months\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"], \"shortMonths\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"], \"days\": [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"], \"shortDays\": [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"], \"toolbar\": { \"exportToSVG\": \"Download SVG\", \"exportToPNG\": \"Download PNG\", \"exportToCSV\": \"Download CSV\", \"menu\": \"Menu\", \"selection\": \"Selection\", \"selectionZoom\": \"Selection Zoom\", \"zoomIn\": \"Zoom In\", \"zoomOut\": \"Zoom Out\", \"pan\": \"Panning\", \"reset\": \"Reset Zoom\" } };\nconst en = {\n  name,\n  options\n};\nclass Options {\n  constructor() {\n    this.yAxis = {\n      show: true,\n      showAlways: false,\n      showForNullSeries: true,\n      seriesName: void 0,\n      opposite: false,\n      reversed: false,\n      logarithmic: false,\n      logBase: 10,\n      tickAmount: void 0,\n      stepSize: void 0,\n      forceNiceScale: false,\n      max: void 0,\n      min: void 0,\n      floating: false,\n      decimalsInFloat: void 0,\n      labels: {\n        show: true,\n        showDuplicates: false,\n        minWidth: 0,\n        maxWidth: 160,\n        offsetX: 0,\n        offsetY: 0,\n        align: void 0,\n        rotate: 0,\n        padding: 20,\n        style: {\n          colors: [],\n          fontSize: \"11px\",\n          fontWeight: 400,\n          fontFamily: void 0,\n          cssClass: \"\"\n        },\n        formatter: void 0\n      },\n      axisBorder: {\n        show: false,\n        color: \"#e0e0e0\",\n        width: 1,\n        offsetX: 0,\n        offsetY: 0\n      },\n      axisTicks: {\n        show: false,\n        color: \"#e0e0e0\",\n        width: 6,\n        offsetX: 0,\n        offsetY: 0\n      },\n      title: {\n        text: void 0,\n        rotate: -90,\n        offsetY: 0,\n        offsetX: 0,\n        style: {\n          color: void 0,\n          fontSize: \"11px\",\n          fontWeight: 900,\n          fontFamily: void 0,\n          cssClass: \"\"\n        }\n      },\n      tooltip: {\n        enabled: false,\n        offsetX: 0\n      },\n      crosshairs: {\n        show: true,\n        position: \"front\",\n        stroke: {\n          color: \"#b6b6b6\",\n          width: 1,\n          dashArray: 0\n        }\n      }\n    };\n    this.pointAnnotation = {\n      id: void 0,\n      x: 0,\n      y: null,\n      yAxisIndex: 0,\n      seriesIndex: void 0,\n      mouseEnter: void 0,\n      mouseLeave: void 0,\n      click: void 0,\n      marker: {\n        size: 4,\n        fillColor: \"#fff\",\n        strokeWidth: 2,\n        strokeColor: \"#333\",\n        shape: \"circle\",\n        offsetX: 0,\n        offsetY: 0,\n        // radius: 2, // DEPRECATED\n        cssClass: \"\"\n      },\n      label: {\n        borderColor: \"#c2c2c2\",\n        borderWidth: 1,\n        borderRadius: 2,\n        text: void 0,\n        textAnchor: \"middle\",\n        offsetX: 0,\n        offsetY: 0,\n        mouseEnter: void 0,\n        mouseLeave: void 0,\n        click: void 0,\n        style: {\n          background: \"#fff\",\n          color: void 0,\n          fontSize: \"11px\",\n          fontFamily: void 0,\n          fontWeight: 400,\n          cssClass: \"\",\n          padding: {\n            left: 5,\n            right: 5,\n            top: 2,\n            bottom: 2\n          }\n        }\n      },\n      customSVG: {\n        // this will be deprecated in the next major version as it is going to be replaced with a better alternative below (image)\n        SVG: void 0,\n        cssClass: void 0,\n        offsetX: 0,\n        offsetY: 0\n      },\n      image: {\n        path: void 0,\n        width: 20,\n        height: 20,\n        offsetX: 0,\n        offsetY: 0\n      }\n    };\n    this.yAxisAnnotation = {\n      id: void 0,\n      y: 0,\n      y2: null,\n      strokeDashArray: 1,\n      fillColor: \"#c2c2c2\",\n      borderColor: \"#c2c2c2\",\n      borderWidth: 1,\n      opacity: 0.3,\n      offsetX: 0,\n      offsetY: 0,\n      width: \"100%\",\n      yAxisIndex: 0,\n      label: {\n        borderColor: \"#c2c2c2\",\n        borderWidth: 1,\n        borderRadius: 2,\n        text: void 0,\n        textAnchor: \"end\",\n        position: \"right\",\n        offsetX: 0,\n        offsetY: -3,\n        mouseEnter: void 0,\n        mouseLeave: void 0,\n        click: void 0,\n        style: {\n          background: \"#fff\",\n          color: void 0,\n          fontSize: \"11px\",\n          fontFamily: void 0,\n          fontWeight: 400,\n          cssClass: \"\",\n          padding: {\n            left: 5,\n            right: 5,\n            top: 2,\n            bottom: 2\n          }\n        }\n      }\n    };\n    this.xAxisAnnotation = {\n      id: void 0,\n      x: 0,\n      x2: null,\n      strokeDashArray: 1,\n      fillColor: \"#c2c2c2\",\n      borderColor: \"#c2c2c2\",\n      borderWidth: 1,\n      opacity: 0.3,\n      offsetX: 0,\n      offsetY: 0,\n      label: {\n        borderColor: \"#c2c2c2\",\n        borderWidth: 1,\n        borderRadius: 2,\n        text: void 0,\n        textAnchor: \"middle\",\n        orientation: \"vertical\",\n        position: \"top\",\n        offsetX: 0,\n        offsetY: 0,\n        mouseEnter: void 0,\n        mouseLeave: void 0,\n        click: void 0,\n        style: {\n          background: \"#fff\",\n          color: void 0,\n          fontSize: \"11px\",\n          fontFamily: void 0,\n          fontWeight: 400,\n          cssClass: \"\",\n          padding: {\n            left: 5,\n            right: 5,\n            top: 2,\n            bottom: 2\n          }\n        }\n      }\n    };\n    this.text = {\n      x: 0,\n      y: 0,\n      text: \"\",\n      textAnchor: \"start\",\n      foreColor: void 0,\n      fontSize: \"13px\",\n      fontFamily: void 0,\n      fontWeight: 400,\n      appendTo: \".apexcharts-annotations\",\n      backgroundColor: \"transparent\",\n      borderColor: \"#c2c2c2\",\n      borderRadius: 0,\n      borderWidth: 0,\n      paddingLeft: 4,\n      paddingRight: 4,\n      paddingTop: 2,\n      paddingBottom: 2\n    };\n  }\n  init() {\n    return {\n      annotations: {\n        yaxis: [this.yAxisAnnotation],\n        xaxis: [this.xAxisAnnotation],\n        points: [this.pointAnnotation],\n        texts: [],\n        images: [],\n        shapes: []\n      },\n      chart: {\n        animations: {\n          enabled: true,\n          speed: 800,\n          animateGradually: {\n            delay: 150,\n            enabled: true\n          },\n          dynamicAnimation: {\n            enabled: true,\n            speed: 350\n          }\n        },\n        background: \"\",\n        locales: [en],\n        defaultLocale: \"en\",\n        dropShadow: {\n          enabled: false,\n          enabledOnSeries: void 0,\n          top: 2,\n          left: 2,\n          blur: 4,\n          color: \"#000\",\n          opacity: 0.7\n        },\n        events: {\n          animationEnd: void 0,\n          beforeMount: void 0,\n          mounted: void 0,\n          updated: void 0,\n          click: void 0,\n          mouseMove: void 0,\n          mouseLeave: void 0,\n          xAxisLabelClick: void 0,\n          legendClick: void 0,\n          markerClick: void 0,\n          selection: void 0,\n          dataPointSelection: void 0,\n          dataPointMouseEnter: void 0,\n          dataPointMouseLeave: void 0,\n          beforeZoom: void 0,\n          beforeResetZoom: void 0,\n          zoomed: void 0,\n          scrolled: void 0,\n          brushScrolled: void 0,\n          keyDown: void 0,\n          keyUp: void 0\n        },\n        foreColor: \"#373d3f\",\n        fontFamily: \"Helvetica, Arial, sans-serif\",\n        height: \"auto\",\n        parentHeightOffset: 15,\n        redrawOnParentResize: true,\n        redrawOnWindowResize: true,\n        id: void 0,\n        group: void 0,\n        nonce: void 0,\n        offsetX: 0,\n        offsetY: 0,\n        injectStyleSheet: true,\n        selection: {\n          enabled: false,\n          type: \"x\",\n          // selectedPoints: undefined, // default datapoints that should be selected automatically\n          fill: {\n            color: \"#24292e\",\n            opacity: 0.1\n          },\n          stroke: {\n            width: 1,\n            color: \"#24292e\",\n            opacity: 0.4,\n            dashArray: 3\n          },\n          xaxis: {\n            min: void 0,\n            max: void 0\n          },\n          yaxis: {\n            min: void 0,\n            max: void 0\n          }\n        },\n        sparkline: {\n          enabled: false\n        },\n        brush: {\n          enabled: false,\n          autoScaleYaxis: true,\n          target: void 0,\n          targets: void 0\n        },\n        stacked: false,\n        stackOnlyBar: true,\n        // mixed chart with stacked bars and line series - incorrect line draw #907\n        stackType: \"normal\",\n        toolbar: {\n          show: true,\n          offsetX: 0,\n          offsetY: 0,\n          tools: {\n            download: true,\n            selection: true,\n            zoom: true,\n            zoomin: true,\n            zoomout: true,\n            pan: true,\n            reset: true,\n            customIcons: []\n          },\n          export: {\n            csv: {\n              filename: void 0,\n              columnDelimiter: \",\",\n              headerCategory: \"category\",\n              headerValue: \"value\",\n              categoryFormatter: void 0,\n              valueFormatter: void 0\n            },\n            png: {\n              filename: void 0\n            },\n            svg: {\n              filename: void 0\n            },\n            scale: void 0,\n            width: void 0\n          },\n          autoSelected: \"zoom\"\n          // accepts -> zoom, pan, selection\n        },\n        type: \"line\",\n        width: \"100%\",\n        zoom: {\n          enabled: true,\n          type: \"x\",\n          autoScaleYaxis: false,\n          allowMouseWheelZoom: true,\n          zoomedArea: {\n            fill: {\n              color: \"#90CAF9\",\n              opacity: 0.4\n            },\n            stroke: {\n              color: \"#0D47A1\",\n              opacity: 0.4,\n              width: 1\n            }\n          }\n        },\n        accessibility: {\n          enabled: true,\n          description: void 0,\n          announcements: {\n            enabled: true\n          },\n          keyboard: {\n            enabled: true\n          }\n        }\n      },\n      parsing: {\n        x: void 0,\n        y: void 0\n      },\n      plotOptions: {\n        line: {\n          isSlopeChart: false,\n          colors: {\n            threshold: 0,\n            colorAboveThreshold: void 0,\n            colorBelowThreshold: void 0\n          }\n        },\n        area: {\n          fillTo: \"origin\"\n        },\n        bar: {\n          horizontal: false,\n          columnWidth: \"70%\",\n          // should be in percent 0 - 100\n          barHeight: \"70%\",\n          // should be in percent 0 - 100\n          distributed: false,\n          borderRadius: 0,\n          borderRadiusApplication: \"around\",\n          // [around, end]\n          borderRadiusWhenStacked: \"last\",\n          // [all, last]\n          rangeBarOverlap: true,\n          rangeBarGroupRows: false,\n          hideZeroBarsWhenGrouped: false,\n          isDumbbell: false,\n          dumbbellColors: void 0,\n          isFunnel: false,\n          isFunnel3d: true,\n          colors: {\n            ranges: [],\n            backgroundBarColors: [],\n            backgroundBarOpacity: 1,\n            backgroundBarRadius: 0\n          },\n          dataLabels: {\n            position: \"top\",\n            // top, center, bottom\n            maxItems: 100,\n            hideOverflowingLabels: true,\n            orientation: \"horizontal\",\n            total: {\n              enabled: false,\n              formatter: void 0,\n              offsetX: 0,\n              offsetY: 0,\n              style: {\n                color: \"#373d3f\",\n                fontSize: \"12px\",\n                fontFamily: void 0,\n                fontWeight: 600\n              }\n            }\n          }\n        },\n        bubble: {\n          zScaling: true,\n          minBubbleRadius: void 0,\n          maxBubbleRadius: void 0\n        },\n        candlestick: {\n          colors: {\n            upward: \"#00B746\",\n            downward: \"#EF403C\"\n          },\n          wick: {\n            useFillColor: true\n          }\n        },\n        boxPlot: {\n          colors: {\n            upper: \"#00E396\",\n            lower: \"#008FFB\"\n          }\n        },\n        heatmap: {\n          radius: 2,\n          enableShades: true,\n          shadeIntensity: 0.5,\n          reverseNegativeShade: false,\n          distributed: false,\n          useFillColorAsStroke: false,\n          colorScale: {\n            inverse: false,\n            ranges: [],\n            min: void 0,\n            max: void 0\n          }\n        },\n        treemap: {\n          enableShades: true,\n          shadeIntensity: 0.5,\n          distributed: false,\n          reverseNegativeShade: false,\n          useFillColorAsStroke: false,\n          borderRadius: 4,\n          dataLabels: {\n            format: \"scale\"\n            // scale | truncate\n          },\n          colorScale: {\n            inverse: false,\n            ranges: [],\n            min: void 0,\n            max: void 0\n          },\n          seriesTitle: {\n            show: true,\n            offsetY: 1,\n            offsetX: 1,\n            borderColor: \"#000\",\n            borderWidth: 1,\n            borderRadius: 2,\n            style: {\n              background: \"rgba(0, 0, 0, 0.6)\",\n              color: \"#fff\",\n              fontSize: \"12px\",\n              fontFamily: void 0,\n              fontWeight: 400,\n              cssClass: \"\",\n              padding: {\n                left: 6,\n                right: 6,\n                top: 2,\n                bottom: 2\n              }\n            }\n          }\n        },\n        radialBar: {\n          inverseOrder: false,\n          startAngle: 0,\n          endAngle: 360,\n          offsetX: 0,\n          offsetY: 0,\n          hollow: {\n            margin: 5,\n            size: \"50%\",\n            background: \"transparent\",\n            image: void 0,\n            imageWidth: 150,\n            imageHeight: 150,\n            imageOffsetX: 0,\n            imageOffsetY: 0,\n            imageClipped: true,\n            position: \"front\",\n            dropShadow: {\n              enabled: false,\n              top: 0,\n              left: 0,\n              blur: 3,\n              color: \"#000\",\n              opacity: 0.5\n            }\n          },\n          track: {\n            show: true,\n            startAngle: void 0,\n            endAngle: void 0,\n            background: \"#f2f2f2\",\n            strokeWidth: \"97%\",\n            opacity: 1,\n            margin: 5,\n            // margin is in pixels\n            dropShadow: {\n              enabled: false,\n              top: 0,\n              left: 0,\n              blur: 3,\n              color: \"#000\",\n              opacity: 0.5\n            }\n          },\n          dataLabels: {\n            show: true,\n            name: {\n              show: true,\n              fontSize: \"16px\",\n              fontFamily: void 0,\n              fontWeight: 600,\n              color: void 0,\n              offsetY: 0,\n              formatter(val) {\n                return val;\n              }\n            },\n            value: {\n              show: true,\n              fontSize: \"14px\",\n              fontFamily: void 0,\n              fontWeight: 400,\n              color: void 0,\n              offsetY: 16,\n              formatter(val) {\n                return val + \"%\";\n              }\n            },\n            total: {\n              show: false,\n              label: \"Total\",\n              fontSize: \"16px\",\n              fontWeight: 600,\n              fontFamily: void 0,\n              color: void 0,\n              formatter(w) {\n                return w.globals.seriesTotals.reduce((a, b) => a + b, 0) / w.globals.series.length + \"%\";\n              }\n            }\n          },\n          barLabels: {\n            enabled: false,\n            offsetX: 0,\n            offsetY: 0,\n            useSeriesColors: true,\n            fontFamily: void 0,\n            fontWeight: 600,\n            fontSize: \"16px\",\n            formatter(val) {\n              return val;\n            },\n            onClick: void 0\n          }\n        },\n        pie: {\n          customScale: 1,\n          offsetX: 0,\n          offsetY: 0,\n          startAngle: 0,\n          endAngle: 360,\n          expandOnClick: true,\n          dataLabels: {\n            // These are the percentage values which are displayed on slice\n            offset: 0,\n            // offset by which labels will move outside\n            minAngleToShowLabel: 10\n          },\n          donut: {\n            size: \"65%\",\n            background: \"transparent\",\n            labels: {\n              // These are the inner labels appearing inside donut\n              show: false,\n              name: {\n                show: true,\n                fontSize: \"16px\",\n                fontFamily: void 0,\n                fontWeight: 600,\n                color: void 0,\n                offsetY: -10,\n                formatter(val) {\n                  return val;\n                }\n              },\n              value: {\n                show: true,\n                fontSize: \"20px\",\n                fontFamily: void 0,\n                fontWeight: 400,\n                color: void 0,\n                offsetY: 10,\n                formatter(val) {\n                  return val;\n                }\n              },\n              total: {\n                show: false,\n                showAlways: false,\n                label: \"Total\",\n                fontSize: \"16px\",\n                fontWeight: 400,\n                fontFamily: void 0,\n                color: void 0,\n                formatter(w) {\n                  return w.globals.seriesTotals.reduce((a, b) => a + b, 0);\n                }\n              }\n            }\n          }\n        },\n        polarArea: {\n          rings: {\n            strokeWidth: 1,\n            strokeColor: \"#e8e8e8\"\n          },\n          spokes: {\n            strokeWidth: 1,\n            connectorColors: \"#e8e8e8\"\n          }\n        },\n        radar: {\n          size: void 0,\n          offsetX: 0,\n          offsetY: 0,\n          polygons: {\n            // strokeColor: '#e8e8e8', // should be deprecated in the minor version i.e 3.2\n            strokeWidth: 1,\n            strokeColors: \"#e8e8e8\",\n            connectorColors: \"#e8e8e8\",\n            fill: {\n              colors: void 0\n            }\n          }\n        }\n      },\n      colors: void 0,\n      dataLabels: {\n        enabled: true,\n        enabledOnSeries: void 0,\n        formatter(val) {\n          return val !== null ? val : \"\";\n        },\n        textAnchor: \"middle\",\n        distributed: false,\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          fontSize: \"12px\",\n          fontFamily: void 0,\n          fontWeight: 600,\n          colors: void 0\n        },\n        background: {\n          enabled: true,\n          foreColor: \"#fff\",\n          backgroundColor: void 0,\n          borderRadius: 2,\n          padding: 4,\n          opacity: 0.9,\n          borderWidth: 1,\n          borderColor: \"#fff\",\n          dropShadow: {\n            enabled: false,\n            top: 1,\n            left: 1,\n            blur: 1,\n            color: \"#000\",\n            opacity: 0.8\n          }\n        },\n        dropShadow: {\n          enabled: false,\n          top: 1,\n          left: 1,\n          blur: 1,\n          color: \"#000\",\n          opacity: 0.8\n        }\n      },\n      fill: {\n        type: \"solid\",\n        colors: void 0,\n        // array of colors\n        opacity: 0.85,\n        gradient: {\n          shade: \"dark\",\n          type: \"horizontal\",\n          shadeIntensity: 0.5,\n          gradientToColors: void 0,\n          inverseColors: true,\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [0, 50, 100],\n          colorStops: []\n        },\n        image: {\n          src: [],\n          width: void 0,\n          // optional\n          height: void 0\n          // optional\n        },\n        pattern: {\n          style: \"squares\",\n          // String | Array of Strings\n          width: 6,\n          height: 6,\n          strokeWidth: 2\n        }\n      },\n      forecastDataPoints: {\n        count: 0,\n        fillOpacity: 0.5,\n        strokeWidth: void 0,\n        dashArray: 4\n      },\n      grid: {\n        show: true,\n        borderColor: \"#e0e0e0\",\n        strokeDashArray: 0,\n        position: \"back\",\n        xaxis: {\n          lines: {\n            show: false\n          }\n        },\n        yaxis: {\n          lines: {\n            show: true\n          }\n        },\n        row: {\n          colors: void 0,\n          // takes as array which will be repeated on rows\n          opacity: 0.5\n        },\n        column: {\n          colors: void 0,\n          // takes an array which will be repeated on columns\n          opacity: 0.5\n        },\n        padding: {\n          top: 0,\n          right: 10,\n          bottom: 0,\n          left: 12\n        }\n      },\n      labels: [],\n      legend: {\n        show: true,\n        showForSingleSeries: false,\n        showForNullSeries: true,\n        showForZeroSeries: true,\n        floating: false,\n        position: \"bottom\",\n        // whether to position legends in 1 of 4\n        // direction - top, bottom, left, right\n        horizontalAlign: \"center\",\n        // when position top/bottom, you can specify whether to align legends left, right or center\n        inverseOrder: false,\n        fontSize: \"12px\",\n        fontFamily: void 0,\n        fontWeight: 400,\n        width: void 0,\n        height: void 0,\n        formatter: void 0,\n        tooltipHoverFormatter: void 0,\n        offsetX: -20,\n        offsetY: 4,\n        customLegendItems: [],\n        clusterGroupedSeries: true,\n        clusterGroupedSeriesOrientation: \"vertical\",\n        labels: {\n          colors: void 0,\n          useSeriesColors: false\n        },\n        markers: {\n          size: 7,\n          fillColors: void 0,\n          strokeWidth: 1,\n          shape: void 0,\n          offsetX: 0,\n          offsetY: 0,\n          customHTML: void 0,\n          onClick: void 0\n        },\n        itemMargin: {\n          horizontal: 5,\n          vertical: 4\n        },\n        onItemClick: {\n          toggleDataSeries: true\n        },\n        onItemHover: {\n          highlightDataSeries: true\n        }\n      },\n      markers: {\n        discrete: [],\n        size: 0,\n        colors: void 0,\n        strokeColors: \"#fff\",\n        strokeWidth: 2,\n        strokeOpacity: 0.9,\n        strokeDashArray: 0,\n        fillOpacity: 1,\n        shape: \"circle\",\n        offsetX: 0,\n        offsetY: 0,\n        showNullDataPoints: true,\n        onClick: void 0,\n        onDblClick: void 0,\n        hover: {\n          size: void 0,\n          sizeOffset: 3\n        }\n      },\n      noData: {\n        text: void 0,\n        align: \"center\",\n        verticalAlign: \"middle\",\n        offsetX: 0,\n        offsetY: 0,\n        style: {\n          color: void 0,\n          fontSize: \"14px\",\n          fontFamily: void 0\n        }\n      },\n      responsive: [],\n      // breakpoints should follow ascending order 400, then 700, then 1000\n      series: void 0,\n      states: {\n        hover: {\n          filter: {\n            type: \"lighten\"\n          }\n        },\n        active: {\n          allowMultipleDataPointsSelection: false,\n          filter: {\n            type: \"darken\"\n          }\n        }\n      },\n      title: {\n        text: void 0,\n        align: \"left\",\n        margin: 5,\n        offsetX: 0,\n        offsetY: 0,\n        floating: false,\n        style: {\n          fontSize: \"14px\",\n          fontWeight: 900,\n          fontFamily: void 0,\n          color: void 0\n        }\n      },\n      subtitle: {\n        text: void 0,\n        align: \"left\",\n        margin: 5,\n        offsetX: 0,\n        offsetY: 30,\n        floating: false,\n        style: {\n          fontSize: \"12px\",\n          fontWeight: 400,\n          fontFamily: void 0,\n          color: void 0\n        }\n      },\n      stroke: {\n        show: true,\n        curve: \"smooth\",\n        // \"smooth\" / \"straight\" / \"monotoneCubic\" / \"stepline\" / \"linestep\"\n        lineCap: \"butt\",\n        // round, butt , square\n        width: 2,\n        colors: void 0,\n        // array of colors\n        dashArray: 0,\n        // single value or array of values\n        fill: {\n          type: \"solid\",\n          colors: void 0,\n          // array of colors\n          opacity: 0.85,\n          gradient: {\n            shade: \"dark\",\n            type: \"horizontal\",\n            shadeIntensity: 0.5,\n            gradientToColors: void 0,\n            inverseColors: true,\n            opacityFrom: 1,\n            opacityTo: 1,\n            stops: [0, 50, 100],\n            colorStops: []\n          }\n        }\n      },\n      tooltip: {\n        enabled: true,\n        enabledOnSeries: void 0,\n        shared: true,\n        hideEmptySeries: false,\n        followCursor: false,\n        // when disabled, the tooltip will show on top of the series instead of mouse position\n        intersect: false,\n        // when enabled, tooltip will only show when user directly hovers over point\n        inverseOrder: false,\n        custom: void 0,\n        fillSeriesColor: false,\n        theme: \"light\",\n        cssClass: \"\",\n        style: {\n          fontSize: \"12px\",\n          fontFamily: void 0\n        },\n        onDatasetHover: {\n          highlightDataSeries: false\n        },\n        x: {\n          // x value\n          show: true,\n          format: \"dd MMM\",\n          // dd/MM, dd MMM yy, dd MMM yyyy\n          formatter: void 0\n          // a custom user supplied formatter function\n        },\n        y: {\n          formatter: void 0,\n          title: {\n            formatter(seriesName) {\n              return seriesName ? seriesName + \": \" : \"\";\n            }\n          }\n        },\n        z: {\n          formatter: void 0,\n          title: \"Size: \"\n        },\n        marker: {\n          show: true,\n          fillColors: void 0\n        },\n        items: {\n          display: \"flex\"\n        },\n        fixed: {\n          enabled: false,\n          position: \"topRight\",\n          // topRight, topLeft, bottomRight, bottomLeft\n          offsetX: 0,\n          offsetY: 0\n        }\n      },\n      xaxis: {\n        type: \"category\",\n        categories: [],\n        convertedCatToNumeric: false,\n        // internal property which should not be altered outside\n        offsetX: 0,\n        offsetY: 0,\n        overwriteCategories: void 0,\n        labels: {\n          show: true,\n          rotate: -45,\n          rotateAlways: false,\n          hideOverlappingLabels: true,\n          trim: false,\n          minHeight: void 0,\n          maxHeight: 120,\n          showDuplicates: true,\n          style: {\n            colors: [],\n            fontSize: \"12px\",\n            fontWeight: 400,\n            fontFamily: void 0,\n            cssClass: \"\"\n          },\n          offsetX: 0,\n          offsetY: 0,\n          format: void 0,\n          formatter: void 0,\n          // custom formatter function which will override format\n          datetimeUTC: true,\n          datetimeFormatter: {\n            year: \"yyyy\",\n            month: \"MMM 'yy\",\n            day: \"dd MMM\",\n            hour: \"HH:mm\",\n            minute: \"HH:mm:ss\",\n            second: \"HH:mm:ss\"\n          }\n        },\n        group: {\n          groups: [],\n          style: {\n            colors: [],\n            fontSize: \"12px\",\n            fontWeight: 400,\n            fontFamily: void 0,\n            cssClass: \"\"\n          }\n        },\n        axisBorder: {\n          show: true,\n          color: \"#e0e0e0\",\n          width: \"100%\",\n          height: 1,\n          offsetX: 0,\n          offsetY: 0\n        },\n        axisTicks: {\n          show: true,\n          color: \"#e0e0e0\",\n          height: 6,\n          offsetX: 0,\n          offsetY: 0\n        },\n        stepSize: void 0,\n        tickAmount: void 0,\n        tickPlacement: \"on\",\n        min: void 0,\n        max: void 0,\n        range: void 0,\n        floating: false,\n        decimalsInFloat: void 0,\n        position: \"bottom\",\n        title: {\n          text: void 0,\n          offsetX: 0,\n          offsetY: 0,\n          style: {\n            color: void 0,\n            fontSize: \"12px\",\n            fontWeight: 900,\n            fontFamily: void 0,\n            cssClass: \"\"\n          }\n        },\n        crosshairs: {\n          show: true,\n          width: 1,\n          // tickWidth/barWidth or an integer\n          position: \"back\",\n          opacity: 0.9,\n          stroke: {\n            color: \"#b6b6b6\",\n            width: 1,\n            dashArray: 3\n          },\n          fill: {\n            type: \"solid\",\n            // solid, gradient\n            color: \"#B1B9C4\",\n            gradient: {\n              colorFrom: \"#D8E3F0\",\n              colorTo: \"#BED1E6\",\n              stops: [0, 100],\n              opacityFrom: 0.4,\n              opacityTo: 0.5\n            }\n          },\n          dropShadow: {\n            enabled: false,\n            left: 0,\n            top: 0,\n            blur: 1,\n            opacity: 0.8\n          }\n        },\n        tooltip: {\n          enabled: true,\n          offsetY: 0,\n          formatter: void 0,\n          style: {\n            fontSize: \"12px\",\n            fontFamily: void 0\n          }\n        }\n      },\n      yaxis: this.yAxis,\n      theme: {\n        mode: \"\",\n        palette: \"palette1\",\n        // If defined, it will overwrite globals.colors variable\n        monochrome: {\n          // monochrome allows you to select just 1 color and fill out the rest with light/dark shade (intensity can be selected)\n          enabled: false,\n          color: \"#008FFB\",\n          shadeTo: \"light\",\n          shadeIntensity: 0.65\n        }\n      }\n    };\n  }\n}\nclass Annotations {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.graphics = new Graphics(this.ctx);\n    if (this.w.globals.isBarHorizontal) {\n      this.invertAxis = true;\n    }\n    this.helpers = new Helpers$4(this);\n    this.xAxisAnnotations = new XAnnotations(this);\n    this.yAxisAnnotations = new YAnnotations(this);\n    this.pointsAnnotations = new PointAnnotations(this);\n    if (this.w.globals.isBarHorizontal && this.w.config.yaxis[0].reversed) {\n      this.inversedReversedAxis = true;\n    }\n    this.xDivision = this.w.globals.gridWidth / this.w.globals.dataPoints;\n  }\n  drawAxesAnnotations() {\n    const w = this.w;\n    if (w.globals.axisCharts && w.globals.dataPoints) {\n      let yAnnotations = this.yAxisAnnotations.drawYAxisAnnotations();\n      let xAnnotations = this.xAxisAnnotations.drawXAxisAnnotations();\n      let pointAnnotations = this.pointsAnnotations.drawPointAnnotations();\n      const initialAnim = w.config.chart.animations.enabled;\n      const annoArray = [yAnnotations, xAnnotations, pointAnnotations];\n      const annoElArray = [\n        xAnnotations.node,\n        yAnnotations.node,\n        pointAnnotations.node\n      ];\n      for (let i = 0; i < 3; i++) {\n        w.globals.dom.elGraphical.add(annoArray[i]);\n        if (initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n          if (w.config.chart.type !== \"scatter\" && w.config.chart.type !== \"bubble\" && w.globals.dataPoints > 1) {\n            annoElArray[i].classList.add(\"apexcharts-element-hidden\");\n          }\n        }\n        w.globals.delayedElements.push({ el: annoElArray[i], index: 0 });\n      }\n      this.helpers.annotationsBackground();\n    }\n  }\n  drawImageAnnos() {\n    const w = this.w;\n    w.config.annotations.images.map((s, index) => {\n      this.addImage(s, index);\n    });\n  }\n  drawTextAnnos() {\n    const w = this.w;\n    w.config.annotations.texts.map((t, index) => {\n      this.addText(t, index);\n    });\n  }\n  addXaxisAnnotation(anno, parent, index) {\n    this.xAxisAnnotations.addXaxisAnnotation(anno, parent, index);\n  }\n  addYaxisAnnotation(anno, parent, index) {\n    this.yAxisAnnotations.addYaxisAnnotation(anno, parent, index);\n  }\n  addPointAnnotation(anno, parent, index) {\n    this.pointsAnnotations.addPointAnnotation(anno, parent, index);\n  }\n  addText(params) {\n    const {\n      x,\n      y,\n      text,\n      textAnchor,\n      foreColor,\n      fontSize,\n      fontFamily,\n      fontWeight,\n      cssClass,\n      backgroundColor,\n      borderWidth,\n      strokeDashArray,\n      borderRadius,\n      borderColor,\n      appendTo = \".apexcharts-svg\",\n      paddingLeft = 4,\n      paddingRight = 4,\n      paddingBottom = 2,\n      paddingTop = 2\n    } = params;\n    const w = this.w;\n    let elText = this.graphics.drawText({\n      x,\n      y,\n      text,\n      textAnchor: textAnchor || \"start\",\n      fontSize: fontSize || \"12px\",\n      fontWeight: fontWeight || \"regular\",\n      fontFamily: fontFamily || w.config.chart.fontFamily,\n      foreColor: foreColor || w.config.chart.foreColor,\n      cssClass: \"apexcharts-text \" + cssClass ? cssClass : \"\"\n    });\n    const parent = w.globals.dom.baseEl.querySelector(appendTo);\n    if (parent) {\n      parent.appendChild(elText.node);\n    }\n    const textRect = elText.bbox();\n    if (text) {\n      const elRect = this.graphics.drawRect(\n        textRect.x - paddingLeft,\n        textRect.y - paddingTop,\n        textRect.width + paddingLeft + paddingRight,\n        textRect.height + paddingBottom + paddingTop,\n        borderRadius,\n        backgroundColor ? backgroundColor : \"transparent\",\n        1,\n        borderWidth,\n        borderColor,\n        strokeDashArray\n      );\n      parent.insertBefore(elRect.node, elText.node);\n    }\n  }\n  addImage(params) {\n    const w = this.w;\n    const {\n      path,\n      x = 0,\n      y = 0,\n      width = 20,\n      height = 20,\n      appendTo = \".apexcharts-svg\"\n    } = params;\n    let img = w.globals.dom.Paper.image(path);\n    img.size(width, height).move(x, y);\n    const parent = w.globals.dom.baseEl.querySelector(appendTo);\n    if (parent) {\n      parent.appendChild(img.node);\n    }\n    return img;\n  }\n  // The addXaxisAnnotation method requires a parent class, and user calling this method externally on the chart instance may not specify parent, hence a different method\n  addXaxisAnnotationExternal(params, pushToMemory, context) {\n    this.addAnnotationExternal({\n      params,\n      pushToMemory,\n      context,\n      type: \"xaxis\",\n      contextMethod: context.addXaxisAnnotation\n    });\n    return context;\n  }\n  addYaxisAnnotationExternal(params, pushToMemory, context) {\n    this.addAnnotationExternal({\n      params,\n      pushToMemory,\n      context,\n      type: \"yaxis\",\n      contextMethod: context.addYaxisAnnotation\n    });\n    return context;\n  }\n  addPointAnnotationExternal(params, pushToMemory, context) {\n    if (typeof this.invertAxis === \"undefined\") {\n      this.invertAxis = context.w.globals.isBarHorizontal;\n    }\n    this.addAnnotationExternal({\n      params,\n      pushToMemory,\n      context,\n      type: \"point\",\n      contextMethod: context.addPointAnnotation\n    });\n    return context;\n  }\n  addAnnotationExternal({\n    params,\n    pushToMemory,\n    context,\n    type,\n    contextMethod\n  }) {\n    const me = context;\n    const w = me.w;\n    const parent = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-${type}-annotations`\n    );\n    const index = parent.childNodes.length + 1;\n    const options2 = new Options();\n    const axesAnno = Object.assign(\n      {},\n      type === \"xaxis\" ? options2.xAxisAnnotation : type === \"yaxis\" ? options2.yAxisAnnotation : options2.pointAnnotation\n    );\n    const anno = Utils$1.extend(axesAnno, params);\n    switch (type) {\n      case \"xaxis\":\n        this.addXaxisAnnotation(anno, parent, index);\n        break;\n      case \"yaxis\":\n        this.addYaxisAnnotation(anno, parent, index);\n        break;\n      case \"point\":\n        this.addPointAnnotation(anno, parent, index);\n        break;\n    }\n    let axesAnnoLabel = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-${type}-annotations .apexcharts-${type}-annotation-label[rel='${index}']`\n    );\n    const elRect = this.helpers.addBackgroundToAnno(axesAnnoLabel, anno);\n    if (elRect) {\n      parent.insertBefore(elRect.node, axesAnnoLabel);\n    }\n    if (pushToMemory) {\n      w.globals.memory.methodsToExec.push({\n        context: me,\n        id: anno.id ? anno.id : Utils$1.randomId(),\n        method: contextMethod,\n        label: \"addAnnotation\",\n        params\n      });\n    }\n    return context;\n  }\n  clearAnnotations(ctx) {\n    const w = ctx.w;\n    let annos = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations\"\n    );\n    for (let i = w.globals.memory.methodsToExec.length - 1; i >= 0; i--) {\n      if (w.globals.memory.methodsToExec[i].label === \"addText\" || w.globals.memory.methodsToExec[i].label === \"addAnnotation\") {\n        w.globals.memory.methodsToExec.splice(i, 1);\n      }\n    }\n    annos = Utils$1.listToArray(annos);\n    Array.prototype.forEach.call(annos, (a) => {\n      while (a.firstChild) {\n        a.removeChild(a.firstChild);\n      }\n    });\n  }\n  removeAnnotation(ctx, id) {\n    const w = ctx.w;\n    let annos = w.globals.dom.baseEl.querySelectorAll(`.${id}`);\n    if (annos) {\n      w.globals.memory.methodsToExec.map((m, i) => {\n        if (m.id === id) {\n          w.globals.memory.methodsToExec.splice(i, 1);\n        }\n      });\n      Object.keys(w.config.annotations).forEach((key) => {\n        const annotationArray = w.config.annotations[key];\n        if (Array.isArray(annotationArray)) {\n          w.config.annotations[key] = annotationArray.filter((m) => m.id !== id);\n        }\n      });\n      Array.prototype.forEach.call(annos, (a) => {\n        a.parentElement.removeChild(a);\n      });\n    }\n  }\n}\nconst getRangeValues = ({\n  isTimeline,\n  ctx,\n  seriesIndex,\n  dataPointIndex,\n  y1,\n  y2,\n  w\n}) => {\n  var _a;\n  let start = w.globals.seriesRangeStart[seriesIndex][dataPointIndex];\n  let end = w.globals.seriesRangeEnd[seriesIndex][dataPointIndex];\n  let ylabel = w.globals.labels[dataPointIndex];\n  let seriesName = w.config.series[seriesIndex].name ? w.config.series[seriesIndex].name : \"\";\n  const yLbFormatter = w.globals.ttKeyFormatter;\n  const yLbTitleFormatter = w.config.tooltip.y.title.formatter;\n  const opts = {\n    w,\n    seriesIndex,\n    dataPointIndex,\n    start,\n    end\n  };\n  if (typeof yLbTitleFormatter === \"function\") {\n    seriesName = yLbTitleFormatter(seriesName, opts);\n  }\n  if ((_a = w.config.series[seriesIndex].data[dataPointIndex]) == null ? void 0 : _a.x) {\n    ylabel = w.config.series[seriesIndex].data[dataPointIndex].x;\n  }\n  if (!isTimeline) {\n    if (w.config.xaxis.type === \"datetime\") {\n      let xFormat = new Formatters(ctx);\n      ylabel = xFormat.xLabelFormat(w.globals.ttKeyFormatter, ylabel, ylabel, {\n        i: void 0,\n        dateFormatter: new DateTime(ctx).formatDate,\n        w\n      });\n    }\n  }\n  if (typeof yLbFormatter === \"function\") {\n    ylabel = yLbFormatter(ylabel, opts);\n  }\n  if (Number.isFinite(y1) && Number.isFinite(y2)) {\n    start = y1;\n    end = y2;\n  }\n  let startVal = \"\";\n  let endVal = \"\";\n  const color = w.globals.colors[seriesIndex];\n  if (w.config.tooltip.x.formatter === void 0) {\n    if (w.config.xaxis.type === \"datetime\") {\n      let datetimeObj = new DateTime(ctx);\n      startVal = datetimeObj.formatDate(\n        datetimeObj.getDate(start),\n        w.config.tooltip.x.format\n      );\n      endVal = datetimeObj.formatDate(\n        datetimeObj.getDate(end),\n        w.config.tooltip.x.format\n      );\n    } else {\n      startVal = start;\n      endVal = end;\n    }\n  } else {\n    startVal = w.config.tooltip.x.formatter(start);\n    endVal = w.config.tooltip.x.formatter(end);\n  }\n  return { start, end, startVal, endVal, ylabel, color, seriesName };\n};\nconst buildRangeTooltipHTML = (opts) => {\n  let { color, seriesName, ylabel, start, end, seriesIndex, dataPointIndex } = opts;\n  const formatter = opts.ctx.tooltip.tooltipLabels.getFormatters(seriesIndex);\n  start = formatter.yLbFormatter(start);\n  end = formatter.yLbFormatter(end);\n  const val = formatter.yLbFormatter(\n    opts.w.globals.series[seriesIndex][dataPointIndex]\n  );\n  let valueHTML = \"\";\n  const rangeValues = `<span class=\"value start-value\">\n  ${start}\n  </span> <span class=\"separator\">-</span> <span class=\"value end-value\">\n  ${end}\n  </span>`;\n  if (opts.w.globals.comboCharts) {\n    if (opts.w.config.series[seriesIndex].type === \"rangeArea\" || opts.w.config.series[seriesIndex].type === \"rangeBar\") {\n      valueHTML = rangeValues;\n    } else {\n      valueHTML = `<span>${val}</span>`;\n    }\n  } else {\n    valueHTML = rangeValues;\n  }\n  return '<div class=\"apexcharts-tooltip-rangebar\"><div> <span class=\"series-name\" style=\"color: ' + color + '\">' + (seriesName ? seriesName : \"\") + '</span></div><div> <span class=\"category\">' + ylabel + \": </span> \" + valueHTML + \" </div></div>\";\n};\nclass Defaults {\n  constructor(opts) {\n    this.opts = opts;\n  }\n  hideYAxis() {\n    this.opts.yaxis[0].show = false;\n    this.opts.yaxis[0].title.text = \"\";\n    this.opts.yaxis[0].axisBorder.show = false;\n    this.opts.yaxis[0].axisTicks.show = false;\n    this.opts.yaxis[0].floating = true;\n  }\n  line() {\n    return {\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        width: 5,\n        curve: \"straight\"\n      },\n      markers: {\n        size: 0,\n        hover: {\n          sizeOffset: 6\n        }\n      },\n      xaxis: {\n        crosshairs: {\n          width: 1\n        }\n      }\n    };\n  }\n  sparkline(defaults) {\n    this.hideYAxis();\n    const ret = {\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      },\n      legend: {\n        show: false\n      },\n      xaxis: {\n        labels: {\n          show: false\n        },\n        tooltip: {\n          enabled: false\n        },\n        axisBorder: {\n          show: false\n        },\n        axisTicks: {\n          show: false\n        }\n      },\n      chart: {\n        toolbar: {\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: false\n      }\n    };\n    return Utils$1.extend(defaults, ret);\n  }\n  slope() {\n    this.hideYAxis();\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: true,\n        formatter(val, opts) {\n          const seriesName = opts.w.config.series[opts.seriesIndex].name;\n          return val !== null ? seriesName + \": \" + val : \"\";\n        },\n        background: {\n          enabled: false\n        },\n        offsetX: -5\n      },\n      grid: {\n        xaxis: {\n          lines: {\n            show: true\n          }\n        },\n        yaxis: {\n          lines: {\n            show: false\n          }\n        }\n      },\n      xaxis: {\n        position: \"top\",\n        labels: {\n          style: {\n            fontSize: 14,\n            fontWeight: 900\n          }\n        },\n        tooltip: {\n          enabled: false\n        },\n        crosshairs: {\n          show: false\n        }\n      },\n      markers: {\n        size: 8,\n        hover: {\n          sizeOffset: 1\n        }\n      },\n      legend: {\n        show: false\n      },\n      tooltip: {\n        shared: false,\n        intersect: true,\n        followCursor: true\n      },\n      stroke: {\n        width: 5,\n        curve: \"straight\"\n      }\n    };\n  }\n  bar() {\n    return {\n      chart: {\n        stacked: false\n      },\n      plotOptions: {\n        bar: {\n          dataLabels: {\n            position: \"center\"\n          }\n        }\n      },\n      dataLabels: {\n        style: {\n          colors: [\"#fff\"]\n        },\n        background: {\n          enabled: false\n        }\n      },\n      stroke: {\n        width: 0,\n        lineCap: \"square\"\n      },\n      fill: {\n        opacity: 0.85\n      },\n      legend: {\n        markers: {\n          shape: \"square\"\n        }\n      },\n      tooltip: {\n        shared: false,\n        intersect: true\n      },\n      xaxis: {\n        tooltip: {\n          enabled: false\n        },\n        tickPlacement: \"between\",\n        crosshairs: {\n          width: \"barWidth\",\n          position: \"back\",\n          fill: {\n            type: \"gradient\"\n          },\n          dropShadow: {\n            enabled: false\n          },\n          stroke: {\n            width: 0\n          }\n        }\n      }\n    };\n  }\n  funnel() {\n    this.hideYAxis();\n    return __spreadProps(__spreadValues({}, this.bar()), {\n      chart: {\n        animations: {\n          speed: 800,\n          animateGradually: {\n            enabled: false\n          }\n        }\n      },\n      plotOptions: {\n        bar: {\n          horizontal: true,\n          borderRadiusApplication: \"around\",\n          borderRadius: 0,\n          dataLabels: {\n            position: \"center\"\n          }\n        }\n      },\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0\n        }\n      },\n      xaxis: {\n        labels: {\n          show: false\n        },\n        tooltip: {\n          enabled: false\n        },\n        axisBorder: {\n          show: false\n        },\n        axisTicks: {\n          show: false\n        }\n      }\n    });\n  }\n  candlestick() {\n    return {\n      stroke: {\n        width: 1\n      },\n      fill: {\n        opacity: 1\n      },\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        shared: true,\n        custom: ({ seriesIndex, dataPointIndex, w }) => {\n          return this._getBoxTooltip(\n            w,\n            seriesIndex,\n            dataPointIndex,\n            [\"Open\", \"High\", \"\", \"Low\", \"Close\"],\n            \"candlestick\"\n          );\n        }\n      },\n      states: {\n        active: {\n          filter: {\n            type: \"none\"\n          }\n        }\n      },\n      xaxis: {\n        crosshairs: {\n          width: 1\n        }\n      }\n    };\n  }\n  boxPlot() {\n    return {\n      chart: {\n        animations: {\n          dynamicAnimation: {\n            enabled: false\n          }\n        }\n      },\n      stroke: {\n        width: 1,\n        colors: [\"#24292e\"]\n      },\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        shared: true,\n        custom: ({ seriesIndex, dataPointIndex, w }) => {\n          return this._getBoxTooltip(\n            w,\n            seriesIndex,\n            dataPointIndex,\n            [\"Minimum\", \"Q1\", \"Median\", \"Q3\", \"Maximum\"],\n            \"boxPlot\"\n          );\n        }\n      },\n      markers: {\n        size: 7,\n        strokeWidth: 1,\n        strokeColors: \"#111\"\n      },\n      xaxis: {\n        crosshairs: {\n          width: 1\n        }\n      }\n    };\n  }\n  rangeBar() {\n    const handleTimelineTooltip = (opts) => {\n      const { color, seriesName, ylabel, startVal, endVal } = getRangeValues(__spreadProps(__spreadValues({}, opts), {\n        isTimeline: true\n      }));\n      return buildRangeTooltipHTML(__spreadProps(__spreadValues({}, opts), {\n        color,\n        seriesName,\n        ylabel,\n        start: startVal,\n        end: endVal\n      }));\n    };\n    const handleRangeColumnTooltip = (opts) => {\n      const { color, seriesName, ylabel, start, end } = getRangeValues(opts);\n      return buildRangeTooltipHTML(__spreadProps(__spreadValues({}, opts), {\n        color,\n        seriesName,\n        ylabel,\n        start,\n        end\n      }));\n    };\n    return {\n      chart: {\n        animations: {\n          animateGradually: false\n        }\n      },\n      stroke: {\n        width: 0,\n        lineCap: \"square\"\n      },\n      plotOptions: {\n        bar: {\n          borderRadius: 0,\n          dataLabels: {\n            position: \"center\"\n          }\n        }\n      },\n      dataLabels: {\n        enabled: false,\n        formatter(val, { seriesIndex, dataPointIndex, w }) {\n          const getVal = () => {\n            const start = w.globals.seriesRangeStart[seriesIndex][dataPointIndex];\n            const end = w.globals.seriesRangeEnd[seriesIndex][dataPointIndex];\n            return end - start;\n          };\n          if (w.globals.comboCharts) {\n            if (w.config.series[seriesIndex].type === \"rangeBar\" || w.config.series[seriesIndex].type === \"rangeArea\") {\n              return getVal();\n            } else {\n              return val;\n            }\n          } else {\n            return getVal();\n          }\n        },\n        background: {\n          enabled: false\n        },\n        style: {\n          colors: [\"#fff\"]\n        }\n      },\n      markers: {\n        size: 10\n      },\n      tooltip: {\n        shared: false,\n        followCursor: true,\n        custom(opts) {\n          if (opts.w.config.plotOptions && opts.w.config.plotOptions.bar && opts.w.config.plotOptions.bar.horizontal) {\n            return handleTimelineTooltip(opts);\n          } else {\n            return handleRangeColumnTooltip(opts);\n          }\n        }\n      },\n      xaxis: {\n        tickPlacement: \"between\",\n        tooltip: {\n          enabled: false\n        },\n        crosshairs: {\n          stroke: {\n            width: 0\n          }\n        }\n      }\n    };\n  }\n  dumbbell(opts) {\n    var _a, _b;\n    if (!((_a = opts.plotOptions.bar) == null ? void 0 : _a.barHeight)) {\n      opts.plotOptions.bar.barHeight = 2;\n    }\n    if (!((_b = opts.plotOptions.bar) == null ? void 0 : _b.columnWidth)) {\n      opts.plotOptions.bar.columnWidth = 2;\n    }\n    return opts;\n  }\n  area() {\n    return {\n      stroke: {\n        width: 4,\n        fill: {\n          type: \"solid\",\n          gradient: {\n            inverseColors: false,\n            shade: \"light\",\n            type: \"vertical\",\n            opacityFrom: 0.65,\n            opacityTo: 0.5,\n            stops: [0, 100, 100]\n          }\n        }\n      },\n      fill: {\n        type: \"gradient\",\n        gradient: {\n          inverseColors: false,\n          shade: \"light\",\n          type: \"vertical\",\n          opacityFrom: 0.65,\n          opacityTo: 0.5,\n          stops: [0, 100, 100]\n        }\n      },\n      markers: {\n        size: 0,\n        hover: {\n          sizeOffset: 6\n        }\n      },\n      tooltip: {\n        followCursor: false\n      }\n    };\n  }\n  rangeArea() {\n    const handleRangeAreaTooltip = (opts) => {\n      const { color, seriesName, ylabel, start, end } = getRangeValues(opts);\n      return buildRangeTooltipHTML(__spreadProps(__spreadValues({}, opts), {\n        color,\n        seriesName,\n        ylabel,\n        start,\n        end\n      }));\n    };\n    return {\n      stroke: {\n        curve: \"straight\",\n        width: 0\n      },\n      fill: {\n        type: \"solid\",\n        opacity: 0.6\n      },\n      markers: {\n        size: 0\n      },\n      states: {\n        hover: {\n          filter: {\n            type: \"none\"\n          }\n        },\n        active: {\n          filter: {\n            type: \"none\"\n          }\n        }\n      },\n      tooltip: {\n        intersect: false,\n        shared: true,\n        followCursor: true,\n        custom(opts) {\n          return handleRangeAreaTooltip(opts);\n        }\n      }\n    };\n  }\n  brush(defaults) {\n    const ret = {\n      chart: {\n        toolbar: {\n          autoSelected: \"selection\",\n          show: false\n        },\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        width: 1\n      },\n      tooltip: {\n        enabled: false\n      },\n      xaxis: {\n        tooltip: {\n          enabled: false\n        }\n      }\n    };\n    return Utils$1.extend(defaults, ret);\n  }\n  stacked100(opts) {\n    opts.dataLabels = opts.dataLabels || {};\n    opts.dataLabels.formatter = opts.dataLabels.formatter || void 0;\n    const existingDataLabelFormatter = opts.dataLabels.formatter;\n    opts.yaxis.forEach((yaxe, index) => {\n      opts.yaxis[index].min = 0;\n      opts.yaxis[index].max = 100;\n    });\n    const isBar = opts.chart.type === \"bar\";\n    if (isBar) {\n      opts.dataLabels.formatter = existingDataLabelFormatter || function(val) {\n        if (typeof val === \"number\") {\n          return val ? val.toFixed(0) + \"%\" : val;\n        }\n        return val;\n      };\n    }\n    return opts;\n  }\n  stackedBars() {\n    const barDefaults = this.bar();\n    return __spreadProps(__spreadValues({}, barDefaults), {\n      plotOptions: __spreadProps(__spreadValues({}, barDefaults.plotOptions), {\n        bar: __spreadProps(__spreadValues({}, barDefaults.plotOptions.bar), {\n          borderRadiusApplication: \"end\",\n          borderRadiusWhenStacked: \"last\"\n        })\n      })\n    });\n  }\n  // This function removes the left and right spacing in chart for line/area/scatter if xaxis type = category for those charts by converting xaxis = numeric. Numeric/Datetime xaxis prevents the unnecessary spacing in the left/right of the chart area\n  convertCatToNumeric(opts) {\n    opts.xaxis.convertedCatToNumeric = true;\n    return opts;\n  }\n  convertCatToNumericXaxis(opts, ctx, cats) {\n    opts.xaxis.type = \"numeric\";\n    opts.xaxis.labels = opts.xaxis.labels || {};\n    opts.xaxis.labels.formatter = opts.xaxis.labels.formatter || function(val) {\n      return Utils$1.isNumber(val) ? Math.floor(val) : val;\n    };\n    const defaultFormatter = opts.xaxis.labels.formatter;\n    let labels = opts.xaxis.categories && opts.xaxis.categories.length ? opts.xaxis.categories : opts.labels;\n    if (cats && cats.length) {\n      labels = cats.map((c) => {\n        return Array.isArray(c) ? c : String(c);\n      });\n    }\n    if (labels && labels.length) {\n      opts.xaxis.labels.formatter = function(val) {\n        return Utils$1.isNumber(val) ? defaultFormatter(labels[Math.floor(val) - 1]) : defaultFormatter(val);\n      };\n    }\n    opts.xaxis.categories = [];\n    opts.labels = [];\n    opts.xaxis.tickAmount = opts.xaxis.tickAmount || \"dataPoints\";\n    return opts;\n  }\n  bubble() {\n    return {\n      dataLabels: {\n        style: {\n          colors: [\"#fff\"]\n        }\n      },\n      tooltip: {\n        shared: false,\n        intersect: true\n      },\n      xaxis: {\n        crosshairs: {\n          width: 0\n        }\n      },\n      fill: {\n        type: \"solid\",\n        gradient: {\n          shade: \"light\",\n          inverse: true,\n          shadeIntensity: 0.55,\n          opacityFrom: 0.4,\n          opacityTo: 0.8\n        }\n      }\n    };\n  }\n  scatter() {\n    return {\n      dataLabels: {\n        enabled: false\n      },\n      tooltip: {\n        shared: false,\n        intersect: true\n      },\n      markers: {\n        size: 6,\n        strokeWidth: 1,\n        hover: {\n          sizeOffset: 2\n        }\n      }\n    };\n  }\n  heatmap() {\n    return {\n      chart: {\n        stacked: false\n      },\n      fill: {\n        opacity: 1\n      },\n      dataLabels: {\n        style: {\n          colors: [\"#fff\"]\n        }\n      },\n      stroke: {\n        colors: [\"#fff\"]\n      },\n      tooltip: {\n        followCursor: true,\n        marker: {\n          show: false\n        },\n        x: {\n          show: false\n        }\n      },\n      legend: {\n        position: \"top\",\n        markers: {\n          shape: \"square\"\n        }\n      },\n      grid: {\n        padding: {\n          right: 20\n        }\n      }\n    };\n  }\n  treemap() {\n    return {\n      chart: {\n        zoom: {\n          enabled: false\n        }\n      },\n      dataLabels: {\n        style: {\n          fontSize: 14,\n          fontWeight: 600,\n          colors: [\"#fff\"]\n        }\n      },\n      stroke: {\n        show: true,\n        width: 2,\n        colors: [\"#fff\"]\n      },\n      legend: {\n        show: false\n      },\n      fill: {\n        opacity: 1,\n        gradient: {\n          stops: [0, 100]\n        }\n      },\n      tooltip: {\n        followCursor: true,\n        x: {\n          show: false\n        }\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0\n        }\n      },\n      xaxis: {\n        crosshairs: {\n          show: false\n        },\n        tooltip: {\n          enabled: false\n        }\n      }\n    };\n  }\n  pie() {\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      plotOptions: {\n        pie: {\n          donut: {\n            labels: {\n              show: false\n            }\n          }\n        }\n      },\n      dataLabels: {\n        formatter(val) {\n          return val.toFixed(1) + \"%\";\n        },\n        style: {\n          colors: [\"#fff\"]\n        },\n        background: {\n          enabled: false\n        },\n        dropShadow: {\n          enabled: true\n        }\n      },\n      stroke: {\n        colors: [\"#fff\"]\n      },\n      fill: {\n        opacity: 1,\n        gradient: {\n          shade: \"light\",\n          stops: [0, 100]\n        }\n      },\n      tooltip: {\n        theme: \"dark\",\n        fillSeriesColor: true\n      },\n      legend: {\n        position: \"right\"\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  donut() {\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      dataLabels: {\n        formatter(val) {\n          return val.toFixed(1) + \"%\";\n        },\n        style: {\n          colors: [\"#fff\"]\n        },\n        background: {\n          enabled: false\n        },\n        dropShadow: {\n          enabled: true\n        }\n      },\n      stroke: {\n        colors: [\"#fff\"]\n      },\n      fill: {\n        opacity: 1,\n        gradient: {\n          shade: \"light\",\n          shadeIntensity: 0.35,\n          stops: [80, 100],\n          opacityFrom: 1,\n          opacityTo: 1\n        }\n      },\n      tooltip: {\n        theme: \"dark\",\n        fillSeriesColor: true\n      },\n      legend: {\n        position: \"right\"\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  polarArea() {\n    return {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      dataLabels: {\n        formatter(val) {\n          return val.toFixed(1) + \"%\";\n        },\n        enabled: false\n      },\n      stroke: {\n        show: true,\n        width: 2\n      },\n      fill: {\n        opacity: 0.7\n      },\n      tooltip: {\n        theme: \"dark\",\n        fillSeriesColor: true\n      },\n      legend: {\n        position: \"right\"\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  radar() {\n    this.opts.yaxis[0].labels.offsetY = this.opts.yaxis[0].labels.offsetY ? this.opts.yaxis[0].labels.offsetY : 6;\n    return {\n      dataLabels: {\n        enabled: false,\n        style: {\n          fontSize: \"11px\"\n        }\n      },\n      stroke: {\n        width: 2\n      },\n      markers: {\n        size: 5,\n        strokeWidth: 1,\n        strokeOpacity: 1\n      },\n      fill: {\n        opacity: 0.2\n      },\n      tooltip: {\n        shared: false,\n        intersect: true,\n        followCursor: true\n      },\n      grid: {\n        show: false,\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      },\n      xaxis: {\n        labels: {\n          formatter: (val) => val,\n          style: {\n            colors: [\"#a8a8a8\"],\n            fontSize: \"11px\"\n          }\n        },\n        tooltip: {\n          enabled: false\n        },\n        crosshairs: {\n          show: false\n        }\n      }\n    };\n  }\n  radialBar() {\n    return {\n      chart: {\n        animations: {\n          dynamicAnimation: {\n            enabled: true,\n            speed: 800\n          }\n        },\n        toolbar: {\n          show: false\n        }\n      },\n      fill: {\n        gradient: {\n          shade: \"dark\",\n          shadeIntensity: 0.4,\n          inverseColors: false,\n          type: \"diagonal2\",\n          opacityFrom: 1,\n          opacityTo: 1,\n          stops: [70, 98, 100]\n        }\n      },\n      legend: {\n        show: false,\n        position: \"right\"\n      },\n      tooltip: {\n        enabled: false,\n        fillSeriesColor: true\n      },\n      grid: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      }\n    };\n  }\n  _getBoxTooltip(w, seriesIndex, dataPointIndex, labels, chartType) {\n    const o = w.globals.seriesCandleO[seriesIndex][dataPointIndex];\n    const h = w.globals.seriesCandleH[seriesIndex][dataPointIndex];\n    const m = w.globals.seriesCandleM[seriesIndex][dataPointIndex];\n    const l = w.globals.seriesCandleL[seriesIndex][dataPointIndex];\n    const c = w.globals.seriesCandleC[seriesIndex][dataPointIndex];\n    if (w.config.series[seriesIndex].type && w.config.series[seriesIndex].type !== chartType) {\n      return `<div class=\"apexcharts-custom-tooltip\">\n          ${w.config.series[seriesIndex].name ? w.config.series[seriesIndex].name : \"series-\" + (seriesIndex + 1)}: <strong>${w.globals.series[seriesIndex][dataPointIndex]}</strong>\n        </div>`;\n    } else {\n      return `<div class=\"apexcharts-tooltip-box apexcharts-tooltip-${w.config.chart.type}\"><div>${labels[0]}: <span class=\"value\">` + o + `</span></div><div>${labels[1]}: <span class=\"value\">` + h + \"</span></div>\" + (m ? `<div>${labels[2]}: <span class=\"value\">` + m + \"</span></div>\" : \"\") + `<div>${labels[3]}: <span class=\"value\">` + l + `</span></div><div>${labels[4]}: <span class=\"value\">` + c + \"</span></div></div>\";\n    }\n  }\n}\nclass Config {\n  constructor(opts) {\n    this.opts = opts;\n  }\n  init({ responsiveOverride }) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    let opts = this.opts;\n    let options2 = new Options();\n    let defaults = new Defaults(opts);\n    this.chartType = opts.chart.type;\n    opts = this.extendYAxis(opts);\n    opts = this.extendAnnotations(opts);\n    let config = options2.init();\n    let newDefaults = {};\n    if (opts && typeof opts === \"object\") {\n      let chartDefaults = {};\n      const chartTypes = [\n        \"line\",\n        \"area\",\n        \"bar\",\n        \"candlestick\",\n        \"boxPlot\",\n        \"rangeBar\",\n        \"rangeArea\",\n        \"bubble\",\n        \"scatter\",\n        \"heatmap\",\n        \"treemap\",\n        \"pie\",\n        \"polarArea\",\n        \"donut\",\n        \"radar\",\n        \"radialBar\"\n      ];\n      if (chartTypes.indexOf(opts.chart.type) !== -1) {\n        chartDefaults = defaults[opts.chart.type]();\n      } else {\n        chartDefaults = defaults.line();\n      }\n      if ((_b = (_a = opts.plotOptions) == null ? void 0 : _a.bar) == null ? void 0 : _b.isFunnel) {\n        chartDefaults = defaults.funnel();\n      }\n      if (opts.chart.stacked && opts.chart.type === \"bar\") {\n        chartDefaults = defaults.stackedBars();\n      }\n      if ((_c = opts.chart.brush) == null ? void 0 : _c.enabled) {\n        chartDefaults = defaults.brush(chartDefaults);\n      }\n      if ((_e = (_d = opts.plotOptions) == null ? void 0 : _d.line) == null ? void 0 : _e.isSlopeChart) {\n        chartDefaults = defaults.slope();\n      }\n      if (opts.chart.stacked && opts.chart.stackType === \"100%\") {\n        opts = defaults.stacked100(opts);\n      }\n      if ((_g = (_f = opts.plotOptions) == null ? void 0 : _f.bar) == null ? void 0 : _g.isDumbbell) {\n        opts = defaults.dumbbell(opts);\n      }\n      this.checkForDarkTheme(window.Apex);\n      this.checkForDarkTheme(opts);\n      opts.xaxis = opts.xaxis || window.Apex.xaxis || {};\n      if (!responsiveOverride) {\n        opts.xaxis.convertedCatToNumeric = false;\n      }\n      opts = this.checkForCatToNumericXAxis(this.chartType, chartDefaults, opts);\n      if (((_h = opts.chart.sparkline) == null ? void 0 : _h.enabled) || ((_j = (_i = window.Apex.chart) == null ? void 0 : _i.sparkline) == null ? void 0 : _j.enabled)) {\n        chartDefaults = defaults.sparkline(chartDefaults);\n      }\n      newDefaults = Utils$1.extend(config, chartDefaults);\n    }\n    let mergedWithDefaultConfig = Utils$1.extend(newDefaults, window.Apex);\n    config = Utils$1.extend(mergedWithDefaultConfig, opts);\n    config = this.handleUserInputErrors(config);\n    return config;\n  }\n  checkForCatToNumericXAxis(chartType, chartDefaults, opts) {\n    var _a, _b;\n    let defaults = new Defaults(opts);\n    const isBarHorizontal = (chartType === \"bar\" || chartType === \"boxPlot\") && ((_b = (_a = opts.plotOptions) == null ? void 0 : _a.bar) == null ? void 0 : _b.horizontal);\n    const unsupportedZoom = chartType === \"pie\" || chartType === \"polarArea\" || chartType === \"donut\" || chartType === \"radar\" || chartType === \"radialBar\" || chartType === \"heatmap\";\n    const notNumericXAxis = opts.xaxis.type !== \"datetime\" && opts.xaxis.type !== \"numeric\";\n    let tickPlacement = opts.xaxis.tickPlacement ? opts.xaxis.tickPlacement : chartDefaults.xaxis && chartDefaults.xaxis.tickPlacement;\n    if (!isBarHorizontal && !unsupportedZoom && notNumericXAxis && tickPlacement !== \"between\") {\n      opts = defaults.convertCatToNumeric(opts);\n    }\n    return opts;\n  }\n  extendYAxis(opts, w) {\n    let options2 = new Options();\n    if (typeof opts.yaxis === \"undefined\" || !opts.yaxis || Array.isArray(opts.yaxis) && opts.yaxis.length === 0) {\n      opts.yaxis = {};\n    }\n    if (opts.yaxis.constructor !== Array && window.Apex.yaxis && window.Apex.yaxis.constructor !== Array) {\n      opts.yaxis = Utils$1.extend(opts.yaxis, window.Apex.yaxis);\n    }\n    if (opts.yaxis.constructor !== Array) {\n      opts.yaxis = [Utils$1.extend(options2.yAxis, opts.yaxis)];\n    } else {\n      opts.yaxis = Utils$1.extendArray(opts.yaxis, options2.yAxis);\n    }\n    let isLogY = false;\n    opts.yaxis.forEach((y) => {\n      if (y.logarithmic) {\n        isLogY = true;\n      }\n    });\n    let series = opts.series;\n    if (w && !series) {\n      series = w.config.series;\n    }\n    if (isLogY && series.length !== opts.yaxis.length && series.length) {\n      opts.yaxis = series.map((s, i) => {\n        if (!s.name) {\n          series[i].name = `series-${i + 1}`;\n        }\n        if (opts.yaxis[i]) {\n          opts.yaxis[i].seriesName = series[i].name;\n          return opts.yaxis[i];\n        } else {\n          const newYaxis = Utils$1.extend(options2.yAxis, opts.yaxis[0]);\n          newYaxis.show = false;\n          return newYaxis;\n        }\n      });\n    }\n    if (isLogY && series.length > 1 && series.length !== opts.yaxis.length) {\n      console.warn(\n        \"A multi-series logarithmic chart should have equal number of series and y-axes\"\n      );\n    }\n    return opts;\n  }\n  // annotations also accepts array, so we need to extend them manually\n  extendAnnotations(opts) {\n    if (typeof opts.annotations === \"undefined\") {\n      opts.annotations = {};\n      opts.annotations.yaxis = [];\n      opts.annotations.xaxis = [];\n      opts.annotations.points = [];\n    }\n    opts = this.extendYAxisAnnotations(opts);\n    opts = this.extendXAxisAnnotations(opts);\n    opts = this.extendPointAnnotations(opts);\n    return opts;\n  }\n  extendYAxisAnnotations(opts) {\n    let options2 = new Options();\n    opts.annotations.yaxis = Utils$1.extendArray(\n      typeof opts.annotations.yaxis !== \"undefined\" ? opts.annotations.yaxis : [],\n      options2.yAxisAnnotation\n    );\n    return opts;\n  }\n  extendXAxisAnnotations(opts) {\n    let options2 = new Options();\n    opts.annotations.xaxis = Utils$1.extendArray(\n      typeof opts.annotations.xaxis !== \"undefined\" ? opts.annotations.xaxis : [],\n      options2.xAxisAnnotation\n    );\n    return opts;\n  }\n  extendPointAnnotations(opts) {\n    let options2 = new Options();\n    opts.annotations.points = Utils$1.extendArray(\n      typeof opts.annotations.points !== \"undefined\" ? opts.annotations.points : [],\n      options2.pointAnnotation\n    );\n    return opts;\n  }\n  checkForDarkTheme(opts) {\n    if (opts.theme && opts.theme.mode === \"dark\") {\n      if (!opts.tooltip) {\n        opts.tooltip = {};\n      }\n      if (opts.tooltip.theme !== \"light\") {\n        opts.tooltip.theme = \"dark\";\n      }\n      if (!opts.chart.foreColor) {\n        opts.chart.foreColor = \"#f6f7f8\";\n      }\n      if (!opts.theme.palette) {\n        opts.theme.palette = \"palette4\";\n      }\n    }\n  }\n  handleUserInputErrors(opts) {\n    let config = opts;\n    if (config.tooltip.shared && config.tooltip.intersect) {\n      throw new Error(\n        \"tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.\"\n      );\n    }\n    if (config.chart.type === \"bar\" && config.plotOptions.bar.horizontal) {\n      if (config.yaxis.length > 1) {\n        throw new Error(\n          \"Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false\"\n        );\n      }\n      if (config.yaxis[0].reversed) {\n        config.yaxis[0].opposite = true;\n      }\n      config.xaxis.tooltip.enabled = false;\n      config.yaxis[0].tooltip.enabled = false;\n      config.chart.zoom.enabled = false;\n    }\n    if (config.chart.type === \"bar\" || config.chart.type === \"rangeBar\") {\n      if (config.tooltip.shared) {\n        if (config.xaxis.crosshairs.width === \"barWidth\" && config.series.length > 1) {\n          config.xaxis.crosshairs.width = \"tickWidth\";\n        }\n      }\n    }\n    if (config.chart.type === \"candlestick\" || config.chart.type === \"boxPlot\") {\n      if (config.yaxis[0].reversed) {\n        console.warn(\n          `Reversed y-axis in ${config.chart.type} chart is not supported.`\n        );\n        config.yaxis[0].reversed = false;\n      }\n    }\n    return config;\n  }\n}\nclass Globals {\n  initGlobalVars(gl) {\n    gl.series = [];\n    gl.seriesCandleO = [];\n    gl.seriesCandleH = [];\n    gl.seriesCandleM = [];\n    gl.seriesCandleL = [];\n    gl.seriesCandleC = [];\n    gl.seriesRangeStart = [];\n    gl.seriesRangeEnd = [];\n    gl.seriesRange = [];\n    gl.seriesPercent = [];\n    gl.seriesGoals = [];\n    gl.seriesX = [];\n    gl.seriesZ = [];\n    gl.seriesNames = [];\n    gl.seriesTotals = [];\n    gl.seriesLog = [];\n    gl.seriesColors = [];\n    gl.stackedSeriesTotals = [];\n    gl.seriesXvalues = [];\n    gl.seriesYvalues = [];\n    gl.dataWasParsed = false;\n    gl.originalSeries = null;\n    gl.labels = [];\n    gl.hasXaxisGroups = false;\n    gl.groups = [];\n    gl.barGroups = [];\n    gl.lineGroups = [];\n    gl.areaGroups = [];\n    gl.hasSeriesGroups = false;\n    gl.seriesGroups = [];\n    gl.categoryLabels = [];\n    gl.timescaleLabels = [];\n    gl.noLabelsProvided = false;\n    gl.resizeTimer = null;\n    gl.selectionResizeTimer = null;\n    gl.lastWheelExecution = 0;\n    gl.delayedElements = [];\n    gl.pointsArray = [];\n    gl.dataLabelsRects = [];\n    gl.textRectsCache = /* @__PURE__ */ new Map();\n    gl.domCache = /* @__PURE__ */ new Map();\n    gl.dimensionCache = {};\n    gl.cachedSelectors = {};\n    gl.isXNumeric = false;\n    gl.skipLastTimelinelabel = false;\n    gl.skipFirstTimelinelabel = false;\n    gl.isDataXYZ = false;\n    gl.isMultiLineX = false;\n    gl.isMultipleYAxis = false;\n    gl.maxY = -Number.MAX_VALUE;\n    gl.minY = Number.MIN_VALUE;\n    gl.minYArr = [];\n    gl.maxYArr = [];\n    gl.maxX = -Number.MAX_VALUE;\n    gl.minX = Number.MAX_VALUE;\n    gl.initialMaxX = -Number.MAX_VALUE;\n    gl.initialMinX = Number.MAX_VALUE;\n    gl.maxDate = 0;\n    gl.minDate = Number.MAX_VALUE;\n    gl.minZ = Number.MAX_VALUE;\n    gl.maxZ = -Number.MAX_VALUE;\n    gl.minXDiff = Number.MAX_VALUE;\n    gl.yAxisScale = [];\n    gl.xAxisScale = null;\n    gl.xAxisTicksPositions = [];\n    gl.yLabelsCoords = [];\n    gl.yTitleCoords = [];\n    gl.barPadForNumericAxis = 0;\n    gl.padHorizontal = 0;\n    gl.xRange = 0;\n    gl.yRange = [];\n    gl.zRange = 0;\n    gl.dataPoints = 0;\n    gl.xTickAmount = 0;\n    gl.multiAxisTickAmount = 0;\n  }\n  globalVars(config) {\n    return {\n      chartID: null,\n      // chart ID - apexcharts-cuid\n      cuid: null,\n      // chart ID - random numbers excluding \"apexcharts\" part\n      events: {\n        beforeMount: [],\n        mounted: [],\n        updated: [],\n        clicked: [],\n        selection: [],\n        dataPointSelection: [],\n        zoomed: [],\n        scrolled: []\n      },\n      colors: [],\n      clientX: null,\n      clientY: null,\n      fill: {\n        colors: []\n      },\n      stroke: {\n        colors: []\n      },\n      dataLabels: {\n        style: {\n          colors: []\n        }\n      },\n      radarPolygons: {\n        fill: {\n          colors: []\n        }\n      },\n      markers: {\n        colors: [],\n        size: config.markers.size,\n        largestSize: 0\n      },\n      animationEnded: false,\n      isTouchDevice: \"ontouchstart\" in window || navigator.msMaxTouchPoints,\n      isDirty: false,\n      // chart has been updated after the initial render. This is different than dataChanged property. isDirty means user manually called some method to update\n      isExecCalled: false,\n      // whether user updated the chart through the exec method\n      initialConfig: null,\n      // we will store the first config user has set to go back when user finishes interactions like zooming and come out of it\n      initialSeries: [],\n      lastXAxis: [],\n      lastYAxis: [],\n      columnSeries: null,\n      labels: [],\n      // store the text to draw on x axis\n      // Don't mutate the labels, many things including tooltips depends on it!\n      timescaleLabels: [],\n      // store the timescaleLabels Labels in another variable\n      noLabelsProvided: false,\n      // if user didn't provide any categories/labels or x values, fallback to 1,2,3,4...\n      allSeriesCollapsed: false,\n      collapsedSeries: [],\n      // when user collapses a series, it goes into this array\n      collapsedSeriesIndices: [],\n      // this stores the index of the collapsedSeries instead of whole object for quick access\n      ancillaryCollapsedSeries: [],\n      // when user collapses an \"alwaysVisible\" series, it goes into this array\n      ancillaryCollapsedSeriesIndices: [],\n      // this stores the index of the ancillaryCollapsedSeries whose y-axis is always visible\n      risingSeries: [],\n      // when user re-opens a collapsed series, it goes here\n      dataFormatXNumeric: false,\n      // boolean value to indicate user has passed numeric x values\n      capturedSeriesIndex: -1,\n      capturedDataPointIndex: -1,\n      selectedDataPoints: [],\n      invalidLogScale: false,\n      // if a user enabled log scale but the data provided is not valid to generate a log scale, turn on this flag\n      ignoreYAxisIndexes: [],\n      // when series are being collapsed in multiple y axes, ignore certain index\n      maxValsInArrayIndex: 0,\n      radialSize: 0,\n      selection: void 0,\n      zoomEnabled: config.chart.toolbar.autoSelected === \"zoom\" && config.chart.toolbar.tools.zoom && config.chart.zoom.enabled,\n      panEnabled: config.chart.toolbar.autoSelected === \"pan\" && config.chart.toolbar.tools.pan,\n      selectionEnabled: config.chart.toolbar.autoSelected === \"selection\" && config.chart.toolbar.tools.selection,\n      yaxis: null,\n      mousedown: false,\n      lastClientPosition: {},\n      // don't reset this variable this the chart is destroyed. It is used to detect right or left mousemove in panning\n      visibleXRange: void 0,\n      yValueDecimal: 0,\n      // are there floating numbers in the series. If yes, this represent the len of the decimals\n      total: 0,\n      SVGNS: \"http://www.w3.org/2000/svg\",\n      // svg namespace\n      svgWidth: 0,\n      // the whole svg width\n      svgHeight: 0,\n      // the whole svg height\n      noData: false,\n      // whether there is any data to display or not\n      locale: {},\n      // the current locale values will be preserved here for global access\n      dom: {},\n      // for storing all dom nodes in this particular property\n      memory: {\n        methodsToExec: []\n      },\n      domCache: /* @__PURE__ */ new Map(),\n      dimensionCache: {},\n      cachedSelectors: {},\n      resizeObserver: null,\n      shouldAnimate: true,\n      skipLastTimelinelabel: false,\n      // when last label is cropped, skip drawing it\n      skipFirstTimelinelabel: false,\n      // when first label is cropped, skip drawing it\n      delayedElements: [],\n      // element which appear after animation has finished\n      axisCharts: true,\n      // chart type = line or area or bar\n      // (refer them also as plot charts in the code)\n      isDataXYZ: false,\n      // bool: data was provided in a {[x,y,z]} pattern\n      isSlopeChart: config.plotOptions.line.isSlopeChart,\n      resized: false,\n      // bool: user has resized\n      resizeTimer: null,\n      // timeout function to make a small delay before\n      // drawing when user resized\n      comboCharts: false,\n      // bool: whether it's a combination of line/column\n      dataChanged: false,\n      // bool: has data changed dynamically\n      previousPaths: [],\n      // array: when data is changed, it will animate from\n      // previous paths\n      allSeriesHasEqualX: true,\n      pointsArray: [],\n      // store the points positions here to draw later on hover\n      // format is - [[x,y],[x,y]... [x,y]]\n      dataLabelsRects: [],\n      // store the positions of datalabels to prevent collision\n      lastDrawnDataLabelsIndexes: [],\n      hasNullValues: false,\n      // bool: whether series contains null values\n      zoomed: false,\n      // whether user has zoomed or not\n      gridWidth: 0,\n      // drawable width of actual graphs (series paths)\n      gridHeight: 0,\n      // drawable height of actual graphs (series paths)\n      rotateXLabels: false,\n      defaultLabels: false,\n      xLabelFormatter: void 0,\n      // formatter for x axis labels\n      yLabelFormatters: [],\n      xaxisTooltipFormatter: void 0,\n      // formatter for x axis tooltip\n      ttKeyFormatter: void 0,\n      ttVal: void 0,\n      ttZFormatter: void 0,\n      LINE_HEIGHT_RATIO: 1.618,\n      xAxisLabelsHeight: 0,\n      xAxisGroupLabelsHeight: 0,\n      xAxisLabelsWidth: 0,\n      yAxisLabelsWidth: 0,\n      scaleX: 1,\n      scaleY: 1,\n      translateX: 0,\n      translateY: 0,\n      translateYAxisX: [],\n      yAxisWidths: [],\n      translateXAxisY: 0,\n      translateXAxisX: 0,\n      tooltip: null,\n      // Rules for niceScaleAllowedMagMsd:\n      // 1) An array of two arrays only ([[],[]]):\n      //    * array[0][]: influences labelling of data series that contain only integers\n      //       - must contain only integers (or expect ugly ticks)\n      //    * array[1][]: influences labelling of data series that contain at least one float\n      //       - may contain floats\n      //    * both arrays:\n      //       - each array[][i] ideally satisfy: 10 mod array[][i] == 0 (or expect ugly ticks)\n      //       - to avoid clipping data point keep each array[][i] >= i\n      // 2) each array[i][] contains 11 values, for all possible index values 0..10.\n      //    array[][0] should not be needed (not proven) but ensures non-zero is returned.\n      //\n      // Users can effectively force their preferred \"magMsd\" through stepSize and\n      // forceNiceScale. With forceNiceScale: true, stepSize becomes normalizable to the\n      // axis's min..max range, which allows users to set stepSize to an integer 1..10, for\n      // example, stepSize: 3. This value will be preferred to the value determined through\n      // this array. The range-normalized value is checked for consistency with other\n      // user defined options and will be ignored if inconsistent.\n      niceScaleAllowedMagMsd: [\n        [1, 1, 2, 5, 5, 5, 10, 10, 10, 10, 10],\n        [1, 1, 2, 5, 5, 5, 10, 10, 10, 10, 10]\n      ],\n      // Default ticks based on SVG size. These values have high numbers\n      // of divisors. The array is indexed using a calculated maxTicks value\n      // divided by 2 simply to halve the array size. See Scales.niceScale().\n      niceScaleDefaultTicks: [\n        1,\n        2,\n        4,\n        4,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        6,\n        12,\n        12,\n        12,\n        12,\n        12,\n        12,\n        12,\n        12,\n        12,\n        24\n      ],\n      seriesYAxisMap: [],\n      // Given yAxis index, return all series indices belonging to it. Multiple series can be referenced to each yAxis.\n      seriesYAxisReverseMap: []\n      // Given a Series index, return its yAxis index.\n    };\n  }\n  init(config) {\n    let globals = this.globalVars(config);\n    this.initGlobalVars(globals);\n    globals.initialConfig = Utils$1.extend({}, config);\n    globals.initialSeries = Utils$1.clone(config.series);\n    globals.lastXAxis = Utils$1.clone(globals.initialConfig.xaxis);\n    globals.lastYAxis = Utils$1.clone(globals.initialConfig.yaxis);\n    return globals;\n  }\n}\nclass Base {\n  constructor(opts) {\n    this.opts = opts;\n  }\n  init() {\n    const config = new Config(this.opts).init({ responsiveOverride: false });\n    const globals = new Globals().init(config);\n    const w = {\n      config,\n      globals\n    };\n    return w;\n  }\n}\nclass Fill {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.opts = null;\n    this.seriesIndex = 0;\n    this.patternIDs = [];\n  }\n  clippedImgArea(params) {\n    let w = this.w;\n    let cnf = w.config;\n    let svgW = parseInt(w.globals.gridWidth, 10);\n    let svgH = parseInt(w.globals.gridHeight, 10);\n    let size = svgW > svgH ? svgW : svgH;\n    let fillImg = params.image;\n    let imgWidth = 0;\n    let imgHeight = 0;\n    if (typeof params.width === \"undefined\" && typeof params.height === \"undefined\") {\n      if (cnf.fill.image.width !== void 0 && cnf.fill.image.height !== void 0) {\n        imgWidth = cnf.fill.image.width + 1;\n        imgHeight = cnf.fill.image.height;\n      } else {\n        imgWidth = size + 1;\n        imgHeight = size;\n      }\n    } else {\n      imgWidth = params.width;\n      imgHeight = params.height;\n    }\n    let elPattern = document.createElementNS(w.globals.SVGNS, \"pattern\");\n    Graphics.setAttrs(elPattern, {\n      id: params.patternID,\n      patternUnits: params.patternUnits ? params.patternUnits : \"userSpaceOnUse\",\n      width: imgWidth + \"px\",\n      height: imgHeight + \"px\"\n    });\n    let elImage = document.createElementNS(w.globals.SVGNS, \"image\");\n    elPattern.appendChild(elImage);\n    elImage.setAttributeNS(window.SVG.xlink, \"href\", fillImg);\n    Graphics.setAttrs(elImage, {\n      x: 0,\n      y: 0,\n      preserveAspectRatio: \"none\",\n      width: imgWidth + \"px\",\n      height: imgHeight + \"px\"\n    });\n    elImage.style.opacity = params.opacity;\n    w.globals.dom.elDefs.node.appendChild(elPattern);\n  }\n  getSeriesIndex(opts) {\n    const w = this.w;\n    const cType = w.config.chart.type;\n    if ((cType === \"bar\" || cType === \"rangeBar\") && w.config.plotOptions.bar.distributed || cType === \"heatmap\" || cType === \"treemap\") {\n      this.seriesIndex = opts.seriesNumber;\n    } else {\n      this.seriesIndex = opts.seriesNumber % w.globals.series.length;\n    }\n    return this.seriesIndex;\n  }\n  computeColorStops(data, multiColorConfig) {\n    const w = this.w;\n    let maxPositive = null;\n    let minNegative = null;\n    for (let value of data) {\n      if (value >= multiColorConfig.threshold) {\n        if (maxPositive === null || value > maxPositive) {\n          maxPositive = value;\n        }\n      } else {\n        if (minNegative === null || value < minNegative) {\n          minNegative = value;\n        }\n      }\n    }\n    if (maxPositive === null) {\n      maxPositive = multiColorConfig.threshold;\n    }\n    if (minNegative === null) {\n      minNegative = multiColorConfig.threshold;\n    }\n    let totalRange = maxPositive - multiColorConfig.threshold + (multiColorConfig.threshold - minNegative);\n    if (totalRange === 0) {\n      totalRange = 1;\n    }\n    let negativePercentage = (multiColorConfig.threshold - minNegative) / totalRange * 100;\n    let offset = 100 - negativePercentage;\n    offset = Math.max(0, Math.min(offset, 100));\n    return [\n      {\n        offset,\n        color: multiColorConfig.colorAboveThreshold,\n        opacity: w.config.fill.opacity\n      },\n      {\n        offset: 0,\n        color: multiColorConfig.colorBelowThreshold,\n        opacity: w.config.fill.opacity\n      }\n    ];\n  }\n  fillPath(opts) {\n    var _a, _b, _c, _d, _e, _f;\n    let w = this.w;\n    this.opts = opts;\n    let cnf = this.w.config;\n    let pathFill;\n    let patternFill, gradientFill;\n    this.seriesIndex = this.getSeriesIndex(opts);\n    const drawMultiColorLine = cnf.plotOptions.line.colors.colorAboveThreshold && cnf.plotOptions.line.colors.colorBelowThreshold;\n    let fillColors = this.getFillColors();\n    let fillColor = fillColors[this.seriesIndex];\n    if (w.globals.seriesColors[this.seriesIndex] !== void 0) {\n      fillColor = w.globals.seriesColors[this.seriesIndex];\n    }\n    if (typeof fillColor === \"function\") {\n      fillColor = fillColor({\n        seriesIndex: this.seriesIndex,\n        dataPointIndex: opts.dataPointIndex,\n        value: opts.value,\n        w\n      });\n    }\n    let fillType = opts.fillType ? opts.fillType : this.getFillType(this.seriesIndex);\n    let fillOpacity = Array.isArray(cnf.fill.opacity) ? cnf.fill.opacity[this.seriesIndex] : cnf.fill.opacity;\n    const useGradient = fillType === \"gradient\" || drawMultiColorLine;\n    if (opts.color) {\n      fillColor = opts.color;\n    }\n    if ((_c = (_b = (_a = w.config.series[this.seriesIndex]) == null ? void 0 : _a.data) == null ? void 0 : _b[opts.dataPointIndex]) == null ? void 0 : _c.fillColor) {\n      fillColor = (_f = (_e = (_d = w.config.series[this.seriesIndex]) == null ? void 0 : _d.data) == null ? void 0 : _e[opts.dataPointIndex]) == null ? void 0 : _f.fillColor;\n    }\n    if (!fillColor) {\n      fillColor = \"#fff\";\n      console.warn(\"undefined color - ApexCharts\");\n    }\n    if (Utils$1.isCSSVariable(fillColor)) {\n      fillColor = Utils$1.getThemeColor(fillColor);\n    }\n    let defaultColor = fillColor;\n    if (fillColor.indexOf(\"rgb\") === -1) {\n      if (fillColor.indexOf(\"#\") === -1) {\n        defaultColor = fillColor;\n      } else if (fillColor.length < 9) {\n        defaultColor = Utils$1.hexToRgba(fillColor, fillOpacity);\n      }\n    } else {\n      if (fillColor.indexOf(\"rgba\") > -1) {\n        fillOpacity = Utils$1.getOpacityFromRGBA(fillColor);\n      } else {\n        defaultColor = Utils$1.hexToRgba(Utils$1.rgb2hex(fillColor), fillOpacity);\n      }\n    }\n    if (opts.opacity) fillOpacity = opts.opacity;\n    if (fillType === \"pattern\") {\n      patternFill = this.handlePatternFill({\n        fillConfig: opts.fillConfig,\n        patternFill,\n        fillColor,\n        fillOpacity,\n        defaultColor\n      });\n    }\n    if (useGradient) {\n      let colorStops = cnf.fill.gradient.colorStops ? [...cnf.fill.gradient.colorStops] : [];\n      let type = cnf.fill.gradient.type;\n      if (drawMultiColorLine) {\n        colorStops[this.seriesIndex] = this.computeColorStops(\n          w.globals.series[this.seriesIndex],\n          cnf.plotOptions.line.colors\n        );\n        type = \"vertical\";\n      }\n      gradientFill = this.handleGradientFill({\n        type,\n        fillConfig: opts.fillConfig,\n        fillColor,\n        fillOpacity,\n        colorStops,\n        i: this.seriesIndex\n      });\n    }\n    if (fillType === \"image\") {\n      let imgSrc = cnf.fill.image.src;\n      let patternID = opts.patternID ? opts.patternID : \"\";\n      const patternKey = `pattern${w.globals.cuid}${opts.seriesNumber + 1}${patternID}`;\n      if (this.patternIDs.indexOf(patternKey) === -1) {\n        this.clippedImgArea({\n          opacity: fillOpacity,\n          image: Array.isArray(imgSrc) ? opts.seriesNumber < imgSrc.length ? imgSrc[opts.seriesNumber] : imgSrc[0] : imgSrc,\n          width: opts.width ? opts.width : void 0,\n          height: opts.height ? opts.height : void 0,\n          patternUnits: opts.patternUnits,\n          patternID: patternKey\n        });\n        this.patternIDs.push(patternKey);\n      }\n      pathFill = `url(#${patternKey})`;\n    } else if (useGradient) {\n      pathFill = gradientFill;\n    } else if (fillType === \"pattern\") {\n      pathFill = patternFill;\n    } else {\n      pathFill = defaultColor;\n    }\n    if (opts.solid) {\n      pathFill = defaultColor;\n    }\n    return pathFill;\n  }\n  getFillType(seriesIndex) {\n    const w = this.w;\n    if (Array.isArray(w.config.fill.type)) {\n      return w.config.fill.type[seriesIndex];\n    } else {\n      return w.config.fill.type;\n    }\n  }\n  getFillColors() {\n    const w = this.w;\n    const cnf = w.config;\n    const opts = this.opts;\n    let fillColors = [];\n    if (w.globals.comboCharts) {\n      if (w.config.series[this.seriesIndex].type === \"line\") {\n        if (Array.isArray(w.globals.stroke.colors)) {\n          fillColors = w.globals.stroke.colors;\n        } else {\n          fillColors.push(w.globals.stroke.colors);\n        }\n      } else {\n        if (Array.isArray(w.globals.fill.colors)) {\n          fillColors = w.globals.fill.colors;\n        } else {\n          fillColors.push(w.globals.fill.colors);\n        }\n      }\n    } else {\n      if (cnf.chart.type === \"line\") {\n        if (Array.isArray(w.globals.stroke.colors)) {\n          fillColors = w.globals.stroke.colors;\n        } else {\n          fillColors.push(w.globals.stroke.colors);\n        }\n      } else {\n        if (Array.isArray(w.globals.fill.colors)) {\n          fillColors = w.globals.fill.colors;\n        } else {\n          fillColors.push(w.globals.fill.colors);\n        }\n      }\n    }\n    if (typeof opts.fillColors !== \"undefined\") {\n      fillColors = [];\n      if (Array.isArray(opts.fillColors)) {\n        fillColors = opts.fillColors.slice();\n      } else {\n        fillColors.push(opts.fillColors);\n      }\n    }\n    return fillColors;\n  }\n  handlePatternFill({\n    fillConfig,\n    patternFill,\n    fillColor,\n    fillOpacity,\n    defaultColor\n  }) {\n    let fillCnf = this.w.config.fill;\n    if (fillConfig) {\n      fillCnf = fillConfig;\n    }\n    const opts = this.opts;\n    let graphics = new Graphics(this.ctx);\n    let patternStrokeWidth = Array.isArray(fillCnf.pattern.strokeWidth) ? fillCnf.pattern.strokeWidth[this.seriesIndex] : fillCnf.pattern.strokeWidth;\n    let patternLineColor = fillColor;\n    if (Array.isArray(fillCnf.pattern.style)) {\n      if (typeof fillCnf.pattern.style[opts.seriesNumber] !== \"undefined\") {\n        let pf = graphics.drawPattern(\n          fillCnf.pattern.style[opts.seriesNumber],\n          fillCnf.pattern.width,\n          fillCnf.pattern.height,\n          patternLineColor,\n          patternStrokeWidth,\n          fillOpacity\n        );\n        patternFill = pf;\n      } else {\n        patternFill = defaultColor;\n      }\n    } else {\n      patternFill = graphics.drawPattern(\n        fillCnf.pattern.style,\n        fillCnf.pattern.width,\n        fillCnf.pattern.height,\n        patternLineColor,\n        patternStrokeWidth,\n        fillOpacity\n      );\n    }\n    return patternFill;\n  }\n  handleGradientFill({\n    type,\n    fillColor,\n    fillOpacity,\n    fillConfig,\n    colorStops,\n    i\n  }) {\n    let fillCnf = this.w.config.fill;\n    if (fillConfig) {\n      fillCnf = __spreadValues(__spreadValues({}, fillCnf), fillConfig);\n    }\n    const opts = this.opts;\n    let graphics = new Graphics(this.ctx);\n    let utils = new Utils$1();\n    type = type || fillCnf.gradient.type;\n    let gradientFrom = fillColor;\n    let gradientTo;\n    let opacityFrom = fillCnf.gradient.opacityFrom === void 0 ? fillOpacity : Array.isArray(fillCnf.gradient.opacityFrom) ? fillCnf.gradient.opacityFrom[i] : fillCnf.gradient.opacityFrom;\n    if (gradientFrom.indexOf(\"rgba\") > -1) {\n      opacityFrom = Utils$1.getOpacityFromRGBA(gradientFrom);\n    }\n    let opacityTo = fillCnf.gradient.opacityTo === void 0 ? fillOpacity : Array.isArray(fillCnf.gradient.opacityTo) ? fillCnf.gradient.opacityTo[i] : fillCnf.gradient.opacityTo;\n    if (fillCnf.gradient.gradientToColors === void 0 || fillCnf.gradient.gradientToColors.length === 0) {\n      if (fillCnf.gradient.shade === \"dark\") {\n        gradientTo = utils.shadeColor(\n          parseFloat(fillCnf.gradient.shadeIntensity) * -1,\n          fillColor.indexOf(\"rgb\") > -1 ? Utils$1.rgb2hex(fillColor) : fillColor\n        );\n      } else {\n        gradientTo = utils.shadeColor(\n          parseFloat(fillCnf.gradient.shadeIntensity),\n          fillColor.indexOf(\"rgb\") > -1 ? Utils$1.rgb2hex(fillColor) : fillColor\n        );\n      }\n    } else {\n      if (fillCnf.gradient.gradientToColors[opts.seriesNumber]) {\n        const gToColor = fillCnf.gradient.gradientToColors[opts.seriesNumber];\n        gradientTo = gToColor;\n        if (gToColor.indexOf(\"rgba\") > -1) {\n          opacityTo = Utils$1.getOpacityFromRGBA(gToColor);\n        }\n      } else {\n        gradientTo = fillColor;\n      }\n    }\n    if (fillCnf.gradient.gradientFrom) {\n      gradientFrom = fillCnf.gradient.gradientFrom;\n    }\n    if (fillCnf.gradient.gradientTo) {\n      gradientTo = fillCnf.gradient.gradientTo;\n    }\n    if (fillCnf.gradient.inverseColors) {\n      let t = gradientFrom;\n      gradientFrom = gradientTo;\n      gradientTo = t;\n    }\n    if (gradientFrom.indexOf(\"rgb\") > -1) {\n      gradientFrom = Utils$1.rgb2hex(gradientFrom);\n    }\n    if (gradientTo.indexOf(\"rgb\") > -1) {\n      gradientTo = Utils$1.rgb2hex(gradientTo);\n    }\n    return graphics.drawGradient(\n      type,\n      gradientFrom,\n      gradientTo,\n      opacityFrom,\n      opacityTo,\n      opts.size,\n      fillCnf.gradient.stops,\n      colorStops,\n      i\n    );\n  }\n}\nclass Markers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this._filters = new Filters(this.ctx);\n    this._graphics = new Graphics(this.ctx);\n  }\n  setGlobalMarkerSize() {\n    const w = this.w;\n    w.globals.markers.size = Array.isArray(w.config.markers.size) ? w.config.markers.size : [w.config.markers.size];\n    if (w.globals.markers.size.length > 0) {\n      if (w.globals.markers.size.length < w.globals.series.length + 1) {\n        for (let i = 0; i <= w.globals.series.length; i++) {\n          if (typeof w.globals.markers.size[i] === \"undefined\") {\n            w.globals.markers.size.push(w.globals.markers.size[0]);\n          }\n        }\n      }\n    } else {\n      w.globals.markers.size = w.config.series.map(() => w.config.markers.size);\n    }\n  }\n  plotChartMarkers({\n    pointsPos,\n    seriesIndex,\n    j,\n    pSize,\n    alwaysDrawMarker = false,\n    isVirtualPoint = false\n  }) {\n    let w = this.w;\n    let i = seriesIndex;\n    let p = pointsPos;\n    let elMarkersWrap = null;\n    let graphics = new Graphics(this.ctx);\n    const hasDiscreteMarkers = w.config.markers.discrete && w.config.markers.discrete.length;\n    if (Array.isArray(p.x)) {\n      for (let q = 0; q < p.x.length; q++) {\n        let markerElement;\n        let dataPointIndex = j;\n        let invalidMarker = !Utils$1.isNumber(p.y[q]);\n        if (w.globals.markers.largestSize === 0 && w.globals.hasNullValues && w.globals.series[i][j + 1] !== null && !isVirtualPoint) {\n          invalidMarker = true;\n        }\n        if (j === 1 && q === 0) dataPointIndex = 0;\n        if (j === 1 && q === 1) dataPointIndex = 1;\n        let markerClasses = \"apexcharts-marker\";\n        if ((w.config.chart.type === \"line\" || w.config.chart.type === \"area\") && !w.globals.comboCharts && !w.config.tooltip.intersect) {\n          markerClasses += \" no-pointer-events\";\n        }\n        const shouldMarkerDraw = Array.isArray(w.config.markers.size) ? w.globals.markers.size[seriesIndex] > 0 : w.config.markers.size > 0;\n        if (shouldMarkerDraw || alwaysDrawMarker || hasDiscreteMarkers) {\n          if (!invalidMarker) {\n            markerClasses += ` w${Utils$1.randomId()}`;\n          }\n          let opts = this.getMarkerConfig({\n            cssClass: markerClasses,\n            seriesIndex,\n            dataPointIndex\n          });\n          if (w.config.series[i].data[dataPointIndex]) {\n            if (w.config.series[i].data[dataPointIndex].fillColor) {\n              opts.pointFillColor = w.config.series[i].data[dataPointIndex].fillColor;\n            }\n            if (w.config.series[i].data[dataPointIndex].strokeColor) {\n              opts.pointStrokeColor = w.config.series[i].data[dataPointIndex].strokeColor;\n            }\n          }\n          if (typeof pSize !== \"undefined\") {\n            opts.pSize = pSize;\n          }\n          if (p.x[q] < -w.globals.markers.largestSize || p.x[q] > w.globals.gridWidth + w.globals.markers.largestSize || p.y[q] < -w.globals.markers.largestSize || p.y[q] > w.globals.gridHeight + w.globals.markers.largestSize) {\n            opts.pSize = 0;\n          }\n          if (!invalidMarker) {\n            const shouldCreateMarkerWrap = w.globals.markers.size[seriesIndex] > 0 || alwaysDrawMarker || hasDiscreteMarkers;\n            if (shouldCreateMarkerWrap && !elMarkersWrap) {\n              elMarkersWrap = graphics.group({\n                class: alwaysDrawMarker || hasDiscreteMarkers ? \"\" : \"apexcharts-series-markers\"\n              });\n              elMarkersWrap.attr(\n                \"clip-path\",\n                `url(#gridRectMarkerMask${w.globals.cuid})`\n              );\n              this.setupMarkerDelegation(elMarkersWrap);\n            }\n            markerElement = graphics.drawMarker(p.x[q], p.y[q], opts);\n            markerElement.attr(\"rel\", dataPointIndex);\n            markerElement.attr(\"j\", dataPointIndex);\n            markerElement.attr(\"index\", seriesIndex);\n            markerElement.node.setAttribute(\"default-marker-size\", opts.pSize);\n            this._filters.setSelectionFilter(\n              markerElement,\n              seriesIndex,\n              dataPointIndex\n            );\n            if (elMarkersWrap) {\n              elMarkersWrap.add(markerElement);\n            }\n          }\n        } else {\n          if (typeof w.globals.pointsArray[seriesIndex] === \"undefined\")\n            w.globals.pointsArray[seriesIndex] = [];\n          w.globals.pointsArray[seriesIndex].push([p.x[q], p.y[q]]);\n        }\n      }\n    }\n    return elMarkersWrap;\n  }\n  getMarkerConfig({\n    cssClass,\n    seriesIndex,\n    dataPointIndex = null,\n    radius = null,\n    size = null,\n    strokeWidth = null\n  }) {\n    const w = this.w;\n    let pStyle = this.getMarkerStyle(seriesIndex);\n    let pSize = size === null ? w.globals.markers.size[seriesIndex] : size;\n    const m = w.config.markers;\n    if (dataPointIndex !== null && m.discrete.length) {\n      m.discrete.map((marker) => {\n        if (marker.seriesIndex === seriesIndex && marker.dataPointIndex === dataPointIndex) {\n          pStyle.pointStrokeColor = marker.strokeColor;\n          pStyle.pointFillColor = marker.fillColor;\n          pSize = marker.size;\n          pStyle.pointShape = marker.shape;\n        }\n      });\n    }\n    return {\n      pSize: radius === null ? pSize : radius,\n      pRadius: radius !== null ? radius : m.radius,\n      pointStrokeWidth: strokeWidth !== null ? strokeWidth : Array.isArray(m.strokeWidth) ? m.strokeWidth[seriesIndex] : m.strokeWidth,\n      pointStrokeColor: pStyle.pointStrokeColor,\n      pointFillColor: pStyle.pointFillColor,\n      shape: pStyle.pointShape || (Array.isArray(m.shape) ? m.shape[seriesIndex] : m.shape),\n      class: cssClass,\n      pointStrokeOpacity: Array.isArray(m.strokeOpacity) ? m.strokeOpacity[seriesIndex] : m.strokeOpacity,\n      pointStrokeDashArray: Array.isArray(m.strokeDashArray) ? m.strokeDashArray[seriesIndex] : m.strokeDashArray,\n      pointFillOpacity: Array.isArray(m.fillOpacity) ? m.fillOpacity[seriesIndex] : m.fillOpacity,\n      seriesIndex\n    };\n  }\n  setupMarkerDelegation(parentGroup) {\n    const w = this.w;\n    const selector = \".apexcharts-marker\";\n    this._graphics.setupEventDelegation(parentGroup, selector);\n    parentGroup.node.addEventListener(\"click\", (e) => {\n      if (w.config.markers.onClick) {\n        const targetNode = Graphics._findDelegateTarget(\n          e.target,\n          parentGroup.node,\n          selector\n        );\n        if (targetNode) w.config.markers.onClick(e);\n      }\n    });\n    parentGroup.node.addEventListener(\"dblclick\", (e) => {\n      if (w.config.markers.onDblClick) {\n        const targetNode = Graphics._findDelegateTarget(\n          e.target,\n          parentGroup.node,\n          selector\n        );\n        if (targetNode) w.config.markers.onDblClick(e);\n      }\n    });\n    parentGroup.node.addEventListener(\n      \"touchstart\",\n      (e) => {\n        const targetNode = Graphics._findDelegateTarget(\n          e.target,\n          parentGroup.node,\n          selector\n        );\n        if (targetNode && targetNode.instance) {\n          this._graphics.pathMouseDown(targetNode.instance, e);\n        }\n      },\n      { passive: true }\n    );\n  }\n  addEvents(marker) {\n    const w = this.w;\n    marker.node.addEventListener(\n      \"mouseenter\",\n      this._graphics.pathMouseEnter.bind(this.ctx, marker)\n    );\n    marker.node.addEventListener(\n      \"mouseleave\",\n      this._graphics.pathMouseLeave.bind(this.ctx, marker)\n    );\n    marker.node.addEventListener(\n      \"mousedown\",\n      this._graphics.pathMouseDown.bind(this.ctx, marker)\n    );\n    marker.node.addEventListener(\"click\", w.config.markers.onClick);\n    marker.node.addEventListener(\"dblclick\", w.config.markers.onDblClick);\n    marker.node.addEventListener(\n      \"touchstart\",\n      this._graphics.pathMouseDown.bind(this.ctx, marker),\n      { passive: true }\n    );\n  }\n  getMarkerStyle(seriesIndex) {\n    let w = this.w;\n    let colors = w.globals.markers.colors;\n    let strokeColors = w.config.markers.strokeColor || w.config.markers.strokeColors;\n    let pointStrokeColor = Array.isArray(strokeColors) ? strokeColors[seriesIndex] : strokeColors;\n    let pointFillColor = Array.isArray(colors) ? colors[seriesIndex] : colors;\n    return {\n      pointStrokeColor,\n      pointFillColor\n    };\n  }\n}\nclass Scatter {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.initialAnim = this.w.config.chart.animations.enabled;\n    this.anim = new Animations(this.ctx);\n    this.filters = new Filters(this.ctx);\n    this.fill = new Fill(this.ctx);\n    this.markers = new Markers(this.ctx);\n    this.graphics = new Graphics(this.ctx);\n  }\n  draw(elSeries, j, opts) {\n    let w = this.w;\n    let graphics = this.graphics;\n    let realIndex = opts.realIndex;\n    let pointsPos = opts.pointsPos;\n    let zRatio = opts.zRatio;\n    let elPointsMain = opts.elParent;\n    let elPointsWrap = graphics.group({\n      class: `apexcharts-series-markers apexcharts-series-${w.config.chart.type}`\n    });\n    elPointsWrap.attr(\"clip-path\", `url(#gridRectMarkerMask${w.globals.cuid})`);\n    this.markers.setupMarkerDelegation(elPointsWrap);\n    if (Array.isArray(pointsPos.x)) {\n      for (let q = 0; q < pointsPos.x.length; q++) {\n        let dataPointIndex = j + 1;\n        let shouldDraw = true;\n        if (j === 0 && q === 0) dataPointIndex = 0;\n        if (j === 0 && q === 1) dataPointIndex = 1;\n        let radius = w.globals.markers.size[realIndex];\n        if (zRatio !== Infinity) {\n          const bubble = w.config.plotOptions.bubble;\n          radius = w.globals.seriesZ[realIndex][dataPointIndex];\n          if (bubble.zScaling) {\n            radius /= zRatio;\n          }\n          if (bubble.minBubbleRadius && radius < bubble.minBubbleRadius) {\n            radius = bubble.minBubbleRadius;\n          }\n          if (bubble.maxBubbleRadius && radius > bubble.maxBubbleRadius) {\n            radius = bubble.maxBubbleRadius;\n          }\n        }\n        let x = pointsPos.x[q];\n        let y = pointsPos.y[q];\n        radius = radius || 0;\n        if (y === null || typeof w.globals.series[realIndex][dataPointIndex] === \"undefined\") {\n          shouldDraw = false;\n        }\n        if (shouldDraw) {\n          const point = this.drawPoint(\n            x,\n            y,\n            radius,\n            realIndex,\n            dataPointIndex,\n            j\n          );\n          elPointsWrap.add(point);\n        }\n        elPointsMain.add(elPointsWrap);\n      }\n    }\n  }\n  drawPoint(x, y, radius, realIndex, dataPointIndex, j) {\n    const w = this.w;\n    let i = realIndex;\n    const anim = this.anim;\n    const filters = this.filters;\n    const fill = this.fill;\n    const markers = this.markers;\n    const graphics = this.graphics;\n    const markerConfig = markers.getMarkerConfig({\n      cssClass: \"apexcharts-marker\",\n      seriesIndex: i,\n      dataPointIndex,\n      radius: w.config.chart.type === \"bubble\" || w.globals.comboCharts && w.config.series[realIndex] && w.config.series[realIndex].type === \"bubble\" ? radius : null\n    });\n    let pathFillCircle = fill.fillPath({\n      seriesNumber: realIndex,\n      dataPointIndex,\n      color: markerConfig.pointFillColor,\n      patternUnits: \"objectBoundingBox\",\n      value: w.globals.series[realIndex][j]\n    });\n    let el = graphics.drawMarker(x, y, markerConfig);\n    if (w.config.series[i].data[dataPointIndex]) {\n      if (w.config.series[i].data[dataPointIndex].fillColor) {\n        pathFillCircle = w.config.series[i].data[dataPointIndex].fillColor;\n      }\n    }\n    el.attr({\n      fill: pathFillCircle\n    });\n    if (w.config.chart.dropShadow.enabled) {\n      const dropShadow = w.config.chart.dropShadow;\n      filters.dropShadow(el, dropShadow, realIndex);\n    }\n    if (this.initialAnim && !w.globals.dataChanged && !w.globals.resized) {\n      let speed = w.config.chart.animations.speed;\n      anim.animateMarker(el, speed, w.globals.easing, () => {\n        window.setTimeout(() => {\n          anim.animationCompleted(el);\n        }, 100);\n      });\n    } else {\n      w.globals.animationEnded = true;\n    }\n    el.attr({\n      rel: dataPointIndex,\n      j: dataPointIndex,\n      index: realIndex,\n      \"default-marker-size\": markerConfig.pSize\n    });\n    filters.setSelectionFilter(el, realIndex, dataPointIndex);\n    el.node.classList.add(\"apexcharts-marker\");\n    return el;\n  }\n  centerTextInBubble(y) {\n    let w = this.w;\n    y = y + parseInt(w.config.dataLabels.style.fontSize, 10) / 4;\n    return {\n      y\n    };\n  }\n}\nclass DataLabels {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // When there are many datalabels to be printed, and some of them overlaps each other in the same series, this method will take care of that\n  // Also, when datalabels exceeds the drawable area and get clipped off, we need to adjust and move some pixels to make them visible again\n  dataLabelsCorrection(x, y, val, i, dataPointIndex, alwaysDrawDataLabel, fontSize) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let drawnextLabel = false;\n    let textRects = graphics.getTextRects(val, fontSize);\n    let width = textRects.width;\n    let height = textRects.height;\n    if (y < 0) y = 0;\n    if (y > w.globals.gridHeight + height) y = w.globals.gridHeight + height / 2;\n    if (typeof w.globals.dataLabelsRects[i] === \"undefined\")\n      w.globals.dataLabelsRects[i] = [];\n    w.globals.dataLabelsRects[i].push({ x, y, width, height });\n    let len = w.globals.dataLabelsRects[i].length - 2;\n    let lastDrawnIndex = typeof w.globals.lastDrawnDataLabelsIndexes[i] !== \"undefined\" ? w.globals.lastDrawnDataLabelsIndexes[i][w.globals.lastDrawnDataLabelsIndexes[i].length - 1] : 0;\n    if (typeof w.globals.dataLabelsRects[i][len] !== \"undefined\") {\n      let lastDataLabelRect = w.globals.dataLabelsRects[i][lastDrawnIndex];\n      if (\n        // next label forward and x not intersecting\n        x > lastDataLabelRect.x + lastDataLabelRect.width || y > lastDataLabelRect.y + lastDataLabelRect.height || y + height < lastDataLabelRect.y || x + width < lastDataLabelRect.x\n      ) {\n        drawnextLabel = true;\n      }\n    }\n    if (dataPointIndex === 0 || alwaysDrawDataLabel) {\n      drawnextLabel = true;\n    }\n    return {\n      x,\n      y,\n      textRects,\n      drawnextLabel\n    };\n  }\n  drawDataLabel({ type, pos, i, j, isRangeStart, strokeWidth = 2 }) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let dataLabelsConfig = w.config.dataLabels;\n    let x = 0;\n    let y = 0;\n    let dataPointIndex = j;\n    let elDataLabelsWrap = null;\n    const seriesCollapsed = w.globals.collapsedSeriesIndices.indexOf(i) !== -1;\n    if (seriesCollapsed || !dataLabelsConfig.enabled || !Array.isArray(pos.x)) {\n      return elDataLabelsWrap;\n    }\n    elDataLabelsWrap = graphics.group({\n      class: \"apexcharts-data-labels\"\n    });\n    for (let q = 0; q < pos.x.length; q++) {\n      x = pos.x[q] + dataLabelsConfig.offsetX;\n      y = pos.y[q] + dataLabelsConfig.offsetY + strokeWidth;\n      if (!isNaN(x)) {\n        if (j === 1 && q === 0) dataPointIndex = 0;\n        if (j === 1 && q === 1) dataPointIndex = 1;\n        let val = w.globals.series[i][dataPointIndex];\n        if (type === \"rangeArea\") {\n          if (isRangeStart) {\n            val = w.globals.seriesRangeStart[i][dataPointIndex];\n          } else {\n            val = w.globals.seriesRangeEnd[i][dataPointIndex];\n          }\n        }\n        let text = \"\";\n        const getText = (v) => {\n          return w.config.dataLabels.formatter(v, {\n            ctx: this.ctx,\n            seriesIndex: i,\n            dataPointIndex,\n            w\n          });\n        };\n        if (w.config.chart.type === \"bubble\") {\n          val = w.globals.seriesZ[i][dataPointIndex];\n          text = getText(val);\n          y = pos.y[q];\n          const scatter = new Scatter(this.ctx);\n          let centerTextInBubbleCoords = scatter.centerTextInBubble(\n            y,\n            i,\n            dataPointIndex\n          );\n          y = centerTextInBubbleCoords.y;\n        } else {\n          if (typeof val !== \"undefined\") {\n            text = getText(val);\n          }\n        }\n        let textAnchor = w.config.dataLabels.textAnchor;\n        if (w.globals.isSlopeChart) {\n          if (dataPointIndex === 0) {\n            textAnchor = \"end\";\n          } else if (dataPointIndex === w.config.series[i].data.length - 1) {\n            textAnchor = \"start\";\n          } else {\n            textAnchor = \"middle\";\n          }\n        }\n        this.plotDataLabelsText({\n          x,\n          y,\n          text,\n          i,\n          j: dataPointIndex,\n          parent: elDataLabelsWrap,\n          offsetCorrection: true,\n          dataLabelsConfig: w.config.dataLabels,\n          textAnchor\n        });\n      }\n    }\n    return elDataLabelsWrap;\n  }\n  plotDataLabelsText(opts) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let {\n      x,\n      y,\n      i,\n      j,\n      text,\n      textAnchor,\n      fontSize,\n      parent,\n      dataLabelsConfig,\n      color,\n      alwaysDrawDataLabel,\n      offsetCorrection,\n      className\n    } = opts;\n    let dataLabelText = null;\n    if (Array.isArray(w.config.dataLabels.enabledOnSeries)) {\n      if (w.config.dataLabels.enabledOnSeries.indexOf(i) < 0) {\n        return dataLabelText;\n      }\n    }\n    let correctedLabels = {\n      x,\n      y,\n      drawnextLabel: true,\n      textRects: null\n    };\n    if (offsetCorrection) {\n      correctedLabels = this.dataLabelsCorrection(\n        x,\n        y,\n        text,\n        i,\n        j,\n        alwaysDrawDataLabel,\n        parseInt(dataLabelsConfig.style.fontSize, 10)\n      );\n    }\n    if (!w.globals.zoomed) {\n      x = correctedLabels.x;\n      y = correctedLabels.y;\n    }\n    if (correctedLabels.textRects) {\n      if (x < -20 - correctedLabels.textRects.width || x > w.globals.gridWidth + correctedLabels.textRects.width + 30) {\n        text = \"\";\n      }\n    }\n    let dataLabelColor = w.globals.dataLabels.style.colors[i];\n    if ((w.config.chart.type === \"bar\" || w.config.chart.type === \"rangeBar\") && w.config.plotOptions.bar.distributed || w.config.dataLabels.distributed) {\n      dataLabelColor = w.globals.dataLabels.style.colors[j];\n    }\n    if (typeof dataLabelColor === \"function\") {\n      dataLabelColor = dataLabelColor({\n        series: w.globals.series,\n        seriesIndex: i,\n        dataPointIndex: j,\n        w\n      });\n    }\n    if (color) {\n      dataLabelColor = color;\n    }\n    let offX = dataLabelsConfig.offsetX;\n    let offY = dataLabelsConfig.offsetY;\n    if (w.config.chart.type === \"bar\" || w.config.chart.type === \"rangeBar\") {\n      offX = 0;\n      offY = 0;\n    }\n    if (w.globals.isSlopeChart) {\n      if (j !== 0) {\n        offX = dataLabelsConfig.offsetX * -2 + 5;\n      }\n      if (j !== 0 && j !== w.config.series[i].data.length - 1) {\n        offX = 0;\n      }\n    }\n    if (correctedLabels.drawnextLabel) {\n      if (textAnchor === \"middle\") {\n        if (x === w.globals.gridWidth) {\n          textAnchor = \"end\";\n        }\n      }\n      dataLabelText = graphics.drawText({\n        width: 100,\n        height: parseInt(dataLabelsConfig.style.fontSize, 10),\n        x: x + offX,\n        y: y + offY,\n        foreColor: dataLabelColor,\n        textAnchor: textAnchor || dataLabelsConfig.textAnchor,\n        text,\n        fontSize: fontSize || dataLabelsConfig.style.fontSize,\n        fontFamily: dataLabelsConfig.style.fontFamily,\n        fontWeight: dataLabelsConfig.style.fontWeight || \"normal\"\n      });\n      dataLabelText.attr({\n        class: className || \"apexcharts-datalabel\",\n        cx: x,\n        cy: y\n      });\n      if (dataLabelsConfig.dropShadow.enabled) {\n        const textShadow = dataLabelsConfig.dropShadow;\n        const filters = new Filters(this.ctx);\n        filters.dropShadow(dataLabelText, textShadow);\n      }\n      parent.add(dataLabelText);\n      if (typeof w.globals.lastDrawnDataLabelsIndexes[i] === \"undefined\") {\n        w.globals.lastDrawnDataLabelsIndexes[i] = [];\n      }\n      w.globals.lastDrawnDataLabelsIndexes[i].push(j);\n    }\n    return dataLabelText;\n  }\n  addBackgroundToDataLabel(el, coords) {\n    const w = this.w;\n    const bCnf = w.config.dataLabels.background;\n    const paddingH = bCnf.padding;\n    const paddingV = bCnf.padding / 2;\n    const width = coords.width;\n    const height = coords.height;\n    const graphics = new Graphics(this.ctx);\n    const elRect = graphics.drawRect(\n      coords.x - paddingH,\n      coords.y - paddingV / 2,\n      width + paddingH * 2,\n      height + paddingV,\n      bCnf.borderRadius,\n      w.config.chart.background === \"transparent\" || !w.config.chart.background ? \"#fff\" : w.config.chart.background,\n      bCnf.opacity,\n      bCnf.borderWidth,\n      bCnf.borderColor\n    );\n    if (bCnf.dropShadow.enabled) {\n      const filters = new Filters(this.ctx);\n      filters.dropShadow(elRect, bCnf.dropShadow);\n    }\n    return elRect;\n  }\n  dataLabelsBackground() {\n    const w = this.w;\n    if (w.config.chart.type === \"bubble\") return;\n    const elDataLabels = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-datalabels text\"\n    );\n    for (let i = 0; i < elDataLabels.length; i++) {\n      const el = elDataLabels[i];\n      const coords = el.getBBox();\n      let elRect = null;\n      if (coords.width && coords.height) {\n        elRect = this.addBackgroundToDataLabel(el, coords);\n      }\n      if (elRect) {\n        el.parentNode.insertBefore(elRect.node, el);\n        const background = w.config.dataLabels.background.backgroundColor || el.getAttribute(\"fill\");\n        const shouldAnim = w.config.chart.animations.enabled && !w.globals.resized && !w.globals.dataChanged;\n        if (shouldAnim) {\n          elRect.animate().attr({ fill: background });\n        } else {\n          elRect.attr({ fill: background });\n        }\n        el.setAttribute(\"fill\", w.config.dataLabels.background.foreColor);\n      }\n    }\n  }\n  bringForward() {\n    const w = this.w;\n    const elDataLabelsNodes = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-datalabels\"\n    );\n    const elSeries = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-plot-series:last-child\"\n    );\n    for (let i = 0; i < elDataLabelsNodes.length; i++) {\n      if (elSeries) {\n        elSeries.insertBefore(elDataLabelsNodes[i], elSeries.nextSibling);\n      }\n    }\n  }\n}\nconst apexchartsLegendCSS = \".apexcharts-flip-y {\\n  transform: scaleY(-1) translateY(-100%);\\n  transform-origin: top;\\n  transform-box: fill-box;\\n}\\n.apexcharts-flip-x {\\n  transform: scaleX(-1);\\n  transform-origin: center;\\n  transform-box: fill-box;\\n}\\n.apexcharts-legend {\\n  display: flex;\\n  overflow: auto;\\n  padding: 0 10px;\\n}\\n.apexcharts-legend.apexcharts-legend-group-horizontal {\\n  flex-direction: column;\\n}\\n.apexcharts-legend-group {\\n  display: flex;\\n}\\n.apexcharts-legend-group-vertical {\\n  flex-direction: column-reverse;\\n}\\n.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\\n  flex-wrap: wrap\\n}\\n.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\\n  flex-direction: column;\\n  bottom: 0;\\n}\\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n}\\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\\n  justify-content: center;\\n  align-items: center;\\n}\\n.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\\n  justify-content: flex-end;\\n  align-items: flex-end;\\n}\\n.apexcharts-legend-series {\\n  cursor: pointer;\\n  line-height: normal;\\n  display: flex;\\n  align-items: center;\\n}\\n.apexcharts-legend-text {\\n  position: relative;\\n  font-size: 14px;\\n}\\n.apexcharts-legend-text *, .apexcharts-legend-marker * {\\n  pointer-events: none;\\n}\\n.apexcharts-legend-marker {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  margin-right: 1px;\\n}\\n\\n.apexcharts-legend-series.apexcharts-no-click {\\n  cursor: auto;\\n}\\n.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\\n  display: none !important;\\n}\\n.apexcharts-inactive-legend {\\n  opacity: 0.45;\\n} \";\nclass Series {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.legendInactiveClass = \"legend-mouseover-inactive\";\n  }\n  clearSeriesCache() {\n    const w = this.w;\n    if (w.globals.cachedSelectors) {\n      delete w.globals.cachedSelectors.allSeriesEls;\n      delete w.globals.cachedSelectors.highlightSeriesEls;\n    }\n  }\n  getAllSeriesEls() {\n    const w = this.w;\n    const cacheKey = \"allSeriesEls\";\n    if (!w.globals.cachedSelectors[cacheKey]) {\n      w.globals.cachedSelectors[cacheKey] = w.globals.dom.baseEl.getElementsByClassName(`apexcharts-series`);\n    }\n    return w.globals.cachedSelectors[cacheKey];\n  }\n  getSeriesByName(seriesName) {\n    return this.w.globals.dom.baseEl.querySelector(\n      `.apexcharts-inner .apexcharts-series[seriesName='${Utils$1.escapeString(\n        seriesName\n      )}']`\n    );\n  }\n  isSeriesHidden(seriesName) {\n    const targetElement = this.getSeriesByName(seriesName);\n    let realIndex = parseInt(targetElement.getAttribute(\"data:realIndex\"), 10);\n    let isHidden = targetElement.classList.contains(\n      \"apexcharts-series-collapsed\"\n    );\n    return { isHidden, realIndex };\n  }\n  addCollapsedClassToSeries(elSeries, index) {\n    const w = this.w;\n    function iterateOnAllCollapsedSeries(series) {\n      for (let cs = 0; cs < series.length; cs++) {\n        if (series[cs].index === index) {\n          elSeries.node.classList.add(\"apexcharts-series-collapsed\");\n        }\n      }\n    }\n    iterateOnAllCollapsedSeries(w.globals.collapsedSeries);\n    iterateOnAllCollapsedSeries(w.globals.ancillaryCollapsedSeries);\n  }\n  toggleSeries(seriesName) {\n    let isSeriesHidden = this.isSeriesHidden(seriesName);\n    this.ctx.legend.legendHelpers.toggleDataSeries(\n      isSeriesHidden.realIndex,\n      isSeriesHidden.isHidden\n    );\n    return isSeriesHidden.isHidden;\n  }\n  showSeries(seriesName) {\n    let isSeriesHidden = this.isSeriesHidden(seriesName);\n    if (isSeriesHidden.isHidden) {\n      this.ctx.legend.legendHelpers.toggleDataSeries(\n        isSeriesHidden.realIndex,\n        true\n      );\n    }\n  }\n  hideSeries(seriesName) {\n    let isSeriesHidden = this.isSeriesHidden(seriesName);\n    if (!isSeriesHidden.isHidden) {\n      this.ctx.legend.legendHelpers.toggleDataSeries(\n        isSeriesHidden.realIndex,\n        false\n      );\n    }\n  }\n  resetSeries(shouldUpdateChart = true, shouldResetZoom = true, shouldResetCollapsed = true) {\n    const w = this.w;\n    this.clearSeriesCache();\n    let series = Utils$1.clone(w.globals.initialSeries);\n    w.globals.previousPaths = [];\n    if (shouldResetCollapsed) {\n      w.globals.collapsedSeries = [];\n      w.globals.ancillaryCollapsedSeries = [];\n      w.globals.collapsedSeriesIndices = [];\n      w.globals.ancillaryCollapsedSeriesIndices = [];\n    } else {\n      series = this.emptyCollapsedSeries(series);\n    }\n    w.config.series = series;\n    if (shouldUpdateChart) {\n      if (shouldResetZoom) {\n        w.globals.zoomed = false;\n        this.ctx.updateHelpers.revertDefaultAxisMinMax();\n      }\n      this.ctx.updateHelpers._updateSeries(\n        series,\n        w.config.chart.animations.dynamicAnimation.enabled\n      );\n    }\n  }\n  emptyCollapsedSeries(series) {\n    const w = this.w;\n    for (let i = 0; i < series.length; i++) {\n      if (w.globals.collapsedSeriesIndices.indexOf(i) > -1) {\n        series[i].data = [];\n      }\n    }\n    return series;\n  }\n  highlightSeries(seriesName) {\n    const w = this.w;\n    const targetElement = this.getSeriesByName(seriesName);\n    let realIndex = parseInt(targetElement == null ? void 0 : targetElement.getAttribute(\"data:realIndex\"), 10);\n    const cacheKey = \"highlightSeriesEls\";\n    let allSeriesEls = w.globals.cachedSelectors[cacheKey];\n    if (!allSeriesEls) {\n      allSeriesEls = w.globals.dom.baseEl.querySelectorAll(\n        `.apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis`\n      );\n      w.globals.cachedSelectors[cacheKey] = allSeriesEls;\n    }\n    let seriesEl = null;\n    let dataLabelEl = null;\n    let yaxisEl = null;\n    if (w.globals.axisCharts || w.config.chart.type === \"radialBar\") {\n      if (w.globals.axisCharts) {\n        seriesEl = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-series[data\\\\:realIndex='${realIndex}']`\n        );\n        dataLabelEl = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-datalabels[data\\\\:realIndex='${realIndex}']`\n        );\n        let yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex];\n        yaxisEl = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-yaxis[rel='${yaxisIndex}']`\n        );\n      } else {\n        seriesEl = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-series[rel='${realIndex + 1}']`\n        );\n      }\n    } else {\n      seriesEl = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-series[rel='${realIndex + 1}'] path`\n      );\n    }\n    for (let se = 0; se < allSeriesEls.length; se++) {\n      allSeriesEls[se].classList.add(this.legendInactiveClass);\n    }\n    if (seriesEl) {\n      if (!w.globals.axisCharts) {\n        seriesEl.parentNode.classList.remove(this.legendInactiveClass);\n      }\n      seriesEl.classList.remove(this.legendInactiveClass);\n      if (dataLabelEl !== null) {\n        dataLabelEl.classList.remove(this.legendInactiveClass);\n      }\n      if (yaxisEl !== null) {\n        yaxisEl.classList.remove(this.legendInactiveClass);\n      }\n    } else {\n      for (let se = 0; se < allSeriesEls.length; se++) {\n        allSeriesEls[se].classList.remove(this.legendInactiveClass);\n      }\n    }\n  }\n  toggleSeriesOnHover(e, targetElement) {\n    const w = this.w;\n    if (!targetElement) targetElement = e.target;\n    let allSeriesEls = w.globals.dom.baseEl.querySelectorAll(\n      `.apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis`\n    );\n    if (e.type === \"mousemove\") {\n      let realIndex = parseInt(targetElement.getAttribute(\"rel\"), 10) - 1;\n      this.highlightSeries(w.globals.seriesNames[realIndex]);\n    } else if (e.type === \"mouseout\") {\n      for (let se = 0; se < allSeriesEls.length; se++) {\n        allSeriesEls[se].classList.remove(this.legendInactiveClass);\n      }\n    }\n  }\n  highlightRangeInSeries(e, targetElement) {\n    const w = this.w;\n    const allHeatMapElements = w.globals.dom.baseEl.getElementsByClassName(\n      \"apexcharts-heatmap-rect\"\n    );\n    const activeInactive = (action) => {\n      for (let i = 0; i < allHeatMapElements.length; i++) {\n        allHeatMapElements[i].classList[action](this.legendInactiveClass);\n      }\n    };\n    const removeInactiveClassFromHoveredRange = (range, rangeMax) => {\n      for (let i = 0; i < allHeatMapElements.length; i++) {\n        const val = Number(allHeatMapElements[i].getAttribute(\"val\"));\n        if (val >= range.from && (val < range.to || range.to === rangeMax && val === rangeMax)) {\n          allHeatMapElements[i].classList.remove(this.legendInactiveClass);\n        }\n      }\n    };\n    if (e.type === \"mousemove\") {\n      let seriesCnt = parseInt(targetElement.getAttribute(\"rel\"), 10) - 1;\n      activeInactive(\"add\");\n      const ranges = w.config.plotOptions.heatmap.colorScale.ranges;\n      const range = ranges[seriesCnt];\n      const rangeMax = ranges.reduce((acc, cur) => Math.max(acc, cur.to), 0);\n      removeInactiveClassFromHoveredRange(range, rangeMax);\n    } else if (e.type === \"mouseout\") {\n      activeInactive(\"remove\");\n    }\n  }\n  getActiveConfigSeriesIndex(order = \"asc\", chartTypes = []) {\n    const w = this.w;\n    let activeIndex = 0;\n    if (w.config.series.length > 1) {\n      let activeSeriesIndex = w.config.series.map((s, index) => {\n        const checkChartType = () => {\n          if (w.globals.comboCharts) {\n            return chartTypes.length === 0 || chartTypes.length && chartTypes.indexOf(w.config.series[index].type) > -1;\n          }\n          return true;\n        };\n        const hasData = s.data && s.data.length > 0 && w.globals.collapsedSeriesIndices.indexOf(index) === -1;\n        return hasData && checkChartType() ? index : -1;\n      });\n      for (let a = order === \"asc\" ? 0 : activeSeriesIndex.length - 1; order === \"asc\" ? a < activeSeriesIndex.length : a >= 0; order === \"asc\" ? a++ : a--) {\n        if (activeSeriesIndex[a] !== -1) {\n          activeIndex = activeSeriesIndex[a];\n          break;\n        }\n      }\n    }\n    return activeIndex;\n  }\n  getBarSeriesIndices() {\n    const w = this.w;\n    if (w.globals.comboCharts) {\n      return this.w.config.series.map((s, i) => {\n        return s.type === \"bar\" || s.type === \"column\" ? i : -1;\n      }).filter((i) => {\n        return i !== -1;\n      });\n    }\n    return this.w.config.series.map((s, i) => {\n      return i;\n    });\n  }\n  getPreviousPaths() {\n    let w = this.w;\n    w.globals.previousPaths = [];\n    function pushPaths(seriesEls, i, type) {\n      let paths = seriesEls[i].childNodes;\n      let dArr = {\n        type,\n        paths: [],\n        realIndex: seriesEls[i].getAttribute(\"data:realIndex\")\n      };\n      for (let j = 0; j < paths.length; j++) {\n        if (paths[j].hasAttribute(\"pathTo\")) {\n          let d = paths[j].getAttribute(\"pathTo\");\n          dArr.paths.push({\n            d\n          });\n        }\n      }\n      w.globals.previousPaths.push(dArr);\n    }\n    const getPaths = (chartType) => {\n      return w.globals.dom.baseEl.querySelectorAll(\n        `.apexcharts-${chartType}-series .apexcharts-series`\n      );\n    };\n    const chartTypes = [\n      \"line\",\n      \"area\",\n      \"bar\",\n      \"rangebar\",\n      \"rangeArea\",\n      \"candlestick\",\n      \"radar\"\n    ];\n    chartTypes.forEach((type) => {\n      const paths = getPaths(type);\n      for (let p = 0; p < paths.length; p++) {\n        pushPaths(paths, p, type);\n      }\n    });\n    let heatTreeSeries = w.globals.dom.baseEl.querySelectorAll(\n      `.apexcharts-${w.config.chart.type} .apexcharts-series`\n    );\n    if (heatTreeSeries.length > 0) {\n      for (let h = 0; h < heatTreeSeries.length; h++) {\n        let seriesEls = w.globals.dom.baseEl.querySelectorAll(\n          `.apexcharts-${w.config.chart.type} .apexcharts-series[data\\\\:realIndex='${h}'] rect`\n        );\n        let dArr = [];\n        for (let i = 0; i < seriesEls.length; i++) {\n          const getAttr = (x) => {\n            return seriesEls[i].getAttribute(x);\n          };\n          const rect = {\n            x: parseFloat(getAttr(\"x\")),\n            y: parseFloat(getAttr(\"y\")),\n            width: parseFloat(getAttr(\"width\")),\n            height: parseFloat(getAttr(\"height\"))\n          };\n          dArr.push({\n            rect,\n            color: seriesEls[i].getAttribute(\"color\")\n          });\n        }\n        w.globals.previousPaths.push(dArr);\n      }\n    }\n    if (!w.globals.axisCharts) {\n      w.globals.previousPaths = w.globals.series;\n    }\n  }\n  clearPreviousPaths() {\n    const w = this.w;\n    w.globals.previousPaths = [];\n    w.globals.allSeriesCollapsed = false;\n  }\n  handleNoData() {\n    const w = this.w;\n    const me = this;\n    const noDataOpts = w.config.noData;\n    const graphics = new Graphics(me.ctx);\n    let x = w.globals.svgWidth / 2;\n    let y = w.globals.svgHeight / 2;\n    let textAnchor = \"middle\";\n    w.globals.noData = true;\n    w.globals.animationEnded = true;\n    if (noDataOpts.align === \"left\") {\n      x = 10;\n      textAnchor = \"start\";\n    } else if (noDataOpts.align === \"right\") {\n      x = w.globals.svgWidth - 10;\n      textAnchor = \"end\";\n    }\n    if (noDataOpts.verticalAlign === \"top\") {\n      y = 50;\n    } else if (noDataOpts.verticalAlign === \"bottom\") {\n      y = w.globals.svgHeight - 50;\n    }\n    x = x + noDataOpts.offsetX;\n    y = y + parseInt(noDataOpts.style.fontSize, 10) + 2 + noDataOpts.offsetY;\n    if (noDataOpts.text !== void 0 && noDataOpts.text !== \"\") {\n      let titleText = graphics.drawText({\n        x,\n        y,\n        text: noDataOpts.text,\n        textAnchor,\n        fontSize: noDataOpts.style.fontSize,\n        fontFamily: noDataOpts.style.fontFamily,\n        foreColor: noDataOpts.style.color,\n        opacity: 1,\n        class: \"apexcharts-text-nodata\"\n      });\n      w.globals.dom.Paper.add(titleText);\n    }\n  }\n  // When user clicks on legends, the collapsed series is filled with [0,0,0,...,0]\n  // This is because we don't want to alter the series' length as it is used at many places\n  setNullSeriesToZeroValues(series) {\n    let w = this.w;\n    for (let sl = 0; sl < series.length; sl++) {\n      if (series[sl].length === 0) {\n        for (let j = 0; j < series[w.globals.maxValsInArrayIndex].length; j++) {\n          series[sl].push(0);\n        }\n      }\n    }\n    return series;\n  }\n  hasAllSeriesEqualX() {\n    let equalLen = true;\n    const w = this.w;\n    const filteredSerX = this.filteredSeriesX();\n    for (let i = 0; i < filteredSerX.length - 1; i++) {\n      if (filteredSerX[i][0] !== filteredSerX[i + 1][0]) {\n        equalLen = false;\n        break;\n      }\n    }\n    w.globals.allSeriesHasEqualX = equalLen;\n    return equalLen;\n  }\n  filteredSeriesX() {\n    const w = this.w;\n    const filteredSeriesX = w.globals.seriesX.map(\n      (ser) => ser.length > 0 ? ser : []\n    );\n    return filteredSeriesX;\n  }\n}\nclass Data {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.twoDSeries = [];\n    this.threeDSeries = [];\n    this.twoDSeriesX = [];\n    this.seriesGoals = [];\n    this.coreUtils = new CoreUtils(this.ctx);\n  }\n  // Helper to get the first valid data point from the active series\n  getFirstDataPoint() {\n    const series = this.w.config.series;\n    const sr = new Series(this.ctx);\n    this.activeSeriesIndex = sr.getActiveConfigSeriesIndex();\n    if (series[this.activeSeriesIndex] && series[this.activeSeriesIndex].data && series[this.activeSeriesIndex].data.length > 0 && series[this.activeSeriesIndex].data[0] !== null && typeof series[this.activeSeriesIndex].data[0] !== \"undefined\") {\n      return series[this.activeSeriesIndex].data[0];\n    }\n    return null;\n  }\n  isMultiFormat() {\n    return this.isFormatXY() || this.isFormat2DArray();\n  }\n  // given format is [{x, y}, {x, y}]\n  isFormatXY() {\n    const firstDataPoint = this.getFirstDataPoint();\n    return firstDataPoint && typeof firstDataPoint.x !== \"undefined\";\n  }\n  // given format is [[x, y], [x, y]]\n  isFormat2DArray() {\n    const firstDataPoint = this.getFirstDataPoint();\n    return firstDataPoint && Array.isArray(firstDataPoint);\n  }\n  handleFormat2DArray(ser, i) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const data = ser[i].data;\n    const isBoxPlot = cnf.chart.type === \"boxPlot\" || cnf.series[i].type === \"boxPlot\";\n    for (let j = 0; j < data.length; j++) {\n      const point = data[j];\n      const x = point[0];\n      const y = point[1];\n      const z = point[2];\n      if (typeof y !== \"undefined\") {\n        if (Array.isArray(y) && y.length === 4 && !isBoxPlot) {\n          this.twoDSeries.push(Utils$1.parseNumber(y[3]));\n        } else if (point.length >= 5) {\n          this.twoDSeries.push(Utils$1.parseNumber(point[4]));\n        } else {\n          this.twoDSeries.push(Utils$1.parseNumber(y));\n        }\n        gl.dataFormatXNumeric = true;\n      }\n      if (cnf.xaxis.type === \"datetime\") {\n        let ts = new Date(x);\n        ts = ts.getTime();\n        this.twoDSeriesX.push(ts);\n      } else {\n        this.twoDSeriesX.push(x);\n      }\n      if (typeof z !== \"undefined\") {\n        this.threeDSeries.push(z);\n        gl.isDataXYZ = true;\n      }\n    }\n  }\n  handleFormatXY(ser, i) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const dt = new DateTime(this.ctx);\n    const data = ser[i].data;\n    let activeI = i;\n    if (gl.collapsedSeriesIndices.indexOf(i) > -1) {\n      activeI = this.activeSeriesIndex;\n    }\n    const activeData = ser[activeI].data;\n    for (let j = 0; j < data.length; j++) {\n      const point = data[j];\n      if (typeof point.y !== \"undefined\") {\n        const val = Array.isArray(point.y) ? Utils$1.parseNumber(point.y[point.y.length - 1]) : Utils$1.parseNumber(point.y);\n        this.twoDSeries.push(val);\n      }\n      if (typeof this.seriesGoals[i] === \"undefined\") {\n        this.seriesGoals[i] = [];\n      }\n      if (typeof point.goals !== \"undefined\" && Array.isArray(point.goals)) {\n        this.seriesGoals[i].push(point.goals);\n      } else {\n        this.seriesGoals[i].push(null);\n      }\n      if (typeof point.z !== \"undefined\") {\n        this.threeDSeries.push(point.z);\n        gl.isDataXYZ = true;\n      }\n    }\n    for (let j = 0; j < activeData.length; j++) {\n      const point = activeData[j];\n      const x = point.x;\n      const isXString = typeof x === \"string\";\n      const isXArr = Array.isArray(x);\n      const isXDate = !isXArr && !!dt.isValidDate(x);\n      if (isXString || isXDate) {\n        if (isXString || cnf.xaxis.convertedCatToNumeric) {\n          const isRangeColumn = gl.isBarHorizontal && gl.isRangeData;\n          if (cnf.xaxis.type === \"datetime\" && !isRangeColumn) {\n            this.twoDSeriesX.push(dt.parseDate(x));\n          } else {\n            this.fallbackToCategory = true;\n            this.twoDSeriesX.push(x);\n            if (!isNaN(x) && this.w.config.xaxis.type !== \"category\" && typeof x !== \"string\") {\n              gl.isXNumeric = true;\n            }\n          }\n        } else {\n          if (cnf.xaxis.type === \"datetime\") {\n            this.twoDSeriesX.push(dt.parseDate(x.toString()));\n          } else {\n            gl.dataFormatXNumeric = true;\n            gl.isXNumeric = true;\n            this.twoDSeriesX.push(parseFloat(x));\n          }\n        }\n      } else if (isXArr) {\n        this.fallbackToCategory = true;\n        this.twoDSeriesX.push(x);\n      } else {\n        gl.isXNumeric = true;\n        gl.dataFormatXNumeric = true;\n        this.twoDSeriesX.push(x);\n      }\n    }\n  }\n  handleRangeData(ser, i) {\n    const gl = this.w.globals;\n    let range = {};\n    if (this.isFormat2DArray()) {\n      range = this.handleRangeDataFormat(\"array\", ser, i);\n    } else if (this.isFormatXY()) {\n      range = this.handleRangeDataFormat(\"xy\", ser, i);\n    }\n    gl.seriesRangeStart[i] = range.start === void 0 ? [] : range.start;\n    gl.seriesRangeEnd[i] = range.end === void 0 ? [] : range.end;\n    gl.seriesRange[i] = range.rangeUniques;\n    gl.seriesRange.forEach((sr) => {\n      if (!sr) return;\n      sr.forEach((sarr) => {\n        const yItems = sarr.y;\n        const len = yItems.length;\n        if (len <= 1) return;\n        for (let arri = 0; arri < len; arri++) {\n          const arr = yItems[arri];\n          const range1y1 = arr.y1;\n          const range1y2 = arr.y2;\n          for (let sri = arri + 1; sri < len; sri++) {\n            const range2 = yItems[sri];\n            const range2y1 = range2.y1;\n            const range2y2 = range2.y2;\n            if (range1y1 <= range2y2 && range2y1 <= range1y2) {\n              if (sarr.overlaps.indexOf(arr.rangeName) < 0) {\n                sarr.overlaps.push(arr.rangeName);\n              }\n              if (sarr.overlaps.indexOf(range2.rangeName) < 0) {\n                sarr.overlaps.push(range2.rangeName);\n              }\n            }\n          }\n        }\n      });\n    });\n    return range;\n  }\n  handleCandleStickBoxData(ser, i) {\n    const gl = this.w.globals;\n    let ohlc = {};\n    if (this.isFormat2DArray()) {\n      ohlc = this.handleCandleStickBoxDataFormat(\"array\", ser, i);\n    } else if (this.isFormatXY()) {\n      ohlc = this.handleCandleStickBoxDataFormat(\"xy\", ser, i);\n    }\n    gl.seriesCandleO[i] = ohlc.o;\n    gl.seriesCandleH[i] = ohlc.h;\n    gl.seriesCandleM[i] = ohlc.m;\n    gl.seriesCandleL[i] = ohlc.l;\n    gl.seriesCandleC[i] = ohlc.c;\n    return ohlc;\n  }\n  handleRangeDataFormat(format, ser, i) {\n    const rangeStart = [];\n    const rangeEnd = [];\n    const uniqueKeysMap = /* @__PURE__ */ new Map();\n    const uniqueKeys = [];\n    ser[i].data.forEach((item) => {\n      if (!uniqueKeysMap.has(item.x)) {\n        const keyObj = {\n          x: item.x,\n          overlaps: [],\n          y: []\n        };\n        uniqueKeysMap.set(item.x, keyObj);\n        uniqueKeys.push(keyObj);\n      }\n    });\n    if (format === \"array\") {\n      for (let j = 0; j < ser[i].data.length; j++) {\n        if (Array.isArray(ser[i].data[j])) {\n          rangeStart.push(ser[i].data[j][1][0]);\n          rangeEnd.push(ser[i].data[j][1][1]);\n        } else {\n          rangeStart.push(ser[i].data[j]);\n          rangeEnd.push(ser[i].data[j]);\n        }\n      }\n    } else if (format === \"xy\") {\n      for (let j = 0; j < ser[i].data.length; j++) {\n        let isDataPoint2D = Array.isArray(ser[i].data[j].y);\n        const id = Utils$1.randomId();\n        const x = ser[i].data[j].x;\n        const y = {\n          y1: isDataPoint2D ? ser[i].data[j].y[0] : ser[i].data[j].y,\n          y2: isDataPoint2D ? ser[i].data[j].y[1] : ser[i].data[j].y,\n          rangeName: id\n        };\n        ser[i].data[j].rangeName = id;\n        const keyObj = uniqueKeysMap.get(x);\n        if (keyObj) {\n          keyObj.y.push(y);\n        }\n        rangeStart.push(y.y1);\n        rangeEnd.push(y.y2);\n      }\n    }\n    return {\n      start: rangeStart,\n      end: rangeEnd,\n      rangeUniques: uniqueKeys\n    };\n  }\n  handleCandleStickBoxDataFormat(format, ser, i) {\n    const w = this.w;\n    const isBoxPlot = w.config.chart.type === \"boxPlot\" || w.config.series[i].type === \"boxPlot\";\n    const serO = [];\n    const serH = [];\n    const serM = [];\n    const serL = [];\n    const serC = [];\n    const data = ser[i].data;\n    let getVals;\n    if (format === \"array\") {\n      const isFlat = isBoxPlot && data[0].length === 6 || !isBoxPlot && data[0].length === 5;\n      if (isFlat) {\n        getVals = (d) => d.slice(1);\n      } else {\n        getVals = (d) => Array.isArray(d[1]) ? d[1] : [];\n      }\n    } else {\n      getVals = (d) => Array.isArray(d.y) ? d.y : [];\n    }\n    for (let j = 0; j < data.length; j++) {\n      const vals = getVals(data[j]);\n      if (vals && vals.length >= 2) {\n        serO.push(vals[0]);\n        serH.push(vals[1]);\n        if (isBoxPlot) {\n          serM.push(vals[2]);\n          serL.push(vals[3]);\n          serC.push(vals[4]);\n        } else {\n          serL.push(vals[2]);\n          serC.push(vals[3]);\n        }\n      }\n    }\n    return {\n      o: serO,\n      h: serH,\n      m: serM,\n      l: serL,\n      c: serC\n    };\n  }\n  parseDataAxisCharts(ser, ctx = this.ctx) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const dt = new DateTime(ctx);\n    const xlabels = cnf.labels.length > 0 ? cnf.labels.slice() : cnf.xaxis.categories.slice();\n    gl.isRangeBar = cnf.chart.type === \"rangeBar\" && gl.isBarHorizontal;\n    gl.hasXaxisGroups = cnf.xaxis.type === \"category\" && cnf.xaxis.group.groups.length > 0;\n    if (gl.hasXaxisGroups) {\n      gl.groups = cnf.xaxis.group.groups;\n    }\n    ser.forEach((s, i) => {\n      if (s.name !== void 0) {\n        gl.seriesNames.push(s.name);\n      } else {\n        gl.seriesNames.push(\"series-\" + parseInt(i + 1, 10));\n      }\n    });\n    this.coreUtils.setSeriesYAxisMappings();\n    let buckets = [];\n    let groups = [...new Set(cnf.series.map((s) => s.group))];\n    cnf.series.forEach((s, i) => {\n      let index = groups.indexOf(s.group);\n      if (!buckets[index]) buckets[index] = [];\n      buckets[index].push(gl.seriesNames[i]);\n    });\n    gl.seriesGroups = buckets;\n    const handleDates = () => {\n      for (let j = 0; j < xlabels.length; j++) {\n        if (typeof xlabels[j] === \"string\") {\n          let isDate = dt.isValidDate(xlabels[j]);\n          if (isDate) {\n            this.twoDSeriesX.push(dt.parseDate(xlabels[j]));\n          } else {\n            throw new Error(\n              \"You have provided invalid Date format. Please provide a valid JavaScript Date\"\n            );\n          }\n        } else {\n          this.twoDSeriesX.push(xlabels[j]);\n        }\n      }\n    };\n    for (let i = 0; i < ser.length; i++) {\n      this.twoDSeries = [];\n      this.twoDSeriesX = [];\n      this.threeDSeries = [];\n      if (typeof ser[i].data === \"undefined\") {\n        console.error(\n          \"It is a possibility that you may have not included 'data' property in series.\"\n        );\n        return;\n      }\n      if (cnf.chart.type === \"rangeBar\" || cnf.chart.type === \"rangeArea\" || ser[i].type === \"rangeBar\" || ser[i].type === \"rangeArea\") {\n        gl.isRangeData = true;\n        this.handleRangeData(ser, i);\n      }\n      if (this.isMultiFormat()) {\n        if (this.isFormat2DArray()) {\n          this.handleFormat2DArray(ser, i);\n        } else if (this.isFormatXY()) {\n          this.handleFormatXY(ser, i);\n        }\n        if (cnf.chart.type === \"candlestick\" || ser[i].type === \"candlestick\" || cnf.chart.type === \"boxPlot\" || ser[i].type === \"boxPlot\") {\n          this.handleCandleStickBoxData(ser, i);\n        }\n        gl.series.push(this.twoDSeries);\n        gl.labels.push(this.twoDSeriesX);\n        gl.seriesX.push(this.twoDSeriesX);\n        gl.seriesGoals = this.seriesGoals;\n        if (i === this.activeSeriesIndex && !this.fallbackToCategory) {\n          gl.isXNumeric = true;\n        }\n      } else {\n        if (cnf.xaxis.type === \"datetime\") {\n          gl.isXNumeric = true;\n          handleDates();\n          gl.seriesX.push(this.twoDSeriesX);\n        } else if (cnf.xaxis.type === \"numeric\") {\n          gl.isXNumeric = true;\n          if (xlabels.length > 0) {\n            this.twoDSeriesX = xlabels;\n            gl.seriesX.push(this.twoDSeriesX);\n          }\n        }\n        gl.labels.push(this.twoDSeriesX);\n        const singleArray = ser[i].data.map((d) => Utils$1.parseNumber(d));\n        gl.series.push(singleArray);\n      }\n      gl.seriesZ.push(this.threeDSeries);\n      if (ser[i].color !== void 0) {\n        gl.seriesColors.push(ser[i].color);\n      } else {\n        gl.seriesColors.push(void 0);\n      }\n    }\n    return this.w;\n  }\n  parseDataNonAxisCharts(ser) {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    const hasOldFormat = Array.isArray(ser) && ser.every((s) => typeof s === \"number\") && cnf.labels.length > 0;\n    const hasNewFormat = Array.isArray(ser) && ser.some(\n      (s) => s && typeof s === \"object\" && s.data || s && typeof s === \"object\" && s.parsing\n    );\n    if (hasOldFormat && hasNewFormat) {\n      console.warn(\n        \"ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility.\"\n      );\n    }\n    if (hasOldFormat) {\n      gl.series = ser.slice();\n      gl.seriesNames = cnf.labels.slice();\n      for (let i = 0; i < gl.series.length; i++) {\n        if (gl.seriesNames[i] === void 0) {\n          gl.seriesNames.push(\"series-\" + (i + 1));\n        }\n      }\n      return this.w;\n    }\n    if (Array.isArray(ser) && ser.every((s) => typeof s === \"number\")) {\n      gl.series = ser.slice();\n      gl.seriesNames = [];\n      for (let i = 0; i < gl.series.length; i++) {\n        gl.seriesNames.push(cnf.labels[i] || `series-${i + 1}`);\n      }\n      return this.w;\n    }\n    const processedData = this.extractPieDataFromSeries(ser);\n    gl.series = processedData.values;\n    gl.seriesNames = processedData.labels;\n    if (cnf.chart.type === \"radialBar\") {\n      gl.series = gl.series.map((val) => {\n        const numVal = Utils$1.parseNumber(val);\n        if (numVal > 100) {\n          console.warn(\n            `ApexCharts: RadialBar value ${numVal} > 100, consider using percentage values (0-100)`\n          );\n        }\n        return numVal;\n      });\n    }\n    for (let i = 0; i < gl.series.length; i++) {\n      if (gl.seriesNames[i] === void 0) {\n        gl.seriesNames.push(\"series-\" + (i + 1));\n      }\n    }\n    return this.w;\n  }\n  /**\n   * Reset parsing flags to allow re-parsing of data during updates\n   */\n  resetParsingFlags() {\n    const w = this.w;\n    w.globals.dataWasParsed = false;\n    w.globals.originalSeries = null;\n    if (w.config.series) {\n      w.config.series.forEach((serie) => {\n        if (serie.__apexParsed) {\n          delete serie.__apexParsed;\n        }\n      });\n    }\n  }\n  extractPieDataFromSeries(ser) {\n    const values = [];\n    const labels = [];\n    if (!Array.isArray(ser)) {\n      console.warn(\"ApexCharts: Expected array for series data\");\n      return { values: [], labels: [] };\n    }\n    if (ser.length === 0) {\n      console.warn(\"ApexCharts: Empty series array\");\n      return { values: [], labels: [] };\n    }\n    const firstItem = ser[0];\n    if (typeof firstItem === \"object\" && firstItem !== null && firstItem.data) {\n      this.extractPieDataFromSeriesObjects(ser, values, labels);\n    } else {\n      console.warn(\n        \"ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property.\"\n      );\n      return { values: [], labels: [] };\n    }\n    return { values, labels };\n  }\n  // Extract data from series objects: [{ data: [...], parsing: {...} }]\n  extractPieDataFromSeriesObjects(seriesArray, values, labels) {\n    seriesArray.forEach((serie, serieIndex) => {\n      if (!serie.data || !Array.isArray(serie.data)) {\n        console.warn(`ApexCharts: Series ${serieIndex} has no valid data array`);\n        return;\n      }\n      serie.data.forEach((dataPoint) => {\n        if (typeof dataPoint === \"object\" && dataPoint !== null) {\n          if (dataPoint.x !== void 0 && dataPoint.y !== void 0) {\n            labels.push(String(dataPoint.x));\n            values.push(Utils$1.parseNumber(dataPoint.y));\n          } else {\n            console.warn(\n              \"ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:\",\n              dataPoint\n            );\n          }\n        } else {\n          console.warn(\n            \"ApexCharts: Expected object data point, got:\",\n            typeof dataPoint\n          );\n        }\n      });\n    });\n  }\n  /** User possibly set string categories in xaxis.categories or labels prop\n   * Or didn't set xaxis labels at all - in which case we manually do it.\n   * If user passed series data as [[3, 2], [4, 5]] or [{ x: 3, y: 55 }],\n   * this shouldn't be called\n   * @param {array} ser - the series which user passed to the config\n   */\n  handleExternalLabelsData(ser) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    if (cnf.xaxis.categories.length > 0) {\n      gl.labels = cnf.xaxis.categories;\n    } else if (cnf.labels.length > 0) {\n      gl.labels = cnf.labels.slice();\n    } else if (this.fallbackToCategory) {\n      gl.labels = gl.labels[0];\n      if (gl.seriesRange.length) {\n        gl.seriesRange.map((srt) => {\n          srt.forEach((sr) => {\n            if (gl.labels.indexOf(sr.x) < 0 && sr.x) {\n              gl.labels.push(sr.x);\n            }\n          });\n        });\n        gl.labels = Array.from(\n          new Set(gl.labels.map(JSON.stringify)),\n          JSON.parse\n        );\n      }\n      if (cnf.xaxis.convertedCatToNumeric) {\n        const defaults = new Defaults(cnf);\n        defaults.convertCatToNumericXaxis(cnf, this.ctx, gl.seriesX[0]);\n        this._generateExternalLabels(ser);\n      }\n    } else {\n      this._generateExternalLabels(ser);\n    }\n  }\n  _generateExternalLabels(ser) {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    let labelArr = [];\n    if (gl.axisCharts) {\n      if (gl.series.length > 0) {\n        if (this.isFormatXY()) {\n          const seriesDataFiltered = cnf.series.map((serie) => {\n            return serie.data.filter(\n              (v, i, a) => a.findIndex((t) => t.x === v.x) === i\n            );\n          });\n          const len = seriesDataFiltered.reduce(\n            (p, c, i, a) => a[p].length > c.length ? p : i,\n            0\n          );\n          for (let i = 0; i < seriesDataFiltered[len].length; i++) {\n            labelArr.push(i + 1);\n          }\n        } else {\n          for (let i = 0; i < gl.series[gl.maxValsInArrayIndex].length; i++) {\n            labelArr.push(i + 1);\n          }\n        }\n      }\n      gl.seriesX = [];\n      for (let i = 0; i < ser.length; i++) {\n        gl.seriesX.push(labelArr);\n      }\n      if (!this.w.globals.isBarHorizontal) {\n        gl.isXNumeric = true;\n      }\n    }\n    if (labelArr.length === 0) {\n      labelArr = gl.axisCharts ? [] : gl.series.map((gls, glsi) => {\n        return glsi + 1;\n      });\n      for (let i = 0; i < ser.length; i++) {\n        gl.seriesX.push(labelArr);\n      }\n    }\n    gl.labels = labelArr;\n    if (cnf.xaxis.convertedCatToNumeric) {\n      gl.categoryLabels = labelArr.map((l) => {\n        return cnf.xaxis.labels.formatter(l);\n      });\n    }\n    gl.noLabelsProvided = true;\n  }\n  parseRawDataIfNeeded(series) {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    const globalParsing = cnf.parsing;\n    if (gl.dataWasParsed) {\n      return series;\n    }\n    if (!globalParsing && !series.some((s) => s.parsing)) {\n      return series;\n    }\n    const processedSeries = series.map((serie, index) => {\n      var _a, _b, _c;\n      if (!serie.data || !Array.isArray(serie.data) || serie.data.length === 0) {\n        return serie;\n      }\n      const effectiveParsing = {\n        x: ((_a = serie.parsing) == null ? void 0 : _a.x) || (globalParsing == null ? void 0 : globalParsing.x),\n        y: ((_b = serie.parsing) == null ? void 0 : _b.y) || (globalParsing == null ? void 0 : globalParsing.y),\n        z: ((_c = serie.parsing) == null ? void 0 : _c.z) || (globalParsing == null ? void 0 : globalParsing.z)\n      };\n      if (!effectiveParsing.x && !effectiveParsing.y) {\n        return serie;\n      }\n      const firstDataPoint = serie.data[0];\n      if (typeof firstDataPoint === \"object\" && firstDataPoint !== null && (Object.prototype.hasOwnProperty.call(firstDataPoint, \"x\") || Object.prototype.hasOwnProperty.call(firstDataPoint, \"y\")) || Array.isArray(firstDataPoint)) {\n        return serie;\n      }\n      if (!effectiveParsing.x || !effectiveParsing.y || Array.isArray(effectiveParsing.y) && effectiveParsing.y.length === 0) {\n        console.warn(\n          `ApexCharts: Series ${index} has parsing config but missing x or y field specification`\n        );\n        return serie;\n      }\n      const transformedData = serie.data.map((item, itemIndex) => {\n        if (typeof item !== \"object\" || item === null) {\n          console.warn(\n            `ApexCharts: Series ${index}, data point ${itemIndex} is not an object, skipping parsing`\n          );\n          return item;\n        }\n        const x = this.getNestedValue(item, effectiveParsing.x);\n        let y;\n        let z = void 0;\n        if (Array.isArray(effectiveParsing.y)) {\n          const yValues = effectiveParsing.y.map(\n            (fieldName) => this.getNestedValue(item, fieldName)\n          );\n          if (this.w.config.chart.type === \"bubble\" && yValues.length === 2) {\n            y = yValues[0];\n          } else {\n            y = yValues;\n          }\n        } else {\n          y = this.getNestedValue(item, effectiveParsing.y);\n        }\n        if (effectiveParsing.z) {\n          z = this.getNestedValue(item, effectiveParsing.z);\n        }\n        if (x === void 0) {\n          console.warn(\n            `ApexCharts: Series ${index}, data point ${itemIndex} missing field '${effectiveParsing.x}'`\n          );\n        }\n        if (y === void 0) {\n          console.warn(\n            `ApexCharts: Series ${index}, data point ${itemIndex} missing field '${effectiveParsing.y}'`\n          );\n        }\n        const result = { x, y };\n        if (this.w.config.chart.type === \"bubble\" && Array.isArray(effectiveParsing.y) && effectiveParsing.y.length === 2) {\n          const zValue = this.getNestedValue(item, effectiveParsing.y[1]);\n          if (zValue !== void 0) {\n            result.z = zValue;\n          }\n        }\n        if (z !== void 0) {\n          result.z = z;\n        }\n        return result;\n      });\n      return __spreadProps(__spreadValues({}, serie), {\n        data: transformedData,\n        __apexParsed: true\n      });\n    });\n    gl.dataWasParsed = true;\n    if (!gl.originalSeries) {\n      gl.originalSeries = Utils$1.clone(series);\n    }\n    return processedSeries;\n  }\n  /**\n   * Get nested object value using dot notation path\n   * @param {Object} obj - The object to search in\n   * @param {string} path - Dot notation path (e.g., 'user.profile.name')\n   * @returns {*} The value at the path, or undefined if not found\n   */\n  getNestedValue(obj, path) {\n    if (!obj || typeof obj !== \"object\" || !path) {\n      return void 0;\n    }\n    if (path.indexOf(\".\") === -1) {\n      return obj[path];\n    }\n    const keys = path.split(\".\");\n    let current = obj;\n    for (let i = 0; i < keys.length; i++) {\n      if (current === null || current === void 0 || typeof current !== \"object\") {\n        return void 0;\n      }\n      current = current[keys[i]];\n    }\n    return current;\n  }\n  // Segregate user provided data into appropriate vars\n  parseData(ser) {\n    let w = this.w;\n    let cnf = w.config;\n    let gl = w.globals;\n    ser = this.parseRawDataIfNeeded(ser);\n    cnf.series = ser;\n    gl.initialSeries = Utils$1.clone(ser);\n    this.excludeCollapsedSeriesInYAxis();\n    this.fallbackToCategory = false;\n    this.ctx.core.resetGlobals();\n    this.ctx.core.isMultipleY();\n    if (gl.axisCharts) {\n      this.parseDataAxisCharts(ser);\n      this.coreUtils.getLargestSeries();\n    } else {\n      this.parseDataNonAxisCharts(ser);\n    }\n    if (cnf.chart.stacked) {\n      const series = new Series(this.ctx);\n      gl.series = series.setNullSeriesToZeroValues(gl.series);\n    }\n    this.coreUtils.getSeriesTotals();\n    if (gl.axisCharts) {\n      gl.stackedSeriesTotals = this.coreUtils.getStackedSeriesTotals();\n      gl.stackedSeriesTotalsByGroups = this.coreUtils.getStackedSeriesTotalsByGroups();\n    }\n    this.coreUtils.getPercentSeries();\n    if (!gl.dataFormatXNumeric && (!gl.isXNumeric || cnf.xaxis.type === \"numeric\" && cnf.labels.length === 0 && cnf.xaxis.categories.length === 0)) {\n      this.handleExternalLabelsData(ser);\n    }\n    const catLabels = this.coreUtils.getCategoryLabels(gl.labels);\n    for (let l = 0; l < catLabels.length; l++) {\n      if (Array.isArray(catLabels[l])) {\n        gl.isMultiLineX = true;\n        break;\n      }\n    }\n  }\n  excludeCollapsedSeriesInYAxis() {\n    const w = this.w;\n    let yAxisIndexes = [];\n    w.globals.seriesYAxisMap.forEach((yAxisArr, yi) => {\n      let collapsedCount = 0;\n      yAxisArr.forEach((seriesIndex) => {\n        if (w.globals.collapsedSeriesIndices.indexOf(seriesIndex) !== -1) {\n          collapsedCount++;\n        }\n      });\n      if (collapsedCount > 0 && collapsedCount == yAxisArr.length) {\n        yAxisIndexes.push(yi);\n      }\n    });\n    w.globals.ignoreYAxisIndexes = yAxisIndexes.map((x) => x);\n  }\n}\nclass Exports {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  svgStringToNode(svgString) {\n    const parser = new DOMParser();\n    const svgDoc = parser.parseFromString(svgString, \"image/svg+xml\");\n    return svgDoc.documentElement;\n  }\n  scaleSvgNode(svg, scale) {\n    let svgWidth = parseFloat(svg.getAttributeNS(null, \"width\"));\n    let svgHeight = parseFloat(svg.getAttributeNS(null, \"height\"));\n    svg.setAttributeNS(null, \"width\", svgWidth * scale);\n    svg.setAttributeNS(null, \"height\", svgHeight * scale);\n    svg.setAttributeNS(null, \"viewBox\", \"0 0 \" + svgWidth + \" \" + svgHeight);\n  }\n  getSvgString(_scale) {\n    return new Promise((resolve) => {\n      const w = this.w;\n      let scale = _scale || w.config.chart.toolbar.export.scale || w.config.chart.toolbar.export.width / w.globals.svgWidth;\n      if (!scale) {\n        scale = 1;\n      }\n      const width = w.globals.svgWidth * scale;\n      const height = w.globals.svgHeight * scale;\n      const clonedNode = w.globals.dom.elWrap.cloneNode(true);\n      clonedNode.style.width = width + \"px\";\n      clonedNode.style.height = height + \"px\";\n      const serializedNode = new XMLSerializer().serializeToString(clonedNode);\n      const shouldIncludeLegendStyles = w.config.legend.show && w.globals.dom.elLegendWrap && w.globals.dom.elLegendWrap.children.length > 0;\n      let exportStyles = `\n        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {\n          display: none;\n        }\n      `;\n      if (shouldIncludeLegendStyles) {\n        exportStyles += apexchartsLegendCSS;\n      }\n      let svgString = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n          version=\"1.1\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          class=\"apexcharts-svg\"\n          xmlns:data=\"ApexChartsNS\"\n          transform=\"translate(0, 0)\"\n          width=\"${w.globals.svgWidth}px\" height=\"${w.globals.svgHeight}px\">\n          <foreignObject width=\"100%\" height=\"100%\">\n            <div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"width:${width}px; height:${height}px;\">\n            <style type=\"text/css\">\n              ${exportStyles}\n            </style>\n              ${serializedNode}\n            </div>\n          </foreignObject>\n        </svg>\n      `;\n      const svgNode = this.svgStringToNode(svgString);\n      if (scale !== 1) {\n        this.scaleSvgNode(svgNode, scale);\n      }\n      this.convertImagesToBase64(svgNode).then(() => {\n        svgString = new XMLSerializer().serializeToString(svgNode);\n        resolve(svgString.replace(/&nbsp;/g, \"&#160;\"));\n      });\n    });\n  }\n  convertImagesToBase64(svgNode) {\n    const images = svgNode.getElementsByTagName(\"image\");\n    const promises = Array.from(images).map((img) => {\n      const href = img.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n      if (href && !href.startsWith(\"data:\")) {\n        return this.getBase64FromUrl(href).then((base64) => {\n          img.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", base64);\n        }).catch((error) => {\n          console.error(\"Error converting image to base64:\", error);\n        });\n      }\n      return Promise.resolve();\n    });\n    return Promise.all(promises);\n  }\n  getBase64FromUrl(url) {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.crossOrigin = \"Anonymous\";\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        resolve(canvas.toDataURL());\n      };\n      img.onerror = reject;\n      img.src = url;\n    });\n  }\n  svgUrl() {\n    return new Promise((resolve) => {\n      this.getSvgString().then((svgData) => {\n        const svgBlob = new Blob([svgData], {\n          type: \"image/svg+xml;charset=utf-8\"\n        });\n        resolve(URL.createObjectURL(svgBlob));\n      });\n    });\n  }\n  dataURI(options2) {\n    return new Promise((resolve) => {\n      const w = this.w;\n      const scale = options2 ? options2.scale || options2.width / w.globals.svgWidth : 1;\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = w.globals.svgWidth * scale;\n      canvas.height = parseInt(w.globals.dom.elWrap.style.height, 10) * scale;\n      const canvasBg = w.config.chart.background === \"transparent\" || !w.config.chart.background ? \"#fff\" : w.config.chart.background;\n      let ctx = canvas.getContext(\"2d\");\n      ctx.fillStyle = canvasBg;\n      ctx.fillRect(0, 0, canvas.width * scale, canvas.height * scale);\n      this.getSvgString(scale).then((svgData) => {\n        const svgUrl = \"data:image/svg+xml,\" + encodeURIComponent(svgData);\n        let img = new Image();\n        img.crossOrigin = \"anonymous\";\n        img.onload = () => {\n          ctx.drawImage(img, 0, 0);\n          if (canvas.msToBlob) {\n            let blob = canvas.msToBlob();\n            resolve({ blob });\n          } else {\n            let imgURI = canvas.toDataURL(\"image/png\");\n            resolve({ imgURI });\n          }\n        };\n        img.src = svgUrl;\n      });\n    });\n  }\n  exportToSVG() {\n    this.svgUrl().then((url) => {\n      this.triggerDownload(\n        url,\n        this.w.config.chart.toolbar.export.svg.filename,\n        \".svg\"\n      );\n    });\n  }\n  exportToPng() {\n    const scale = this.w.config.chart.toolbar.export.scale;\n    const width = this.w.config.chart.toolbar.export.width;\n    const option = scale ? { scale } : width ? { width } : void 0;\n    this.dataURI(option).then(({ imgURI, blob }) => {\n      if (blob) {\n        navigator.msSaveOrOpenBlob(blob, this.w.globals.chartID + \".png\");\n      } else {\n        this.triggerDownload(\n          imgURI,\n          this.w.config.chart.toolbar.export.png.filename,\n          \".png\"\n        );\n      }\n    });\n  }\n  exportToCSV({\n    series,\n    fileName,\n    columnDelimiter = \",\",\n    lineDelimiter = \"\\n\"\n  }) {\n    const w = this.w;\n    if (!series) series = w.config.series;\n    let columns = [];\n    let rows = [];\n    let result = \"\";\n    let universalBOM = \"\\uFEFF\";\n    let gSeries = w.globals.series.map((s, i) => {\n      return w.globals.collapsedSeriesIndices.indexOf(i) === -1 ? s : [];\n    });\n    const getFormattedCategory = (cat) => {\n      if (typeof w.config.chart.toolbar.export.csv.categoryFormatter === \"function\") {\n        return w.config.chart.toolbar.export.csv.categoryFormatter(cat);\n      }\n      if (w.config.xaxis.type === \"datetime\" && String(cat).length >= 10) {\n        return new Date(cat).toDateString();\n      }\n      return Utils$1.isNumber(cat) ? cat : cat.split(columnDelimiter).join(\"\");\n    };\n    const getFormattedValue = (value) => {\n      return typeof w.config.chart.toolbar.export.csv.valueFormatter === \"function\" ? w.config.chart.toolbar.export.csv.valueFormatter(value) : value;\n    };\n    const seriesMaxDataLength = Math.max(\n      ...series.map((s) => {\n        return s.data ? s.data.length : 0;\n      })\n    );\n    const dataFormat = new Data(this.ctx);\n    const axesUtils = new AxesUtils(this.ctx);\n    const getCat = (i) => {\n      let cat = \"\";\n      if (!w.globals.axisCharts) {\n        cat = w.config.labels[i];\n      } else {\n        if (w.config.xaxis.type === \"category\" || w.config.xaxis.convertedCatToNumeric) {\n          if (w.globals.isBarHorizontal) {\n            let lbFormatter = w.globals.yLabelFormatters[0];\n            let sr = new Series(this.ctx);\n            let activeSeries = sr.getActiveConfigSeriesIndex();\n            cat = lbFormatter(w.globals.labels[i], {\n              seriesIndex: activeSeries,\n              dataPointIndex: i,\n              w\n            });\n          } else {\n            cat = axesUtils.getLabel(\n              w.globals.labels,\n              w.globals.timescaleLabels,\n              0,\n              i\n            ).text;\n          }\n        }\n        if (w.config.xaxis.type === \"datetime\") {\n          if (w.config.xaxis.categories.length) {\n            cat = w.config.xaxis.categories[i];\n          } else if (w.config.labels.length) {\n            cat = w.config.labels[i];\n          }\n        }\n      }\n      if (cat === null) return \"nullvalue\";\n      if (Array.isArray(cat)) {\n        cat = cat.join(\" \");\n      }\n      return Utils$1.isNumber(cat) ? cat : cat.split(columnDelimiter).join(\"\");\n    };\n    const getEmptyDataForCsvColumn = () => {\n      return [...Array(seriesMaxDataLength)].map(() => \"\");\n    };\n    const handleAxisRowsColumns = (s, sI) => {\n      var _a;\n      if (columns.length && sI === 0) {\n        rows.push(columns.join(columnDelimiter));\n      }\n      if (s.data) {\n        s.data = s.data.length && s.data || getEmptyDataForCsvColumn();\n        for (let i = 0; i < s.data.length; i++) {\n          columns = [];\n          let cat = getCat(i);\n          if (cat === \"nullvalue\") continue;\n          if (!cat) {\n            if (dataFormat.isFormatXY()) {\n              cat = series[sI].data[i].x;\n            } else if (dataFormat.isFormat2DArray()) {\n              cat = series[sI].data[i] ? series[sI].data[i][0] : \"\";\n            }\n          }\n          if (sI === 0) {\n            columns.push(getFormattedCategory(cat));\n            for (let ci = 0; ci < w.globals.series.length; ci++) {\n              const value = dataFormat.isFormatXY() ? (_a = series[ci].data[i]) == null ? void 0 : _a.y : gSeries[ci][i];\n              columns.push(getFormattedValue(value));\n            }\n          }\n          if (w.config.chart.type === \"candlestick\" || s.type && s.type === \"candlestick\") {\n            columns.pop();\n            columns.push(w.globals.seriesCandleO[sI][i]);\n            columns.push(w.globals.seriesCandleH[sI][i]);\n            columns.push(w.globals.seriesCandleL[sI][i]);\n            columns.push(w.globals.seriesCandleC[sI][i]);\n          }\n          if (w.config.chart.type === \"boxPlot\" || s.type && s.type === \"boxPlot\") {\n            columns.pop();\n            columns.push(w.globals.seriesCandleO[sI][i]);\n            columns.push(w.globals.seriesCandleH[sI][i]);\n            columns.push(w.globals.seriesCandleM[sI][i]);\n            columns.push(w.globals.seriesCandleL[sI][i]);\n            columns.push(w.globals.seriesCandleC[sI][i]);\n          }\n          if (w.config.chart.type === \"rangeBar\") {\n            columns.pop();\n            columns.push(w.globals.seriesRangeStart[sI][i]);\n            columns.push(w.globals.seriesRangeEnd[sI][i]);\n          }\n          if (columns.length) {\n            rows.push(columns.join(columnDelimiter));\n          }\n        }\n      }\n    };\n    const handleUnequalXValues = () => {\n      const categories = /* @__PURE__ */ new Set();\n      const data = {};\n      series.forEach((s, sI) => {\n        s == null ? void 0 : s.data.forEach((dataItem) => {\n          let cat, value;\n          if (dataFormat.isFormatXY()) {\n            cat = dataItem.x;\n            value = dataItem.y;\n          } else if (dataFormat.isFormat2DArray()) {\n            cat = dataItem[0];\n            value = dataItem[1];\n          } else {\n            return;\n          }\n          if (!data[cat]) {\n            data[cat] = Array(series.length).fill(\"\");\n          }\n          data[cat][sI] = getFormattedValue(value);\n          categories.add(cat);\n        });\n      });\n      if (columns.length) {\n        rows.push(columns.join(columnDelimiter));\n      }\n      Array.from(categories).sort().forEach((cat) => {\n        rows.push([\n          getFormattedCategory(cat),\n          data[cat].join(columnDelimiter)\n        ]);\n      });\n    };\n    columns.push(w.config.chart.toolbar.export.csv.headerCategory);\n    if (w.config.chart.type === \"boxPlot\") {\n      columns.push(\"minimum\");\n      columns.push(\"q1\");\n      columns.push(\"median\");\n      columns.push(\"q3\");\n      columns.push(\"maximum\");\n    } else if (w.config.chart.type === \"candlestick\") {\n      columns.push(\"open\");\n      columns.push(\"high\");\n      columns.push(\"low\");\n      columns.push(\"close\");\n    } else if (w.config.chart.type === \"rangeBar\") {\n      columns.push(\"minimum\");\n      columns.push(\"maximum\");\n    } else {\n      series.map((s, sI) => {\n        const sname = (s.name ? s.name : `series-${sI}`) + \"\";\n        if (w.globals.axisCharts) {\n          columns.push(\n            sname.split(columnDelimiter).join(\"\") ? sname.split(columnDelimiter).join(\"\") : `series-${sI}`\n          );\n        }\n      });\n    }\n    if (!w.globals.axisCharts) {\n      columns.push(w.config.chart.toolbar.export.csv.headerValue);\n      rows.push(columns.join(columnDelimiter));\n    }\n    if (!w.globals.allSeriesHasEqualX && w.globals.axisCharts && !w.config.xaxis.categories.length && !w.config.labels.length) {\n      handleUnequalXValues();\n    } else {\n      series.map((s, sI) => {\n        if (w.globals.axisCharts) {\n          handleAxisRowsColumns(s, sI);\n        } else {\n          columns = [];\n          columns.push(getFormattedCategory(w.globals.labels[sI]));\n          columns.push(getFormattedValue(gSeries[sI]));\n          rows.push(columns.join(columnDelimiter));\n        }\n      });\n    }\n    result += rows.join(lineDelimiter);\n    this.triggerDownload(\n      \"data:text/csv; charset=utf-8,\" + encodeURIComponent(universalBOM + result),\n      fileName ? fileName : w.config.chart.toolbar.export.csv.filename,\n      \".csv\"\n    );\n  }\n  triggerDownload(href, filename, ext) {\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = href;\n    downloadLink.download = (filename ? filename : this.w.globals.chartID) + ext;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n}\nclass XAxis {\n  constructor(ctx, elgrid) {\n    this.ctx = ctx;\n    this.elgrid = elgrid;\n    this.w = ctx.w;\n    const w = this.w;\n    this.axesUtils = new AxesUtils(ctx);\n    this.xaxisLabels = w.globals.labels.slice();\n    if (w.globals.timescaleLabels.length > 0 && !w.globals.isBarHorizontal) {\n      this.xaxisLabels = w.globals.timescaleLabels.slice();\n    }\n    if (w.config.xaxis.overwriteCategories) {\n      this.xaxisLabels = w.config.xaxis.overwriteCategories;\n    }\n    this.drawnLabels = [];\n    this.drawnLabelsRects = [];\n    if (w.config.xaxis.position === \"top\") {\n      this.offY = 0;\n    } else {\n      this.offY = w.globals.gridHeight;\n    }\n    this.offY = this.offY + w.config.xaxis.axisBorder.offsetY;\n    this.isCategoryBarHorizontal = w.config.chart.type === \"bar\" && w.config.plotOptions.bar.horizontal;\n    this.xaxisFontSize = w.config.xaxis.labels.style.fontSize;\n    this.xaxisFontFamily = w.config.xaxis.labels.style.fontFamily;\n    this.xaxisForeColors = w.config.xaxis.labels.style.colors;\n    this.xaxisBorderWidth = w.config.xaxis.axisBorder.width;\n    if (this.isCategoryBarHorizontal) {\n      this.xaxisBorderWidth = w.config.yaxis[0].axisBorder.width.toString();\n    }\n    if (String(this.xaxisBorderWidth).indexOf(\"%\") > -1) {\n      this.xaxisBorderWidth = w.globals.gridWidth * parseInt(this.xaxisBorderWidth, 10) / 100;\n    } else {\n      this.xaxisBorderWidth = parseInt(this.xaxisBorderWidth, 10);\n    }\n    this.xaxisBorderHeight = w.config.xaxis.axisBorder.height;\n    this.yaxis = w.config.yaxis[0];\n  }\n  drawXaxis() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let elXaxis = graphics.group({\n      class: \"apexcharts-xaxis\",\n      transform: `translate(${w.config.xaxis.offsetX}, ${w.config.xaxis.offsetY})`\n    });\n    let elXaxisTexts = graphics.group({\n      class: \"apexcharts-xaxis-texts-g\",\n      transform: `translate(${w.globals.translateXAxisX}, ${w.globals.translateXAxisY})`\n    });\n    elXaxis.add(elXaxisTexts);\n    let labels = [];\n    for (let i = 0; i < this.xaxisLabels.length; i++) {\n      labels.push(this.xaxisLabels[i]);\n    }\n    this.drawXAxisLabelAndGroup(\n      true,\n      graphics,\n      elXaxisTexts,\n      labels,\n      w.globals.isXNumeric,\n      (i, colWidth) => colWidth\n    );\n    if (w.globals.hasXaxisGroups) {\n      let labelsGroup = w.globals.groups;\n      labels = [];\n      for (let i = 0; i < labelsGroup.length; i++) {\n        labels.push(labelsGroup[i].title);\n      }\n      let overwriteStyles = {};\n      if (w.config.xaxis.group.style) {\n        overwriteStyles.xaxisFontSize = w.config.xaxis.group.style.fontSize;\n        overwriteStyles.xaxisFontFamily = w.config.xaxis.group.style.fontFamily;\n        overwriteStyles.xaxisForeColors = w.config.xaxis.group.style.colors;\n        overwriteStyles.fontWeight = w.config.xaxis.group.style.fontWeight;\n        overwriteStyles.cssClass = w.config.xaxis.group.style.cssClass;\n      }\n      this.drawXAxisLabelAndGroup(\n        false,\n        graphics,\n        elXaxisTexts,\n        labels,\n        false,\n        (i, colWidth) => labelsGroup[i].cols * colWidth,\n        overwriteStyles\n      );\n    }\n    if (w.config.xaxis.title.text !== void 0) {\n      let elXaxisTitle = graphics.group({\n        class: \"apexcharts-xaxis-title\"\n      });\n      let elXAxisTitleText = graphics.drawText({\n        x: w.globals.gridWidth / 2 + w.config.xaxis.title.offsetX,\n        y: this.offY + parseFloat(this.xaxisFontSize) + (w.config.xaxis.position === \"bottom\" ? w.globals.xAxisLabelsHeight : -w.globals.xAxisLabelsHeight - 10) + w.config.xaxis.title.offsetY,\n        text: w.config.xaxis.title.text,\n        textAnchor: \"middle\",\n        fontSize: w.config.xaxis.title.style.fontSize,\n        fontFamily: w.config.xaxis.title.style.fontFamily,\n        fontWeight: w.config.xaxis.title.style.fontWeight,\n        foreColor: w.config.xaxis.title.style.color,\n        cssClass: \"apexcharts-xaxis-title-text \" + w.config.xaxis.title.style.cssClass\n      });\n      elXaxisTitle.add(elXAxisTitleText);\n      elXaxis.add(elXaxisTitle);\n    }\n    if (w.config.xaxis.axisBorder.show) {\n      const offX = w.globals.barPadForNumericAxis;\n      let elHorzLine = graphics.drawLine(\n        w.globals.padHorizontal + w.config.xaxis.axisBorder.offsetX - offX,\n        this.offY,\n        this.xaxisBorderWidth + offX,\n        this.offY,\n        w.config.xaxis.axisBorder.color,\n        0,\n        this.xaxisBorderHeight\n      );\n      if (this.elgrid && this.elgrid.elGridBorders && w.config.grid.show) {\n        this.elgrid.elGridBorders.add(elHorzLine);\n      } else {\n        elXaxis.add(elHorzLine);\n      }\n    }\n    return elXaxis;\n  }\n  drawXAxisLabelAndGroup(isLeafGroup, graphics, elXaxisTexts, labels, isXNumeric, colWidthCb, overwriteStyles = {}) {\n    let drawnLabels = [];\n    let drawnLabelsRects = [];\n    let w = this.w;\n    const xaxisFontSize = overwriteStyles.xaxisFontSize || this.xaxisFontSize;\n    const xaxisFontFamily = overwriteStyles.xaxisFontFamily || this.xaxisFontFamily;\n    const xaxisForeColors = overwriteStyles.xaxisForeColors || this.xaxisForeColors;\n    const fontWeight = overwriteStyles.fontWeight || w.config.xaxis.labels.style.fontWeight;\n    const cssClass = overwriteStyles.cssClass || w.config.xaxis.labels.style.cssClass;\n    let colWidth;\n    let xPos = w.globals.padHorizontal;\n    let labelsLen = labels.length;\n    let dataPoints = w.config.xaxis.type === \"category\" ? w.globals.dataPoints : labelsLen;\n    if (dataPoints === 0 && labelsLen > dataPoints) dataPoints = labelsLen;\n    if (isXNumeric) {\n      let len = Math.max(\n        Number(w.config.xaxis.tickAmount) || 1,\n        dataPoints > 1 ? dataPoints - 1 : dataPoints\n      );\n      colWidth = w.globals.gridWidth / Math.min(len, labelsLen - 1);\n      xPos = xPos + colWidthCb(0, colWidth) / 2 + w.config.xaxis.labels.offsetX;\n    } else {\n      colWidth = w.globals.gridWidth / dataPoints;\n      xPos = xPos + colWidthCb(0, colWidth) + w.config.xaxis.labels.offsetX;\n    }\n    for (let i = 0; i <= labelsLen - 1; i++) {\n      let x = xPos - colWidthCb(i, colWidth) / 2 + w.config.xaxis.labels.offsetX;\n      if (i === 0 && labelsLen === 1 && colWidth / 2 === xPos && dataPoints === 1) {\n        x = w.globals.gridWidth / 2;\n      }\n      let label = this.axesUtils.getLabel(\n        labels,\n        w.globals.timescaleLabels,\n        x,\n        i,\n        drawnLabels,\n        xaxisFontSize,\n        isLeafGroup\n      );\n      let offsetYCorrection = 28;\n      if (w.globals.rotateXLabels && isLeafGroup) {\n        offsetYCorrection = 22;\n      }\n      if (w.config.xaxis.title.text && w.config.xaxis.position === \"top\") {\n        offsetYCorrection += parseFloat(w.config.xaxis.title.style.fontSize) + 2;\n      }\n      if (!isLeafGroup) {\n        offsetYCorrection = offsetYCorrection + parseFloat(xaxisFontSize) + (w.globals.xAxisLabelsHeight - w.globals.xAxisGroupLabelsHeight) + (w.globals.rotateXLabels ? 10 : 0);\n      }\n      const isCategoryTickAmounts = typeof w.config.xaxis.tickAmount !== \"undefined\" && w.config.xaxis.tickAmount !== \"dataPoints\" && w.config.xaxis.type !== \"datetime\";\n      if (isCategoryTickAmounts) {\n        label = this.axesUtils.checkLabelBasedOnTickamount(i, label, labelsLen);\n      } else {\n        label = this.axesUtils.checkForOverflowingLabels(\n          i,\n          label,\n          labelsLen,\n          drawnLabels,\n          drawnLabelsRects\n        );\n      }\n      const getCatForeColor = () => {\n        return isLeafGroup && w.config.xaxis.convertedCatToNumeric ? xaxisForeColors[w.globals.minX + i - 1] : xaxisForeColors[i];\n      };\n      if (w.config.xaxis.labels.show) {\n        let elText = graphics.drawText({\n          x: label.x,\n          y: this.offY + w.config.xaxis.labels.offsetY + offsetYCorrection - (w.config.xaxis.position === \"top\" ? w.globals.xAxisHeight + w.config.xaxis.axisTicks.height - 2 : 0),\n          text: label.text,\n          textAnchor: \"middle\",\n          fontWeight: label.isBold ? 600 : fontWeight,\n          fontSize: xaxisFontSize,\n          fontFamily: xaxisFontFamily,\n          foreColor: Array.isArray(xaxisForeColors) ? getCatForeColor() : xaxisForeColors,\n          isPlainText: false,\n          cssClass: (isLeafGroup ? \"apexcharts-xaxis-label \" : \"apexcharts-xaxis-group-label \") + cssClass\n        });\n        elXaxisTexts.add(elText);\n        elText.on(\"click\", (e) => {\n          if (typeof w.config.chart.events.xAxisLabelClick === \"function\") {\n            const opts = Object.assign({}, w, {\n              labelIndex: i\n            });\n            w.config.chart.events.xAxisLabelClick(e, this.ctx, opts);\n          }\n        });\n        if (isLeafGroup) {\n          let elTooltipTitle = document.createElementNS(\n            w.globals.SVGNS,\n            \"title\"\n          );\n          elTooltipTitle.textContent = Array.isArray(label.text) ? label.text.join(\" \") : label.text;\n          elText.node.appendChild(elTooltipTitle);\n          if (label.text !== \"\") {\n            drawnLabels.push(label.text);\n            drawnLabelsRects.push(label);\n          }\n        }\n      }\n      if (i < labelsLen - 1) {\n        xPos = xPos + colWidthCb(i + 1, colWidth);\n      }\n    }\n  }\n  // this actually becomes the vertical axis (for bar charts)\n  drawXaxisInversed(realIndex) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let translateYAxisX = w.config.yaxis[0].opposite ? w.globals.translateYAxisX[realIndex] : 0;\n    let elYaxis = graphics.group({\n      class: \"apexcharts-yaxis apexcharts-xaxis-inversed\",\n      rel: realIndex\n    });\n    let elYaxisTexts = graphics.group({\n      class: \"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g\",\n      transform: \"translate(\" + translateYAxisX + \", 0)\"\n    });\n    elYaxis.add(elYaxisTexts);\n    let colHeight;\n    let yPos;\n    let labels = [];\n    if (w.config.yaxis[realIndex].show) {\n      for (let i = 0; i < this.xaxisLabels.length; i++) {\n        labels.push(this.xaxisLabels[i]);\n      }\n    }\n    colHeight = w.globals.gridHeight / labels.length;\n    yPos = -(colHeight / 2.2);\n    let lbFormatter = w.globals.yLabelFormatters[0];\n    const ylabels = w.config.yaxis[0].labels;\n    if (ylabels.show) {\n      for (let i = 0; i <= labels.length - 1; i++) {\n        let label = typeof labels[i] === \"undefined\" ? \"\" : labels[i];\n        label = lbFormatter(label, {\n          seriesIndex: realIndex,\n          dataPointIndex: i,\n          w\n        });\n        const yColors = this.axesUtils.getYAxisForeColor(\n          ylabels.style.colors,\n          realIndex\n        );\n        const getForeColor = () => {\n          return Array.isArray(yColors) ? yColors[i] : yColors;\n        };\n        let multiY = 0;\n        if (Array.isArray(label)) {\n          multiY = label.length / 2 * parseInt(ylabels.style.fontSize, 10);\n        }\n        let offsetX = ylabels.offsetX - 15;\n        let textAnchor = \"end\";\n        if (this.yaxis.opposite) {\n          textAnchor = \"start\";\n        }\n        if (w.config.yaxis[0].labels.align === \"left\") {\n          offsetX = ylabels.offsetX;\n          textAnchor = \"start\";\n        } else if (w.config.yaxis[0].labels.align === \"center\") {\n          offsetX = ylabels.offsetX;\n          textAnchor = \"middle\";\n        } else if (w.config.yaxis[0].labels.align === \"right\") {\n          textAnchor = \"end\";\n        }\n        let elLabel = graphics.drawText({\n          x: offsetX,\n          y: yPos + colHeight + ylabels.offsetY - multiY,\n          text: label,\n          textAnchor,\n          foreColor: getForeColor(),\n          fontSize: ylabels.style.fontSize,\n          fontFamily: ylabels.style.fontFamily,\n          fontWeight: ylabels.style.fontWeight,\n          isPlainText: false,\n          cssClass: \"apexcharts-yaxis-label \" + ylabels.style.cssClass,\n          maxWidth: ylabels.maxWidth\n        });\n        elYaxisTexts.add(elLabel);\n        elLabel.on(\"click\", (e) => {\n          if (typeof w.config.chart.events.xAxisLabelClick === \"function\") {\n            const opts = Object.assign({}, w, {\n              labelIndex: i\n            });\n            w.config.chart.events.xAxisLabelClick(e, this.ctx, opts);\n          }\n        });\n        let elTooltipTitle = document.createElementNS(w.globals.SVGNS, \"title\");\n        elTooltipTitle.textContent = Array.isArray(label) ? label.join(\" \") : label;\n        elLabel.node.appendChild(elTooltipTitle);\n        if (w.config.yaxis[realIndex].labels.rotate !== 0) {\n          let labelRotatingCenter = graphics.rotateAroundCenter(elLabel.node);\n          elLabel.node.setAttribute(\n            \"transform\",\n            `rotate(${w.config.yaxis[realIndex].labels.rotate} 0 ${labelRotatingCenter.y})`\n          );\n        }\n        yPos = yPos + colHeight;\n      }\n    }\n    if (w.config.yaxis[0].title.text !== void 0) {\n      let elXaxisTitle = graphics.group({\n        class: \"apexcharts-yaxis-title apexcharts-xaxis-title-inversed\",\n        transform: \"translate(\" + translateYAxisX + \", 0)\"\n      });\n      let elXAxisTitleText = graphics.drawText({\n        x: w.config.yaxis[0].title.offsetX,\n        y: w.globals.gridHeight / 2 + w.config.yaxis[0].title.offsetY,\n        text: w.config.yaxis[0].title.text,\n        textAnchor: \"middle\",\n        foreColor: w.config.yaxis[0].title.style.color,\n        fontSize: w.config.yaxis[0].title.style.fontSize,\n        fontWeight: w.config.yaxis[0].title.style.fontWeight,\n        fontFamily: w.config.yaxis[0].title.style.fontFamily,\n        cssClass: \"apexcharts-yaxis-title-text \" + w.config.yaxis[0].title.style.cssClass\n      });\n      elXaxisTitle.add(elXAxisTitleText);\n      elYaxis.add(elXaxisTitle);\n    }\n    let offX = 0;\n    if (this.isCategoryBarHorizontal && w.config.yaxis[0].opposite) {\n      offX = w.globals.gridWidth;\n    }\n    const axisBorder = w.config.xaxis.axisBorder;\n    if (axisBorder.show) {\n      let elVerticalLine = graphics.drawLine(\n        w.globals.padHorizontal + axisBorder.offsetX + offX,\n        1 + axisBorder.offsetY,\n        w.globals.padHorizontal + axisBorder.offsetX + offX,\n        w.globals.gridHeight + axisBorder.offsetY,\n        axisBorder.color,\n        0\n      );\n      if (this.elgrid && this.elgrid.elGridBorders && w.config.grid.show) {\n        this.elgrid.elGridBorders.add(elVerticalLine);\n      } else {\n        elYaxis.add(elVerticalLine);\n      }\n    }\n    if (w.config.yaxis[0].axisTicks.show) {\n      this.axesUtils.drawYAxisTicks(\n        offX,\n        labels.length,\n        w.config.yaxis[0].axisBorder,\n        w.config.yaxis[0].axisTicks,\n        0,\n        colHeight,\n        elYaxis\n      );\n    }\n    return elYaxis;\n  }\n  drawXaxisTicks(x1, y2, appendToElement) {\n    let w = this.w;\n    let x2 = x1;\n    if (x1 < 0 || x1 - 2 > w.globals.gridWidth) return;\n    let y1 = this.offY + w.config.xaxis.axisTicks.offsetY;\n    y2 = y2 + y1 + w.config.xaxis.axisTicks.height;\n    if (w.config.xaxis.position === \"top\") {\n      y2 = y1 - w.config.xaxis.axisTicks.height;\n    }\n    if (w.config.xaxis.axisTicks.show) {\n      let graphics = new Graphics(this.ctx);\n      let line = graphics.drawLine(\n        x1 + w.config.xaxis.axisTicks.offsetX,\n        y1 + w.config.xaxis.offsetY,\n        x2 + w.config.xaxis.axisTicks.offsetX,\n        y2 + w.config.xaxis.offsetY,\n        w.config.xaxis.axisTicks.color\n      );\n      appendToElement.add(line);\n      line.node.classList.add(\"apexcharts-xaxis-tick\");\n    }\n  }\n  getXAxisTicksPositions() {\n    const w = this.w;\n    let xAxisTicksPositions = [];\n    const xCount = this.xaxisLabels.length;\n    let x1 = w.globals.padHorizontal;\n    if (w.globals.timescaleLabels.length > 0) {\n      for (let i = 0; i < xCount; i++) {\n        x1 = this.xaxisLabels[i].position;\n        xAxisTicksPositions.push(x1);\n      }\n    } else {\n      let xCountForCategoryCharts = xCount;\n      for (let i = 0; i < xCountForCategoryCharts; i++) {\n        let x1Count = xCountForCategoryCharts;\n        if (w.globals.isXNumeric && w.config.chart.type !== \"bar\") {\n          x1Count -= 1;\n        }\n        x1 = x1 + w.globals.gridWidth / x1Count;\n        xAxisTicksPositions.push(x1);\n      }\n    }\n    return xAxisTicksPositions;\n  }\n  // to rotate x-axis labels or to put ... for longer text in xaxis\n  xAxisLabelCorrections() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let xAxis = w.globals.dom.baseEl.querySelector(\".apexcharts-xaxis-texts-g\");\n    let xAxisTexts = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)\"\n    );\n    let yAxisTextsInversed = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-yaxis-inversed text\"\n    );\n    let xAxisTextsInversed = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-xaxis-inversed-texts-g text tspan\"\n    );\n    if (w.globals.rotateXLabels || w.config.xaxis.labels.rotateAlways) {\n      for (let xat = 0; xat < xAxisTexts.length; xat++) {\n        let textRotatingCenter = graphics.rotateAroundCenter(xAxisTexts[xat]);\n        textRotatingCenter.y = textRotatingCenter.y - 1;\n        textRotatingCenter.x = textRotatingCenter.x + 1;\n        xAxisTexts[xat].setAttribute(\n          \"transform\",\n          `rotate(${w.config.xaxis.labels.rotate} ${textRotatingCenter.x} ${textRotatingCenter.y})`\n        );\n        xAxisTexts[xat].setAttribute(\"text-anchor\", `end`);\n        xAxis.setAttribute(\"transform\", `translate(0, ${-10})`);\n        let tSpan = xAxisTexts[xat].childNodes;\n        if (w.config.xaxis.labels.trim) {\n          Array.prototype.forEach.call(tSpan, (ts) => {\n            graphics.placeTextWithEllipsis(\n              ts,\n              ts.textContent,\n              w.globals.xAxisLabelsHeight - (w.config.legend.position === \"bottom\" ? 20 : 10)\n            );\n          });\n        }\n      }\n    } else {\n      let width = w.globals.gridWidth / (w.globals.labels.length + 1);\n      for (let xat = 0; xat < xAxisTexts.length; xat++) {\n        let tSpan = xAxisTexts[xat].childNodes;\n        if (w.config.xaxis.labels.trim && w.config.xaxis.type !== \"datetime\") {\n          Array.prototype.forEach.call(tSpan, (ts) => {\n            graphics.placeTextWithEllipsis(ts, ts.textContent, width);\n          });\n        }\n      }\n    }\n    if (yAxisTextsInversed.length > 0) {\n      let firstLabelPosX = yAxisTextsInversed[yAxisTextsInversed.length - 1].getBBox();\n      let lastLabelPosX = yAxisTextsInversed[0].getBBox();\n      if (firstLabelPosX.x < -20) {\n        yAxisTextsInversed[yAxisTextsInversed.length - 1].parentNode.removeChild(\n          yAxisTextsInversed[yAxisTextsInversed.length - 1]\n        );\n      }\n      if (lastLabelPosX.x + lastLabelPosX.width > w.globals.gridWidth && !w.globals.isBarHorizontal) {\n        yAxisTextsInversed[0].parentNode.removeChild(yAxisTextsInversed[0]);\n      }\n      for (let xat = 0; xat < xAxisTextsInversed.length; xat++) {\n        graphics.placeTextWithEllipsis(\n          xAxisTextsInversed[xat],\n          xAxisTextsInversed[xat].textContent,\n          w.config.yaxis[0].labels.maxWidth - (w.config.yaxis[0].title.text ? parseFloat(w.config.yaxis[0].title.style.fontSize) * 2 : 0) - 15\n        );\n      }\n    }\n  }\n  // renderXAxisBands() {\n  //   let w = this.w;\n  //   let plotBand = document.createElementNS(w.globals.SVGNS, 'rect')\n  //   w.globals.dom.elGraphical.add(plotBand)\n  // }\n}\nclass Grid {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.xaxisLabels = w.globals.labels.slice();\n    this.axesUtils = new AxesUtils(ctx);\n    this.isRangeBar = w.globals.seriesRange.length && w.globals.isBarHorizontal;\n    if (w.globals.timescaleLabels.length > 0) {\n      this.xaxisLabels = w.globals.timescaleLabels.slice();\n    }\n  }\n  drawGridArea(elGrid = null) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    if (!elGrid) {\n      elGrid = graphics.group({ class: \"apexcharts-grid\" });\n    }\n    const elVerticalLine = graphics.drawLine(\n      w.globals.padHorizontal,\n      1,\n      w.globals.padHorizontal,\n      w.globals.gridHeight,\n      \"transparent\"\n    );\n    const elHorzLine = graphics.drawLine(\n      w.globals.padHorizontal,\n      w.globals.gridHeight,\n      w.globals.gridWidth,\n      w.globals.gridHeight,\n      \"transparent\"\n    );\n    elGrid.add(elHorzLine);\n    elGrid.add(elVerticalLine);\n    return elGrid;\n  }\n  drawGrid() {\n    const gl = this.w.globals;\n    if (gl.axisCharts) {\n      const elgrid = this.renderGrid();\n      this.drawGridArea(elgrid.el);\n      return elgrid;\n    }\n    return null;\n  }\n  createGridMask() {\n    const w = this.w;\n    const gl = w.globals;\n    const graphics = new Graphics(this.ctx);\n    const strokeSize = Array.isArray(w.config.stroke.width) ? Math.max(...w.config.stroke.width) : w.config.stroke.width;\n    const createClipPath = (id) => {\n      const clipPath = document.createElementNS(gl.SVGNS, \"clipPath\");\n      clipPath.setAttribute(\"id\", id);\n      return clipPath;\n    };\n    gl.dom.elGridRectMask = createClipPath(`gridRectMask${gl.cuid}`);\n    gl.dom.elGridRectBarMask = createClipPath(`gridRectBarMask${gl.cuid}`);\n    gl.dom.elGridRectMarkerMask = createClipPath(`gridRectMarkerMask${gl.cuid}`);\n    gl.dom.elForecastMask = createClipPath(`forecastMask${gl.cuid}`);\n    gl.dom.elNonForecastMask = createClipPath(`nonForecastMask${gl.cuid}`);\n    const hasBar = [\"bar\", \"rangeBar\", \"candlestick\", \"boxPlot\"].includes(\n      w.config.chart.type\n    ) || w.globals.comboBarCount > 0;\n    let barWidthLeft = 0;\n    let barWidthRight = 0;\n    if (hasBar && w.globals.isXNumeric && !w.globals.isBarHorizontal) {\n      barWidthLeft = Math.max(\n        w.config.grid.padding.left,\n        gl.barPadForNumericAxis\n      );\n      barWidthRight = Math.max(\n        w.config.grid.padding.right,\n        gl.barPadForNumericAxis\n      );\n    }\n    gl.dom.elGridRect = graphics.drawRect(\n      -strokeSize / 2 - 2,\n      -strokeSize / 2 - 2,\n      gl.gridWidth + strokeSize + 4,\n      gl.gridHeight + strokeSize + 4,\n      0,\n      \"#fff\"\n    );\n    gl.dom.elGridRectBar = graphics.drawRect(\n      -strokeSize / 2 - barWidthLeft - 2,\n      -strokeSize / 2 - 2,\n      gl.gridWidth + strokeSize + barWidthRight + barWidthLeft + 4,\n      gl.gridHeight + strokeSize + 4,\n      0,\n      \"#fff\"\n    );\n    const markerSize = w.globals.markers.largestSize;\n    gl.dom.elGridRectMarker = graphics.drawRect(\n      Math.min(-strokeSize / 2 - barWidthLeft - 2, -markerSize),\n      -markerSize,\n      gl.gridWidth + Math.max(strokeSize + barWidthRight + barWidthLeft + 4, markerSize * 2),\n      gl.gridHeight + markerSize * 2,\n      0,\n      \"#fff\"\n    );\n    gl.dom.elGridRectMask.appendChild(gl.dom.elGridRect.node);\n    gl.dom.elGridRectBarMask.appendChild(gl.dom.elGridRectBar.node);\n    gl.dom.elGridRectMarkerMask.appendChild(gl.dom.elGridRectMarker.node);\n    const defs = gl.dom.baseEl.querySelector(\"defs\");\n    defs.appendChild(gl.dom.elGridRectMask);\n    defs.appendChild(gl.dom.elGridRectBarMask);\n    defs.appendChild(gl.dom.elGridRectMarkerMask);\n    defs.appendChild(gl.dom.elForecastMask);\n    defs.appendChild(gl.dom.elNonForecastMask);\n  }\n  _drawGridLines({ i, x1, y1, x2, y2, xCount, parent }) {\n    const w = this.w;\n    const shouldDraw = () => {\n      if (i === 0 && w.globals.skipFirstTimelinelabel) return false;\n      if (i === xCount - 1 && w.globals.skipLastTimelinelabel && !w.config.xaxis.labels.formatter)\n        return false;\n      if (w.config.chart.type === \"radar\") return false;\n      return true;\n    };\n    if (shouldDraw()) {\n      if (w.config.grid.xaxis.lines.show) {\n        this._drawGridLine({ i, x1, y1, x2, y2, xCount, parent });\n      }\n      let y_2 = 0;\n      if (w.globals.hasXaxisGroups && w.config.xaxis.tickPlacement === \"between\") {\n        const groups = w.globals.groups;\n        if (groups) {\n          let gacc = 0;\n          for (let gi = 0; gacc < i && gi < groups.length; gi++) {\n            gacc += groups[gi].cols;\n          }\n          if (gacc === i) {\n            y_2 = w.globals.xAxisLabelsHeight * 0.6;\n          }\n        }\n      }\n      const xAxis = new XAxis(this.ctx);\n      xAxis.drawXaxisTicks(x1, y_2, w.globals.dom.elGraphical);\n    }\n  }\n  _drawGridLine({ i, x1, y1, x2, y2, xCount, parent }) {\n    const w = this.w;\n    const isHorzLine = parent.node.classList.contains(\n      \"apexcharts-gridlines-horizontal\"\n    );\n    const offX = w.globals.barPadForNumericAxis;\n    const excludeBorders = y1 === 0 && y2 === 0 || x1 === 0 && x2 === 0 || y1 === w.globals.gridHeight && y2 === w.globals.gridHeight || w.globals.isBarHorizontal && (i === 0 || i === xCount - 1);\n    const graphics = new Graphics(this);\n    const line = graphics.drawLine(\n      x1 - (isHorzLine ? offX : 0),\n      y1,\n      x2 + (isHorzLine ? offX : 0),\n      y2,\n      w.config.grid.borderColor,\n      w.config.grid.strokeDashArray\n    );\n    line.node.classList.add(\"apexcharts-gridline\");\n    if (excludeBorders && w.config.grid.show) {\n      this.elGridBorders.add(line);\n    } else {\n      parent.add(line);\n    }\n  }\n  _drawGridBandRect({ c, x1, y1, x2, y2, type }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const offX = w.globals.barPadForNumericAxis;\n    const color = w.config.grid[type].colors[c];\n    const rect = graphics.drawRect(\n      x1 - (type === \"row\" ? offX : 0),\n      y1,\n      x2 + (type === \"row\" ? offX * 2 : 0),\n      y2,\n      0,\n      color,\n      w.config.grid[type].opacity\n    );\n    this.elg.add(rect);\n    rect.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n    rect.node.classList.add(`apexcharts-grid-${type}`);\n  }\n  _drawXYLines({ xCount, tickAmount }) {\n    const w = this.w;\n    const datetimeLines = ({ xC, x1, y1, x2, y2 }) => {\n      for (let i = 0; i < xC; i++) {\n        x1 = this.xaxisLabels[i].position;\n        x2 = this.xaxisLabels[i].position;\n        this._drawGridLines({\n          i,\n          x1,\n          y1,\n          x2,\n          y2,\n          xCount,\n          parent: this.elgridLinesV\n        });\n      }\n    };\n    const categoryLines = ({ xC, x1, y1, x2, y2 }) => {\n      for (let i = 0; i < xC + (w.globals.isXNumeric ? 0 : 1); i++) {\n        if (i === 0 && xC === 1 && w.globals.dataPoints === 1) {\n          x1 = w.globals.gridWidth / 2;\n          x2 = x1;\n        }\n        this._drawGridLines({\n          i,\n          x1,\n          y1,\n          x2,\n          y2,\n          xCount,\n          parent: this.elgridLinesV\n        });\n        x1 += w.globals.gridWidth / (w.globals.isXNumeric ? xC - 1 : xC);\n        x2 = x1;\n      }\n    };\n    if (w.config.grid.xaxis.lines.show || w.config.xaxis.axisTicks.show) {\n      let x1 = w.globals.padHorizontal;\n      let y1 = 0;\n      let x2;\n      let y2 = w.globals.gridHeight;\n      if (w.globals.timescaleLabels.length) {\n        datetimeLines({ xC: xCount, x1, y1, x2, y2 });\n      } else {\n        if (w.globals.isXNumeric) {\n          xCount = w.globals.xAxisScale.result.length;\n        }\n        categoryLines({ xC: xCount, x1, y1, x2, y2 });\n      }\n    }\n    if (w.config.grid.yaxis.lines.show) {\n      let x1 = 0;\n      let y1 = 0;\n      let y2 = 0;\n      let x2 = w.globals.gridWidth;\n      let tA = tickAmount + 1;\n      if (this.isRangeBar) {\n        tA = w.globals.labels.length;\n      }\n      for (let i = 0; i < tA + (this.isRangeBar ? 1 : 0); i++) {\n        this._drawGridLine({\n          i,\n          xCount: tA + (this.isRangeBar ? 1 : 0),\n          x1,\n          y1,\n          x2,\n          y2,\n          parent: this.elgridLinesH\n        });\n        y1 += w.globals.gridHeight / (this.isRangeBar ? tA : tickAmount);\n        y2 = y1;\n      }\n    }\n  }\n  _drawInvertedXYLines({ xCount }) {\n    const w = this.w;\n    if (w.config.grid.xaxis.lines.show || w.config.xaxis.axisTicks.show) {\n      let x1 = w.globals.padHorizontal;\n      let y1 = 0;\n      let x2;\n      let y2 = w.globals.gridHeight;\n      for (let i = 0; i < xCount + 1; i++) {\n        if (w.config.grid.xaxis.lines.show) {\n          this._drawGridLine({\n            i,\n            xCount: xCount + 1,\n            x1,\n            y1,\n            x2,\n            y2,\n            parent: this.elgridLinesV\n          });\n        }\n        const xAxis = new XAxis(this.ctx);\n        xAxis.drawXaxisTicks(x1, 0, w.globals.dom.elGraphical);\n        x1 += w.globals.gridWidth / xCount;\n        x2 = x1;\n      }\n    }\n    if (w.config.grid.yaxis.lines.show) {\n      let x1 = 0;\n      let y1 = 0;\n      let y2 = 0;\n      let x2 = w.globals.gridWidth;\n      for (let i = 0; i < w.globals.dataPoints + 1; i++) {\n        this._drawGridLine({\n          i,\n          xCount: w.globals.dataPoints + 1,\n          x1,\n          y1,\n          x2,\n          y2,\n          parent: this.elgridLinesH\n        });\n        y1 += w.globals.gridHeight / w.globals.dataPoints;\n        y2 = y1;\n      }\n    }\n  }\n  renderGrid() {\n    var _a, _b, _c;\n    const w = this.w;\n    const gl = w.globals;\n    const graphics = new Graphics(this.ctx);\n    this.elg = graphics.group({ class: \"apexcharts-grid\" });\n    this.elgridLinesH = graphics.group({\n      class: \"apexcharts-gridlines-horizontal\"\n    });\n    this.elgridLinesV = graphics.group({\n      class: \"apexcharts-gridlines-vertical\"\n    });\n    this.elGridBorders = graphics.group({ class: \"apexcharts-grid-borders\" });\n    this.elg.add(this.elgridLinesH);\n    this.elg.add(this.elgridLinesV);\n    if (!w.config.grid.show) {\n      this.elgridLinesV.hide();\n      this.elgridLinesH.hide();\n      this.elGridBorders.hide();\n    }\n    let gridAxisIndex = 0;\n    while (gridAxisIndex < gl.seriesYAxisMap.length && gl.ignoreYAxisIndexes.includes(gridAxisIndex)) {\n      gridAxisIndex++;\n    }\n    if (gridAxisIndex === gl.seriesYAxisMap.length) {\n      gridAxisIndex = 0;\n    }\n    let yTickAmount = gl.yAxisScale[gridAxisIndex].result.length - 1;\n    let xCount;\n    if (!gl.isBarHorizontal || this.isRangeBar) {\n      xCount = this.xaxisLabels.length;\n      if (this.isRangeBar) {\n        yTickAmount = gl.labels.length;\n        if (w.config.xaxis.tickAmount && w.config.xaxis.labels.formatter) {\n          xCount = w.config.xaxis.tickAmount;\n        }\n        if (((_c = (_b = (_a = gl.yAxisScale) == null ? void 0 : _a[gridAxisIndex]) == null ? void 0 : _b.result) == null ? void 0 : _c.length) > 0 && w.config.xaxis.type !== \"datetime\") {\n          xCount = gl.yAxisScale[gridAxisIndex].result.length - 1;\n        }\n      }\n      this._drawXYLines({ xCount, tickAmount: yTickAmount });\n    } else {\n      xCount = yTickAmount;\n      yTickAmount = gl.xTickAmount;\n      this._drawInvertedXYLines({ xCount, tickAmount: yTickAmount });\n    }\n    this.drawGridBands(xCount, yTickAmount);\n    return {\n      el: this.elg,\n      elGridBorders: this.elGridBorders,\n      xAxisTickWidth: gl.gridWidth / xCount\n    };\n  }\n  drawGridBands(xCount, tickAmount) {\n    var _a, _b, _c;\n    const w = this.w;\n    const drawBands = (type, count, x1, y1, x2, y2) => {\n      for (let i = 0, c = 0; i < count; i++, c++) {\n        if (c >= w.config.grid[type].colors.length) {\n          c = 0;\n        }\n        this._drawGridBandRect({ c, x1, y1, x2, y2, type });\n        y1 += w.globals.gridHeight / tickAmount;\n      }\n    };\n    if (((_a = w.config.grid.row.colors) == null ? void 0 : _a.length) > 0) {\n      drawBands(\n        \"row\",\n        tickAmount,\n        0,\n        0,\n        w.globals.gridWidth,\n        w.globals.gridHeight / tickAmount\n      );\n    }\n    if (((_b = w.config.grid.column.colors) == null ? void 0 : _b.length) > 0) {\n      let xc = !w.globals.isBarHorizontal && w.config.xaxis.tickPlacement === \"on\" && (w.config.xaxis.type === \"category\" || w.config.xaxis.convertedCatToNumeric) ? xCount - 1 : xCount;\n      if (w.globals.isXNumeric) {\n        xc = w.globals.xAxisScale.result.length - 1;\n      }\n      let x1 = w.globals.padHorizontal;\n      let y1 = 0;\n      let x2 = w.globals.padHorizontal + w.globals.gridWidth / xc;\n      let y2 = w.globals.gridHeight;\n      for (let i = 0, c = 0; i < xCount; i++, c++) {\n        if (c >= w.config.grid.column.colors.length) {\n          c = 0;\n        }\n        if (w.config.xaxis.type === \"datetime\") {\n          x1 = this.xaxisLabels[i].position;\n          x2 = (((_c = this.xaxisLabels[i + 1]) == null ? void 0 : _c.position) || w.globals.gridWidth) - this.xaxisLabels[i].position;\n        }\n        this._drawGridBandRect({ c, x1, y1, x2, y2, type: \"column\" });\n        x1 += w.globals.gridWidth / xc;\n      }\n    }\n  }\n}\nclass Scales {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.coreUtils = new CoreUtils(this.ctx);\n  }\n  // http://stackoverflow.com/questions/326679/choosing-an-attractive-linear-scale-for-a-graphs-y-axis\n  // This routine creates the Y axis values for a graph.\n  niceScale(yMin, yMax, index = 0) {\n    const jsPrecision = 1e-11;\n    const w = this.w;\n    const gl = w.globals;\n    let axisCnf;\n    let maxTicks;\n    let gotMin;\n    let gotMax;\n    if (gl.isBarHorizontal) {\n      axisCnf = w.config.xaxis;\n      maxTicks = Math.max((gl.svgWidth - 100) / 25, 2);\n    } else {\n      axisCnf = w.config.yaxis[index];\n      maxTicks = Math.max((gl.svgHeight - 100) / 15, 2);\n    }\n    if (!Utils$1.isNumber(maxTicks)) {\n      maxTicks = 10;\n    }\n    gotMin = axisCnf.min !== void 0 && axisCnf.min !== null;\n    gotMax = axisCnf.max !== void 0 && axisCnf.min !== null;\n    let gotStepSize = axisCnf.stepSize !== void 0 && axisCnf.stepSize !== null;\n    let gotTickAmount = axisCnf.tickAmount !== void 0 && axisCnf.tickAmount !== null;\n    let ticks = gotTickAmount ? axisCnf.tickAmount : gl.niceScaleDefaultTicks[Math.min(\n      Math.round(maxTicks / 2),\n      gl.niceScaleDefaultTicks.length - 1\n    )];\n    if (gl.isMultipleYAxis && !gotTickAmount && gl.multiAxisTickAmount > 0) {\n      ticks = gl.multiAxisTickAmount;\n      gotTickAmount = true;\n    }\n    if (ticks === \"dataPoints\") {\n      ticks = gl.dataPoints - 1;\n    } else {\n      ticks = Math.abs(Math.round(ticks));\n    }\n    if (yMin === Number.MIN_VALUE && yMax === 0 || !Utils$1.isNumber(yMin) && !Utils$1.isNumber(yMax) || yMin === Number.MIN_VALUE && yMax === -Number.MAX_VALUE) {\n      yMin = Utils$1.isNumber(axisCnf.min) ? axisCnf.min : 0;\n      yMax = Utils$1.isNumber(axisCnf.max) ? axisCnf.max : yMin + ticks;\n      gl.allSeriesCollapsed = false;\n    }\n    if (yMin > yMax) {\n      console.warn(\n        \"axis.min cannot be greater than axis.max: swapping min and max\"\n      );\n      let temp = yMax;\n      yMax = yMin;\n      yMin = temp;\n    } else if (yMin === yMax) {\n      yMin = yMin === 0 ? 0 : yMin - 1;\n      yMax = yMax === 0 ? 2 : yMax + 1;\n    }\n    let result = [];\n    if (ticks < 1) {\n      ticks = 1;\n    }\n    let tiks = ticks;\n    let range = Math.abs(yMax - yMin);\n    let proximityRatio = 0.15;\n    if (!gotMin && yMin > 0 && yMin / range < proximityRatio) {\n      yMin = 0;\n      gotMin = true;\n    }\n    if (!gotMax && yMax < 0 && -yMax / range < proximityRatio) {\n      yMax = 0;\n      gotMax = true;\n    }\n    range = Math.abs(yMax - yMin);\n    let stepSize = range / tiks;\n    let niceStep = stepSize;\n    let mag = Math.floor(Math.log10(niceStep));\n    let magPow = Math.pow(10, mag);\n    let magMsd = Math.ceil(niceStep / magPow);\n    magMsd = gl.niceScaleAllowedMagMsd[gl.yValueDecimal === 0 ? 0 : 1][magMsd];\n    niceStep = magMsd * magPow;\n    stepSize = niceStep;\n    if (gl.isBarHorizontal && axisCnf.stepSize && axisCnf.type !== \"datetime\") {\n      stepSize = axisCnf.stepSize;\n      gotStepSize = true;\n    } else if (gotStepSize) {\n      stepSize = axisCnf.stepSize;\n    }\n    if (gotStepSize) {\n      if (axisCnf.forceNiceScale) {\n        let stepMag = Math.floor(Math.log10(stepSize));\n        stepSize *= Math.pow(10, mag - stepMag);\n      }\n    }\n    if (gotMin && gotMax) {\n      let crudeStep = range / tiks;\n      if (gotTickAmount) {\n        if (gotStepSize) {\n          if (Utils$1.mod(range, stepSize) != 0) {\n            let gcdStep = Utils$1.getGCD(stepSize, crudeStep);\n            if (crudeStep / gcdStep < 10) {\n              stepSize = gcdStep;\n            } else {\n              stepSize = crudeStep;\n            }\n          } else {\n            if (Utils$1.mod(stepSize, crudeStep) == 0) {\n              stepSize = crudeStep;\n            } else {\n              crudeStep = stepSize;\n              gotTickAmount = false;\n            }\n          }\n        } else {\n          stepSize = crudeStep;\n        }\n      } else {\n        if (gotStepSize) {\n          if (Utils$1.mod(range, stepSize) == 0) {\n            crudeStep = stepSize;\n          } else {\n            stepSize = crudeStep;\n          }\n        } else {\n          if (Utils$1.mod(range, stepSize) == 0) {\n            crudeStep = stepSize;\n          } else {\n            tiks = Math.ceil(range / stepSize);\n            crudeStep = range / tiks;\n            let gcdStep = Utils$1.getGCD(range, stepSize);\n            if (range / gcdStep < maxTicks) {\n              crudeStep = gcdStep;\n            }\n            stepSize = crudeStep;\n          }\n        }\n      }\n      tiks = Math.round(range / stepSize);\n    } else {\n      if (!gotMin && !gotMax) {\n        if (gl.isMultipleYAxis && gotTickAmount) {\n          let tMin = stepSize * Math.floor(yMin / stepSize);\n          let tMax = tMin + stepSize * tiks;\n          if (tMax < yMax) {\n            stepSize *= 2;\n          }\n          yMin = tMin;\n          tMax = yMax;\n          yMax = yMin + stepSize * tiks;\n          range = Math.abs(yMax - yMin);\n          if (yMin > 0 && yMin < Math.abs(tMax - yMax)) {\n            yMin = 0;\n            yMax = stepSize * tiks;\n          }\n          if (yMax < 0 && -yMax < Math.abs(tMin - yMin)) {\n            yMax = 0;\n            yMin = -stepSize * tiks;\n          }\n        } else {\n          yMin = stepSize * Math.floor(yMin / stepSize);\n          yMax = stepSize * Math.ceil(yMax / stepSize);\n        }\n      } else if (gotMax) {\n        if (gotTickAmount) {\n          yMin = yMax - stepSize * tiks;\n        } else {\n          let yMinPrev = yMin;\n          yMin = stepSize * Math.floor(yMin / stepSize);\n          if (Math.abs(yMax - yMin) / Utils$1.getGCD(range, stepSize) > maxTicks) {\n            yMin = yMax - stepSize * ticks;\n            yMin += stepSize * Math.floor((yMinPrev - yMin) / stepSize);\n          }\n        }\n      } else if (gotMin) {\n        if (gotTickAmount) {\n          yMax = yMin + stepSize * tiks;\n        } else {\n          let yMaxPrev = yMax;\n          yMax = stepSize * Math.ceil(yMax / stepSize);\n          if (Math.abs(yMax - yMin) / Utils$1.getGCD(range, stepSize) > maxTicks) {\n            yMax = yMin + stepSize * ticks;\n            yMax += stepSize * Math.ceil((yMaxPrev - yMax) / stepSize);\n          }\n        }\n      }\n      range = Math.abs(yMax - yMin);\n      stepSize = Utils$1.getGCD(range, stepSize);\n      tiks = Math.round(range / stepSize);\n    }\n    if (!gotTickAmount && !(gotMin || gotMax)) {\n      tiks = Math.ceil((range - jsPrecision) / (stepSize + jsPrecision));\n      if (tiks > 16 && Utils$1.getPrimeFactors(tiks).length < 2) {\n        tiks++;\n      }\n    }\n    if (!gotTickAmount && axisCnf.forceNiceScale && gl.yValueDecimal === 0 && tiks > range) {\n      tiks = range;\n      stepSize = Math.round(range / tiks);\n    }\n    if (tiks > maxTicks && (!(gotTickAmount || gotStepSize) || axisCnf.forceNiceScale)) {\n      let pf = Utils$1.getPrimeFactors(tiks);\n      let last = pf.length - 1;\n      let tt = tiks;\n      reduceLoop: for (var xFactors = 0; xFactors < last; xFactors++) {\n        for (var lowest = 0; lowest <= last - xFactors; lowest++) {\n          let stop = Math.min(lowest + xFactors, last);\n          let t = tt;\n          let div = 1;\n          for (var next = lowest; next <= stop; next++) {\n            div *= pf[next];\n          }\n          t /= div;\n          if (t < maxTicks) {\n            tt = t;\n            break reduceLoop;\n          }\n        }\n      }\n      if (tt === tiks) {\n        stepSize = range;\n      } else {\n        stepSize = range / tt;\n      }\n      tiks = Math.round(range / stepSize);\n    }\n    if (gl.isMultipleYAxis && gl.multiAxisTickAmount == 0 && gl.ignoreYAxisIndexes.indexOf(index) < 0) {\n      gl.multiAxisTickAmount = tiks;\n    }\n    let val = yMin - stepSize;\n    let err = stepSize * jsPrecision;\n    do {\n      val += stepSize;\n      result.push(Utils$1.stripNumber(val, 7));\n    } while (yMax - val > err);\n    return {\n      result,\n      niceMin: result[0],\n      niceMax: result[result.length - 1]\n    };\n  }\n  linearScale(yMin, yMax, ticks = 10, index = 0, step = void 0) {\n    let range = Math.abs(yMax - yMin);\n    let result = [];\n    if (yMin === yMax) {\n      result = [yMin];\n      return {\n        result,\n        niceMin: result[0],\n        niceMax: result[result.length - 1]\n      };\n    }\n    ticks = this._adjustTicksForSmallRange(ticks, index, range);\n    if (ticks === \"dataPoints\") {\n      ticks = this.w.globals.dataPoints - 1;\n    }\n    if (!step) {\n      step = range / ticks;\n    }\n    const MIN_PRECISION = 2;\n    if (step !== 0 && isFinite(step)) {\n      const magnitude = Math.floor(Math.log10(Math.abs(step)));\n      const precision = Math.max(MIN_PRECISION, -magnitude + MIN_PRECISION);\n      const multiplier = Math.pow(10, precision);\n      step = Math.round((step + Number.EPSILON) * multiplier) / multiplier;\n    }\n    if (ticks === Number.MAX_VALUE) {\n      ticks = 5;\n      step = 1;\n    }\n    let v = yMin;\n    while (ticks >= 0) {\n      result.push(v);\n      v = Utils$1.preciseAddition(v, step);\n      ticks -= 1;\n    }\n    return {\n      result,\n      niceMin: result[0],\n      niceMax: result[result.length - 1]\n    };\n  }\n  logarithmicScaleNice(yMin, yMax, base) {\n    if (yMax <= 0) yMax = Math.max(yMin, base);\n    if (yMin <= 0) yMin = Math.min(yMax, base);\n    const logs = [];\n    const logMax = Math.ceil(Math.log(yMax) / Math.log(base) + 1);\n    const logMin = Math.floor(Math.log(yMin) / Math.log(base));\n    for (let i = logMin; i < logMax; i++) {\n      logs.push(Math.pow(base, i));\n    }\n    return {\n      result: logs,\n      niceMin: logs[0],\n      niceMax: logs[logs.length - 1]\n    };\n  }\n  logarithmicScale(yMin, yMax, base) {\n    if (yMax <= 0) yMax = Math.max(yMin, base);\n    if (yMin <= 0) yMin = Math.min(yMax, base);\n    const logs = [];\n    const logMax = Math.log(yMax) / Math.log(base);\n    const logMin = Math.log(yMin) / Math.log(base);\n    const logRange = logMax - logMin;\n    const ticks = Math.round(logRange);\n    const logTickSpacing = logRange / ticks;\n    for (let i = 0, logTick = logMin; i < ticks; i++, logTick += logTickSpacing) {\n      logs.push(Math.pow(base, logTick));\n    }\n    logs.push(Math.pow(base, logMax));\n    return {\n      result: logs,\n      niceMin: yMin,\n      niceMax: yMax\n    };\n  }\n  _adjustTicksForSmallRange(ticks, index, range) {\n    let newTicks = ticks;\n    if (typeof index !== \"undefined\" && this.w.config.yaxis[index].labels.formatter && this.w.config.yaxis[index].tickAmount === void 0) {\n      const formattedVal = Number(\n        this.w.config.yaxis[index].labels.formatter(1)\n      );\n      if (Utils$1.isNumber(formattedVal) && this.w.globals.yValueDecimal === 0) {\n        newTicks = Math.ceil(range);\n      }\n    }\n    return newTicks < ticks ? newTicks : ticks;\n  }\n  setYScaleForIndex(index, minY, maxY) {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    let y = gl.isBarHorizontal ? cnf.xaxis : cnf.yaxis[index];\n    if (typeof gl.yAxisScale[index] === \"undefined\") {\n      gl.yAxisScale[index] = [];\n    }\n    let range = Math.abs(maxY - minY);\n    if (y.logarithmic && range <= 5) {\n      gl.invalidLogScale = true;\n    }\n    if (y.logarithmic && range > 5) {\n      gl.allSeriesCollapsed = false;\n      gl.yAxisScale[index] = y.forceNiceScale ? this.logarithmicScaleNice(minY, maxY, y.logBase) : this.logarithmicScale(minY, maxY, y.logBase);\n    } else {\n      if (maxY === -Number.MAX_VALUE || !Utils$1.isNumber(maxY) || minY === Number.MAX_VALUE || !Utils$1.isNumber(minY)) {\n        gl.yAxisScale[index] = this.niceScale(Number.MIN_VALUE, 0, index);\n      } else {\n        gl.allSeriesCollapsed = false;\n        gl.yAxisScale[index] = this.niceScale(minY, maxY, index);\n      }\n    }\n  }\n  setXScale(minX, maxX) {\n    const w = this.w;\n    const gl = w.globals;\n    if (maxX === -Number.MAX_VALUE || !Utils$1.isNumber(maxX)) {\n      gl.xAxisScale = this.linearScale(0, 10, 10);\n    } else {\n      let ticks = gl.xTickAmount;\n      gl.xAxisScale = this.linearScale(\n        minX,\n        maxX,\n        ticks,\n        0,\n        w.config.xaxis.max === void 0 ? w.config.xaxis.stepSize : void 0\n      );\n    }\n    return gl.xAxisScale;\n  }\n  scaleMultipleYAxes() {\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    this.coreUtils.setSeriesYAxisMappings();\n    let axisSeriesMap = gl.seriesYAxisMap;\n    let minYArr = gl.minYArr;\n    let maxYArr = gl.maxYArr;\n    gl.allSeriesCollapsed = true;\n    gl.barGroups = [];\n    axisSeriesMap.forEach((axisSeries, ai) => {\n      let groupNames = [];\n      axisSeries.forEach((as) => {\n        var _a;\n        let group = (_a = cnf.series[as]) == null ? void 0 : _a.group;\n        if (groupNames.indexOf(group) < 0) {\n          groupNames.push(group);\n        }\n      });\n      if (axisSeries.length > 0) {\n        let minY = Number.MAX_VALUE;\n        let maxY = -Number.MAX_VALUE;\n        let lowestY = minY;\n        let highestY = maxY;\n        let seriesType;\n        let seriesGroupName;\n        if (cnf.chart.stacked) {\n          let mapSeries = new Array(gl.dataPoints).fill(0);\n          let sumSeries = [];\n          let posSeries = [];\n          let negSeries = [];\n          groupNames.forEach(() => {\n            sumSeries.push(mapSeries.map(() => Number.MIN_VALUE));\n            posSeries.push(mapSeries.map(() => Number.MIN_VALUE));\n            negSeries.push(mapSeries.map(() => Number.MIN_VALUE));\n          });\n          for (let i = 0; i < axisSeries.length; i++) {\n            if (!seriesType && cnf.series[axisSeries[i]].type) {\n              seriesType = cnf.series[axisSeries[i]].type;\n            }\n            let si = axisSeries[i];\n            if (cnf.series[si].group) {\n              seriesGroupName = cnf.series[si].group;\n            } else {\n              seriesGroupName = \"axis-\".concat(ai);\n            }\n            let collapsed = !(gl.collapsedSeriesIndices.indexOf(si) < 0 && gl.ancillaryCollapsedSeriesIndices.indexOf(si) < 0);\n            if (!collapsed) {\n              gl.allSeriesCollapsed = false;\n              groupNames.forEach((gn, gni) => {\n                if (cnf.series[si].group === gn) {\n                  for (let j = 0; j < gl.series[si].length; j++) {\n                    let val = gl.series[si][j];\n                    if (val >= 0) {\n                      posSeries[gni][j] += val;\n                    } else {\n                      negSeries[gni][j] += val;\n                    }\n                    sumSeries[gni][j] += val;\n                    lowestY = Math.min(lowestY, val);\n                    highestY = Math.max(highestY, val);\n                  }\n                }\n              });\n            }\n            if (seriesType === \"bar\" || seriesType === \"column\") {\n              gl.barGroups.push(seriesGroupName);\n            }\n          }\n          if (!seriesType) {\n            seriesType = cnf.chart.type;\n          }\n          if (seriesType === \"bar\" || seriesType === \"column\") {\n            groupNames.forEach((gn, gni) => {\n              minY = Math.min(minY, Math.min.apply(null, negSeries[gni]));\n              maxY = Math.max(maxY, Math.max.apply(null, posSeries[gni]));\n            });\n          } else {\n            groupNames.forEach((gn, gni) => {\n              lowestY = Math.min(lowestY, Math.min.apply(null, sumSeries[gni]));\n              highestY = Math.max(\n                highestY,\n                Math.max.apply(null, sumSeries[gni])\n              );\n            });\n            minY = lowestY;\n            maxY = highestY;\n          }\n          if (minY === Number.MIN_VALUE && maxY === Number.MIN_VALUE) {\n            maxY = -Number.MAX_VALUE;\n          }\n        } else {\n          for (let i = 0; i < axisSeries.length; i++) {\n            let si = axisSeries[i];\n            minY = Math.min(minY, minYArr[si]);\n            maxY = Math.max(maxY, maxYArr[si]);\n            let collapsed = !(gl.collapsedSeriesIndices.indexOf(si) < 0 && gl.ancillaryCollapsedSeriesIndices.indexOf(si) < 0);\n            if (!collapsed) {\n              gl.allSeriesCollapsed = false;\n            }\n          }\n        }\n        if (cnf.yaxis[ai].min !== void 0) {\n          if (typeof cnf.yaxis[ai].min === \"function\") {\n            minY = cnf.yaxis[ai].min(minY);\n          } else {\n            minY = cnf.yaxis[ai].min;\n          }\n        }\n        if (cnf.yaxis[ai].max !== void 0) {\n          if (typeof cnf.yaxis[ai].max === \"function\") {\n            maxY = cnf.yaxis[ai].max(maxY);\n          } else {\n            maxY = cnf.yaxis[ai].max;\n          }\n        }\n        gl.barGroups = gl.barGroups.filter((v, i, a) => a.indexOf(v) === i);\n        this.setYScaleForIndex(ai, minY, maxY);\n        axisSeries.forEach((si) => {\n          minYArr[si] = gl.yAxisScale[ai].niceMin;\n          maxYArr[si] = gl.yAxisScale[ai].niceMax;\n        });\n      } else {\n        this.setYScaleForIndex(ai, 0, -Number.MAX_VALUE);\n      }\n    });\n  }\n}\nclass Range {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.scales = new Scales(ctx);\n  }\n  init() {\n    this.setYRange();\n    this.setXRange();\n    this.setZRange();\n  }\n  getMinYMaxY(startingSeriesIndex, lowestY = Number.MAX_VALUE, highestY = -Number.MAX_VALUE, endingSeriesIndex = null) {\n    var _a, _b, _c, _d, _e;\n    const cnf = this.w.config;\n    const gl = this.w.globals;\n    let maxY = -Number.MAX_VALUE;\n    let minY = Number.MIN_VALUE;\n    if (endingSeriesIndex === null) {\n      endingSeriesIndex = startingSeriesIndex + 1;\n    }\n    let series = gl.series;\n    let seriesMin = series;\n    let seriesMax = series;\n    if (cnf.chart.type === \"candlestick\") {\n      seriesMin = gl.seriesCandleL;\n      seriesMax = gl.seriesCandleH;\n    } else if (cnf.chart.type === \"boxPlot\") {\n      seriesMin = gl.seriesCandleO;\n      seriesMax = gl.seriesCandleC;\n    } else if (gl.isRangeData) {\n      seriesMin = gl.seriesRangeStart;\n      seriesMax = gl.seriesRangeEnd;\n    }\n    let autoScaleYaxis = false;\n    if (gl.seriesX.length >= endingSeriesIndex) {\n      let brush = (_a = gl.brushSource) == null ? void 0 : _a.w.config.chart.brush;\n      if (cnf.chart.zoom.enabled && cnf.chart.zoom.autoScaleYaxis || (brush == null ? void 0 : brush.enabled) && (brush == null ? void 0 : brush.autoScaleYaxis)) {\n        autoScaleYaxis = true;\n      }\n    }\n    for (let i = startingSeriesIndex; i < endingSeriesIndex; i++) {\n      gl.dataPoints = Math.max(gl.dataPoints, series[i].length);\n      const seriesType = cnf.series[i].type;\n      if (gl.categoryLabels.length) {\n        gl.dataPoints = gl.categoryLabels.filter(\n          (label) => typeof label !== \"undefined\"\n        ).length;\n      }\n      if (gl.labels.length && cnf.xaxis.type !== \"datetime\" && gl.series.reduce((a, c) => a + c.length, 0) !== 0) {\n        gl.dataPoints = Math.max(gl.dataPoints, gl.labels.length);\n      }\n      let firstXIndex = 0;\n      let lastXIndex = series[i].length - 1;\n      if (autoScaleYaxis) {\n        if (cnf.xaxis.min) {\n          for (; firstXIndex < lastXIndex && gl.seriesX[i][firstXIndex] < cnf.xaxis.min; firstXIndex++) {\n          }\n        }\n        if (cnf.xaxis.max) {\n          for (; lastXIndex > firstXIndex && gl.seriesX[i][lastXIndex] > cnf.xaxis.max; lastXIndex--) {\n          }\n        }\n      }\n      for (let j = firstXIndex; j <= lastXIndex && j < gl.series[i].length; j++) {\n        let val = series[i][j];\n        if (val !== null && Utils$1.isNumber(val)) {\n          if (typeof ((_b = seriesMax[i]) == null ? void 0 : _b[j]) !== \"undefined\") {\n            maxY = Math.max(maxY, seriesMax[i][j]);\n            lowestY = Math.min(lowestY, seriesMax[i][j]);\n          }\n          if (typeof ((_c = seriesMin[i]) == null ? void 0 : _c[j]) !== \"undefined\") {\n            lowestY = Math.min(lowestY, seriesMin[i][j]);\n            highestY = Math.max(highestY, seriesMin[i][j]);\n          }\n          switch (seriesType) {\n            case \"candlestick\":\n              {\n                if (typeof gl.seriesCandleC[i][j] !== \"undefined\") {\n                  maxY = Math.max(maxY, gl.seriesCandleH[i][j]);\n                  lowestY = Math.min(lowestY, gl.seriesCandleL[i][j]);\n                }\n              }\n              break;\n            case \"boxPlot\":\n              {\n                if (typeof gl.seriesCandleC[i][j] !== \"undefined\") {\n                  maxY = Math.max(maxY, gl.seriesCandleC[i][j]);\n                  lowestY = Math.min(lowestY, gl.seriesCandleO[i][j]);\n                }\n              }\n              break;\n          }\n          if (seriesType && seriesType !== \"candlestick\" && seriesType !== \"boxPlot\" && seriesType !== \"rangeArea\" && seriesType !== \"rangeBar\") {\n            maxY = Math.max(maxY, gl.series[i][j]);\n            lowestY = Math.min(lowestY, gl.series[i][j]);\n          }\n          if (gl.seriesGoals[i] && gl.seriesGoals[i][j] && Array.isArray(gl.seriesGoals[i][j])) {\n            gl.seriesGoals[i][j].forEach((g) => {\n              maxY = Math.max(maxY, g.value);\n              lowestY = Math.min(lowestY, g.value);\n            });\n          }\n          highestY = maxY;\n          val = Utils$1.noExponents(val);\n          if (Utils$1.isFloat(val)) {\n            gl.yValueDecimal = Math.max(\n              gl.yValueDecimal,\n              val.toString().split(\".\")[1].length\n            );\n          }\n          if (minY > ((_d = seriesMin[i]) == null ? void 0 : _d[j]) && ((_e = seriesMin[i]) == null ? void 0 : _e[j]) < 0) {\n            minY = seriesMin[i][j];\n          }\n        } else {\n          gl.hasNullValues = true;\n        }\n      }\n      if (seriesType === \"bar\" || seriesType === \"column\") {\n        if (minY < 0 && maxY < 0) {\n          maxY = 0;\n          highestY = Math.max(highestY, 0);\n        }\n        if (minY === Number.MIN_VALUE) {\n          minY = 0;\n          lowestY = Math.min(lowestY, 0);\n        }\n      }\n    }\n    if (cnf.chart.type === \"rangeBar\" && gl.seriesRangeStart.length && gl.isBarHorizontal) {\n      minY = lowestY;\n    }\n    if (cnf.chart.type === \"bar\") {\n      if (minY < 0 && maxY < 0) {\n        maxY = 0;\n      }\n      if (minY === Number.MIN_VALUE) {\n        minY = 0;\n      }\n    }\n    return {\n      minY,\n      maxY,\n      lowestY,\n      highestY\n    };\n  }\n  setYRange() {\n    let gl = this.w.globals;\n    let cnf = this.w.config;\n    gl.maxY = -Number.MAX_VALUE;\n    gl.minY = Number.MIN_VALUE;\n    let lowestYInAllSeries = Number.MAX_VALUE;\n    let minYMaxY;\n    if (gl.isMultipleYAxis) {\n      lowestYInAllSeries = Number.MAX_VALUE;\n      for (let i = 0; i < gl.series.length; i++) {\n        minYMaxY = this.getMinYMaxY(i);\n        gl.minYArr[i] = minYMaxY.lowestY;\n        gl.maxYArr[i] = minYMaxY.highestY;\n        lowestYInAllSeries = Math.min(lowestYInAllSeries, minYMaxY.lowestY);\n      }\n    }\n    minYMaxY = this.getMinYMaxY(0, lowestYInAllSeries, null, gl.series.length);\n    if (cnf.chart.type === \"bar\") {\n      gl.minY = minYMaxY.minY;\n      gl.maxY = minYMaxY.maxY;\n    } else {\n      gl.minY = minYMaxY.lowestY;\n      gl.maxY = minYMaxY.highestY;\n    }\n    lowestYInAllSeries = minYMaxY.lowestY;\n    if (cnf.chart.stacked) {\n      this._setStackedMinMax();\n    }\n    if (cnf.chart.type === \"line\" || cnf.chart.type === \"area\" || cnf.chart.type === \"scatter\" || cnf.chart.type === \"candlestick\" || cnf.chart.type === \"boxPlot\" || cnf.chart.type === \"rangeBar\" && !gl.isBarHorizontal) {\n      if (gl.minY === Number.MIN_VALUE && lowestYInAllSeries !== -Number.MAX_VALUE && lowestYInAllSeries !== gl.maxY) {\n        gl.minY = lowestYInAllSeries;\n      }\n    } else {\n      gl.minY = gl.minY !== Number.MIN_VALUE ? Math.min(minYMaxY.minY, gl.minY) : minYMaxY.minY;\n    }\n    cnf.yaxis.forEach((yaxe, index) => {\n      if (yaxe.max !== void 0) {\n        if (typeof yaxe.max === \"number\") {\n          gl.maxYArr[index] = yaxe.max;\n        } else if (typeof yaxe.max === \"function\") {\n          gl.maxYArr[index] = yaxe.max(\n            gl.isMultipleYAxis ? gl.maxYArr[index] : gl.maxY\n          );\n        }\n        gl.maxY = gl.maxYArr[index];\n      }\n      if (yaxe.min !== void 0) {\n        if (typeof yaxe.min === \"number\") {\n          gl.minYArr[index] = yaxe.min;\n        } else if (typeof yaxe.min === \"function\") {\n          gl.minYArr[index] = yaxe.min(\n            gl.isMultipleYAxis ? gl.minYArr[index] === Number.MIN_VALUE ? 0 : gl.minYArr[index] : gl.minY\n          );\n        }\n        gl.minY = gl.minYArr[index];\n      }\n    });\n    if (gl.isBarHorizontal) {\n      const minmax = [\"min\", \"max\"];\n      minmax.forEach((m) => {\n        if (cnf.xaxis[m] !== void 0 && typeof cnf.xaxis[m] === \"number\") {\n          m === \"min\" ? gl.minY = cnf.xaxis[m] : gl.maxY = cnf.xaxis[m];\n        }\n      });\n    }\n    if (gl.isMultipleYAxis) {\n      this.scales.scaleMultipleYAxes();\n      gl.minY = lowestYInAllSeries;\n    } else {\n      this.scales.setYScaleForIndex(0, gl.minY, gl.maxY);\n      gl.minY = gl.yAxisScale[0].niceMin;\n      gl.maxY = gl.yAxisScale[0].niceMax;\n      gl.minYArr[0] = gl.minY;\n      gl.maxYArr[0] = gl.maxY;\n    }\n    gl.barGroups = [];\n    gl.lineGroups = [];\n    gl.areaGroups = [];\n    cnf.series.forEach((s) => {\n      let type = s.type || cnf.chart.type;\n      switch (type) {\n        case \"bar\":\n        case \"column\":\n          gl.barGroups.push(s.group);\n          break;\n        case \"line\":\n          gl.lineGroups.push(s.group);\n          break;\n        case \"area\":\n          gl.areaGroups.push(s.group);\n          break;\n      }\n    });\n    gl.barGroups = gl.barGroups.filter((v, i, a) => a.indexOf(v) === i);\n    gl.lineGroups = gl.lineGroups.filter((v, i, a) => a.indexOf(v) === i);\n    gl.areaGroups = gl.areaGroups.filter((v, i, a) => a.indexOf(v) === i);\n    return {\n      minY: gl.minY,\n      maxY: gl.maxY,\n      minYArr: gl.minYArr,\n      maxYArr: gl.maxYArr,\n      yAxisScale: gl.yAxisScale\n    };\n  }\n  setXRange() {\n    let gl = this.w.globals;\n    let cnf = this.w.config;\n    const isXNumeric = cnf.xaxis.type === \"numeric\" || cnf.xaxis.type === \"datetime\" || cnf.xaxis.type === \"category\" && !gl.noLabelsProvided || gl.noLabelsProvided || gl.isXNumeric;\n    const getInitialMinXMaxX = () => {\n      for (let i = 0; i < gl.series.length; i++) {\n        if (gl.labels[i]) {\n          for (let j = 0; j < gl.labels[i].length; j++) {\n            if (gl.labels[i][j] !== null && Utils$1.isNumber(gl.labels[i][j])) {\n              gl.maxX = Math.max(gl.maxX, gl.labels[i][j]);\n              gl.initialMaxX = Math.max(gl.maxX, gl.labels[i][j]);\n              gl.minX = Math.min(gl.minX, gl.labels[i][j]);\n              gl.initialMinX = Math.min(gl.minX, gl.labels[i][j]);\n            }\n          }\n        }\n      }\n    };\n    if (gl.isXNumeric) {\n      getInitialMinXMaxX();\n    }\n    if (gl.noLabelsProvided) {\n      if (cnf.xaxis.categories.length === 0) {\n        gl.maxX = gl.labels[gl.labels.length - 1];\n        gl.initialMaxX = gl.labels[gl.labels.length - 1];\n        gl.minX = 1;\n        gl.initialMinX = 1;\n      }\n    }\n    if (gl.isXNumeric || gl.noLabelsProvided || gl.dataFormatXNumeric) {\n      let ticks = 10;\n      if (cnf.xaxis.tickAmount === void 0) {\n        ticks = Math.round(gl.svgWidth / 150);\n        if (cnf.xaxis.type === \"numeric\" && gl.dataPoints < 30) {\n          ticks = gl.dataPoints - 1;\n        }\n        if (ticks > gl.dataPoints && gl.dataPoints !== 0) {\n          ticks = gl.dataPoints - 1;\n        }\n      } else if (cnf.xaxis.tickAmount === \"dataPoints\") {\n        if (gl.series.length > 1) {\n          ticks = gl.series[gl.maxValsInArrayIndex].length - 1;\n        }\n        if (gl.isXNumeric) {\n          const diff = Math.round(gl.maxX - gl.minX);\n          if (diff < 30) {\n            ticks = diff;\n          }\n        }\n      } else {\n        ticks = cnf.xaxis.tickAmount;\n      }\n      gl.xTickAmount = ticks;\n      if (cnf.xaxis.max !== void 0 && typeof cnf.xaxis.max === \"number\") {\n        gl.maxX = cnf.xaxis.max;\n      }\n      if (cnf.xaxis.min !== void 0 && typeof cnf.xaxis.min === \"number\") {\n        gl.minX = cnf.xaxis.min;\n      }\n      if (cnf.xaxis.range !== void 0) {\n        gl.minX = gl.maxX - cnf.xaxis.range;\n      }\n      if (gl.minX !== Number.MAX_VALUE && gl.maxX !== -Number.MAX_VALUE) {\n        if (cnf.xaxis.convertedCatToNumeric && !gl.dataFormatXNumeric) {\n          let catScale = [];\n          for (let i = gl.minX - 1; i < gl.maxX; i++) {\n            catScale.push(i + 1);\n          }\n          gl.xAxisScale = {\n            result: catScale,\n            niceMin: catScale[0],\n            niceMax: catScale[catScale.length - 1]\n          };\n        } else {\n          gl.xAxisScale = this.scales.setXScale(gl.minX, gl.maxX);\n        }\n      } else {\n        gl.xAxisScale = this.scales.linearScale(\n          0,\n          ticks,\n          ticks,\n          0,\n          cnf.xaxis.stepSize\n        );\n        if (gl.noLabelsProvided && gl.labels.length > 0) {\n          gl.xAxisScale = this.scales.linearScale(\n            1,\n            gl.labels.length,\n            ticks - 1,\n            0,\n            cnf.xaxis.stepSize\n          );\n          gl.seriesX = gl.labels.slice();\n        }\n      }\n      if (isXNumeric) {\n        gl.labels = gl.xAxisScale.result.slice();\n      }\n    }\n    if (gl.isBarHorizontal && gl.labels.length) {\n      gl.xTickAmount = gl.labels.length;\n    }\n    this._handleSingleDataPoint();\n    this._getMinXDiff();\n    return {\n      minX: gl.minX,\n      maxX: gl.maxX\n    };\n  }\n  setZRange() {\n    let gl = this.w.globals;\n    if (!gl.isDataXYZ) return;\n    for (let i = 0; i < gl.series.length; i++) {\n      if (typeof gl.seriesZ[i] !== \"undefined\") {\n        for (let j = 0; j < gl.seriesZ[i].length; j++) {\n          if (gl.seriesZ[i][j] !== null && Utils$1.isNumber(gl.seriesZ[i][j])) {\n            gl.maxZ = Math.max(gl.maxZ, gl.seriesZ[i][j]);\n            gl.minZ = Math.min(gl.minZ, gl.seriesZ[i][j]);\n          }\n        }\n      }\n    }\n  }\n  _handleSingleDataPoint() {\n    const gl = this.w.globals;\n    const cnf = this.w.config;\n    if (gl.minX === gl.maxX) {\n      let datetimeObj = new DateTime(this.ctx);\n      if (cnf.xaxis.type === \"datetime\") {\n        const newMinX = datetimeObj.getDate(gl.minX);\n        if (cnf.xaxis.labels.datetimeUTC) {\n          newMinX.setUTCDate(newMinX.getUTCDate() - 2);\n        } else {\n          newMinX.setDate(newMinX.getDate() - 2);\n        }\n        gl.minX = new Date(newMinX).getTime();\n        const newMaxX = datetimeObj.getDate(gl.maxX);\n        if (cnf.xaxis.labels.datetimeUTC) {\n          newMaxX.setUTCDate(newMaxX.getUTCDate() + 2);\n        } else {\n          newMaxX.setDate(newMaxX.getDate() + 2);\n        }\n        gl.maxX = new Date(newMaxX).getTime();\n      } else if (cnf.xaxis.type === \"numeric\" || cnf.xaxis.type === \"category\" && !gl.noLabelsProvided) {\n        gl.minX = gl.minX - 2;\n        gl.initialMinX = gl.minX;\n        gl.maxX = gl.maxX + 2;\n        gl.initialMaxX = gl.maxX;\n      }\n    }\n  }\n  _getMinXDiff() {\n    const gl = this.w.globals;\n    if (gl.isXNumeric) {\n      gl.seriesX.forEach((sX) => {\n        if (sX.length) {\n          if (sX.length === 1) {\n            sX.push(\n              gl.seriesX[gl.maxValsInArrayIndex][gl.seriesX[gl.maxValsInArrayIndex].length - 1]\n            );\n          }\n          const seriesX = sX.slice();\n          seriesX.sort((a, b) => a - b);\n          seriesX.forEach((s, j) => {\n            if (j > 0) {\n              let xDiff = s - seriesX[j - 1];\n              if (xDiff > 0) {\n                gl.minXDiff = Math.min(xDiff, gl.minXDiff);\n              }\n            }\n          });\n          if (gl.dataPoints === 1 || gl.minXDiff === Number.MAX_VALUE) {\n            gl.minXDiff = 0.5;\n          }\n        }\n      });\n    }\n  }\n  _setStackedMinMax() {\n    const gl = this.w.globals;\n    if (!gl.series.length) return;\n    let seriesGroups = gl.seriesGroups;\n    if (!seriesGroups.length) {\n      seriesGroups = [this.w.globals.seriesNames.map((name2) => name2)];\n    }\n    let stackedPoss = {};\n    let stackedNegs = {};\n    seriesGroups.forEach((group) => {\n      stackedPoss[group] = [];\n      stackedNegs[group] = [];\n      const indicesOfSeriesInGroup = this.w.config.series.map(\n        (serie, si) => group.indexOf(gl.seriesNames[si]) > -1 ? si : null\n      ).filter((f) => f !== null);\n      indicesOfSeriesInGroup.forEach((i) => {\n        var _a, _b, _c, _d;\n        for (let j = 0; j < gl.series[gl.maxValsInArrayIndex].length; j++) {\n          if (typeof stackedPoss[group][j] === \"undefined\") {\n            stackedPoss[group][j] = 0;\n            stackedNegs[group][j] = 0;\n          }\n          let stackSeries = this.w.config.chart.stacked && !gl.comboCharts || this.w.config.chart.stacked && gl.comboCharts && (!this.w.config.chart.stackOnlyBar || ((_b = (_a = this.w.config.series) == null ? void 0 : _a[i]) == null ? void 0 : _b.type) === \"bar\" || ((_d = (_c = this.w.config.series) == null ? void 0 : _c[i]) == null ? void 0 : _d.type) === \"column\");\n          if (stackSeries) {\n            if (gl.series[i][j] !== null && Utils$1.isNumber(gl.series[i][j])) {\n              gl.series[i][j] > 0 ? stackedPoss[group][j] += parseFloat(gl.series[i][j]) + 1e-4 : stackedNegs[group][j] += parseFloat(gl.series[i][j]);\n            }\n          }\n        }\n      });\n    });\n    Object.entries(stackedPoss).forEach(([key]) => {\n      stackedPoss[key].forEach((_, stgi) => {\n        gl.maxY = Math.max(gl.maxY, stackedPoss[key][stgi]);\n        gl.minY = Math.min(gl.minY, stackedNegs[key][stgi]);\n      });\n    });\n  }\n}\nclass YAxis {\n  constructor(ctx, elgrid) {\n    this.ctx = ctx;\n    this.elgrid = elgrid;\n    this.w = ctx.w;\n    const w = this.w;\n    this.xaxisFontSize = w.config.xaxis.labels.style.fontSize;\n    this.axisFontFamily = w.config.xaxis.labels.style.fontFamily;\n    this.xaxisForeColors = w.config.xaxis.labels.style.colors;\n    this.isCategoryBarHorizontal = w.config.chart.type === \"bar\" && w.config.plotOptions.bar.horizontal;\n    this.xAxisoffX = w.config.xaxis.position === \"bottom\" ? w.globals.gridHeight : 0;\n    this.drawnLabels = [];\n    this.axesUtils = new AxesUtils(ctx);\n  }\n  drawYaxis(realIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const yaxisStyle = w.config.yaxis[realIndex].labels.style;\n    const {\n      fontSize: yaxisFontSize,\n      fontFamily: yaxisFontFamily,\n      fontWeight: yaxisFontWeight\n    } = yaxisStyle;\n    const elYaxis = graphics.group({\n      class: \"apexcharts-yaxis\",\n      rel: realIndex,\n      transform: `translate(${w.globals.translateYAxisX[realIndex]}, 0)`\n    });\n    if (this.axesUtils.isYAxisHidden(realIndex)) return elYaxis;\n    const elYaxisTexts = graphics.group({ class: \"apexcharts-yaxis-texts-g\" });\n    elYaxis.add(elYaxisTexts);\n    const tickAmount = w.globals.yAxisScale[realIndex].result.length - 1;\n    const labelsDivider = w.globals.gridHeight / tickAmount;\n    const lbFormatter = w.globals.yLabelFormatters[realIndex];\n    let labels = this.axesUtils.checkForReversedLabels(\n      realIndex,\n      w.globals.yAxisScale[realIndex].result.slice()\n    );\n    if (w.config.yaxis[realIndex].labels.show) {\n      let lY = w.globals.translateY + w.config.yaxis[realIndex].labels.offsetY;\n      if (w.globals.isBarHorizontal) lY = 0;\n      else if (w.config.chart.type === \"heatmap\") lY -= labelsDivider / 2;\n      lY += parseInt(yaxisFontSize, 10) / 3;\n      let firstLabel = null;\n      for (let i = tickAmount; i >= 0; i--) {\n        let val = lbFormatter(labels[i], i, w);\n        let xPad = w.config.yaxis[realIndex].labels.padding;\n        if (w.config.yaxis[realIndex].opposite && w.config.yaxis.length !== 0)\n          xPad *= -1;\n        const textAnchor = this.getTextAnchor(\n          w.config.yaxis[realIndex].labels.align,\n          w.config.yaxis[realIndex].opposite\n        );\n        const yColors = this.axesUtils.getYAxisForeColor(\n          yaxisStyle.colors,\n          realIndex\n        );\n        const foreColor = Array.isArray(yColors) ? yColors[i] : yColors;\n        const existingYLabels = Utils$1.listToArray(\n          w.globals.dom.baseEl.querySelectorAll(\n            `.apexcharts-yaxis[rel='${realIndex}'] .apexcharts-yaxis-label tspan`\n          )\n        ).map((label2) => label2.textContent);\n        const label = graphics.drawText({\n          x: xPad,\n          y: lY,\n          text: existingYLabels.includes(val) && !w.config.yaxis[realIndex].labels.showDuplicates ? \"\" : val,\n          textAnchor,\n          fontSize: yaxisFontSize,\n          fontFamily: yaxisFontFamily,\n          fontWeight: yaxisFontWeight,\n          maxWidth: w.config.yaxis[realIndex].labels.maxWidth,\n          foreColor,\n          isPlainText: false,\n          cssClass: `apexcharts-yaxis-label ${yaxisStyle.cssClass}`\n        });\n        elYaxisTexts.add(label);\n        this.addTooltip(label, val);\n        if (firstLabel === null) {\n          firstLabel = label;\n        }\n        if (w.config.yaxis[realIndex].labels.rotate !== 0) {\n          this.rotateLabel(\n            graphics,\n            label,\n            firstLabel,\n            w.config.yaxis[realIndex].labels.rotate\n          );\n        }\n        lY += labelsDivider;\n      }\n    }\n    this.addYAxisTitle(graphics, elYaxis, realIndex);\n    this.addAxisBorder(graphics, elYaxis, realIndex, tickAmount, labelsDivider);\n    return elYaxis;\n  }\n  getTextAnchor(align, opposite) {\n    if (align === \"left\") return \"start\";\n    if (align === \"center\") return \"middle\";\n    if (align === \"right\") return \"end\";\n    return opposite ? \"start\" : \"end\";\n  }\n  addTooltip(label, val) {\n    const elTooltipTitle = document.createElementNS(\n      this.w.globals.SVGNS,\n      \"title\"\n    );\n    elTooltipTitle.textContent = Array.isArray(val) ? val.join(\" \") : val;\n    label.node.appendChild(elTooltipTitle);\n  }\n  rotateLabel(graphics, label, firstLabel, rotate) {\n    const firstLabelCenter = graphics.rotateAroundCenter(firstLabel.node);\n    const labelCenter = graphics.rotateAroundCenter(label.node);\n    label.node.setAttribute(\n      \"transform\",\n      `rotate(${rotate} ${firstLabelCenter.x} ${labelCenter.y})`\n    );\n  }\n  addYAxisTitle(graphics, elYaxis, realIndex) {\n    const w = this.w;\n    if (w.config.yaxis[realIndex].title.text !== void 0) {\n      const elYaxisTitle = graphics.group({ class: \"apexcharts-yaxis-title\" });\n      const x = w.config.yaxis[realIndex].opposite ? w.globals.translateYAxisX[realIndex] : 0;\n      const elYAxisTitleText = graphics.drawText({\n        x,\n        y: w.globals.gridHeight / 2 + w.globals.translateY + w.config.yaxis[realIndex].title.offsetY,\n        text: w.config.yaxis[realIndex].title.text,\n        textAnchor: \"end\",\n        foreColor: w.config.yaxis[realIndex].title.style.color,\n        fontSize: w.config.yaxis[realIndex].title.style.fontSize,\n        fontWeight: w.config.yaxis[realIndex].title.style.fontWeight,\n        fontFamily: w.config.yaxis[realIndex].title.style.fontFamily,\n        cssClass: `apexcharts-yaxis-title-text ${w.config.yaxis[realIndex].title.style.cssClass}`\n      });\n      elYaxisTitle.add(elYAxisTitleText);\n      elYaxis.add(elYaxisTitle);\n    }\n  }\n  addAxisBorder(graphics, elYaxis, realIndex, tickAmount, labelsDivider) {\n    const w = this.w;\n    const axisBorder = w.config.yaxis[realIndex].axisBorder;\n    let x = 31 + axisBorder.offsetX;\n    if (w.config.yaxis[realIndex].opposite) x = -31 - axisBorder.offsetX;\n    if (axisBorder.show) {\n      const elVerticalLine = graphics.drawLine(\n        x,\n        w.globals.translateY + axisBorder.offsetY - 2,\n        x,\n        w.globals.gridHeight + w.globals.translateY + axisBorder.offsetY + 2,\n        axisBorder.color,\n        0,\n        axisBorder.width\n      );\n      elYaxis.add(elVerticalLine);\n    }\n    if (w.config.yaxis[realIndex].axisTicks.show) {\n      this.axesUtils.drawYAxisTicks(\n        x,\n        tickAmount,\n        axisBorder,\n        w.config.yaxis[realIndex].axisTicks,\n        realIndex,\n        labelsDivider,\n        elYaxis\n      );\n    }\n  }\n  drawYaxisInversed(realIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const elXaxis = graphics.group({\n      class: \"apexcharts-xaxis apexcharts-yaxis-inversed\"\n    });\n    const elXaxisTexts = graphics.group({\n      class: \"apexcharts-xaxis-texts-g\",\n      transform: `translate(${w.globals.translateXAxisX}, ${w.globals.translateXAxisY})`\n    });\n    elXaxis.add(elXaxisTexts);\n    let tickAmount = w.globals.yAxisScale[realIndex].result.length - 1;\n    const labelsDivider = w.globals.gridWidth / tickAmount + 0.1;\n    let l = labelsDivider + w.config.xaxis.labels.offsetX;\n    const lbFormatter = w.globals.xLabelFormatter;\n    let labels = this.axesUtils.checkForReversedLabels(\n      realIndex,\n      w.globals.yAxisScale[realIndex].result.slice()\n    );\n    const timescaleLabels = w.globals.timescaleLabels;\n    if (timescaleLabels.length > 0) {\n      this.xaxisLabels = timescaleLabels.slice();\n      labels = timescaleLabels.slice();\n      tickAmount = labels.length;\n    }\n    if (w.config.xaxis.labels.show) {\n      for (let i = timescaleLabels.length ? 0 : tickAmount; timescaleLabels.length ? i < timescaleLabels.length : i >= 0; timescaleLabels.length ? i++ : i--) {\n        let val = lbFormatter(labels[i], i, w);\n        let x = w.globals.gridWidth + w.globals.padHorizontal - (l - labelsDivider + w.config.xaxis.labels.offsetX);\n        if (timescaleLabels.length) {\n          const label = this.axesUtils.getLabel(\n            labels,\n            timescaleLabels,\n            x,\n            i,\n            this.drawnLabels,\n            this.xaxisFontSize\n          );\n          x = label.x;\n          val = label.text;\n          this.drawnLabels.push(label.text);\n          if (i === 0 && w.globals.skipFirstTimelinelabel) val = \"\";\n          if (i === labels.length - 1 && w.globals.skipLastTimelinelabel)\n            val = \"\";\n        }\n        const elTick = graphics.drawText({\n          x,\n          y: this.xAxisoffX + w.config.xaxis.labels.offsetY + 30 - (w.config.xaxis.position === \"top\" ? w.globals.xAxisHeight + w.config.xaxis.axisTicks.height - 2 : 0),\n          text: val,\n          textAnchor: \"middle\",\n          foreColor: Array.isArray(this.xaxisForeColors) ? this.xaxisForeColors[realIndex] : this.xaxisForeColors,\n          fontSize: this.xaxisFontSize,\n          fontFamily: this.xaxisFontFamily,\n          fontWeight: w.config.xaxis.labels.style.fontWeight,\n          isPlainText: false,\n          cssClass: `apexcharts-xaxis-label ${w.config.xaxis.labels.style.cssClass}`\n        });\n        elXaxisTexts.add(elTick);\n        this.addTooltip(elTick, val);\n        l += labelsDivider;\n      }\n    }\n    this.inversedYAxisTitleText(elXaxis);\n    this.inversedYAxisBorder(elXaxis);\n    return elXaxis;\n  }\n  inversedYAxisBorder(parent) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const axisBorder = w.config.xaxis.axisBorder;\n    if (axisBorder.show) {\n      let lineCorrection = 0;\n      if (w.config.chart.type === \"bar\" && w.globals.isXNumeric)\n        lineCorrection -= 15;\n      const elHorzLine = graphics.drawLine(\n        w.globals.padHorizontal + lineCorrection + axisBorder.offsetX,\n        this.xAxisoffX,\n        w.globals.gridWidth,\n        this.xAxisoffX,\n        axisBorder.color,\n        0,\n        axisBorder.height\n      );\n      if (this.elgrid && this.elgrid.elGridBorders && w.config.grid.show) {\n        this.elgrid.elGridBorders.add(elHorzLine);\n      } else {\n        parent.add(elHorzLine);\n      }\n    }\n  }\n  inversedYAxisTitleText(parent) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    if (w.config.xaxis.title.text !== void 0) {\n      const elYaxisTitle = graphics.group({\n        class: \"apexcharts-xaxis-title apexcharts-yaxis-title-inversed\"\n      });\n      const elYAxisTitleText = graphics.drawText({\n        x: w.globals.gridWidth / 2 + w.config.xaxis.title.offsetX,\n        y: this.xAxisoffX + parseFloat(this.xaxisFontSize) + parseFloat(w.config.xaxis.title.style.fontSize) + w.config.xaxis.title.offsetY + 20,\n        text: w.config.xaxis.title.text,\n        textAnchor: \"middle\",\n        fontSize: w.config.xaxis.title.style.fontSize,\n        fontFamily: w.config.xaxis.title.style.fontFamily,\n        fontWeight: w.config.xaxis.title.style.fontWeight,\n        foreColor: w.config.xaxis.title.style.color,\n        cssClass: `apexcharts-xaxis-title-text ${w.config.xaxis.title.style.cssClass}`\n      });\n      elYaxisTitle.add(elYAxisTitleText);\n      parent.add(elYaxisTitle);\n    }\n  }\n  yAxisTitleRotate(realIndex, yAxisOpposite) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const elYAxisLabelsWrap = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-yaxis[rel='${realIndex}'] .apexcharts-yaxis-texts-g`\n    );\n    const yAxisLabelsCoord = elYAxisLabelsWrap ? elYAxisLabelsWrap.getBoundingClientRect() : { width: 0, height: 0 };\n    const yAxisTitle = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-yaxis[rel='${realIndex}'] .apexcharts-yaxis-title text`\n    );\n    const yAxisTitleCoord = yAxisTitle ? yAxisTitle.getBoundingClientRect() : { width: 0, height: 0 };\n    if (yAxisTitle) {\n      const x = this.xPaddingForYAxisTitle(\n        realIndex,\n        yAxisLabelsCoord,\n        yAxisTitleCoord,\n        yAxisOpposite\n      );\n      yAxisTitle.setAttribute(\"x\", x.xPos - (yAxisOpposite ? 10 : 0));\n      const titleRotatingCenter = graphics.rotateAroundCenter(yAxisTitle);\n      yAxisTitle.setAttribute(\n        \"transform\",\n        `rotate(${yAxisOpposite ? w.config.yaxis[realIndex].title.rotate * -1 : w.config.yaxis[realIndex].title.rotate} ${titleRotatingCenter.x} ${titleRotatingCenter.y})`\n      );\n    }\n  }\n  xPaddingForYAxisTitle(realIndex, yAxisLabelsCoord, yAxisTitleCoord, yAxisOpposite) {\n    const w = this.w;\n    let x = 0;\n    let padd = 10;\n    if (w.config.yaxis[realIndex].title.text === void 0 || realIndex < 0) {\n      return { xPos: x, padd: 0 };\n    }\n    if (yAxisOpposite) {\n      x = yAxisLabelsCoord.width + w.config.yaxis[realIndex].title.offsetX + yAxisTitleCoord.width / 2 + padd / 2;\n    } else {\n      x = yAxisLabelsCoord.width * -1 + w.config.yaxis[realIndex].title.offsetX + padd / 2 + yAxisTitleCoord.width / 2;\n      if (w.globals.isBarHorizontal) {\n        padd = 25;\n        x = yAxisLabelsCoord.width * -1 - w.config.yaxis[realIndex].title.offsetX - padd;\n      }\n    }\n    return { xPos: x, padd };\n  }\n  setYAxisXPosition(yaxisLabelCoords, yTitleCoords) {\n    const w = this.w;\n    let xLeft = 0;\n    let xRight = 0;\n    let leftOffsetX = 18;\n    let rightOffsetX = 1;\n    if (w.config.yaxis.length > 1) this.multipleYs = true;\n    w.config.yaxis.forEach((yaxe, index) => {\n      const shouldNotDrawAxis = w.globals.ignoreYAxisIndexes.includes(index) || !yaxe.show || yaxe.floating || yaxisLabelCoords[index].width === 0;\n      const axisWidth = yaxisLabelCoords[index].width + yTitleCoords[index].width;\n      if (!yaxe.opposite) {\n        xLeft = w.globals.translateX - leftOffsetX;\n        if (!shouldNotDrawAxis) leftOffsetX += axisWidth + 20;\n        w.globals.translateYAxisX[index] = xLeft + yaxe.labels.offsetX;\n      } else {\n        if (w.globals.isBarHorizontal) {\n          xRight = w.globals.gridWidth + w.globals.translateX - 1;\n          w.globals.translateYAxisX[index] = xRight - yaxe.labels.offsetX;\n        } else {\n          xRight = w.globals.gridWidth + w.globals.translateX + rightOffsetX;\n          if (!shouldNotDrawAxis) rightOffsetX += axisWidth + 20;\n          w.globals.translateYAxisX[index] = xRight - yaxe.labels.offsetX + 20;\n        }\n      }\n    });\n  }\n  setYAxisTextAlignments() {\n    const w = this.w;\n    const yaxis = Utils$1.listToArray(\n      w.globals.dom.baseEl.getElementsByClassName(\"apexcharts-yaxis\")\n    );\n    yaxis.forEach((y, index) => {\n      const yaxe = w.config.yaxis[index];\n      if (yaxe && !yaxe.floating && yaxe.labels.align !== void 0) {\n        const yAxisInner = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-yaxis[rel='${index}'] .apexcharts-yaxis-texts-g`\n        );\n        const yAxisTexts = Utils$1.listToArray(\n          w.globals.dom.baseEl.querySelectorAll(\n            `.apexcharts-yaxis[rel='${index}'] .apexcharts-yaxis-label`\n          )\n        );\n        const rect = yAxisInner.getBoundingClientRect();\n        yAxisTexts.forEach((label) => {\n          label.setAttribute(\"text-anchor\", yaxe.labels.align);\n        });\n        if (yaxe.labels.align === \"left\" && !yaxe.opposite) {\n          yAxisInner.setAttribute(\"transform\", `translate(-${rect.width}, 0)`);\n        } else if (yaxe.labels.align === \"center\") {\n          yAxisInner.setAttribute(\n            \"transform\",\n            `translate(${rect.width / 2 * (!yaxe.opposite ? -1 : 1)}, 0)`\n          );\n        } else if (yaxe.labels.align === \"right\" && yaxe.opposite) {\n          yAxisInner.setAttribute(\"transform\", `translate(${rect.width}, 0)`);\n        }\n      }\n    });\n  }\n}\nclass Events {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.documentEvent = Utils$1.bind(this.documentEvent, this);\n  }\n  addEventListener(name2, handler) {\n    const w = this.w;\n    if (Object.prototype.hasOwnProperty.call(w.globals.events, name2)) {\n      w.globals.events[name2].push(handler);\n    } else {\n      w.globals.events[name2] = [handler];\n    }\n  }\n  removeEventListener(name2, handler) {\n    const w = this.w;\n    if (!Object.prototype.hasOwnProperty.call(w.globals.events, name2)) {\n      return;\n    }\n    let index = w.globals.events[name2].indexOf(handler);\n    if (index !== -1) {\n      w.globals.events[name2].splice(index, 1);\n    }\n  }\n  fireEvent(name2, args) {\n    const w = this.w;\n    if (!Object.prototype.hasOwnProperty.call(w.globals.events, name2)) {\n      return;\n    }\n    if (!args || !args.length) {\n      args = [];\n    }\n    let evs = w.globals.events[name2];\n    let l = evs.length;\n    for (let i = 0; i < l; i++) {\n      evs[i].apply(null, args);\n    }\n  }\n  setupEventHandlers() {\n    const w = this.w;\n    const me = this.ctx;\n    let clickableArea = w.globals.dom.baseEl.querySelector(w.globals.chartClass);\n    this.ctx.eventList.forEach((event) => {\n      clickableArea.addEventListener(\n        event,\n        (e) => {\n          let capturedSeriesIndex = e.target.getAttribute(\"i\") === null && w.globals.capturedSeriesIndex !== -1 ? w.globals.capturedSeriesIndex : e.target.getAttribute(\"i\");\n          let capturedDataPointIndex = e.target.getAttribute(\"j\") === null && w.globals.capturedDataPointIndex !== -1 ? w.globals.capturedDataPointIndex : e.target.getAttribute(\"j\");\n          const opts = Object.assign({}, w, {\n            seriesIndex: w.globals.axisCharts ? capturedSeriesIndex : 0,\n            dataPointIndex: capturedDataPointIndex\n          });\n          if (e.type === \"keydown\") {\n            if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n              if (typeof w.config.chart.events.keyDown === \"function\") {\n                w.config.chart.events.keyDown(e, me, opts);\n              }\n              me.ctx.events.fireEvent(\"keydown\", [e, me, opts]);\n            }\n          } else if (e.type === \"keyup\") {\n            if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n              if (typeof w.config.chart.events.keyUp === \"function\") {\n                w.config.chart.events.keyUp(e, me, opts);\n              }\n              me.ctx.events.fireEvent(\"keyup\", [e, me, opts]);\n            }\n          } else if (e.type === \"mousemove\" || e.type === \"touchmove\") {\n            if (typeof w.config.chart.events.mouseMove === \"function\") {\n              w.config.chart.events.mouseMove(e, me, opts);\n            }\n          } else if (e.type === \"mouseleave\" || e.type === \"touchleave\") {\n            if (typeof w.config.chart.events.mouseLeave === \"function\") {\n              w.config.chart.events.mouseLeave(e, me, opts);\n            }\n          } else if (e.type === \"mouseup\" && e.which === 1 || e.type === \"touchend\") {\n            if (typeof w.config.chart.events.click === \"function\") {\n              w.config.chart.events.click(e, me, opts);\n            }\n            me.ctx.events.fireEvent(\"click\", [e, me, opts]);\n          }\n        },\n        { capture: false, passive: true }\n      );\n    });\n    this.ctx.eventList.forEach((event) => {\n      w.globals.dom.baseEl.addEventListener(event, this.documentEvent, {\n        passive: true\n      });\n    });\n    this.ctx.core.setupBrushHandler();\n  }\n  documentEvent(e) {\n    const w = this.w;\n    const target = e.target.className;\n    if (e.type === \"click\") {\n      let elMenu = w.globals.dom.baseEl.querySelector(\".apexcharts-menu\");\n      if (elMenu && elMenu.classList.contains(\"apexcharts-menu-open\") && target !== \"apexcharts-menu-icon\") {\n        elMenu.classList.remove(\"apexcharts-menu-open\");\n      }\n    }\n    w.globals.clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n    w.globals.clientY = e.type === \"touchmove\" ? e.touches[0].clientY : e.clientY;\n  }\n}\nclass Localization {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  setCurrentLocaleValues(localeName) {\n    let locales = this.w.config.chart.locales;\n    if (window.Apex.chart && window.Apex.chart.locales && window.Apex.chart.locales.length > 0) {\n      locales = this.w.config.chart.locales.concat(window.Apex.chart.locales);\n    }\n    const selectedLocale = locales.filter((c) => c.name === localeName)[0];\n    if (selectedLocale) {\n      let ret = Utils$1.extend(en, selectedLocale);\n      this.w.globals.locale = ret.options;\n    } else {\n      throw new Error(\n        \"Wrong locale name provided. Please make sure you set the correct locale name in options\"\n      );\n    }\n  }\n}\nclass Axes {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  drawAxis(type, elgrid) {\n    let gl = this.w.globals;\n    let cnf = this.w.config;\n    let xAxis = new XAxis(this.ctx, elgrid);\n    let yAxis = new YAxis(this.ctx, elgrid);\n    if (gl.axisCharts && type !== \"radar\") {\n      let elXaxis, elYaxis;\n      if (gl.isBarHorizontal) {\n        elYaxis = yAxis.drawYaxisInversed(0);\n        elXaxis = xAxis.drawXaxisInversed(0);\n        gl.dom.elGraphical.add(elXaxis);\n        gl.dom.elGraphical.add(elYaxis);\n      } else {\n        elXaxis = xAxis.drawXaxis();\n        gl.dom.elGraphical.add(elXaxis);\n        cnf.yaxis.map((yaxe, index) => {\n          if (gl.ignoreYAxisIndexes.indexOf(index) === -1) {\n            elYaxis = yAxis.drawYaxis(index);\n            gl.dom.Paper.add(elYaxis);\n            if (this.w.config.grid.position === \"back\") {\n              const inner = gl.dom.Paper.children()[1];\n              inner.remove();\n              gl.dom.Paper.add(inner);\n            }\n          }\n        });\n      }\n    }\n  }\n}\nclass Crosshairs {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  drawXCrosshairs() {\n    const w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let filters = new Filters(this.ctx);\n    let crosshairGradient = w.config.xaxis.crosshairs.fill.gradient;\n    let crosshairShadow = w.config.xaxis.crosshairs.dropShadow;\n    let fillType = w.config.xaxis.crosshairs.fill.type;\n    let gradientFrom = crosshairGradient.colorFrom;\n    let gradientTo = crosshairGradient.colorTo;\n    let opacityFrom = crosshairGradient.opacityFrom;\n    let opacityTo = crosshairGradient.opacityTo;\n    let stops = crosshairGradient.stops;\n    let shadow = \"none\";\n    let dropShadow = crosshairShadow.enabled;\n    let shadowLeft = crosshairShadow.left;\n    let shadowTop = crosshairShadow.top;\n    let shadowBlur = crosshairShadow.blur;\n    let shadowColor = crosshairShadow.color;\n    let shadowOpacity = crosshairShadow.opacity;\n    let xcrosshairsFill = w.config.xaxis.crosshairs.fill.color;\n    if (w.config.xaxis.crosshairs.show) {\n      if (fillType === \"gradient\") {\n        xcrosshairsFill = graphics.drawGradient(\n          \"vertical\",\n          gradientFrom,\n          gradientTo,\n          opacityFrom,\n          opacityTo,\n          null,\n          stops,\n          null\n        );\n      }\n      let xcrosshairs = graphics.drawRect();\n      if (w.config.xaxis.crosshairs.width === 1) {\n        xcrosshairs = graphics.drawLine();\n      }\n      let gridHeight = w.globals.gridHeight;\n      if (!Utils$1.isNumber(gridHeight) || gridHeight < 0) {\n        gridHeight = 0;\n      }\n      let crosshairsWidth = w.config.xaxis.crosshairs.width;\n      if (!Utils$1.isNumber(crosshairsWidth) || crosshairsWidth < 0) {\n        crosshairsWidth = 0;\n      }\n      xcrosshairs.attr({\n        class: \"apexcharts-xcrosshairs\",\n        x: 0,\n        y: 0,\n        y2: gridHeight,\n        width: crosshairsWidth,\n        height: gridHeight,\n        fill: xcrosshairsFill,\n        filter: shadow,\n        \"fill-opacity\": w.config.xaxis.crosshairs.opacity,\n        stroke: w.config.xaxis.crosshairs.stroke.color,\n        \"stroke-width\": w.config.xaxis.crosshairs.stroke.width,\n        \"stroke-dasharray\": w.config.xaxis.crosshairs.stroke.dashArray\n      });\n      if (dropShadow) {\n        xcrosshairs = filters.dropShadow(xcrosshairs, {\n          left: shadowLeft,\n          top: shadowTop,\n          blur: shadowBlur,\n          color: shadowColor,\n          opacity: shadowOpacity\n        });\n      }\n      w.globals.dom.elGraphical.add(xcrosshairs);\n    }\n  }\n  drawYCrosshairs() {\n    const w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let crosshair = w.config.yaxis[0].crosshairs;\n    const offX = w.globals.barPadForNumericAxis;\n    if (w.config.yaxis[0].crosshairs.show) {\n      let ycrosshairs = graphics.drawLine(\n        -offX,\n        0,\n        w.globals.gridWidth + offX,\n        0,\n        crosshair.stroke.color,\n        crosshair.stroke.dashArray,\n        crosshair.stroke.width\n      );\n      ycrosshairs.attr({\n        class: \"apexcharts-ycrosshairs\"\n      });\n      w.globals.dom.elGraphical.add(ycrosshairs);\n    }\n    let ycrosshairsHidden = graphics.drawLine(\n      -offX,\n      0,\n      w.globals.gridWidth + offX,\n      0,\n      crosshair.stroke.color,\n      0,\n      0\n    );\n    ycrosshairsHidden.attr({\n      class: \"apexcharts-ycrosshairs-hidden\"\n    });\n    w.globals.dom.elGraphical.add(ycrosshairsHidden);\n  }\n}\nclass Responsive {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  // the opts parameter if not null has to be set overriding everything\n  // as the opts is set by user externally\n  checkResponsiveConfig(opts) {\n    const w = this.w;\n    const cnf = w.config;\n    if (cnf.responsive.length === 0) return;\n    let res = cnf.responsive.slice();\n    res.sort(\n      (a, b) => a.breakpoint > b.breakpoint ? 1 : b.breakpoint > a.breakpoint ? -1 : 0\n    ).reverse();\n    let config = new Config({});\n    const iterateResponsiveOptions = (newOptions = {}) => {\n      let largestBreakpoint = res[0].breakpoint;\n      const width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n      if (width > largestBreakpoint) {\n        let initialConfig = Utils$1.clone(w.globals.initialConfig);\n        initialConfig.series = Utils$1.clone(w.config.series);\n        let options2 = CoreUtils.extendArrayProps(\n          config,\n          initialConfig,\n          w\n        );\n        newOptions = Utils$1.extend(options2, newOptions);\n        newOptions = Utils$1.extend(w.config, newOptions);\n        this.overrideResponsiveOptions(newOptions);\n      } else {\n        for (let i = 0; i < res.length; i++) {\n          if (width < res[i].breakpoint) {\n            newOptions = CoreUtils.extendArrayProps(config, res[i].options, w);\n            newOptions = Utils$1.extend(w.config, newOptions);\n            this.overrideResponsiveOptions(newOptions);\n          }\n        }\n      }\n    };\n    if (opts) {\n      let options2 = CoreUtils.extendArrayProps(config, opts, w);\n      options2 = Utils$1.extend(w.config, options2);\n      options2 = Utils$1.extend(options2, opts);\n      iterateResponsiveOptions(options2);\n    } else {\n      iterateResponsiveOptions({});\n    }\n  }\n  overrideResponsiveOptions(newOptions) {\n    let newConfig = new Config(newOptions).init({ responsiveOverride: true });\n    this.w.config = newConfig;\n  }\n}\nclass Theme {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.colors = [];\n    this.isColorFn = false;\n    this.isHeatmapDistributed = this.checkHeatmapDistributed();\n    this.isBarDistributed = this.checkBarDistributed();\n  }\n  checkHeatmapDistributed() {\n    const { chart, plotOptions } = this.w.config;\n    return chart.type === \"treemap\" && plotOptions.treemap && plotOptions.treemap.distributed || chart.type === \"heatmap\" && plotOptions.heatmap && plotOptions.heatmap.distributed;\n  }\n  checkBarDistributed() {\n    const { chart, plotOptions } = this.w.config;\n    return plotOptions.bar && plotOptions.bar.distributed && (chart.type === \"bar\" || chart.type === \"rangeBar\");\n  }\n  init() {\n    this.setDefaultColors();\n  }\n  setDefaultColors() {\n    const w = this.w;\n    const utils = new Utils$1();\n    w.globals.dom.elWrap.classList.add(\n      `apexcharts-theme-${w.config.theme.mode || \"light\"}`\n    );\n    const configColors = [...w.config.colors || w.config.fill.colors || []];\n    w.globals.colors = this.getColors(configColors);\n    this.applySeriesColors(w.globals.seriesColors, w.globals.colors);\n    if (w.config.theme.monochrome.enabled) {\n      w.globals.colors = this.getMonochromeColors(\n        w.config.theme.monochrome,\n        w.globals.series,\n        utils\n      );\n    }\n    const defaultColors = w.globals.colors.slice();\n    this.pushExtraColors(w.globals.colors);\n    this.applyColorTypes([\"fill\", \"stroke\"], defaultColors);\n    this.applyDataLabelsColors(defaultColors);\n    this.applyRadarPolygonsColors();\n    this.applyMarkersColors(defaultColors);\n  }\n  getColors(configColors) {\n    const w = this.w;\n    if (!configColors || configColors.length === 0) {\n      return this.predefined();\n    }\n    if (Array.isArray(configColors) && configColors.length > 0 && typeof configColors[0] === \"function\") {\n      this.isColorFn = true;\n      return w.config.series.map((s, i) => {\n        let c = configColors[i] || configColors[0];\n        return typeof c === \"function\" ? c({\n          value: w.globals.axisCharts ? w.globals.series[i][0] || 0 : w.globals.series[i],\n          seriesIndex: i,\n          dataPointIndex: i,\n          w: this.w\n        }) : c;\n      });\n    }\n    return configColors;\n  }\n  applySeriesColors(seriesColors, globalsColors) {\n    seriesColors.forEach((c, i) => {\n      if (c) {\n        globalsColors[i] = c;\n      }\n    });\n  }\n  getMonochromeColors(monochrome, series, utils) {\n    const { color, shadeIntensity, shadeTo } = monochrome;\n    const glsCnt = this.isBarDistributed || this.isHeatmapDistributed ? series[0].length * series.length : series.length;\n    const part = 1 / (glsCnt / shadeIntensity);\n    let percent = 0;\n    return Array.from({ length: glsCnt }, () => {\n      const newColor = shadeTo === \"dark\" ? utils.shadeColor(percent * -1, color) : utils.shadeColor(percent, color);\n      percent += part;\n      return newColor;\n    });\n  }\n  applyColorTypes(colorTypes, defaultColors) {\n    const w = this.w;\n    colorTypes.forEach((c) => {\n      w.globals[c].colors = w.config[c].colors === void 0 ? this.isColorFn ? w.config.colors : defaultColors : w.config[c].colors.slice();\n      this.pushExtraColors(w.globals[c].colors);\n    });\n  }\n  applyDataLabelsColors(defaultColors) {\n    const w = this.w;\n    w.globals.dataLabels.style.colors = w.config.dataLabels.style.colors === void 0 ? defaultColors : w.config.dataLabels.style.colors.slice();\n    this.pushExtraColors(w.globals.dataLabels.style.colors, 50);\n  }\n  applyRadarPolygonsColors() {\n    const w = this.w;\n    w.globals.radarPolygons.fill.colors = w.config.plotOptions.radar.polygons.fill.colors === void 0 ? [w.config.theme.mode === \"dark\" ? \"#343A3F\" : \"none\"] : w.config.plotOptions.radar.polygons.fill.colors.slice();\n    this.pushExtraColors(w.globals.radarPolygons.fill.colors, 20);\n  }\n  applyMarkersColors(defaultColors) {\n    const w = this.w;\n    w.globals.markers.colors = w.config.markers.colors === void 0 ? defaultColors : w.config.markers.colors.slice();\n    this.pushExtraColors(w.globals.markers.colors);\n  }\n  pushExtraColors(colorSeries, length, distributed = null) {\n    const w = this.w;\n    let len = length || w.globals.series.length;\n    if (distributed === null) {\n      distributed = this.isBarDistributed || this.isHeatmapDistributed || w.config.chart.type === \"heatmap\" && w.config.plotOptions.heatmap && w.config.plotOptions.heatmap.colorScale.inverse;\n    }\n    if (distributed && w.globals.series.length) {\n      len = w.globals.series[w.globals.maxValsInArrayIndex].length * w.globals.series.length;\n    }\n    if (colorSeries.length < len) {\n      let diff = len - colorSeries.length;\n      for (let i = 0; i < diff; i++) {\n        colorSeries.push(colorSeries[i]);\n      }\n    }\n  }\n  updateThemeOptions(options2) {\n    options2.chart = options2.chart || {};\n    options2.tooltip = options2.tooltip || {};\n    const mode = options2.theme.mode;\n    const palette = mode === \"dark\" ? \"palette4\" : mode === \"light\" ? \"palette1\" : options2.theme.palette || \"palette1\";\n    const foreColor = mode === \"dark\" ? \"#f6f7f8\" : mode === \"light\" ? \"#373d3f\" : options2.chart.foreColor || \"#373d3f\";\n    options2.tooltip.theme = mode || \"light\";\n    options2.chart.foreColor = foreColor;\n    options2.theme.palette = palette;\n    return options2;\n  }\n  predefined() {\n    const palette = this.w.config.theme.palette;\n    const palettes = this.ctx.constructor.getThemePalettes();\n    return palettes[palette] || palettes.palette1;\n  }\n}\nclass TitleSubtitle {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  draw() {\n    this.drawTitleSubtitle(\"title\");\n    this.drawTitleSubtitle(\"subtitle\");\n  }\n  drawTitleSubtitle(type) {\n    let w = this.w;\n    const tsConfig = type === \"title\" ? w.config.title : w.config.subtitle;\n    let x = w.globals.svgWidth / 2;\n    let y = tsConfig.offsetY;\n    let textAnchor = \"middle\";\n    if (tsConfig.align === \"left\") {\n      x = 10;\n      textAnchor = \"start\";\n    } else if (tsConfig.align === \"right\") {\n      x = w.globals.svgWidth - 10;\n      textAnchor = \"end\";\n    }\n    x = x + tsConfig.offsetX;\n    y = y + parseInt(tsConfig.style.fontSize, 10) + tsConfig.margin / 2;\n    if (tsConfig.text !== void 0) {\n      let graphics = new Graphics(this.ctx);\n      let titleText = graphics.drawText({\n        x,\n        y,\n        text: tsConfig.text,\n        textAnchor,\n        fontSize: tsConfig.style.fontSize,\n        fontFamily: tsConfig.style.fontFamily,\n        fontWeight: tsConfig.style.fontWeight,\n        foreColor: tsConfig.style.color,\n        opacity: 1\n      });\n      titleText.node.setAttribute(\"class\", `apexcharts-${type}-text`);\n      w.globals.dom.Paper.add(titleText);\n    }\n  }\n}\nlet Helpers$3 = class Helpers2 {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  /**\n   * Get Chart Title/Subtitle Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getTitleSubtitleCoords(type) {\n    let w = this.w;\n    let width = 0;\n    let height = 0;\n    const floating = type === \"title\" ? w.config.title.floating : w.config.subtitle.floating;\n    let el = w.globals.dom.baseEl.querySelector(`.apexcharts-${type}-text`);\n    if (el !== null && !floating) {\n      let coord = el.getBoundingClientRect();\n      width = coord.width;\n      height = w.globals.axisCharts ? coord.height + 5 : coord.height;\n    }\n    return {\n      width,\n      height\n    };\n  }\n  getLegendsRect() {\n    let w = this.w;\n    let elLegendWrap = w.globals.dom.elLegendWrap;\n    if (!w.config.legend.height && (w.config.legend.position === \"top\" || w.config.legend.position === \"bottom\")) {\n      elLegendWrap.style.maxHeight = w.globals.svgHeight / 2 + \"px\";\n    }\n    let lgRect = Object.assign({}, Utils$1.getBoundingClientRect(elLegendWrap));\n    if (elLegendWrap !== null && !w.config.legend.floating && w.config.legend.show) {\n      this.dCtx.lgRect = {\n        x: lgRect.x,\n        y: lgRect.y,\n        height: lgRect.height,\n        width: lgRect.height === 0 ? 0 : lgRect.width\n      };\n    } else {\n      this.dCtx.lgRect = {\n        x: 0,\n        y: 0,\n        height: 0,\n        width: 0\n      };\n    }\n    if (w.config.legend.position === \"left\" || w.config.legend.position === \"right\") {\n      if (this.dCtx.lgRect.width * 1.5 > w.globals.svgWidth) {\n        this.dCtx.lgRect.width = w.globals.svgWidth / 1.5;\n      }\n    }\n    return this.dCtx.lgRect;\n  }\n  /**\n   * Get Y Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getDatalabelsRect() {\n    let w = this.w;\n    let allLabels = [];\n    w.config.series.forEach((serie, seriesIndex) => {\n      serie.data.forEach((datum, dataPointIndex) => {\n        const getText = (v) => {\n          return w.config.dataLabels.formatter(v, {\n            ctx: this.dCtx.ctx,\n            seriesIndex,\n            dataPointIndex,\n            w\n          });\n        };\n        const labelText = getText(w.globals.series[seriesIndex][dataPointIndex]);\n        allLabels.push(labelText);\n      });\n    });\n    let val = Utils$1.getLargestStringFromArr(allLabels);\n    let graphics = new Graphics(this.dCtx.ctx);\n    const dataLabelsStyle = w.config.dataLabels.style;\n    let labelrect = graphics.getTextRects(\n      val,\n      parseInt(dataLabelsStyle.fontSize),\n      dataLabelsStyle.fontFamily\n    );\n    return {\n      width: labelrect.width * 1.05,\n      height: labelrect.height\n    };\n  }\n  getLargestStringFromMultiArr(val, arr) {\n    const w = this.w;\n    let valArr = val;\n    if (w.globals.isMultiLineX) {\n      let maxArrs = arr.map((xl) => {\n        return Array.isArray(xl) ? xl.length : 1;\n      });\n      let maxArrLen = Math.max(...maxArrs);\n      let maxArrIndex = maxArrs.indexOf(maxArrLen);\n      valArr = arr[maxArrIndex];\n    }\n    return valArr;\n  }\n};\nclass DimXAxis {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  /**\n   * Get X Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getxAxisLabelsCoords() {\n    let w = this.w;\n    let xaxisLabels = w.globals.labels.slice();\n    if (w.config.xaxis.convertedCatToNumeric && xaxisLabels.length === 0) {\n      xaxisLabels = w.globals.categoryLabels;\n    }\n    let rect;\n    if (w.globals.timescaleLabels.length > 0) {\n      const coords = this.getxAxisTimeScaleLabelsCoords();\n      rect = {\n        width: coords.width,\n        height: coords.height\n      };\n      w.globals.rotateXLabels = false;\n    } else {\n      this.dCtx.lgWidthForSideLegends = (w.config.legend.position === \"left\" || w.config.legend.position === \"right\") && !w.config.legend.floating ? this.dCtx.lgRect.width : 0;\n      let xlbFormatter = w.globals.xLabelFormatter;\n      let val = Utils$1.getLargestStringFromArr(xaxisLabels);\n      let valArr = this.dCtx.dimHelpers.getLargestStringFromMultiArr(\n        val,\n        xaxisLabels\n      );\n      if (w.globals.isBarHorizontal) {\n        val = w.globals.yAxisScale[0].result.reduce(\n          (a, b) => a.length > b.length ? a : b,\n          0\n        );\n        valArr = val;\n      }\n      let xFormat = new Formatters(this.dCtx.ctx);\n      let timestamp = val;\n      val = xFormat.xLabelFormat(xlbFormatter, val, timestamp, {\n        i: void 0,\n        dateFormatter: new DateTime(this.dCtx.ctx).formatDate,\n        w\n      });\n      valArr = xFormat.xLabelFormat(xlbFormatter, valArr, timestamp, {\n        i: void 0,\n        dateFormatter: new DateTime(this.dCtx.ctx).formatDate,\n        w\n      });\n      if (w.config.xaxis.convertedCatToNumeric && typeof val === \"undefined\" || String(val).trim() === \"\") {\n        val = \"1\";\n        valArr = val;\n      }\n      let graphics = new Graphics(this.dCtx.ctx);\n      let xLabelrect = graphics.getTextRects(\n        val,\n        w.config.xaxis.labels.style.fontSize\n      );\n      let xArrLabelrect = xLabelrect;\n      if (val !== valArr) {\n        xArrLabelrect = graphics.getTextRects(\n          valArr,\n          w.config.xaxis.labels.style.fontSize\n        );\n      }\n      rect = {\n        width: xLabelrect.width >= xArrLabelrect.width ? xLabelrect.width : xArrLabelrect.width,\n        height: xLabelrect.height >= xArrLabelrect.height ? xLabelrect.height : xArrLabelrect.height\n      };\n      if (rect.width * xaxisLabels.length > w.globals.svgWidth - this.dCtx.lgWidthForSideLegends - this.dCtx.yAxisWidth - this.dCtx.gridPad.left - this.dCtx.gridPad.right && w.config.xaxis.labels.rotate !== 0 || w.config.xaxis.labels.rotateAlways) {\n        if (!w.globals.isBarHorizontal) {\n          w.globals.rotateXLabels = true;\n          const getRotatedTextRects = (text) => {\n            return graphics.getTextRects(\n              text,\n              w.config.xaxis.labels.style.fontSize,\n              w.config.xaxis.labels.style.fontFamily,\n              `rotate(${w.config.xaxis.labels.rotate} 0 0)`,\n              false\n            );\n          };\n          xLabelrect = getRotatedTextRects(val);\n          if (val !== valArr) {\n            xArrLabelrect = getRotatedTextRects(valArr);\n          }\n          rect.height = (xLabelrect.height > xArrLabelrect.height ? xLabelrect.height : xArrLabelrect.height) / 1.5;\n          rect.width = xLabelrect.width > xArrLabelrect.width ? xLabelrect.width : xArrLabelrect.width;\n        }\n      } else {\n        w.globals.rotateXLabels = false;\n      }\n    }\n    if (!w.config.xaxis.labels.show) {\n      rect = {\n        width: 0,\n        height: 0\n      };\n    }\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n  /**\n   * Get X Axis Label Group height\n   * @memberof Dimensions\n   * @return {{width, height}}\n   */\n  getxAxisGroupLabelsCoords() {\n    var _a;\n    let w = this.w;\n    if (!w.globals.hasXaxisGroups) {\n      return { width: 0, height: 0 };\n    }\n    const fontSize = ((_a = w.config.xaxis.group.style) == null ? void 0 : _a.fontSize) || w.config.xaxis.labels.style.fontSize;\n    let xaxisLabels = w.globals.groups.map((g) => g.title);\n    let rect;\n    let val = Utils$1.getLargestStringFromArr(xaxisLabels);\n    let valArr = this.dCtx.dimHelpers.getLargestStringFromMultiArr(\n      val,\n      xaxisLabels\n    );\n    let graphics = new Graphics(this.dCtx.ctx);\n    let xLabelrect = graphics.getTextRects(val, fontSize);\n    let xArrLabelrect = xLabelrect;\n    if (val !== valArr) {\n      xArrLabelrect = graphics.getTextRects(valArr, fontSize);\n    }\n    rect = {\n      width: xLabelrect.width >= xArrLabelrect.width ? xLabelrect.width : xArrLabelrect.width,\n      height: xLabelrect.height >= xArrLabelrect.height ? xLabelrect.height : xArrLabelrect.height\n    };\n    if (!w.config.xaxis.labels.show) {\n      rect = {\n        width: 0,\n        height: 0\n      };\n    }\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n  /**\n   * Get X Axis Title Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getxAxisTitleCoords() {\n    let w = this.w;\n    let width = 0;\n    let height = 0;\n    if (w.config.xaxis.title.text !== void 0) {\n      let graphics = new Graphics(this.dCtx.ctx);\n      let rect = graphics.getTextRects(\n        w.config.xaxis.title.text,\n        w.config.xaxis.title.style.fontSize\n      );\n      width = rect.width;\n      height = rect.height;\n    }\n    return {\n      width,\n      height\n    };\n  }\n  getxAxisTimeScaleLabelsCoords() {\n    let w = this.w;\n    let rect;\n    this.dCtx.timescaleLabels = w.globals.timescaleLabels.slice();\n    let labels = this.dCtx.timescaleLabels.map((label) => label.value);\n    let val = labels.reduce((a, b) => {\n      if (typeof a === \"undefined\") {\n        console.error(\n          \"You have possibly supplied invalid Date format. Please supply a valid JavaScript Date\"\n        );\n        return 0;\n      } else {\n        return a.length > b.length ? a : b;\n      }\n    }, 0);\n    let graphics = new Graphics(this.dCtx.ctx);\n    rect = graphics.getTextRects(val, w.config.xaxis.labels.style.fontSize);\n    let totalWidthRotated = rect.width * 1.05 * labels.length;\n    if (totalWidthRotated > w.globals.gridWidth && w.config.xaxis.labels.rotate !== 0) {\n      w.globals.overlappingXLabels = true;\n    }\n    return rect;\n  }\n  // In certain cases, the last labels gets cropped in xaxis.\n  // Hence, we add some additional padding based on the label length to avoid the last label being cropped or we don't draw it at all\n  additionalPaddingXLabels(xaxisLabelCoords) {\n    const w = this.w;\n    const gl = w.globals;\n    const cnf = w.config;\n    const xtype = cnf.xaxis.type;\n    let lbWidth = xaxisLabelCoords.width;\n    gl.skipLastTimelinelabel = false;\n    gl.skipFirstTimelinelabel = false;\n    const isBarOpposite = w.config.yaxis[0].opposite && w.globals.isBarHorizontal;\n    const isCollapsed = (i) => gl.collapsedSeriesIndices.indexOf(i) !== -1;\n    const rightPad = (yaxe) => {\n      if (this.dCtx.timescaleLabels && this.dCtx.timescaleLabels.length) {\n        const firstimescaleLabel = this.dCtx.timescaleLabels[0];\n        const lastTimescaleLabel = this.dCtx.timescaleLabels[this.dCtx.timescaleLabels.length - 1];\n        const lastLabelPosition = lastTimescaleLabel.position + lbWidth / 1.75 - this.dCtx.yAxisWidthRight;\n        const firstLabelPosition = firstimescaleLabel.position - lbWidth / 1.75 + this.dCtx.yAxisWidthLeft;\n        let lgRightRectWidth = w.config.legend.position === \"right\" && this.dCtx.lgRect.width > 0 ? this.dCtx.lgRect.width : 0;\n        if (lastLabelPosition > gl.svgWidth - gl.translateX - lgRightRectWidth) {\n          gl.skipLastTimelinelabel = true;\n        }\n        if (firstLabelPosition < -((!yaxe.show || yaxe.floating) && (cnf.chart.type === \"bar\" || cnf.chart.type === \"candlestick\" || cnf.chart.type === \"rangeBar\" || cnf.chart.type === \"boxPlot\") ? lbWidth / 1.75 : 10)) {\n          gl.skipFirstTimelinelabel = true;\n        }\n      } else if (xtype === \"datetime\") {\n        if (this.dCtx.gridPad.right < lbWidth && !gl.rotateXLabels) {\n          gl.skipLastTimelinelabel = true;\n        }\n      } else if (xtype !== \"datetime\") {\n        if (this.dCtx.gridPad.right < lbWidth / 2 - this.dCtx.yAxisWidthRight && !gl.rotateXLabels && !w.config.xaxis.labels.trim) {\n          this.dCtx.xPadRight = lbWidth / 2 + 1;\n        }\n      }\n    };\n    const padYAxe = (yaxe, i) => {\n      if (cnf.yaxis.length > 1 && isCollapsed(i)) return;\n      rightPad(yaxe);\n    };\n    cnf.yaxis.forEach((yaxe, i) => {\n      if (isBarOpposite) {\n        if (this.dCtx.gridPad.left < lbWidth) {\n          this.dCtx.xPadLeft = lbWidth / 2 + 1;\n        }\n        this.dCtx.xPadRight = lbWidth / 2 + 1;\n      } else {\n        padYAxe(yaxe, i);\n      }\n    });\n  }\n}\nclass DimYAxis {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  /**\n   * Get Y Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getyAxisLabelsCoords() {\n    let w = this.w;\n    let width = 0;\n    let height = 0;\n    let ret = [];\n    let labelPad = 10;\n    const axesUtils = new AxesUtils(this.dCtx.ctx);\n    w.config.yaxis.map((yaxe, index) => {\n      const formatterArgs = {\n        seriesIndex: index,\n        dataPointIndex: -1,\n        w\n      };\n      const yS = w.globals.yAxisScale[index];\n      let yAxisMinWidth = 0;\n      if (!axesUtils.isYAxisHidden(index) && yaxe.labels.show && yaxe.labels.minWidth !== void 0)\n        yAxisMinWidth = yaxe.labels.minWidth;\n      if (!axesUtils.isYAxisHidden(index) && yaxe.labels.show && yS.result.length) {\n        let lbFormatter = w.globals.yLabelFormatters[index];\n        let minV = yS.niceMin === Number.MIN_VALUE ? 0 : yS.niceMin;\n        let val = yS.result.reduce((acc, curr) => {\n          var _a, _b;\n          return ((_a = String(lbFormatter(acc, formatterArgs))) == null ? void 0 : _a.length) > ((_b = String(lbFormatter(curr, formatterArgs))) == null ? void 0 : _b.length) ? acc : curr;\n        }, minV);\n        val = lbFormatter(val, formatterArgs);\n        let valArr = val;\n        if (typeof val === \"undefined\" || val.length === 0) {\n          val = yS.niceMax;\n        }\n        if (String(val).length === 1) {\n          val = val + \".0\";\n          valArr = val;\n        }\n        if (w.globals.isBarHorizontal) {\n          labelPad = 0;\n          let barYaxisLabels = w.globals.labels.slice();\n          val = Utils$1.getLargestStringFromArr(barYaxisLabels);\n          val = lbFormatter(val, { seriesIndex: index, dataPointIndex: -1, w });\n          valArr = this.dCtx.dimHelpers.getLargestStringFromMultiArr(\n            val,\n            barYaxisLabels\n          );\n        }\n        let graphics = new Graphics(this.dCtx.ctx);\n        let rotateStr = \"rotate(\".concat(yaxe.labels.rotate, \" 0 0)\");\n        let rect = graphics.getTextRects(\n          val,\n          yaxe.labels.style.fontSize,\n          yaxe.labels.style.fontFamily,\n          rotateStr,\n          false\n        );\n        let arrLabelrect = rect;\n        if (val !== valArr) {\n          arrLabelrect = graphics.getTextRects(\n            valArr,\n            yaxe.labels.style.fontSize,\n            yaxe.labels.style.fontFamily,\n            rotateStr,\n            false\n          );\n        }\n        ret.push({\n          width: (yAxisMinWidth > arrLabelrect.width || yAxisMinWidth > rect.width ? yAxisMinWidth : arrLabelrect.width > rect.width ? arrLabelrect.width : rect.width) + labelPad,\n          height: arrLabelrect.height > rect.height ? arrLabelrect.height : rect.height\n        });\n      } else {\n        ret.push({\n          width,\n          height\n        });\n      }\n    });\n    return ret;\n  }\n  /**\n   * Get Y Axis Dimensions\n   * @memberof Dimensions\n   * @return {{width, height}}\n   **/\n  getyAxisTitleCoords() {\n    let w = this.w;\n    let ret = [];\n    w.config.yaxis.map((yaxe) => {\n      if (yaxe.show && yaxe.title.text !== void 0) {\n        let graphics = new Graphics(this.dCtx.ctx);\n        let rotateStr = \"rotate(\".concat(yaxe.title.rotate, \" 0 0)\");\n        let rect = graphics.getTextRects(\n          yaxe.title.text,\n          yaxe.title.style.fontSize,\n          yaxe.title.style.fontFamily,\n          rotateStr,\n          false\n        );\n        ret.push({\n          width: rect.width,\n          height: rect.height\n        });\n      } else {\n        ret.push({\n          width: 0,\n          height: 0\n        });\n      }\n    });\n    return ret;\n  }\n  getTotalYAxisWidth() {\n    let w = this.w;\n    let yAxisWidth = 0;\n    let yAxisWidthLeft = 0;\n    let yAxisWidthRight = 0;\n    let padding = w.globals.yAxisScale.length > 1 ? 10 : 0;\n    const axesUtils = new AxesUtils(this.dCtx.ctx);\n    const isHiddenYAxis = function(index) {\n      return w.globals.ignoreYAxisIndexes.indexOf(index) > -1;\n    };\n    const padForLabelTitle = (coord, index) => {\n      let floating = w.config.yaxis[index].floating;\n      let width = 0;\n      if (coord.width > 0 && !floating) {\n        width = coord.width + padding;\n        if (isHiddenYAxis(index)) {\n          width = width - coord.width - padding;\n        }\n      } else {\n        width = floating || axesUtils.isYAxisHidden(index) ? 0 : 5;\n      }\n      w.config.yaxis[index].opposite ? yAxisWidthRight = yAxisWidthRight + width : yAxisWidthLeft = yAxisWidthLeft + width;\n      yAxisWidth = yAxisWidth + width;\n    };\n    w.globals.yLabelsCoords.map((yLabelCoord, index) => {\n      padForLabelTitle(yLabelCoord, index);\n    });\n    w.globals.yTitleCoords.map((yTitleCoord, index) => {\n      padForLabelTitle(yTitleCoord, index);\n    });\n    if (w.globals.isBarHorizontal && !w.config.yaxis[0].floating) {\n      yAxisWidth = w.globals.yLabelsCoords[0].width + w.globals.yTitleCoords[0].width + 15;\n    }\n    this.dCtx.yAxisWidthLeft = yAxisWidthLeft;\n    this.dCtx.yAxisWidthRight = yAxisWidthRight;\n    return yAxisWidth;\n  }\n}\nclass DimGrid {\n  constructor(dCtx) {\n    this.w = dCtx.w;\n    this.dCtx = dCtx;\n  }\n  gridPadForColumnsInNumericAxis(gridWidth) {\n    const { w } = this;\n    const { config: cnf, globals: gl } = w;\n    if (gl.noData || gl.collapsedSeries.length + gl.ancillaryCollapsedSeries.length === cnf.series.length) {\n      return 0;\n    }\n    const hasBar = (type2) => [\"bar\", \"rangeBar\", \"candlestick\", \"boxPlot\"].includes(type2);\n    const type = cnf.chart.type;\n    let barWidth = 0;\n    let seriesLen = hasBar(type) ? cnf.series.length : 1;\n    if (gl.comboBarCount > 0) {\n      seriesLen = gl.comboBarCount;\n    }\n    gl.collapsedSeries.forEach((c) => {\n      if (hasBar(c.type)) {\n        seriesLen -= 1;\n      }\n    });\n    if (cnf.chart.stacked) {\n      seriesLen = 1;\n    }\n    const barsPresent = hasBar(type) || gl.comboBarCount > 0;\n    let xRange = Math.abs(gl.initialMaxX - gl.initialMinX);\n    if (barsPresent && gl.isXNumeric && !gl.isBarHorizontal && seriesLen > 0 && xRange !== 0) {\n      if (xRange <= 3) {\n        xRange = gl.dataPoints;\n      }\n      const xRatio = xRange / gridWidth;\n      let xDivision = gl.minXDiff && gl.minXDiff / xRatio > 0 ? gl.minXDiff / xRatio : 0;\n      if (xDivision > gridWidth / 2) {\n        xDivision /= 2;\n      }\n      barWidth = xDivision * parseInt(cnf.plotOptions.bar.columnWidth, 10) / 100;\n      if (barWidth < 1) {\n        barWidth = 1;\n      }\n      gl.barPadForNumericAxis = barWidth;\n    }\n    return barWidth;\n  }\n  gridPadFortitleSubtitle() {\n    const { w } = this;\n    const { globals: gl } = w;\n    let gridShrinkOffset = this.dCtx.isSparkline || !gl.axisCharts ? 0 : 10;\n    const titleSubtitle = [\"title\", \"subtitle\"];\n    titleSubtitle.forEach((t) => {\n      if (w.config[t].text !== void 0) {\n        gridShrinkOffset += w.config[t].margin;\n      } else {\n        gridShrinkOffset += this.dCtx.isSparkline || !gl.axisCharts ? 0 : 5;\n      }\n    });\n    if (w.config.legend.show && w.config.legend.position === \"bottom\" && !w.config.legend.floating && !gl.axisCharts) {\n      gridShrinkOffset += 10;\n    }\n    const titleCoords = this.dCtx.dimHelpers.getTitleSubtitleCoords(\"title\");\n    const subtitleCoords = this.dCtx.dimHelpers.getTitleSubtitleCoords(\"subtitle\");\n    gl.gridHeight -= titleCoords.height + subtitleCoords.height + gridShrinkOffset;\n    gl.translateY += titleCoords.height + subtitleCoords.height + gridShrinkOffset;\n  }\n  setGridXPosForDualYAxis(yTitleCoords, yaxisLabelCoords) {\n    const { w } = this;\n    const axesUtils = new AxesUtils(this.dCtx.ctx);\n    w.config.yaxis.forEach((yaxe, index) => {\n      if (w.globals.ignoreYAxisIndexes.indexOf(index) === -1 && !yaxe.floating && !axesUtils.isYAxisHidden(index)) {\n        if (yaxe.opposite) {\n          w.globals.translateX -= yaxisLabelCoords[index].width + yTitleCoords[index].width + parseInt(yaxe.labels.style.fontSize, 10) / 1.2 + 12;\n        }\n        if (w.globals.translateX < 2) {\n          w.globals.translateX = 2;\n        }\n      }\n    });\n  }\n}\nclass Dimensions {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.lgRect = {};\n    this.yAxisWidth = 0;\n    this.yAxisWidthLeft = 0;\n    this.yAxisWidthRight = 0;\n    this.xAxisHeight = 0;\n    this.isSparkline = this.w.config.chart.sparkline.enabled;\n    this.dimHelpers = new Helpers$3(this);\n    this.dimYAxis = new DimYAxis(this);\n    this.dimXAxis = new DimXAxis(this);\n    this.dimGrid = new DimGrid(this);\n    this.lgWidthForSideLegends = 0;\n    this.gridPad = this.w.config.grid.padding;\n    this.xPadRight = 0;\n    this.xPadLeft = 0;\n  }\n  /**\n   * @memberof Dimensions\n   * @param {object} w - chart context\n   **/\n  plotCoords() {\n    let w = this.w;\n    let gl = w.globals;\n    this.lgRect = this.dimHelpers.getLegendsRect();\n    this.datalabelsCoords = { width: 0, height: 0 };\n    const maxStrokeWidth = Array.isArray(w.config.stroke.width) ? Math.max(...w.config.stroke.width) : w.config.stroke.width;\n    if (this.isSparkline) {\n      if (w.config.markers.discrete.length > 0 || w.config.markers.size > 0) {\n        Object.entries(this.gridPad).forEach(([k, v]) => {\n          this.gridPad[k] = Math.max(\n            v,\n            this.w.globals.markers.largestSize / 1.5\n          );\n        });\n      }\n      this.gridPad.top = Math.max(maxStrokeWidth / 2, this.gridPad.top);\n      this.gridPad.bottom = Math.max(maxStrokeWidth / 2, this.gridPad.bottom);\n    }\n    if (gl.axisCharts) {\n      this.setDimensionsForAxisCharts();\n    } else {\n      this.setDimensionsForNonAxisCharts();\n    }\n    this.dimGrid.gridPadFortitleSubtitle();\n    gl.gridHeight = gl.gridHeight - this.gridPad.top - this.gridPad.bottom;\n    gl.gridWidth = gl.gridWidth - this.gridPad.left - this.gridPad.right - this.xPadRight - this.xPadLeft;\n    let barWidth = this.dimGrid.gridPadForColumnsInNumericAxis(gl.gridWidth);\n    gl.gridWidth = gl.gridWidth - barWidth * 2;\n    gl.translateX = gl.translateX + this.gridPad.left + this.xPadLeft + (barWidth > 0 ? barWidth : 0);\n    gl.translateY = gl.translateY + this.gridPad.top;\n  }\n  setDimensionsForAxisCharts() {\n    let w = this.w;\n    let gl = w.globals;\n    let yaxisLabelCoords = this.dimYAxis.getyAxisLabelsCoords();\n    let yTitleCoords = this.dimYAxis.getyAxisTitleCoords();\n    if (gl.isSlopeChart) {\n      this.datalabelsCoords = this.dimHelpers.getDatalabelsRect();\n    }\n    w.globals.yLabelsCoords = [];\n    w.globals.yTitleCoords = [];\n    w.config.yaxis.map((yaxe, index) => {\n      w.globals.yLabelsCoords.push({\n        width: yaxisLabelCoords[index].width,\n        index\n      });\n      w.globals.yTitleCoords.push({\n        width: yTitleCoords[index].width,\n        index\n      });\n    });\n    this.yAxisWidth = this.dimYAxis.getTotalYAxisWidth();\n    let xaxisLabelCoords = this.dimXAxis.getxAxisLabelsCoords();\n    let xaxisGroupLabelCoords = this.dimXAxis.getxAxisGroupLabelsCoords();\n    let xtitleCoords = this.dimXAxis.getxAxisTitleCoords();\n    this.conditionalChecksForAxisCoords(\n      xaxisLabelCoords,\n      xtitleCoords,\n      xaxisGroupLabelCoords\n    );\n    gl.translateXAxisY = w.globals.rotateXLabels ? this.xAxisHeight / 8 : -4;\n    gl.translateXAxisX = w.globals.rotateXLabels && w.globals.isXNumeric && w.config.xaxis.labels.rotate <= -45 ? -this.xAxisWidth / 4 : 0;\n    if (w.globals.isBarHorizontal) {\n      gl.rotateXLabels = false;\n      gl.translateXAxisY = -1 * (parseInt(w.config.xaxis.labels.style.fontSize, 10) / 1.5);\n    }\n    gl.translateXAxisY = gl.translateXAxisY + w.config.xaxis.labels.offsetY;\n    gl.translateXAxisX = gl.translateXAxisX + w.config.xaxis.labels.offsetX;\n    let yAxisWidth = this.yAxisWidth;\n    let xAxisHeight = this.xAxisHeight;\n    gl.xAxisLabelsHeight = this.xAxisHeight - xtitleCoords.height;\n    gl.xAxisGroupLabelsHeight = gl.xAxisLabelsHeight - xaxisLabelCoords.height;\n    gl.xAxisLabelsWidth = this.xAxisWidth;\n    gl.xAxisHeight = this.xAxisHeight;\n    let translateY = 10;\n    if (w.config.chart.type === \"radar\" || this.isSparkline) {\n      yAxisWidth = 0;\n      xAxisHeight = 0;\n    }\n    if (this.isSparkline) {\n      this.lgRect = {\n        height: 0,\n        width: 0\n      };\n    }\n    if (this.isSparkline || w.config.chart.type === \"treemap\") {\n      yAxisWidth = 0;\n      xAxisHeight = 0;\n      translateY = 0;\n    }\n    if (!this.isSparkline && w.config.chart.type !== \"treemap\") {\n      this.dimXAxis.additionalPaddingXLabels(xaxisLabelCoords);\n    }\n    const legendTopBottom = () => {\n      gl.translateX = yAxisWidth + this.datalabelsCoords.width;\n      gl.gridHeight = gl.svgHeight - this.lgRect.height - xAxisHeight - (!this.isSparkline && w.config.chart.type !== \"treemap\" ? w.globals.rotateXLabels ? 10 : 15 : 0);\n      gl.gridWidth = gl.svgWidth - yAxisWidth - this.datalabelsCoords.width * 2;\n    };\n    if (w.config.xaxis.position === \"top\")\n      translateY = gl.xAxisHeight - w.config.xaxis.axisTicks.height - 5;\n    switch (w.config.legend.position) {\n      case \"bottom\":\n        gl.translateY = translateY;\n        legendTopBottom();\n        break;\n      case \"top\":\n        gl.translateY = this.lgRect.height + translateY;\n        legendTopBottom();\n        break;\n      case \"left\":\n        gl.translateY = translateY;\n        gl.translateX = this.lgRect.width + yAxisWidth + this.datalabelsCoords.width;\n        gl.gridHeight = gl.svgHeight - xAxisHeight - 12;\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - yAxisWidth - this.datalabelsCoords.width * 2;\n        break;\n      case \"right\":\n        gl.translateY = translateY;\n        gl.translateX = yAxisWidth + this.datalabelsCoords.width;\n        gl.gridHeight = gl.svgHeight - xAxisHeight - 12;\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - yAxisWidth - this.datalabelsCoords.width * 2 - 5;\n        break;\n      default:\n        throw new Error(\"Legend position not supported\");\n    }\n    this.dimGrid.setGridXPosForDualYAxis(yTitleCoords, yaxisLabelCoords);\n    let objyAxis = new YAxis(this.ctx);\n    objyAxis.setYAxisXPosition(yaxisLabelCoords, yTitleCoords);\n  }\n  setDimensionsForNonAxisCharts() {\n    let w = this.w;\n    let gl = w.globals;\n    let cnf = w.config;\n    let xPad = 0;\n    if (w.config.legend.show && !w.config.legend.floating) {\n      xPad = 20;\n    }\n    const type = cnf.chart.type === \"pie\" || cnf.chart.type === \"polarArea\" || cnf.chart.type === \"donut\" ? \"pie\" : \"radialBar\";\n    let offY = cnf.plotOptions[type].offsetY;\n    let offX = cnf.plotOptions[type].offsetX;\n    if (!cnf.legend.show || cnf.legend.floating) {\n      gl.gridHeight = gl.svgHeight;\n      const maxWidth = gl.dom.elWrap.getBoundingClientRect().width;\n      gl.gridWidth = Math.min(maxWidth, gl.gridHeight);\n      gl.translateY = offY;\n      gl.translateX = offX + (gl.svgWidth - gl.gridWidth) / 2;\n      return;\n    }\n    switch (cnf.legend.position) {\n      case \"bottom\":\n        gl.gridHeight = gl.svgHeight - this.lgRect.height;\n        gl.gridWidth = gl.svgWidth;\n        gl.translateY = offY - 10;\n        gl.translateX = offX + (gl.svgWidth - gl.gridWidth) / 2;\n        break;\n      case \"top\":\n        gl.gridHeight = gl.svgHeight - this.lgRect.height;\n        gl.gridWidth = gl.svgWidth;\n        gl.translateY = this.lgRect.height + offY + 10;\n        gl.translateX = offX + (gl.svgWidth - gl.gridWidth) / 2;\n        break;\n      case \"left\":\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - xPad;\n        gl.gridHeight = cnf.chart.height !== \"auto\" ? gl.svgHeight : gl.gridWidth;\n        gl.translateY = offY;\n        gl.translateX = offX + this.lgRect.width + xPad;\n        break;\n      case \"right\":\n        gl.gridWidth = gl.svgWidth - this.lgRect.width - xPad - 5;\n        gl.gridHeight = cnf.chart.height !== \"auto\" ? gl.svgHeight : gl.gridWidth;\n        gl.translateY = offY;\n        gl.translateX = offX + 10;\n        break;\n      default:\n        throw new Error(\"Legend position not supported\");\n    }\n  }\n  conditionalChecksForAxisCoords(xaxisLabelCoords, xtitleCoords, xaxisGroupLabelCoords) {\n    const w = this.w;\n    const xAxisNum = w.globals.hasXaxisGroups ? 2 : 1;\n    const baseXAxisHeight = xaxisGroupLabelCoords.height + xaxisLabelCoords.height + xtitleCoords.height;\n    const xAxisHeightMultiplicate = w.globals.isMultiLineX ? 1.2 : w.globals.LINE_HEIGHT_RATIO;\n    const rotatedXAxisOffset = w.globals.rotateXLabels ? 22 : 10;\n    const rotatedXAxisLegendOffset = w.globals.rotateXLabels && w.config.legend.position === \"bottom\";\n    const additionalOffset = rotatedXAxisLegendOffset ? 10 : 0;\n    this.xAxisHeight = baseXAxisHeight * xAxisHeightMultiplicate + xAxisNum * rotatedXAxisOffset + additionalOffset;\n    this.xAxisWidth = xaxisLabelCoords.width;\n    if (this.xAxisHeight - xtitleCoords.height > w.config.xaxis.labels.maxHeight) {\n      this.xAxisHeight = w.config.xaxis.labels.maxHeight;\n    }\n    if (w.config.xaxis.labels.minHeight && this.xAxisHeight < w.config.xaxis.labels.minHeight) {\n      this.xAxisHeight = w.config.xaxis.labels.minHeight;\n    }\n    if (w.config.xaxis.floating) {\n      this.xAxisHeight = 0;\n    }\n    let minYAxisWidth = 0;\n    let maxYAxisWidth = 0;\n    w.config.yaxis.forEach((y) => {\n      minYAxisWidth += y.labels.minWidth;\n      maxYAxisWidth += y.labels.maxWidth;\n    });\n    if (this.yAxisWidth < minYAxisWidth) {\n      this.yAxisWidth = minYAxisWidth;\n    }\n    if (this.yAxisWidth > maxYAxisWidth) {\n      this.yAxisWidth = maxYAxisWidth;\n    }\n  }\n}\nlet Helpers$2 = class Helpers3 {\n  constructor(lgCtx) {\n    this.w = lgCtx.w;\n    this.lgCtx = lgCtx;\n  }\n  getLegendStyles() {\n    var _a, _b, _c;\n    let stylesheet = document.createElement(\"style\");\n    stylesheet.setAttribute(\"type\", \"text/css\");\n    const nonce = ((_c = (_b = (_a = this.lgCtx.ctx) == null ? void 0 : _a.opts) == null ? void 0 : _b.chart) == null ? void 0 : _c.nonce) || this.w.config.chart.nonce;\n    if (nonce) {\n      stylesheet.setAttribute(\"nonce\", nonce);\n    }\n    const rule = document.createTextNode(apexchartsLegendCSS);\n    stylesheet.appendChild(rule);\n    return stylesheet;\n  }\n  getLegendDimensions() {\n    const w = this.w;\n    let currLegendsWrap = w.globals.dom.baseEl.querySelector(\".apexcharts-legend\");\n    let { width: currLegendsWrapWidth, height: currLegendsWrapHeight } = currLegendsWrap.getBoundingClientRect();\n    return {\n      clwh: currLegendsWrapHeight,\n      clww: currLegendsWrapWidth\n    };\n  }\n  appendToForeignObject() {\n    const gl = this.w.globals;\n    if (this.w.config.chart.injectStyleSheet !== false) {\n      gl.dom.elLegendForeign.appendChild(this.getLegendStyles());\n    }\n  }\n  toggleDataSeries(seriesCnt, isHidden) {\n    const w = this.w;\n    if (w.globals.axisCharts || w.config.chart.type === \"radialBar\") {\n      w.globals.resized = true;\n      let seriesEl = null;\n      let realIndex = null;\n      w.globals.risingSeries = [];\n      if (w.globals.axisCharts) {\n        seriesEl = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-series[data\\\\:realIndex='${seriesCnt}']`\n        );\n        if (!seriesEl) return;\n        realIndex = parseInt(seriesEl.getAttribute(\"data:realIndex\"), 10);\n      } else {\n        seriesEl = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-series[rel='${seriesCnt + 1}']`\n        );\n        if (!seriesEl) return;\n        realIndex = parseInt(seriesEl.getAttribute(\"rel\"), 10) - 1;\n      }\n      if (isHidden) {\n        const seriesToMakeVisible = [\n          {\n            cs: w.globals.collapsedSeries,\n            csi: w.globals.collapsedSeriesIndices\n          },\n          {\n            cs: w.globals.ancillaryCollapsedSeries,\n            csi: w.globals.ancillaryCollapsedSeriesIndices\n          }\n        ];\n        seriesToMakeVisible.forEach((r) => {\n          this.riseCollapsedSeries(r.cs, r.csi, realIndex);\n        });\n      } else {\n        this.hideSeries({ seriesEl, realIndex });\n      }\n      if (w.config.chart.accessibility.enabled) {\n        const legendItem = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-legend-series[rel=\"${seriesCnt + 1}\"]`\n        );\n        if (legendItem) {\n          const isCollapsed = w.globals.collapsedSeriesIndices.includes(realIndex) || w.globals.ancillaryCollapsedSeriesIndices.includes(realIndex);\n          legendItem.setAttribute(\n            \"aria-pressed\",\n            isCollapsed ? \"true\" : \"false\"\n          );\n          const legendTextEl = legendItem.querySelector(\n            \".apexcharts-legend-text\"\n          );\n          const seriesName = legendTextEl ? legendTextEl.textContent : w.globals.seriesNames[seriesCnt];\n          const statusText = isCollapsed ? \"hidden\" : \"visible\";\n          legendItem.setAttribute(\n            \"aria-label\",\n            `${seriesName}, ${statusText}. Press Enter or Space to toggle.`\n          );\n        }\n      }\n    } else {\n      let seriesEl = w.globals.dom.Paper.findOne(\n        ` .apexcharts-series[rel='${seriesCnt + 1}'] path`\n      );\n      const type = w.config.chart.type;\n      if (type === \"pie\" || type === \"polarArea\" || type === \"donut\") {\n        let dataLabels = w.config.plotOptions.pie.donut.labels;\n        const graphics = new Graphics(this.lgCtx.ctx);\n        graphics.pathMouseDown(seriesEl, null);\n        this.lgCtx.ctx.pie.printDataLabelsInner(seriesEl.node, dataLabels);\n      }\n      if (w.config.chart.accessibility.enabled) {\n        const legendItem = w.globals.dom.baseEl.querySelector(\n          `.apexcharts-legend-series[rel=\"${seriesCnt + 1}\"]`\n        );\n        if (legendItem) {\n          const isCollapsed = w.globals.collapsedSeriesIndices.includes(seriesCnt);\n          legendItem.setAttribute(\n            \"aria-pressed\",\n            isCollapsed ? \"true\" : \"false\"\n          );\n          const legendTextEl = legendItem.querySelector(\n            \".apexcharts-legend-text\"\n          );\n          const seriesName = legendTextEl ? legendTextEl.textContent : w.globals.seriesNames[seriesCnt];\n          const statusText = isCollapsed ? \"hidden\" : \"visible\";\n          legendItem.setAttribute(\n            \"aria-label\",\n            `${seriesName}, ${statusText}. Press Enter or Space to toggle.`\n          );\n        }\n      }\n    }\n  }\n  getSeriesAfterCollapsing({ realIndex }) {\n    const w = this.w;\n    const gl = w.globals;\n    let series = Utils$1.clone(w.config.series);\n    if (gl.axisCharts) {\n      let yaxis = w.config.yaxis[gl.seriesYAxisReverseMap[realIndex]];\n      const collapseData = {\n        index: realIndex,\n        data: series[realIndex].data.slice(),\n        type: series[realIndex].type || w.config.chart.type\n      };\n      if (yaxis && yaxis.show && yaxis.showAlways) {\n        if (gl.ancillaryCollapsedSeriesIndices.indexOf(realIndex) < 0) {\n          gl.ancillaryCollapsedSeries.push(collapseData);\n          gl.ancillaryCollapsedSeriesIndices.push(realIndex);\n        }\n      } else {\n        if (gl.collapsedSeriesIndices.indexOf(realIndex) < 0) {\n          gl.collapsedSeries.push(collapseData);\n          gl.collapsedSeriesIndices.push(realIndex);\n          let removeIndexOfRising = gl.risingSeries.indexOf(realIndex);\n          gl.risingSeries.splice(removeIndexOfRising, 1);\n        }\n      }\n    } else {\n      gl.collapsedSeries.push({\n        index: realIndex,\n        data: series[realIndex]\n      });\n      gl.collapsedSeriesIndices.push(realIndex);\n    }\n    gl.allSeriesCollapsed = gl.collapsedSeries.length + gl.ancillaryCollapsedSeries.length === w.config.series.length;\n    return this._getSeriesBasedOnCollapsedState(series);\n  }\n  hideSeries({ seriesEl, realIndex }) {\n    const w = this.w;\n    let series = this.getSeriesAfterCollapsing({\n      realIndex\n    });\n    let seriesChildren = seriesEl.childNodes;\n    for (let sc = 0; sc < seriesChildren.length; sc++) {\n      if (seriesChildren[sc].classList.contains(\"apexcharts-series-markers-wrap\")) {\n        if (seriesChildren[sc].classList.contains(\"apexcharts-hide\")) {\n          seriesChildren[sc].classList.remove(\"apexcharts-hide\");\n        } else {\n          seriesChildren[sc].classList.add(\"apexcharts-hide\");\n        }\n      }\n    }\n    this.lgCtx.ctx.updateHelpers._updateSeries(\n      series,\n      w.config.chart.animations.dynamicAnimation.enabled\n    );\n  }\n  riseCollapsedSeries(collapsedSeries, seriesIndices, realIndex) {\n    const w = this.w;\n    let series = Utils$1.clone(w.config.series);\n    if (collapsedSeries.length > 0) {\n      for (let c = 0; c < collapsedSeries.length; c++) {\n        if (collapsedSeries[c].index === realIndex) {\n          if (w.globals.axisCharts) {\n            series[realIndex].data = collapsedSeries[c].data.slice();\n          } else {\n            series[realIndex] = collapsedSeries[c].data;\n          }\n          if (typeof series[realIndex] !== \"number\") {\n            series[realIndex].hidden = false;\n          }\n          collapsedSeries.splice(c, 1);\n          seriesIndices.splice(c, 1);\n          w.globals.risingSeries.push(realIndex);\n          c--;\n        }\n      }\n      series = this._getSeriesBasedOnCollapsedState(series);\n      this.lgCtx.ctx.updateHelpers._updateSeries(\n        series,\n        w.config.chart.animations.dynamicAnimation.enabled\n      );\n    }\n  }\n  _getSeriesBasedOnCollapsedState(series) {\n    const w = this.w;\n    let collapsed = 0;\n    if (w.globals.axisCharts) {\n      series.forEach((s, sI) => {\n        if (!(w.globals.collapsedSeriesIndices.indexOf(sI) < 0 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(sI) < 0)) {\n          series[sI].data = [];\n          collapsed++;\n        }\n      });\n    } else {\n      series.forEach((s, sI) => {\n        if (!(w.globals.collapsedSeriesIndices.indexOf(sI) < 0)) {\n          series[sI] = 0;\n          collapsed++;\n        }\n      });\n    }\n    w.globals.allSeriesCollapsed = collapsed === series.length;\n    return series;\n  }\n};\nclass Legend {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.onLegendClick = this.onLegendClick.bind(this);\n    this.onLegendHovered = this.onLegendHovered.bind(this);\n    this.isBarsDistributed = this.w.config.chart.type === \"bar\" && this.w.config.plotOptions.bar.distributed && this.w.config.series.length === 1;\n    this.legendHelpers = new Helpers$2(this);\n  }\n  init() {\n    const w = this.w;\n    const gl = w.globals;\n    const cnf = w.config;\n    const showLegendAlways = cnf.legend.showForSingleSeries && gl.series.length === 1 || this.isBarsDistributed || gl.series.length > 1;\n    this.legendHelpers.appendToForeignObject();\n    if ((showLegendAlways || !gl.axisCharts) && cnf.legend.show) {\n      while (gl.dom.elLegendWrap.firstChild) {\n        gl.dom.elLegendWrap.removeChild(gl.dom.elLegendWrap.firstChild);\n      }\n      this.drawLegends();\n      if (cnf.legend.position === \"bottom\" || cnf.legend.position === \"top\") {\n        this.legendAlignHorizontal();\n      } else if (cnf.legend.position === \"right\" || cnf.legend.position === \"left\") {\n        this.legendAlignVertical();\n      }\n    }\n  }\n  createLegendMarker({ i, fillcolor }) {\n    const w = this.w;\n    const elMarker = document.createElement(\"span\");\n    elMarker.classList.add(\"apexcharts-legend-marker\");\n    let mShape = w.config.legend.markers.shape || w.config.markers.shape;\n    let shape = mShape;\n    if (Array.isArray(mShape)) {\n      shape = mShape[i];\n    }\n    let mSize = Array.isArray(w.config.legend.markers.size) ? parseFloat(w.config.legend.markers.size[i]) : parseFloat(w.config.legend.markers.size);\n    let mOffsetX = Array.isArray(w.config.legend.markers.offsetX) ? parseFloat(w.config.legend.markers.offsetX[i]) : parseFloat(w.config.legend.markers.offsetX);\n    let mOffsetY = Array.isArray(w.config.legend.markers.offsetY) ? parseFloat(w.config.legend.markers.offsetY[i]) : parseFloat(w.config.legend.markers.offsetY);\n    let mBorderWidth = Array.isArray(w.config.legend.markers.strokeWidth) ? parseFloat(w.config.legend.markers.strokeWidth[i]) : parseFloat(w.config.legend.markers.strokeWidth);\n    let mStyle = elMarker.style;\n    mStyle.height = (mSize + mBorderWidth) * 2 + \"px\";\n    mStyle.width = (mSize + mBorderWidth) * 2 + \"px\";\n    mStyle.left = mOffsetX + \"px\";\n    mStyle.top = mOffsetY + \"px\";\n    if (w.config.legend.markers.customHTML) {\n      mStyle.background = \"transparent\";\n      mStyle.color = fillcolor[i];\n      if (Array.isArray(w.config.legend.markers.customHTML)) {\n        if (w.config.legend.markers.customHTML[i]) {\n          elMarker.innerHTML = w.config.legend.markers.customHTML[i]();\n        }\n      } else {\n        elMarker.innerHTML = w.config.legend.markers.customHTML();\n      }\n    } else {\n      let markers = new Markers(this.ctx);\n      const markerConfig = markers.getMarkerConfig({\n        cssClass: `apexcharts-legend-marker apexcharts-marker apexcharts-marker-${shape}`,\n        seriesIndex: i,\n        strokeWidth: mBorderWidth,\n        size: mSize\n      });\n      const SVGMarker = window.SVG().addTo(elMarker).size(\"100%\", \"100%\");\n      const marker = new Graphics(this.ctx).drawMarker(0, 0, __spreadProps(__spreadValues({}, markerConfig), {\n        pointFillColor: Array.isArray(fillcolor) ? fillcolor[i] : markerConfig.pointFillColor,\n        shape\n      }));\n      const shapesEls = w.globals.dom.Paper.find(\n        \".apexcharts-legend-marker.apexcharts-marker\"\n      );\n      shapesEls.forEach((shapeEl) => {\n        if (shapeEl.node.classList.contains(\"apexcharts-marker-triangle\")) {\n          shapeEl.node.style.transform = \"translate(50%, 45%)\";\n        } else {\n          shapeEl.node.style.transform = \"translate(50%, 50%)\";\n        }\n      });\n      SVGMarker.add(marker);\n    }\n    return elMarker;\n  }\n  drawLegends() {\n    var _a;\n    let me = this;\n    let w = this.w;\n    let fontFamily = w.config.legend.fontFamily;\n    let legendNames = w.globals.seriesNames;\n    let fillcolor = w.config.legend.markers.fillColors ? w.config.legend.markers.fillColors.slice() : w.globals.colors.slice();\n    if (w.config.chart.type === \"heatmap\") {\n      const ranges = w.config.plotOptions.heatmap.colorScale.ranges;\n      legendNames = ranges.map((colorScale) => {\n        return colorScale.name ? colorScale.name : colorScale.from + \" - \" + colorScale.to;\n      });\n      fillcolor = ranges.map((color) => color.color);\n    } else if (this.isBarsDistributed) {\n      legendNames = w.globals.labels.slice();\n    }\n    if (w.config.legend.customLegendItems.length) {\n      legendNames = w.config.legend.customLegendItems;\n    }\n    let legendFormatter = w.globals.legendFormatter;\n    let isLegendInversed = w.config.legend.inverseOrder;\n    let legendGroups = [];\n    if (w.globals.seriesGroups.length > 1 && w.config.legend.clusterGroupedSeries) {\n      w.globals.seriesGroups.forEach((_, gi) => {\n        legendGroups[gi] = document.createElement(\"div\");\n        legendGroups[gi].classList.add(\n          \"apexcharts-legend-group\",\n          `apexcharts-legend-group-${gi}`\n        );\n        if (w.config.legend.clusterGroupedSeriesOrientation === \"horizontal\") {\n          w.globals.dom.elLegendWrap.classList.add(\n            \"apexcharts-legend-group-horizontal\"\n          );\n        } else {\n          legendGroups[gi].classList.add(\"apexcharts-legend-group-vertical\");\n        }\n      });\n    }\n    for (let i = isLegendInversed ? legendNames.length - 1 : 0; isLegendInversed ? i >= 0 : i <= legendNames.length - 1; isLegendInversed ? i-- : i++) {\n      let text = legendFormatter(legendNames[i], { seriesIndex: i, w });\n      let collapsedSeries = false;\n      let ancillaryCollapsedSeries = false;\n      if (w.globals.collapsedSeries.length > 0) {\n        for (let c = 0; c < w.globals.collapsedSeries.length; c++) {\n          if (w.globals.collapsedSeries[c].index === i) {\n            collapsedSeries = true;\n          }\n        }\n      }\n      if (w.globals.ancillaryCollapsedSeriesIndices.length > 0) {\n        for (let c = 0; c < w.globals.ancillaryCollapsedSeriesIndices.length; c++) {\n          if (w.globals.ancillaryCollapsedSeriesIndices[c] === i) {\n            ancillaryCollapsedSeries = true;\n          }\n        }\n      }\n      let elMarker = this.createLegendMarker({ i, fillcolor });\n      Graphics.setAttrs(elMarker, {\n        rel: i + 1,\n        \"data:collapsed\": collapsedSeries || ancillaryCollapsedSeries\n      });\n      if (collapsedSeries || ancillaryCollapsedSeries) {\n        elMarker.classList.add(\"apexcharts-inactive-legend\");\n      }\n      let elLegend = document.createElement(\"div\");\n      if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n        elLegend.setAttribute(\"role\", \"button\");\n        elLegend.setAttribute(\"tabindex\", \"0\");\n        const seriesName = Array.isArray(text) ? text.join(\" \") : text;\n        const isCollapsed = collapsedSeries || ancillaryCollapsedSeries;\n        const statusText = isCollapsed ? \"hidden\" : \"visible\";\n        elLegend.setAttribute(\n          \"aria-label\",\n          `${seriesName}, ${statusText}. Press Enter or Space to toggle.`\n        );\n        elLegend.setAttribute(\"aria-pressed\", isCollapsed ? \"true\" : \"false\");\n      }\n      let elLegendText = document.createElement(\"span\");\n      elLegendText.classList.add(\"apexcharts-legend-text\");\n      elLegendText.innerHTML = Array.isArray(text) ? text.join(\" \") : text;\n      let textColor = w.config.legend.labels.useSeriesColors ? w.globals.colors[i] : Array.isArray(w.config.legend.labels.colors) ? (_a = w.config.legend.labels.colors) == null ? void 0 : _a[i] : w.config.legend.labels.colors;\n      if (!textColor) {\n        textColor = w.config.chart.foreColor;\n      }\n      elLegendText.style.color = textColor;\n      elLegendText.style.fontSize = w.config.legend.fontSize;\n      elLegendText.style.fontWeight = w.config.legend.fontWeight;\n      elLegendText.style.fontFamily = fontFamily || w.config.chart.fontFamily;\n      Graphics.setAttrs(elLegendText, {\n        rel: i + 1,\n        i,\n        \"data:default-text\": encodeURIComponent(text),\n        \"data:collapsed\": collapsedSeries || ancillaryCollapsedSeries\n      });\n      elLegend.appendChild(elMarker);\n      elLegend.appendChild(elLegendText);\n      const coreUtils = new CoreUtils(this.ctx);\n      if (!w.config.legend.showForZeroSeries) {\n        const total = coreUtils.getSeriesTotalByIndex(i);\n        if (total === 0 && coreUtils.seriesHaveSameValues(i) && !coreUtils.isSeriesNull(i) && w.globals.collapsedSeriesIndices.indexOf(i) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(i) === -1) {\n          elLegend.classList.add(\"apexcharts-hidden-zero-series\");\n        }\n      }\n      if (!w.config.legend.showForNullSeries) {\n        if (coreUtils.isSeriesNull(i) && w.globals.collapsedSeriesIndices.indexOf(i) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(i) === -1) {\n          elLegend.classList.add(\"apexcharts-hidden-null-series\");\n        }\n      }\n      if (legendGroups.length) {\n        w.globals.seriesGroups.forEach((group, gi) => {\n          var _a2;\n          if (group.includes((_a2 = w.config.series[i]) == null ? void 0 : _a2.name)) {\n            w.globals.dom.elLegendWrap.appendChild(legendGroups[gi]);\n            legendGroups[gi].appendChild(elLegend);\n          }\n        });\n      } else {\n        w.globals.dom.elLegendWrap.appendChild(elLegend);\n      }\n      w.globals.dom.elLegendWrap.classList.add(\n        `apexcharts-align-${w.config.legend.horizontalAlign}`\n      );\n      w.globals.dom.elLegendWrap.classList.add(\n        \"apx-legend-position-\" + w.config.legend.position\n      );\n      elLegend.classList.add(\"apexcharts-legend-series\");\n      elLegend.style.margin = `${w.config.legend.itemMargin.vertical}px ${w.config.legend.itemMargin.horizontal}px`;\n      w.globals.dom.elLegendWrap.style.width = w.config.legend.width ? w.config.legend.width + \"px\" : \"\";\n      w.globals.dom.elLegendWrap.style.height = w.config.legend.height ? w.config.legend.height + \"px\" : \"\";\n      Graphics.setAttrs(elLegend, {\n        rel: i + 1,\n        seriesName: Utils$1.escapeString(legendNames[i]),\n        \"data:collapsed\": collapsedSeries || ancillaryCollapsedSeries\n      });\n      if (collapsedSeries || ancillaryCollapsedSeries) {\n        elLegend.classList.add(\"apexcharts-inactive-legend\");\n      }\n      if (!w.config.legend.onItemClick.toggleDataSeries) {\n        elLegend.classList.add(\"apexcharts-no-click\");\n      }\n    }\n    w.globals.dom.elWrap.addEventListener(\"click\", me.onLegendClick, true);\n    if (w.config.legend.onItemHover.highlightDataSeries && w.config.legend.customLegendItems.length === 0) {\n      w.globals.dom.elWrap.addEventListener(\n        \"mousemove\",\n        me.onLegendHovered,\n        true\n      );\n      w.globals.dom.elWrap.addEventListener(\n        \"mouseout\",\n        me.onLegendHovered,\n        true\n      );\n    }\n    if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.keyboard.enabled) {\n      w.globals.dom.elWrap.addEventListener(\"keydown\", me.onLegendKeyDown.bind(me), true);\n    }\n  }\n  setLegendWrapXY(offsetX, offsetY) {\n    let w = this.w;\n    let elLegendWrap = w.globals.dom.elLegendWrap;\n    const legendHeight = elLegendWrap.clientHeight;\n    let x = 0;\n    let y = 0;\n    if (w.config.legend.position === \"bottom\") {\n      y = w.globals.svgHeight - Math.min(legendHeight, w.globals.svgHeight / 2) - 5;\n    } else if (w.config.legend.position === \"top\") {\n      const dim = new Dimensions(this.ctx);\n      const titleH = dim.dimHelpers.getTitleSubtitleCoords(\"title\").height;\n      const subtitleH = dim.dimHelpers.getTitleSubtitleCoords(\"subtitle\").height;\n      y = (titleH > 0 ? titleH - 10 : 0) + (subtitleH > 0 ? subtitleH - 10 : 0);\n    }\n    elLegendWrap.style.position = \"absolute\";\n    x = x + offsetX + w.config.legend.offsetX;\n    y = y + offsetY + w.config.legend.offsetY;\n    elLegendWrap.style.left = x + \"px\";\n    elLegendWrap.style.top = y + \"px\";\n    if (w.config.legend.position === \"right\") {\n      elLegendWrap.style.left = \"auto\";\n      elLegendWrap.style.right = 25 + w.config.legend.offsetX + \"px\";\n    }\n    const fixedHeigthWidth = [\"width\", \"height\"];\n    fixedHeigthWidth.forEach((hw) => {\n      if (elLegendWrap.style[hw]) {\n        elLegendWrap.style[hw] = parseInt(w.config.legend[hw], 10) + \"px\";\n      }\n    });\n  }\n  legendAlignHorizontal() {\n    let w = this.w;\n    let elLegendWrap = w.globals.dom.elLegendWrap;\n    elLegendWrap.style.right = 0;\n    let dimensions = new Dimensions(this.ctx);\n    let titleRect = dimensions.dimHelpers.getTitleSubtitleCoords(\"title\");\n    let subtitleRect = dimensions.dimHelpers.getTitleSubtitleCoords(\"subtitle\");\n    let offsetX = 20;\n    let offsetY = 0;\n    if (w.config.legend.position === \"top\") {\n      offsetY = titleRect.height + subtitleRect.height + w.config.title.margin + w.config.subtitle.margin - 10;\n    }\n    this.setLegendWrapXY(offsetX, offsetY);\n  }\n  legendAlignVertical() {\n    let w = this.w;\n    let lRect = this.legendHelpers.getLegendDimensions();\n    let offsetY = 20;\n    let offsetX = 0;\n    if (w.config.legend.position === \"left\") {\n      offsetX = 20;\n    }\n    if (w.config.legend.position === \"right\") {\n      offsetX = w.globals.svgWidth - lRect.clww - 10;\n    }\n    this.setLegendWrapXY(offsetX, offsetY);\n  }\n  onLegendHovered(e) {\n    const w = this.w;\n    const hoverOverLegend = e.target.classList.contains(\"apexcharts-legend-series\") || e.target.classList.contains(\"apexcharts-legend-text\") || e.target.classList.contains(\"apexcharts-legend-marker\");\n    if (w.config.chart.type !== \"heatmap\" && !this.isBarsDistributed) {\n      if (!e.target.classList.contains(\"apexcharts-inactive-legend\") && hoverOverLegend) {\n        let series = new Series(this.ctx);\n        series.toggleSeriesOnHover(e, e.target);\n      }\n    } else {\n      if (hoverOverLegend) {\n        let seriesCnt = parseInt(e.target.getAttribute(\"rel\"), 10) - 1;\n        this.ctx.events.fireEvent(\"legendHover\", [this.ctx, seriesCnt, this.w]);\n        let series = new Series(this.ctx);\n        series.highlightRangeInSeries(e, e.target);\n      }\n    }\n  }\n  onLegendKeyDown(e) {\n    const me = this;\n    const isLegendItem = e.target.classList.contains(\"apexcharts-legend-series\") || e.target.classList.contains(\"apexcharts-legend-text\") || e.target.classList.contains(\"apexcharts-legend-marker\");\n    if (!isLegendItem) return;\n    if (e.key === \"Enter\" || e.key === \" \") {\n      e.preventDefault();\n      me.onLegendClick(e);\n    }\n  }\n  onLegendClick(e) {\n    const w = this.w;\n    if (w.config.legend.customLegendItems.length) return;\n    if (e.target.classList.contains(\"apexcharts-legend-series\") || e.target.classList.contains(\"apexcharts-legend-text\") || e.target.classList.contains(\"apexcharts-legend-marker\")) {\n      let seriesCnt = parseInt(e.target.getAttribute(\"rel\"), 10) - 1;\n      let isHidden = e.target.getAttribute(\"data:collapsed\") === \"true\";\n      const legendClick = this.w.config.chart.events.legendClick;\n      if (typeof legendClick === \"function\") {\n        legendClick(this.ctx, seriesCnt, this.w);\n      }\n      this.ctx.events.fireEvent(\"legendClick\", [this.ctx, seriesCnt, this.w]);\n      const markerClick = this.w.config.legend.markers.onClick;\n      if (typeof markerClick === \"function\" && e.target.classList.contains(\"apexcharts-legend-marker\")) {\n        markerClick(this.ctx, seriesCnt, this.w);\n        this.ctx.events.fireEvent(\"legendMarkerClick\", [\n          this.ctx,\n          seriesCnt,\n          this.w\n        ]);\n      }\n      const clickAllowed = w.config.chart.type !== \"treemap\" && w.config.chart.type !== \"heatmap\" && !this.isBarsDistributed;\n      if (clickAllowed && w.config.legend.onItemClick.toggleDataSeries) {\n        this.legendHelpers.toggleDataSeries(seriesCnt, isHidden);\n      }\n    }\n  }\n}\nconst icoPan = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\\n    <defs>\\n        <path d=\"M0 0h24v24H0z\" id=\"a\"/>\\n    </defs>\\n    <clipPath id=\"b\">\\n        <use overflow=\"visible\" xlink:href=\"#a\"/>\\n    </clipPath>\\n    <path clip-path=\"url(#b)\" d=\"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z\"/>\\n</svg>';\nconst icoZoom = '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\\n    <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\\n    <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\\n</svg>';\nconst icoReset = '<svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\\n    <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/>\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n</svg>';\nconst icoZoomIn = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n    <path d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\\n</svg>\\n';\nconst icoZoomOut = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n    <path d=\"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\\n</svg>\\n';\nconst icoSelect = '<svg fill=\"#6E8192\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\\n    <path d=\"M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z\"/>\\n</svg>';\nconst icoMenu = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/></svg>';\nclass Toolbar {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.ev = this.w.config.chart.events;\n    this.selectedClass = \"apexcharts-selected\";\n    this.localeValues = this.w.globals.locale.toolbar;\n    this.minX = w.globals.minX;\n    this.maxX = w.globals.maxX;\n  }\n  createToolbar() {\n    let w = this.w;\n    const createDiv = () => {\n      return document.createElement(\"div\");\n    };\n    const elToolbarWrap = createDiv();\n    elToolbarWrap.setAttribute(\"class\", \"apexcharts-toolbar\");\n    elToolbarWrap.style.top = w.config.chart.toolbar.offsetY + \"px\";\n    elToolbarWrap.style.right = -w.config.chart.toolbar.offsetX + 3 + \"px\";\n    w.globals.dom.elWrap.appendChild(elToolbarWrap);\n    this.elZoom = createDiv();\n    this.elZoomIn = createDiv();\n    this.elZoomOut = createDiv();\n    this.elPan = createDiv();\n    this.elSelection = createDiv();\n    this.elZoomReset = createDiv();\n    this.elMenuIcon = createDiv();\n    this.elMenu = createDiv();\n    this.elCustomIcons = [];\n    this.t = w.config.chart.toolbar.tools;\n    if (Array.isArray(this.t.customIcons)) {\n      for (let i = 0; i < this.t.customIcons.length; i++) {\n        this.elCustomIcons.push(createDiv());\n      }\n    }\n    let toolbarControls = [];\n    const appendZoomControl = (type, el, ico) => {\n      const tool = type.toLowerCase();\n      if (this.t[tool] && w.config.chart.zoom.enabled) {\n        toolbarControls.push({\n          el,\n          icon: typeof this.t[tool] === \"string\" ? this.t[tool] : ico,\n          title: this.localeValues[type],\n          class: `apexcharts-${tool}-icon`\n        });\n      }\n    };\n    appendZoomControl(\"zoomIn\", this.elZoomIn, icoZoomIn);\n    appendZoomControl(\"zoomOut\", this.elZoomOut, icoZoomOut);\n    const zoomSelectionCtrls = (z) => {\n      if (this.t[z] && w.config.chart[z].enabled) {\n        toolbarControls.push({\n          el: z === \"zoom\" ? this.elZoom : this.elSelection,\n          icon: typeof this.t[z] === \"string\" ? this.t[z] : z === \"zoom\" ? icoZoom : icoSelect,\n          title: this.localeValues[z === \"zoom\" ? \"selectionZoom\" : \"selection\"],\n          class: `apexcharts-${z}-icon`\n        });\n      }\n    };\n    zoomSelectionCtrls(\"zoom\");\n    zoomSelectionCtrls(\"selection\");\n    if (this.t.pan && w.config.chart.zoom.enabled) {\n      toolbarControls.push({\n        el: this.elPan,\n        icon: typeof this.t.pan === \"string\" ? this.t.pan : icoPan,\n        title: this.localeValues.pan,\n        class: \"apexcharts-pan-icon\"\n      });\n    }\n    appendZoomControl(\"reset\", this.elZoomReset, icoReset);\n    if (this.t.download) {\n      toolbarControls.push({\n        el: this.elMenuIcon,\n        icon: typeof this.t.download === \"string\" ? this.t.download : icoMenu,\n        title: this.localeValues.menu,\n        class: \"apexcharts-menu-icon\"\n      });\n    }\n    for (let i = 0; i < this.elCustomIcons.length; i++) {\n      toolbarControls.push({\n        el: this.elCustomIcons[i],\n        icon: this.t.customIcons[i].icon,\n        title: this.t.customIcons[i].title,\n        index: this.t.customIcons[i].index,\n        class: \"apexcharts-toolbar-custom-icon \" + this.t.customIcons[i].class\n      });\n    }\n    toolbarControls.forEach((t, index) => {\n      if (t.index) {\n        Utils$1.moveIndexInArray(toolbarControls, index, t.index);\n      }\n    });\n    for (let i = 0; i < toolbarControls.length; i++) {\n      Graphics.setAttrs(toolbarControls[i].el, {\n        class: toolbarControls[i].class,\n        title: toolbarControls[i].title\n      });\n      toolbarControls[i].el.innerHTML = toolbarControls[i].icon;\n      elToolbarWrap.appendChild(toolbarControls[i].el);\n    }\n    this._createHamburgerMenu(elToolbarWrap);\n    if (w.globals.zoomEnabled) {\n      this.elZoom.classList.add(this.selectedClass);\n    } else if (w.globals.panEnabled) {\n      this.elPan.classList.add(this.selectedClass);\n    } else if (w.globals.selectionEnabled) {\n      this.elSelection.classList.add(this.selectedClass);\n    }\n    this.addToolbarEventListeners();\n  }\n  _createHamburgerMenu(parent) {\n    this.elMenuItems = [];\n    parent.appendChild(this.elMenu);\n    Graphics.setAttrs(this.elMenu, {\n      class: \"apexcharts-menu\"\n    });\n    const menuItems = [\n      {\n        name: \"exportSVG\",\n        title: this.localeValues.exportToSVG\n      },\n      {\n        name: \"exportPNG\",\n        title: this.localeValues.exportToPNG\n      },\n      {\n        name: \"exportCSV\",\n        title: this.localeValues.exportToCSV\n      }\n    ];\n    for (let i = 0; i < menuItems.length; i++) {\n      this.elMenuItems.push(document.createElement(\"div\"));\n      this.elMenuItems[i].innerHTML = menuItems[i].title;\n      Graphics.setAttrs(this.elMenuItems[i], {\n        class: `apexcharts-menu-item ${menuItems[i].name}`,\n        title: menuItems[i].title\n      });\n      this.elMenu.appendChild(this.elMenuItems[i]);\n    }\n  }\n  addToolbarEventListeners() {\n    this.elZoomReset.addEventListener(\"click\", this.handleZoomReset.bind(this));\n    this.elSelection.addEventListener(\n      \"click\",\n      this.toggleZoomSelection.bind(this, \"selection\")\n    );\n    this.elZoom.addEventListener(\n      \"click\",\n      this.toggleZoomSelection.bind(this, \"zoom\")\n    );\n    this.elZoomIn.addEventListener(\"click\", this.handleZoomIn.bind(this));\n    this.elZoomOut.addEventListener(\"click\", this.handleZoomOut.bind(this));\n    this.elPan.addEventListener(\"click\", this.togglePanning.bind(this));\n    this.elMenuIcon.addEventListener(\"click\", this.toggleMenu.bind(this));\n    this.elMenuItems.forEach((m) => {\n      if (m.classList.contains(\"exportSVG\")) {\n        m.addEventListener(\"click\", this.handleDownload.bind(this, \"svg\"));\n      } else if (m.classList.contains(\"exportPNG\")) {\n        m.addEventListener(\"click\", this.handleDownload.bind(this, \"png\"));\n      } else if (m.classList.contains(\"exportCSV\")) {\n        m.addEventListener(\"click\", this.handleDownload.bind(this, \"csv\"));\n      }\n    });\n    for (let i = 0; i < this.t.customIcons.length; i++) {\n      this.elCustomIcons[i].addEventListener(\n        \"click\",\n        this.t.customIcons[i].click.bind(this, this.ctx, this.ctx.w)\n      );\n    }\n  }\n  toggleZoomSelection(type) {\n    const charts = this.ctx.getSyncedCharts();\n    charts.forEach((ch) => {\n      ch.ctx.toolbar.toggleOtherControls();\n      let el = type === \"selection\" ? ch.ctx.toolbar.elSelection : ch.ctx.toolbar.elZoom;\n      let enabledType = type === \"selection\" ? \"selectionEnabled\" : \"zoomEnabled\";\n      ch.w.globals[enabledType] = !ch.w.globals[enabledType];\n      if (!el.classList.contains(ch.ctx.toolbar.selectedClass)) {\n        el.classList.add(ch.ctx.toolbar.selectedClass);\n      } else {\n        el.classList.remove(ch.ctx.toolbar.selectedClass);\n      }\n    });\n  }\n  getToolbarIconsReference() {\n    const w = this.w;\n    if (!this.elZoom) {\n      this.elZoom = w.globals.dom.baseEl.querySelector(\".apexcharts-zoom-icon\");\n    }\n    if (!this.elPan) {\n      this.elPan = w.globals.dom.baseEl.querySelector(\".apexcharts-pan-icon\");\n    }\n    if (!this.elSelection) {\n      this.elSelection = w.globals.dom.baseEl.querySelector(\n        \".apexcharts-selection-icon\"\n      );\n    }\n  }\n  enableZoomPanFromToolbar(type) {\n    this.toggleOtherControls();\n    type === \"pan\" ? this.w.globals.panEnabled = true : this.w.globals.zoomEnabled = true;\n    const el = type === \"pan\" ? this.elPan : this.elZoom;\n    const el2 = type === \"pan\" ? this.elZoom : this.elPan;\n    if (el) {\n      el.classList.add(this.selectedClass);\n    }\n    if (el2) {\n      el2.classList.remove(this.selectedClass);\n    }\n  }\n  togglePanning() {\n    const charts = this.ctx.getSyncedCharts();\n    charts.forEach((ch) => {\n      ch.ctx.toolbar.toggleOtherControls();\n      ch.w.globals.panEnabled = !ch.w.globals.panEnabled;\n      if (!ch.ctx.toolbar.elPan.classList.contains(ch.ctx.toolbar.selectedClass)) {\n        ch.ctx.toolbar.elPan.classList.add(ch.ctx.toolbar.selectedClass);\n      } else {\n        ch.ctx.toolbar.elPan.classList.remove(ch.ctx.toolbar.selectedClass);\n      }\n    });\n  }\n  toggleOtherControls() {\n    const w = this.w;\n    w.globals.panEnabled = false;\n    w.globals.zoomEnabled = false;\n    w.globals.selectionEnabled = false;\n    this.getToolbarIconsReference();\n    const toggleEls = [this.elPan, this.elSelection, this.elZoom];\n    toggleEls.forEach((el) => {\n      if (el) {\n        el.classList.remove(this.selectedClass);\n      }\n    });\n  }\n  handleZoomIn() {\n    const w = this.w;\n    if (w.globals.isRangeBar) {\n      this.minX = w.globals.minY;\n      this.maxX = w.globals.maxY;\n    }\n    const centerX = (this.minX + this.maxX) / 2;\n    let newMinX = (this.minX + centerX) / 2;\n    let newMaxX = (this.maxX + centerX) / 2;\n    const newMinXMaxX = this._getNewMinXMaxX(newMinX, newMaxX);\n    if (!w.globals.disableZoomIn) {\n      this.zoomUpdateOptions(newMinXMaxX.minX, newMinXMaxX.maxX);\n    }\n  }\n  handleZoomOut() {\n    const w = this.w;\n    if (w.globals.isRangeBar) {\n      this.minX = w.globals.minY;\n      this.maxX = w.globals.maxY;\n    }\n    if (w.config.xaxis.type === \"datetime\" && new Date(this.minX).getUTCFullYear() < 1e3) {\n      return;\n    }\n    const centerX = (this.minX + this.maxX) / 2;\n    let newMinX = this.minX - (centerX - this.minX);\n    let newMaxX = this.maxX - (centerX - this.maxX);\n    const newMinXMaxX = this._getNewMinXMaxX(newMinX, newMaxX);\n    if (!w.globals.disableZoomOut) {\n      this.zoomUpdateOptions(newMinXMaxX.minX, newMinXMaxX.maxX);\n    }\n  }\n  _getNewMinXMaxX(newMinX, newMaxX) {\n    const shouldFloor = this.w.config.xaxis.convertedCatToNumeric;\n    return {\n      minX: shouldFloor ? Math.floor(newMinX) : newMinX,\n      maxX: shouldFloor ? Math.floor(newMaxX) : newMaxX\n    };\n  }\n  zoomUpdateOptions(newMinX, newMaxX) {\n    const w = this.w;\n    if (newMinX === void 0 && newMaxX === void 0) {\n      this.handleZoomReset();\n      return;\n    }\n    if (w.config.xaxis.convertedCatToNumeric) {\n      if (newMinX < 1) {\n        newMinX = 1;\n        newMaxX = w.globals.dataPoints;\n      }\n      if (newMaxX - newMinX < 2) {\n        return;\n      }\n    }\n    let xaxis = {\n      min: newMinX,\n      max: newMaxX\n    };\n    const beforeZoomRange = this.getBeforeZoomRange(xaxis);\n    if (beforeZoomRange) {\n      xaxis = beforeZoomRange.xaxis;\n    }\n    let options2 = {\n      xaxis\n    };\n    let yaxis = Utils$1.clone(w.globals.initialConfig.yaxis);\n    if (!w.config.chart.group) {\n      options2.yaxis = yaxis;\n    }\n    this.w.globals.zoomed = true;\n    this.ctx.updateHelpers._updateOptions(\n      options2,\n      false,\n      this.w.config.chart.animations.dynamicAnimation.enabled\n    );\n    this.zoomCallback(xaxis, yaxis);\n  }\n  zoomCallback(xaxis, yaxis) {\n    if (typeof this.ev.zoomed === \"function\") {\n      this.ev.zoomed(this.ctx, { xaxis, yaxis });\n      this.ctx.events.fireEvent(\"zoomed\", { xaxis, yaxis });\n    }\n  }\n  getBeforeZoomRange(xaxis, yaxis) {\n    let newRange = null;\n    if (typeof this.ev.beforeZoom === \"function\") {\n      newRange = this.ev.beforeZoom(this, { xaxis, yaxis });\n    }\n    return newRange;\n  }\n  toggleMenu() {\n    window.setTimeout(() => {\n      if (this.elMenu.classList.contains(\"apexcharts-menu-open\")) {\n        this.elMenu.classList.remove(\"apexcharts-menu-open\");\n      } else {\n        this.elMenu.classList.add(\"apexcharts-menu-open\");\n      }\n    }, 0);\n  }\n  handleDownload(type) {\n    const w = this.w;\n    const exprt = new Exports(this.ctx);\n    switch (type) {\n      case \"svg\":\n        exprt.exportToSVG(this.ctx);\n        break;\n      case \"png\":\n        exprt.exportToPng(this.ctx);\n        break;\n      case \"csv\":\n        exprt.exportToCSV({\n          series: w.config.series,\n          columnDelimiter: w.config.chart.toolbar.export.csv.columnDelimiter\n        });\n        break;\n    }\n  }\n  handleZoomReset() {\n    const charts = this.ctx.getSyncedCharts();\n    charts.forEach((ch) => {\n      let w = ch.w;\n      w.globals.lastXAxis.min = w.globals.initialConfig.xaxis.min;\n      w.globals.lastXAxis.max = w.globals.initialConfig.xaxis.max;\n      ch.updateHelpers.revertDefaultAxisMinMax();\n      if (typeof w.config.chart.events.beforeResetZoom === \"function\") {\n        const resetZoomRange = w.config.chart.events.beforeResetZoom(ch, w);\n        if (resetZoomRange) {\n          ch.updateHelpers.revertDefaultAxisMinMax(resetZoomRange);\n        }\n      }\n      if (typeof w.config.chart.events.zoomed === \"function\") {\n        ch.ctx.toolbar.zoomCallback({\n          min: w.config.xaxis.min,\n          max: w.config.xaxis.max\n        });\n      }\n      w.globals.zoomed = false;\n      let series = ch.ctx.series.emptyCollapsedSeries(\n        Utils$1.clone(w.globals.initialSeries)\n      );\n      ch.updateHelpers._updateSeries(\n        series,\n        w.config.chart.animations.dynamicAnimation.enabled\n      );\n    });\n  }\n  destroy() {\n    this.elZoom = null;\n    this.elZoomIn = null;\n    this.elZoomOut = null;\n    this.elPan = null;\n    this.elSelection = null;\n    this.elZoomReset = null;\n    this.elMenuIcon = null;\n  }\n}\nclass SVGElement {\n  constructor(node) {\n    this.node = node;\n    if (node) {\n      node.instance = this;\n    }\n    this._listeners = [];\n    this._filter = null;\n  }\n  // ---- Attribute methods ----\n  attr(a, v) {\n    if (typeof a === \"string\" && v === void 0) {\n      return this.node.getAttribute(a);\n    }\n    const attrs = typeof a === \"string\" ? { [a]: v } : a;\n    for (const key in attrs) {\n      let val = attrs[key];\n      if (val === null) {\n        this.node.removeAttribute(key);\n      } else if (val !== void 0) {\n        if (typeof val === \"number\" && isNaN(val)) val = 0;\n        this.node.setAttribute(key, val);\n      }\n    }\n    if (this.node.nodeName === \"text\" && attrs.x != null) {\n      const tspans = this.node.querySelectorAll(\"tspan[data-newline]\");\n      for (let i = 0; i < tspans.length; i++) {\n        tspans[i].setAttribute(\"x\", attrs.x);\n      }\n    }\n    return this;\n  }\n  css(styles) {\n    for (const k in styles) {\n      this.node.style[k] = styles[k];\n    }\n    return this;\n  }\n  fill(v) {\n    if (typeof v === \"object\") {\n      return this.attr(v);\n    }\n    return this.attr(\"fill\", v);\n  }\n  stroke(v) {\n    if (typeof v === \"object\") {\n      if (v.color !== void 0) this.attr(\"stroke\", v.color);\n      if (v.width !== void 0) this.attr(\"stroke-width\", v.width);\n      if (v.dasharray !== void 0) this.attr(\"stroke-dasharray\", v.dasharray);\n      if (v.linecap !== void 0) this.attr(\"stroke-linecap\", v.linecap);\n      if (v.opacity !== void 0) this.attr(\"stroke-opacity\", v.opacity);\n      return this;\n    }\n    return this.attr(\"stroke\", v);\n  }\n  size(w, h) {\n    return this.attr({ width: w, height: h });\n  }\n  move(x, y) {\n    return this.attr({ x, y });\n  }\n  center(cx, cy) {\n    if (this.node.nodeName === \"g\") {\n      const box = this.bbox();\n      const dx = cx - (box.x + box.width / 2);\n      const dy = cy - (box.y + box.height / 2);\n      return this.attr(\"transform\", `translate(${dx}, ${dy})`);\n    }\n    return this.attr({ cx, cy });\n  }\n  // ---- Tree operations ----\n  add(child) {\n    this.node.appendChild(child.node || child);\n    return this;\n  }\n  addTo(parent) {\n    const p = parent.node || parent;\n    p.appendChild(this.node);\n    return this;\n  }\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n    return this;\n  }\n  clear() {\n    while (this.node.firstChild) {\n      this.node.removeChild(this.node.firstChild);\n    }\n    return this;\n  }\n  // ---- Query ----\n  find(selector) {\n    return Array.from(this.node.querySelectorAll(selector)).map(\n      (n) => n.instance || new SVGElement(n)\n    );\n  }\n  findOne(selector) {\n    const n = this.node.querySelector(selector);\n    return n ? n.instance || new SVGElement(n) : null;\n  }\n  // ---- Events ----\n  on(event, handler) {\n    const eventType = event.split(\".\")[0];\n    this._listeners.push({ event, eventType, handler });\n    this.node.addEventListener(eventType, handler);\n    return this;\n  }\n  off(event, handler) {\n    if (!event && !handler) {\n      this._listeners.forEach((l) => {\n        this.node.removeEventListener(l.eventType, l.handler);\n      });\n      this._listeners = [];\n    } else if (event && !handler) {\n      const eventType = event.split(\".\")[0];\n      this._listeners = this._listeners.filter((l) => {\n        if (l.eventType === eventType) {\n          this.node.removeEventListener(l.eventType, l.handler);\n          return false;\n        }\n        return true;\n      });\n    } else {\n      const eventType = event.split(\".\")[0];\n      this._listeners = this._listeners.filter((l) => {\n        if (l.eventType === eventType && l.handler === handler) {\n          this.node.removeEventListener(l.eventType, l.handler);\n          return false;\n        }\n        return true;\n      });\n    }\n    return this;\n  }\n  // ---- Iteration ----\n  each(fn, deep) {\n    const children = Array.from(this.node.children);\n    children.forEach((child) => {\n      const inst = child.instance || new SVGElement(child);\n      fn.call(inst);\n      if (deep) inst.each(fn, deep);\n    });\n    return this;\n  }\n  // ---- CSS classes ----\n  removeClass(cls) {\n    if (cls === \"*\") {\n      this.node.removeAttribute(\"class\");\n    } else {\n      this.node.classList.remove(cls);\n    }\n    return this;\n  }\n  // ---- Children ----\n  children() {\n    return Array.from(this.node.childNodes).filter((n) => n.nodeType === 1).map((n) => n.instance || new SVGElement(n));\n  }\n  // ---- Visibility ----\n  hide() {\n    this.node.style.display = \"none\";\n    return this;\n  }\n  show() {\n    this.node.style.display = \"\";\n    return this;\n  }\n  // ---- Measurement ----\n  bbox() {\n    if (typeof this.node.getBBox === \"function\") {\n      try {\n        return this.node.getBBox();\n      } catch (e) {\n      }\n    }\n    return { x: 0, y: 0, width: 0, height: 0 };\n  }\n  // ---- Text-specific ----\n  tspan(text) {\n    const tspan = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"tspan\"\n    );\n    tspan.textContent = text;\n    this.node.appendChild(tspan);\n    return new SVGElement(tspan);\n  }\n  // ---- Path-specific ----\n  plot(d) {\n    if (typeof d === \"string\") {\n      this.attr(\"d\", d);\n    }\n    return this;\n  }\n  // ---- Animation (overridden by SVGAnimation mixin) ----\n  animate() {\n    throw new Error(\"Animation module not loaded\");\n  }\n  // ---- Filter methods (set up by SVGFilter module) ----\n  filterWith() {\n    throw new Error(\"Filter module not loaded\");\n  }\n  unfilter(all) {\n    if (this._filter) {\n      this.node.removeAttribute(\"filter\");\n      if (all && this._filter.node && this._filter.node.parentNode) {\n        this._filter.node.parentNode.removeChild(this._filter.node);\n      }\n      this._filter = null;\n    }\n    return this;\n  }\n  filterer() {\n    return this._filter;\n  }\n}\nconst SVGNS = \"http://www.w3.org/2000/svg\";\nclass Point {\n  constructor(x, y) {\n    if (typeof x === \"object\") {\n      this.x = x.x;\n      this.y = x.y;\n    } else {\n      this.x = x || 0;\n      this.y = y || 0;\n    }\n  }\n  transform(matrix) {\n    return matrix.apply(this);\n  }\n  clone() {\n    return new Point(this.x, this.y);\n  }\n}\nclass Matrix {\n  constructor(a, b, c, d, e, f) {\n    this.a = a != null ? a : 1;\n    this.b = b != null ? b : 0;\n    this.c = c != null ? c : 0;\n    this.d = d != null ? d : 1;\n    this.e = e != null ? e : 0;\n    this.f = f != null ? f : 0;\n  }\n  rotate(deg) {\n    const rad = deg * Math.PI / 180;\n    const cos = Math.cos(rad);\n    const sin = Math.sin(rad);\n    return this.multiply(new Matrix(cos, sin, -sin, cos, 0, 0));\n  }\n  scale(sx, sy) {\n    return this.multiply(new Matrix(sx, 0, 0, sy != null ? sy : sx, 0, 0));\n  }\n  multiply(m) {\n    return new Matrix(\n      this.a * m.a + this.c * m.b,\n      this.b * m.a + this.d * m.b,\n      this.a * m.c + this.c * m.d,\n      this.b * m.c + this.d * m.d,\n      this.a * m.e + this.c * m.f + this.e,\n      this.b * m.e + this.d * m.f + this.f\n    );\n  }\n  apply(point) {\n    return new Point(\n      this.a * point.x + this.c * point.y + this.e,\n      this.b * point.x + this.d * point.y + this.f\n    );\n  }\n}\nclass Box {\n  constructor(x, y, w, h) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.width = w;\n    this.height = h;\n    this.x2 = x + w;\n    this.y2 = y + h;\n  }\n}\nlet gradientCounter = 0;\nclass SVGGradient extends SVGElement {\n  constructor(container, type, builder) {\n    const tag = type === \"radial\" ? \"radialGradient\" : \"linearGradient\";\n    const node = BrowserAPIs.createElementNS(SVGNS, tag);\n    super(node);\n    this._id = \"SvgjsGradient\" + ++gradientCounter;\n    this.attr(\"id\", this._id);\n    if (typeof builder === \"function\") {\n      builder(new StopBuilder(this));\n    }\n    let defs = container.node.querySelector(\"defs\");\n    if (!defs) {\n      defs = BrowserAPIs.createElementNS(SVGNS, \"defs\");\n      container.node.appendChild(defs);\n    }\n    defs.appendChild(this.node);\n  }\n  stop(offset, color, opacity) {\n    const s = BrowserAPIs.createElementNS(SVGNS, \"stop\");\n    s.setAttribute(\"offset\", offset);\n    s.setAttribute(\"stop-color\", color);\n    if (opacity !== void 0) s.setAttribute(\"stop-opacity\", opacity);\n    this.node.appendChild(s);\n    return this;\n  }\n  from(x, y) {\n    return this.attr({ x1: x, y1: y });\n  }\n  to(x, y) {\n    return this.attr({ x2: x, y2: y });\n  }\n  url() {\n    return \"url(#\" + this._id + \")\";\n  }\n  toString() {\n    return this.url();\n  }\n  valueOf() {\n    return this.url();\n  }\n  fill() {\n    return this.url();\n  }\n}\nclass StopBuilder {\n  constructor(gradient) {\n    this.gradient = gradient;\n  }\n  stop(offset, color, opacity) {\n    this.gradient.stop(offset, color, opacity);\n    return this;\n  }\n}\nlet patternCounter = 0;\nclass SVGPattern extends SVGElement {\n  constructor(container, w, h, builder) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"pattern\");\n    super(node);\n    this._id = \"SvgjsPattern\" + ++patternCounter;\n    this.attr({\n      id: this._id,\n      width: w,\n      height: h,\n      patternUnits: \"userSpaceOnUse\"\n    });\n    if (typeof builder === \"function\") {\n      const patternContainer = new SVGContainer(this.node);\n      builder(patternContainer);\n    }\n    let defs = container.node.querySelector(\"defs\");\n    if (!defs) {\n      defs = BrowserAPIs.createElementNS(SVGNS, \"defs\");\n      container.node.appendChild(defs);\n    }\n    defs.appendChild(this.node);\n  }\n  url() {\n    return \"url(#\" + this._id + \")\";\n  }\n  toString() {\n    return this.url();\n  }\n  valueOf() {\n    return this.url();\n  }\n  fill() {\n    return this.url();\n  }\n}\nclass SVGContainer extends SVGElement {\n  line(x1, y1, x2, y2) {\n    const el = this._make(\"line\");\n    if (x1 !== void 0) {\n      el.attr({ x1, y1, x2, y2 });\n    }\n    return el;\n  }\n  rect(w, h) {\n    const el = this._make(\"rect\");\n    if (w !== void 0) {\n      el.attr({ width: w, height: h });\n    }\n    return el;\n  }\n  circle(d) {\n    const el = this._make(\"circle\");\n    if (d !== void 0) {\n      el.attr({ r: d / 2, cx: d / 2, cy: d / 2 });\n    }\n    return el;\n  }\n  path(d) {\n    const el = this._make(\"path\");\n    if (d) el.attr(\"d\", d);\n    return el;\n  }\n  polygon(pts) {\n    const el = this._make(\"polygon\");\n    if (pts) el.attr(\"points\", pts);\n    return el;\n  }\n  group() {\n    return this._makeContainer(\"g\");\n  }\n  defs() {\n    return this._makeContainer(\"defs\");\n  }\n  plain(textContent) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"text\");\n    node.textContent = textContent;\n    const el = new SVGElement(node);\n    this.node.appendChild(node);\n    return el;\n  }\n  text(builder) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"text\");\n    const el = new SVGElement(node);\n    this.node.appendChild(node);\n    if (typeof builder === \"function\") {\n      builder(new TspanBuilder(node));\n    }\n    return el;\n  }\n  image(url, callback) {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"image\");\n    node.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", url);\n    const el = new SVGElement(node);\n    this.node.appendChild(node);\n    if (typeof callback === \"function\") {\n      const img = new Image();\n      img.onload = function() {\n        el.size(img.width, img.height);\n        callback.call(el, { width: img.width, height: img.height });\n      };\n      img.src = url;\n    }\n    return el;\n  }\n  gradient(type, builder) {\n    return new SVGGradient(this, type, builder);\n  }\n  pattern(w, h, builder) {\n    return new SVGPattern(this, w, h, builder);\n  }\n  _make(tag) {\n    const node = BrowserAPIs.createElementNS(SVGNS, tag);\n    this.node.appendChild(node);\n    return new SVGElement(node);\n  }\n  _makeContainer(tag) {\n    const node = BrowserAPIs.createElementNS(SVGNS, tag);\n    this.node.appendChild(node);\n    return new SVGContainer(node);\n  }\n}\nclass TspanBuilder {\n  constructor(textNode) {\n    this.textNode = textNode;\n  }\n  tspan(text) {\n    const tspan = BrowserAPIs.createElementNS(SVGNS, \"tspan\");\n    tspan.textContent = text;\n    this.textNode.appendChild(tspan);\n    return new TspanWrapper(tspan, this.textNode);\n  }\n}\nclass TspanWrapper {\n  constructor(node, textNode) {\n    this.node = node;\n    this.textNode = textNode;\n  }\n  newLine() {\n    this.node.setAttribute(\"dy\", \"1.1em\");\n    this.node.dataset.newline = \"1\";\n    return this;\n  }\n}\nlet filterCounter = 0;\nclass SVGFilter extends SVGElement {\n  constructor() {\n    const node = BrowserAPIs.createElementNS(SVGNS, \"filter\");\n    super(node);\n    this._id = \"SvgjsFilter\" + ++filterCounter;\n    this.attr(\"id\", this._id);\n  }\n  size(w, h, x, y) {\n    return this.attr({ width: w, height: h, x, y });\n  }\n}\nclass FilterBuilder {\n  constructor(filter) {\n    this.filter = filter;\n  }\n  colorMatrix(attrs) {\n    return this._primitive(\"feColorMatrix\", attrs);\n  }\n  offset(attrs) {\n    return this._primitive(\"feOffset\", attrs);\n  }\n  gaussianBlur(attrs) {\n    return this._primitive(\"feGaussianBlur\", attrs);\n  }\n  flood(attrs) {\n    return this._primitive(\"feFlood\", attrs);\n  }\n  composite(attrs) {\n    return this._primitive(\"feComposite\", attrs);\n  }\n  merge(sources) {\n    const m = BrowserAPIs.createElementNS(SVGNS, \"feMerge\");\n    sources.forEach((src) => {\n      const mn = BrowserAPIs.createElementNS(SVGNS, \"feMergeNode\");\n      mn.setAttribute(\"in\", src);\n      m.appendChild(mn);\n    });\n    this.filter.node.appendChild(m);\n    return new SVGElement(m);\n  }\n  _primitive(tag, attrs) {\n    const el = BrowserAPIs.createElementNS(SVGNS, tag);\n    for (const key in attrs) {\n      el.setAttribute(key, attrs[key]);\n    }\n    this.filter.node.appendChild(el);\n    return new SVGElement(el);\n  }\n}\nfunction installFilterMethods(ElementClass) {\n  ElementClass.prototype.filterWith = function(fn) {\n    const filter = new SVGFilter();\n    this._filter = filter;\n    let svgRoot = this.node;\n    while (svgRoot && svgRoot.nodeName !== \"svg\") {\n      svgRoot = svgRoot.parentNode;\n    }\n    if (svgRoot) {\n      let defs = svgRoot.querySelector(\"defs\");\n      if (!defs) {\n        defs = BrowserAPIs.createElementNS(SVGNS, \"defs\");\n        svgRoot.insertBefore(defs, svgRoot.firstChild);\n      }\n      defs.appendChild(filter.node);\n    }\n    fn(new FilterBuilder(filter));\n    this.attr(\"filter\", \"url(#\" + filter._id + \")\");\n    return this;\n  };\n  ElementClass.prototype.unfilter = function(all) {\n    if (this._filter) {\n      this.node.removeAttribute(\"filter\");\n      if (all && this._filter.node && this._filter.node.parentNode) {\n        this._filter.node.parentNode.removeChild(this._filter.node);\n      }\n      this._filter = null;\n    }\n    return this;\n  };\n  ElementClass.prototype.filterer = function() {\n    return this._filter;\n  };\n}\n/*!\n * Path morphing for SVG path animations\n * Based on svg.pathmorphing.js by Ulrich-Matthias Schfer (MIT License)\n * Refactored to be standalone (no SVG.js dependency)\n */\nfunction parsePath(d) {\n  if (!d || typeof d !== \"string\") return [[\"M\", 0, 0]];\n  const commands = [];\n  const re = /([MmLlHhVvCcSsQqTtAaZz])\\s*/g;\n  const numRe = /[+-]?(?:\\d+\\.?\\d*|\\.\\d+)(?:e[+-]?\\d+)?/gi;\n  let match;\n  const letters = [];\n  const positions = [];\n  while ((match = re.exec(d)) !== null) {\n    letters.push(match[1]);\n    positions.push(match.index);\n  }\n  for (let i = 0; i < letters.length; i++) {\n    const start = positions[i] + letters[i].length;\n    const end = i + 1 < positions.length ? positions[i + 1] : d.length;\n    const paramStr = d.substring(start, end);\n    const nums = [];\n    let numMatch;\n    numRe.lastIndex = 0;\n    while ((numMatch = numRe.exec(paramStr)) !== null) {\n      nums.push(parseFloat(numMatch[0]));\n    }\n    const cmd = letters[i].toUpperCase();\n    if (cmd === \"Z\") {\n      commands.push([\"Z\"]);\n    } else if (cmd === \"M\" || cmd === \"L\" || cmd === \"T\") {\n      for (let j = 0; j < nums.length; j += 2) {\n        commands.push([cmd, nums[j], nums[j + 1]]);\n      }\n    } else if (cmd === \"H\") {\n      for (let j = 0; j < nums.length; j++) {\n        commands.push([cmd, nums[j]]);\n      }\n    } else if (cmd === \"V\") {\n      for (let j = 0; j < nums.length; j++) {\n        commands.push([cmd, nums[j]]);\n      }\n    } else if (cmd === \"C\") {\n      for (let j = 0; j < nums.length; j += 6) {\n        commands.push([\n          cmd,\n          nums[j],\n          nums[j + 1],\n          nums[j + 2],\n          nums[j + 3],\n          nums[j + 4],\n          nums[j + 5]\n        ]);\n      }\n    } else if (cmd === \"S\" || cmd === \"Q\") {\n      for (let j = 0; j < nums.length; j += 4) {\n        commands.push([cmd, nums[j], nums[j + 1], nums[j + 2], nums[j + 3]]);\n      }\n    } else if (cmd === \"A\") {\n      for (let j = 0; j < nums.length; j += 7) {\n        commands.push([\n          cmd,\n          nums[j],\n          nums[j + 1],\n          nums[j + 2],\n          nums[j + 3],\n          nums[j + 4],\n          nums[j + 5],\n          nums[j + 6]\n        ]);\n      }\n    }\n  }\n  if (commands.length === 0) {\n    commands.push([\"M\", 0, 0]);\n  }\n  return commands;\n}\nfunction pathBbox(arr) {\n  let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;\n  arr.forEach((cmd) => {\n    for (let i = 1; i < cmd.length; i += 2) {\n      if (i + 1 <= cmd.length) {\n        const x = cmd[i];\n        const y = cmd[i + 1];\n        if (typeof x === \"number\" && typeof y === \"number\") {\n          if (x < minX) minX = x;\n          if (x > maxX) maxX = x;\n          if (y < minY) minY = y;\n          if (y > maxY) maxY = y;\n        }\n      }\n    }\n  });\n  if (minX === Infinity) {\n    return { x: 0, y: 0, width: 0, height: 0 };\n  }\n  return { x: minX, y: minY, width: maxX - minX, height: maxY - minY };\n}\nfunction arrayToPath(arr) {\n  return arr.map((cmd) => cmd.join(\" \")).join(\" \");\n}\nfunction simplify(val) {\n  switch (val[0]) {\n    case \"z\":\n    case \"Z\":\n      val[0] = \"L\";\n      val[1] = this.start[0];\n      val[2] = this.start[1];\n      break;\n    case \"H\":\n      val[0] = \"L\";\n      val[2] = this.pos[1];\n      break;\n    case \"V\":\n      val[0] = \"L\";\n      val[2] = val[1];\n      val[1] = this.pos[0];\n      break;\n    case \"T\":\n      val[0] = \"Q\";\n      val[3] = val[1];\n      val[4] = val[2];\n      val[1] = this.reflection[1];\n      val[2] = this.reflection[0];\n      break;\n    case \"S\":\n      val[0] = \"C\";\n      val[6] = val[4];\n      val[5] = val[3];\n      val[4] = val[2];\n      val[3] = val[1];\n      val[2] = this.reflection[1];\n      val[1] = this.reflection[0];\n      break;\n  }\n  return val;\n}\nfunction setPosAndReflection(val) {\n  var len = val.length;\n  this.pos = [val[len - 2], val[len - 1]];\n  if (\"SCQT\".indexOf(val[0]) != -1) {\n    this.reflection = [\n      2 * this.pos[0] - val[len - 4],\n      2 * this.pos[1] - val[len - 3]\n    ];\n  }\n  return val;\n}\nfunction toBezier(val) {\n  var retVal = [val];\n  switch (val[0]) {\n    case \"M\":\n      this.pos = this.start = [val[1], val[2]];\n      return retVal;\n    case \"L\":\n      val[5] = val[3] = val[1];\n      val[6] = val[4] = val[2];\n      val[1] = this.pos[0];\n      val[2] = this.pos[1];\n      break;\n    case \"Q\":\n      val[6] = val[4];\n      val[5] = val[3];\n      val[4] = val[4] * 1 / 3 + val[2] * 2 / 3;\n      val[3] = val[3] * 1 / 3 + val[1] * 2 / 3;\n      val[2] = this.pos[1] * 1 / 3 + val[2] * 2 / 3;\n      val[1] = this.pos[0] * 1 / 3 + val[1] * 2 / 3;\n      break;\n    case \"A\":\n      retVal = arcToBezier(this.pos, val);\n      val = retVal[0];\n      break;\n  }\n  val[0] = \"C\";\n  this.pos = [val[5], val[6]];\n  this.reflection = [2 * val[5] - val[3], 2 * val[6] - val[4]];\n  return retVal;\n}\nfunction findNextM(arr, offset) {\n  if (offset === false) return false;\n  for (var i = offset, len = arr.length; i < len; ++i) {\n    if (arr[i][0] == \"M\") return i;\n  }\n  return false;\n}\nfunction arcToBezier(pos, val) {\n  var rx = Math.abs(val[1]), ry = Math.abs(val[2]), xAxisRotation = val[3] % 360, largeArcFlag = val[4], sweepFlag = val[5], x = val[6], y = val[7], A = new Point(pos[0], pos[1]), B = new Point(x, y), primedCoord, lambda, mat, k, c, cSquare, t, O, OA, OB, tetaStart, tetaEnd, deltaTeta, nbSectors, f, arcSegPoints, angle, sinAngle, cosAngle, pt, i, il, retVal = [], x1, y1, x2, y2;\n  if (rx === 0 || ry === 0 || A.x === B.x && A.y === B.y) {\n    return [[\"C\", A.x, A.y, B.x, B.y, B.x, B.y]];\n  }\n  primedCoord = new Point((A.x - B.x) / 2, (A.y - B.y) / 2).transform(\n    new Matrix().rotate(xAxisRotation)\n  );\n  lambda = primedCoord.x * primedCoord.x / (rx * rx) + primedCoord.y * primedCoord.y / (ry * ry);\n  if (lambda > 1) {\n    lambda = Math.sqrt(lambda);\n    rx = lambda * rx;\n    ry = lambda * ry;\n  }\n  mat = new Matrix().rotate(xAxisRotation).scale(1 / rx, 1 / ry).rotate(-xAxisRotation);\n  A = A.transform(mat);\n  B = B.transform(mat);\n  k = [B.x - A.x, B.y - A.y];\n  cSquare = k[0] * k[0] + k[1] * k[1];\n  c = Math.sqrt(cSquare);\n  k[0] /= c;\n  k[1] /= c;\n  t = cSquare < 4 ? Math.sqrt(1 - cSquare / 4) : 0;\n  if (largeArcFlag === sweepFlag) {\n    t *= -1;\n  }\n  O = new Point(\n    (B.x + A.x) / 2 + t * -k[1],\n    (B.y + A.y) / 2 + t * k[0]\n  );\n  OA = new Point(A.x - O.x, A.y - O.y);\n  OB = new Point(B.x - O.x, B.y - O.y);\n  tetaStart = Math.acos(OA.x / Math.sqrt(OA.x * OA.x + OA.y * OA.y));\n  if (OA.y < 0) tetaStart *= -1;\n  tetaEnd = Math.acos(OB.x / Math.sqrt(OB.x * OB.x + OB.y * OB.y));\n  if (OB.y < 0) tetaEnd *= -1;\n  if (sweepFlag && tetaStart > tetaEnd) {\n    tetaEnd += 2 * Math.PI;\n  }\n  if (!sweepFlag && tetaStart < tetaEnd) {\n    tetaEnd -= 2 * Math.PI;\n  }\n  nbSectors = Math.ceil(Math.abs(tetaStart - tetaEnd) * 2 / Math.PI);\n  arcSegPoints = [];\n  angle = tetaStart;\n  deltaTeta = (tetaEnd - tetaStart) / nbSectors;\n  f = 4 * Math.tan(deltaTeta / 4) / 3;\n  for (i = 0; i <= nbSectors; i++) {\n    cosAngle = Math.cos(angle);\n    sinAngle = Math.sin(angle);\n    pt = new Point(O.x + cosAngle, O.y + sinAngle);\n    arcSegPoints[i] = [\n      new Point(pt.x + f * sinAngle, pt.y - f * cosAngle),\n      pt,\n      new Point(pt.x - f * sinAngle, pt.y + f * cosAngle)\n    ];\n    angle += deltaTeta;\n  }\n  arcSegPoints[0][0] = arcSegPoints[0][1].clone();\n  arcSegPoints[arcSegPoints.length - 1][2] = arcSegPoints[arcSegPoints.length - 1][1].clone();\n  mat = new Matrix().rotate(xAxisRotation).scale(rx, ry).rotate(-xAxisRotation);\n  for (i = 0, il = arcSegPoints.length; i < il; i++) {\n    arcSegPoints[i][0] = arcSegPoints[i][0].transform(mat);\n    arcSegPoints[i][1] = arcSegPoints[i][1].transform(mat);\n    arcSegPoints[i][2] = arcSegPoints[i][2].transform(mat);\n  }\n  for (i = 1, il = arcSegPoints.length; i < il; i++) {\n    pt = arcSegPoints[i - 1][2];\n    x1 = pt.x;\n    y1 = pt.y;\n    pt = arcSegPoints[i][0];\n    x2 = pt.x;\n    y2 = pt.y;\n    pt = arcSegPoints[i][1];\n    x = pt.x;\n    y = pt.y;\n    retVal.push([\"C\", x1, y1, x2, y2, x, y]);\n  }\n  return retVal;\n}\nfunction handleBlock(startArr, startOffsetM, startOffsetNextM, destArr, destOffsetM, destOffsetNextM) {\n  var startArrTemp = startArr.slice(\n    startOffsetM,\n    startOffsetNextM || void 0\n  );\n  var destArrTemp = destArr.slice(destOffsetM, destOffsetNextM || void 0);\n  var i = 0, posStart = { pos: [0, 0], start: [0, 0] }, posDest = { pos: [0, 0], start: [0, 0] };\n  while (true) {\n    startArrTemp[i] = simplify.call(posStart, startArrTemp[i]);\n    destArrTemp[i] = simplify.call(posDest, destArrTemp[i]);\n    if (startArrTemp[i][0] != destArrTemp[i][0] || startArrTemp[i][0] == \"M\" || startArrTemp[i][0] == \"A\" && (startArrTemp[i][4] != destArrTemp[i][4] || startArrTemp[i][5] != destArrTemp[i][5])) {\n      Array.prototype.splice.apply(\n        startArrTemp,\n        [i, 1].concat(toBezier.call(posStart, startArrTemp[i]))\n      );\n      Array.prototype.splice.apply(\n        destArrTemp,\n        [i, 1].concat(toBezier.call(posDest, destArrTemp[i]))\n      );\n    } else {\n      startArrTemp[i] = setPosAndReflection.call(posStart, startArrTemp[i]);\n      destArrTemp[i] = setPosAndReflection.call(posDest, destArrTemp[i]);\n    }\n    if (++i == startArrTemp.length && i == destArrTemp.length) break;\n    if (i == startArrTemp.length) {\n      startArrTemp.push([\n        \"C\",\n        posStart.pos[0],\n        posStart.pos[1],\n        posStart.pos[0],\n        posStart.pos[1],\n        posStart.pos[0],\n        posStart.pos[1]\n      ]);\n    }\n    if (i == destArrTemp.length) {\n      destArrTemp.push([\n        \"C\",\n        posDest.pos[0],\n        posDest.pos[1],\n        posDest.pos[0],\n        posDest.pos[1],\n        posDest.pos[0],\n        posDest.pos[1]\n      ]);\n    }\n  }\n  return { start: startArrTemp, dest: destArrTemp };\n}\nfunction synchronizePaths(fromD, toD) {\n  var startArr = parsePath(fromD);\n  var destArr = parsePath(toD);\n  var startOffsetM = 0, destOffsetM = 0;\n  var startOffsetNextM = false, destOffsetNextM = false;\n  var result;\n  while (true) {\n    if (startOffsetM === false && destOffsetM === false) break;\n    startOffsetNextM = findNextM(\n      startArr,\n      startOffsetM === false ? false : startOffsetM + 1\n    );\n    destOffsetNextM = findNextM(\n      destArr,\n      destOffsetM === false ? false : destOffsetM + 1\n    );\n    if (startOffsetM === false) {\n      let bbox = pathBbox(result.start);\n      if (bbox.height == 0 || bbox.width == 0) {\n        startOffsetM = startArr.push(startArr[0]) - 1;\n      } else {\n        startOffsetM = startArr.push([\n          \"M\",\n          bbox.x + bbox.width / 2,\n          bbox.y + bbox.height / 2\n        ]) - 1;\n      }\n    }\n    if (destOffsetM === false) {\n      let bbox = pathBbox(result.dest);\n      if (bbox.height == 0 || bbox.width == 0) {\n        destOffsetM = destArr.push(destArr[0]) - 1;\n      } else {\n        destOffsetM = destArr.push([\n          \"M\",\n          bbox.x + bbox.width / 2,\n          bbox.y + bbox.height / 2\n        ]) - 1;\n      }\n    }\n    result = handleBlock(\n      startArr,\n      startOffsetM,\n      startOffsetNextM,\n      destArr,\n      destOffsetM,\n      destOffsetNextM\n    );\n    startArr = startArr.slice(0, startOffsetM).concat(\n      result.start,\n      startOffsetNextM === false ? [] : startArr.slice(startOffsetNextM)\n    );\n    destArr = destArr.slice(0, destOffsetM).concat(\n      result.dest,\n      destOffsetNextM === false ? [] : destArr.slice(destOffsetNextM)\n    );\n    startOffsetM = startOffsetNextM === false ? false : startOffsetM + result.start.length;\n    destOffsetM = destOffsetNextM === false ? false : destOffsetM + result.dest.length;\n  }\n  return { start: startArr, dest: destArr };\n}\nfunction morphPaths(fromD, toD) {\n  var synced = synchronizePaths(fromD, toD);\n  var startArr = synced.start;\n  var destArr = synced.dest;\n  return function(pos) {\n    var result = startArr.map(function(from, idx) {\n      return destArr[idx].map(function(to, toIdx) {\n        if (toIdx === 0) return to;\n        return from[toIdx] + (destArr[idx][toIdx] - from[toIdx]) * pos;\n      });\n    });\n    return arrayToPath(result);\n  };\n}\nfunction easeInOut(t) {\n  return -Math.cos(t * Math.PI) / 2 + 0.5;\n}\nfunction parseColor(str) {\n  if (!str || typeof str !== \"string\") return null;\n  if (str[0] === \"#\") {\n    let hex = str.slice(1);\n    if (hex.length === 3)\n      hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    const n = parseInt(hex, 16);\n    return [n >> 16 & 255, n >> 8 & 255, n & 255, 1];\n  }\n  const m = str.match(\n    /rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*([\\d.]+))?\\s*\\)/\n  );\n  if (m) return [+m[1], +m[2], +m[3], m[4] !== void 0 ? +m[4] : 1];\n  return null;\n}\nfunction interpolateColor(from, to, pos) {\n  return `rgba(${Math.round(from[0] + (to[0] - from[0]) * pos)},${Math.round(from[1] + (to[1] - from[1]) * pos)},${Math.round(from[2] + (to[2] - from[2]) * pos)},${from[3] + (to[3] - from[3]) * pos})`;\n}\nclass SVGAnimationRunner {\n  constructor(element, duration, delay) {\n    this.el = element;\n    this.duration = duration != null ? duration : 300;\n    this.delay = delay || 0;\n    this._attrTarget = null;\n    this._plotTarget = null;\n    this._afterCb = null;\n    this._duringCb = null;\n    this._next = null;\n    this._root = null;\n    this._scheduled = false;\n  }\n  attr(to) {\n    this._attrTarget = to;\n    this._schedule();\n    return this;\n  }\n  plot(d) {\n    this._plotTarget = d;\n    this._schedule();\n    return this;\n  }\n  after(fn) {\n    this._afterCb = fn;\n    this._schedule();\n    return this;\n  }\n  during(fn) {\n    this._duringCb = fn;\n    this._schedule();\n    return this;\n  }\n  animate(duration, delay) {\n    const next = new SVGAnimationRunner(this.el, duration, delay);\n    this._next = next;\n    next._root = this._root || this;\n    return next;\n  }\n  _schedule() {\n    const root = this._root || this;\n    if (!root._scheduled) {\n      root._scheduled = true;\n      queueMicrotask(() => root._executeChain());\n    }\n  }\n  _executeChain() {\n    const chain = [];\n    let r = this;\n    while (r) {\n      chain.push(r);\n      r = r._next;\n    }\n    let cumulativeDelay = 0;\n    chain.forEach((runner) => {\n      cumulativeDelay += runner.delay;\n      runner._execute(cumulativeDelay);\n      cumulativeDelay += runner.duration;\n    });\n  }\n  _execute(startDelay) {\n    const el = this.el;\n    const duration = this.duration;\n    if (duration <= 1) {\n      const apply = () => {\n        if (this._attrTarget) el.attr(this._attrTarget);\n        if (this._plotTarget) el.plot(this._plotTarget);\n        if (this._afterCb) this._afterCb.call(el);\n      };\n      if (startDelay > 0) {\n        setTimeout(apply, startDelay);\n      } else {\n        apply();\n      }\n      return;\n    }\n    const run = () => {\n      const fromAttrs = {};\n      const fromColors = {};\n      const toColors = {};\n      if (this._attrTarget) {\n        for (const key of Object.keys(this._attrTarget)) {\n          const fromVal = el.attr(key);\n          fromAttrs[key] = fromVal;\n          const fc = parseColor(fromVal);\n          const tc = parseColor(String(this._attrTarget[key]));\n          if (fc && tc) {\n            fromColors[key] = fc;\n            toColors[key] = tc;\n          }\n        }\n      }\n      let morphFn = null;\n      if (this._plotTarget) {\n        const fromPath = el.attr(\"d\") || \"\";\n        try {\n          morphFn = morphPaths(fromPath, this._plotTarget);\n        } catch (e) {\n          morphFn = null;\n        }\n      }\n      const start = performance.now();\n      const tick = (now) => {\n        const elapsed = now - start;\n        const rawPos = Math.min(elapsed / duration, 1);\n        const pos = easeInOut(rawPos);\n        if (this._attrTarget) {\n          if (rawPos >= 1) {\n            el.attr(this._attrTarget);\n          } else {\n            const current = {};\n            for (const key of Object.keys(this._attrTarget)) {\n              if (fromColors[key] && toColors[key]) {\n                current[key] = interpolateColor(\n                  fromColors[key],\n                  toColors[key],\n                  pos\n                );\n              } else {\n                const from = parseFloat(fromAttrs[key]);\n                const to = parseFloat(this._attrTarget[key]);\n                if (!isNaN(from) && !isNaN(to)) {\n                  current[key] = from + (to - from) * pos;\n                }\n              }\n            }\n            el.attr(current);\n          }\n        }\n        if (morphFn && rawPos < 1) {\n          el.attr(\"d\", morphFn(pos));\n        }\n        if (this._duringCb) this._duringCb(pos);\n        if (rawPos < 1) {\n          requestAnimationFrame(tick);\n        } else {\n          if (this._plotTarget) {\n            el.attr(\"d\", this._plotTarget);\n          }\n          if (this._afterCb) this._afterCb.call(el);\n        }\n      };\n      requestAnimationFrame(tick);\n    };\n    if (startDelay > 0) {\n      setTimeout(run, startDelay);\n    } else {\n      run();\n    }\n  }\n}\nfunction installAnimationMethods(ElementClass) {\n  ElementClass.prototype.animate = function(duration, delay) {\n    return new SVGAnimationRunner(this, duration, delay);\n  };\n}\nfunction installDraggable(ElementClass) {\n  ElementClass.prototype.draggable = function(opts) {\n    if (opts === false) {\n      if (this._dragCleanup) {\n        this._dragCleanup();\n        this._dragCleanup = null;\n      }\n      return this;\n    }\n    const el = this;\n    const constraints = opts || {};\n    const onPointerDown = (e) => {\n      if (e.button && e.button !== 0) return;\n      e.stopPropagation();\n      const isTouch = e.type === \"touchstart\";\n      const ev = isTouch ? e.touches[0] : e;\n      const svgEl = el.node;\n      const startAttrX = parseFloat(svgEl.getAttribute(\"x\")) || 0;\n      const startAttrY = parseFloat(svgEl.getAttribute(\"y\")) || 0;\n      const startClientX = ev.clientX;\n      const startClientY = ev.clientY;\n      const svgRoot = svgEl.ownerSVGElement;\n      let ctm = null;\n      if (svgRoot) {\n        ctm = svgRoot.getScreenCTM();\n      }\n      const onMove = (me) => {\n        const mev = me.type === \"touchmove\" ? me.touches[0] : me;\n        let dx = mev.clientX - startClientX;\n        let dy = mev.clientY - startClientY;\n        if (ctm) {\n          dx = dx / ctm.a;\n          dy = dy / ctm.d;\n        }\n        let newX = startAttrX + dx;\n        let newY = startAttrY + dy;\n        const w = parseFloat(svgEl.getAttribute(\"width\")) || 0;\n        const h = parseFloat(svgEl.getAttribute(\"height\")) || 0;\n        if (constraints.minX !== void 0 && newX < constraints.minX)\n          newX = constraints.minX;\n        if (constraints.minY !== void 0 && newY < constraints.minY)\n          newY = constraints.minY;\n        if (constraints.maxX !== void 0 && newX + w > constraints.maxX)\n          newX = constraints.maxX - w;\n        if (constraints.maxY !== void 0 && newY + h > constraints.maxY)\n          newY = constraints.maxY - h;\n        const box = {\n          x: newX,\n          y: newY,\n          w,\n          h,\n          x2: newX + w,\n          y2: newY + h\n        };\n        const event = new CustomEvent(\"dragmove\", {\n          detail: {\n            handler: {\n              move: function(x, y) {\n                svgEl.setAttribute(\"x\", x);\n                svgEl.setAttribute(\"y\", y);\n              }\n            },\n            box\n          }\n        });\n        svgEl.dispatchEvent(event);\n      };\n      const onUp = () => {\n        document.removeEventListener(\"mousemove\", onMove);\n        document.removeEventListener(\"touchmove\", onMove);\n        document.removeEventListener(\"mouseup\", onUp);\n        document.removeEventListener(\"touchend\", onUp);\n      };\n      document.addEventListener(\"mousemove\", onMove);\n      document.addEventListener(\"touchmove\", onMove);\n      document.addEventListener(\"mouseup\", onUp);\n      document.addEventListener(\"touchend\", onUp);\n    };\n    el.node.addEventListener(\"mousedown\", onPointerDown);\n    el.node.addEventListener(\"touchstart\", onPointerDown);\n    el._dragCleanup = () => {\n      el.node.removeEventListener(\"mousedown\", onPointerDown);\n      el.node.removeEventListener(\"touchstart\", onPointerDown);\n    };\n    return el;\n  };\n}\nfunction installSelectable(ElementClass) {\n  ElementClass.prototype.select = function(opts) {\n    if (opts === false) {\n      if (this._selectCleanup) {\n        this._selectCleanup();\n        this._selectCleanup = null;\n      }\n      return this;\n    }\n    const el = this;\n    const { createHandle, updateHandle } = opts;\n    const handleGroup = document.createElementNS(SVGNS, \"g\");\n    handleGroup.setAttribute(\"class\", \"svg_select_points\");\n    const parent = el.node.parentNode;\n    if (parent) {\n      parent.appendChild(handleGroup);\n    }\n    const handles = {};\n    const handleNames = [\"t\", \"b\", \"l\", \"r\", \"lt\", \"rt\", \"lb\", \"rb\"];\n    handleNames.forEach((name2, index) => {\n      const subGroup = new SVGContainer(\n        document.createElementNS(SVGNS, \"g\")\n      );\n      handleGroup.appendChild(subGroup.node);\n      const handle = createHandle(subGroup, [0, 0], index, [], name2);\n      handles[name2] = { group: subGroup, handle };\n    });\n    const updatePositions = () => {\n      const x = parseFloat(el.attr(\"x\")) || 0;\n      const y = parseFloat(el.attr(\"y\")) || 0;\n      const w = parseFloat(el.attr(\"width\")) || 0;\n      const h = parseFloat(el.attr(\"height\")) || 0;\n      const elTransform = el.node.getAttribute(\"transform\");\n      if (elTransform) {\n        handleGroup.setAttribute(\"transform\", elTransform);\n      } else {\n        handleGroup.removeAttribute(\"transform\");\n      }\n      const positions = {\n        t: [x + w / 2, y],\n        b: [x + w / 2, y + h],\n        l: [x, y + h / 2],\n        r: [x + w, y + h / 2],\n        lt: [x, y],\n        rt: [x + w, y],\n        lb: [x, y + h],\n        rb: [x + w, y + h]\n      };\n      handleNames.forEach((name2) => {\n        if (handles[name2] && positions[name2]) {\n          updateHandle(handles[name2].group, positions[name2]);\n        }\n      });\n    };\n    updatePositions();\n    el._selectHandles = handleGroup;\n    el._selectHandlesMap = handles;\n    el._updateSelectPositions = updatePositions;\n    el._selectCleanup = () => {\n      if (handleGroup.parentNode) {\n        handleGroup.parentNode.removeChild(handleGroup);\n      }\n      el._selectHandles = null;\n      el._selectHandlesMap = null;\n      el._updateSelectPositions = null;\n    };\n    return el;\n  };\n  ElementClass.prototype.resize = function(enable) {\n    if (enable === false) {\n      if (this._resizeCleanup) {\n        this._resizeCleanup();\n        this._resizeCleanup = null;\n      }\n      return this;\n    }\n    const el = this;\n    const handles = el._selectHandlesMap;\n    if (!handles) return el;\n    const cleanupFns = [];\n    const makeHandleDraggable = (name2) => {\n      const handleInfo = handles[name2];\n      if (!handleInfo || !handleInfo.group || !handleInfo.group.node)\n        return;\n      const handleNode = handleInfo.group.node;\n      const onPointerDown = (e) => {\n        if (e.button && e.button !== 0) return;\n        e.stopPropagation();\n        const isTouch = e.type === \"touchstart\";\n        const ev = isTouch ? e.touches[0] : e;\n        const startClientX = ev.clientX;\n        const svgRoot = el.node.ownerSVGElement;\n        let ctm = null;\n        if (svgRoot) {\n          ctm = svgRoot.getScreenCTM();\n        }\n        const startX = parseFloat(el.attr(\"x\")) || 0;\n        const startW = parseFloat(el.attr(\"width\")) || 0;\n        const onMove = (me) => {\n          const mev = me.type === \"touchmove\" ? me.touches[0] : me;\n          let dx = mev.clientX - startClientX;\n          if (ctm) dx = dx / ctm.a;\n          let newX = startX;\n          let newW = startW;\n          if (name2 === \"l\") {\n            newX = startX + dx;\n            newW = startW - dx;\n          } else if (name2 === \"r\") {\n            newW = startW + dx;\n          }\n          if (newW < 0) {\n            newW = 0;\n          }\n          el.attr({ x: newX, width: newW });\n          if (el._updateSelectPositions) {\n            el._updateSelectPositions();\n          }\n          const event = new CustomEvent(\"resize\", {\n            detail: { el }\n          });\n          el.node.dispatchEvent(event);\n        };\n        const onUp = () => {\n          document.removeEventListener(\"mousemove\", onMove);\n          document.removeEventListener(\"touchmove\", onMove);\n          document.removeEventListener(\"mouseup\", onUp);\n          document.removeEventListener(\"touchend\", onUp);\n          const event = new CustomEvent(\"resize\", {\n            detail: { el }\n          });\n          el.node.dispatchEvent(event);\n        };\n        document.addEventListener(\"mousemove\", onMove);\n        document.addEventListener(\"touchmove\", onMove);\n        document.addEventListener(\"mouseup\", onUp);\n        document.addEventListener(\"touchend\", onUp);\n      };\n      handleNode.addEventListener(\"mousedown\", onPointerDown);\n      handleNode.addEventListener(\"touchstart\", onPointerDown);\n      cleanupFns.push(() => {\n        handleNode.removeEventListener(\"mousedown\", onPointerDown);\n        handleNode.removeEventListener(\"touchstart\", onPointerDown);\n      });\n    };\n    makeHandleDraggable(\"l\");\n    makeHandleDraggable(\"r\");\n    el._resizeCleanup = () => {\n      cleanupFns.forEach((fn) => fn());\n    };\n    return el;\n  };\n}\ninstallFilterMethods(SVGElement);\ninstallAnimationMethods(SVGElement);\ninstallDraggable(SVGElement);\ninstallSelectable(SVGElement);\nfunction SVG() {\n  const svgEl = BrowserAPIs.createElementNS(SVGNS, \"svg\");\n  const svg = new SVGContainer(svgEl);\n  svg.attr({ xmlns: SVGNS });\n  return svg;\n}\nSVG.xlink = \"http://www.w3.org/1999/xlink\";\nif (Environment.isBrowser() && typeof window.SVG === \"undefined\") {\n  window.SVG = SVG;\n}\nclass ZoomPanSelection extends Toolbar {\n  constructor(ctx) {\n    super(ctx);\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.dragged = false;\n    this.graphics = new Graphics(this.ctx);\n    this.eventList = [\n      \"mousedown\",\n      \"mouseleave\",\n      \"mousemove\",\n      \"touchstart\",\n      \"touchmove\",\n      \"mouseup\",\n      \"touchend\",\n      \"wheel\"\n    ];\n    this.clientX = 0;\n    this.clientY = 0;\n    this.startX = 0;\n    this.endX = 0;\n    this.dragX = 0;\n    this.startY = 0;\n    this.endY = 0;\n    this.dragY = 0;\n    this.moveDirection = \"none\";\n    this.debounceTimer = null;\n    this.debounceDelay = 100;\n    this.wheelDelay = 400;\n  }\n  init({ xyRatios }) {\n    let w = this.w;\n    let me = this;\n    this.xyRatios = xyRatios;\n    this.zoomRect = this.graphics.drawRect(0, 0, 0, 0);\n    this.selectionRect = this.graphics.drawRect(0, 0, 0, 0);\n    this.gridRect = w.globals.dom.baseEl.querySelector(\".apexcharts-grid\");\n    this.constraints = new Box(0, 0, w.globals.gridWidth, w.globals.gridHeight);\n    this.zoomRect.node.classList.add(\"apexcharts-zoom-rect\");\n    this.selectionRect.node.classList.add(\"apexcharts-selection-rect\");\n    w.globals.dom.Paper.add(this.zoomRect);\n    w.globals.dom.Paper.add(this.selectionRect);\n    if (w.config.chart.selection.type === \"x\") {\n      this.slDraggableRect = this.selectionRect.draggable({\n        minX: 0,\n        minY: 0,\n        maxX: w.globals.gridWidth,\n        maxY: w.globals.gridHeight\n      }).on(\"dragmove.namespace\", this.selectionDragging.bind(this, \"dragging\"));\n    } else if (w.config.chart.selection.type === \"y\") {\n      this.slDraggableRect = this.selectionRect.draggable({\n        minX: 0,\n        maxX: w.globals.gridWidth\n      }).on(\"dragmove.namespace\", this.selectionDragging.bind(this, \"dragging\"));\n    } else {\n      this.slDraggableRect = this.selectionRect.draggable().on(\"dragmove.namespace\", this.selectionDragging.bind(this, \"dragging\"));\n    }\n    this.preselectedSelection();\n    this.hoverArea = w.globals.dom.baseEl.querySelector(\n      `${w.globals.chartClass} .apexcharts-svg`\n    );\n    this.hoverArea.classList.add(\"apexcharts-zoomable\");\n    this.eventList.forEach((event) => {\n      this.hoverArea.addEventListener(\n        event,\n        me.svgMouseEvents.bind(me, xyRatios),\n        {\n          capture: false,\n          passive: true\n        }\n      );\n    });\n    if (w.config.chart.zoom.enabled && w.config.chart.zoom.allowMouseWheelZoom) {\n      this.hoverArea.addEventListener(\"wheel\", me.mouseWheelEvent.bind(me), {\n        capture: false,\n        passive: false\n      });\n    }\n  }\n  // remove the event listeners which were previously added on hover area\n  destroy() {\n    if (this.slDraggableRect) {\n      this.slDraggableRect.draggable(false);\n      this.slDraggableRect.off();\n      this.selectionRect.off();\n    }\n    this.selectionRect = null;\n    this.zoomRect = null;\n    this.gridRect = null;\n  }\n  svgMouseEvents(xyRatios, e) {\n    let w = this.w;\n    const toolbar = this.ctx.toolbar;\n    let zoomtype = w.globals.zoomEnabled ? w.config.chart.zoom.type : w.config.chart.selection.type;\n    const autoSelected = w.config.chart.toolbar.autoSelected;\n    if (e.shiftKey) {\n      this.shiftWasPressed = true;\n      toolbar.enableZoomPanFromToolbar(autoSelected === \"pan\" ? \"zoom\" : \"pan\");\n    } else {\n      if (this.shiftWasPressed) {\n        toolbar.enableZoomPanFromToolbar(autoSelected);\n        this.shiftWasPressed = false;\n      }\n    }\n    if (!e.target) return;\n    const tc = e.target.classList;\n    let pc;\n    if (e.target.parentNode && e.target.parentNode !== null) {\n      pc = e.target.parentNode.classList;\n    }\n    const falsePositives = tc.contains(\"apexcharts-legend-marker\") || tc.contains(\"apexcharts-legend-text\") || pc && pc.contains(\"apexcharts-toolbar\");\n    if (falsePositives) return;\n    this.clientX = e.type === \"touchmove\" || e.type === \"touchstart\" ? e.touches[0].clientX : e.type === \"touchend\" ? e.changedTouches[0].clientX : e.clientX;\n    this.clientY = e.type === \"touchmove\" || e.type === \"touchstart\" ? e.touches[0].clientY : e.type === \"touchend\" ? e.changedTouches[0].clientY : e.clientY;\n    if (e.type === \"mousedown\" && e.which === 1 || e.type === \"touchstart\") {\n      let gridRectDim = this.gridRect.getBoundingClientRect();\n      this.startX = this.clientX - gridRectDim.left - w.globals.barPadForNumericAxis;\n      this.startY = this.clientY - gridRectDim.top;\n      this.dragged = false;\n      this.w.globals.mousedown = true;\n    }\n    if (e.type === \"mousemove\" && e.which === 1 || e.type === \"touchmove\") {\n      this.dragged = true;\n      if (w.globals.panEnabled) {\n        w.globals.selection = null;\n        if (this.w.globals.mousedown) {\n          this.panDragging({\n            context: this,\n            zoomtype,\n            xyRatios\n          });\n        }\n      } else {\n        if (this.w.globals.mousedown && w.globals.zoomEnabled || this.w.globals.mousedown && w.globals.selectionEnabled) {\n          this.selection = this.selectionDrawing({\n            context: this,\n            zoomtype\n          });\n        }\n      }\n    }\n    if (e.type === \"mouseup\" || e.type === \"touchend\" || e.type === \"mouseleave\") {\n      this.handleMouseUp({ zoomtype });\n    }\n    this.makeSelectionRectDraggable();\n  }\n  handleMouseUp({ zoomtype, isResized }) {\n    var _a;\n    const w = this.w;\n    let gridRectDim = (_a = this.gridRect) == null ? void 0 : _a.getBoundingClientRect();\n    if (gridRectDim && (this.w.globals.mousedown || isResized)) {\n      this.endX = this.clientX - gridRectDim.left - w.globals.barPadForNumericAxis;\n      this.endY = this.clientY - gridRectDim.top;\n      this.dragX = Math.abs(this.endX - this.startX);\n      this.dragY = Math.abs(this.endY - this.startY);\n      if (w.globals.zoomEnabled || w.globals.selectionEnabled) {\n        this.selectionDrawn({\n          context: this,\n          zoomtype\n        });\n      }\n    }\n    if (w.globals.zoomEnabled) {\n      this.hideSelectionRect(this.selectionRect);\n    }\n    this.dragged = false;\n    this.w.globals.mousedown = false;\n  }\n  mouseWheelEvent(e) {\n    const w = this.w;\n    e.preventDefault();\n    const now = Date.now();\n    if (now - w.globals.lastWheelExecution > this.wheelDelay) {\n      this.executeMouseWheelZoom(e);\n      w.globals.lastWheelExecution = now;\n    }\n    if (this.debounceTimer) clearTimeout(this.debounceTimer);\n    this.debounceTimer = setTimeout(() => {\n      if (now - w.globals.lastWheelExecution > this.wheelDelay) {\n        this.executeMouseWheelZoom(e);\n        w.globals.lastWheelExecution = now;\n      }\n    }, this.debounceDelay);\n  }\n  executeMouseWheelZoom(e) {\n    var _a;\n    const w = this.w;\n    this.minX = w.globals.isRangeBar ? w.globals.minY : w.globals.minX;\n    this.maxX = w.globals.isRangeBar ? w.globals.maxY : w.globals.maxX;\n    const gridRectDim = (_a = this.gridRect) == null ? void 0 : _a.getBoundingClientRect();\n    if (!gridRectDim) return;\n    const mouseX = (e.clientX - gridRectDim.left) / gridRectDim.width;\n    const currentMinX = this.minX;\n    const currentMaxX = this.maxX;\n    const totalX = currentMaxX - currentMinX;\n    const zoomFactorIn = 0.5;\n    const zoomFactorOut = 1.5;\n    let zoomRange;\n    let newMinX, newMaxX;\n    if (e.deltaY < 0) {\n      zoomRange = zoomFactorIn * totalX;\n      const midPoint = currentMinX + mouseX * totalX;\n      newMinX = midPoint - zoomRange / 2;\n      newMaxX = midPoint + zoomRange / 2;\n    } else {\n      zoomRange = zoomFactorOut * totalX;\n      newMinX = currentMinX - zoomRange / 2;\n      newMaxX = currentMaxX + zoomRange / 2;\n    }\n    if (!w.globals.isRangeBar) {\n      newMinX = Math.max(newMinX, w.globals.initialMinX);\n      newMaxX = Math.min(newMaxX, w.globals.initialMaxX);\n      const minRange = (w.globals.initialMaxX - w.globals.initialMinX) * 0.01;\n      if (newMaxX - newMinX < minRange) {\n        const midPoint = (newMinX + newMaxX) / 2;\n        newMinX = midPoint - minRange / 2;\n        newMaxX = midPoint + minRange / 2;\n      }\n    }\n    const newMinXMaxX = this._getNewMinXMaxX(newMinX, newMaxX);\n    if (!isNaN(newMinXMaxX.minX) && !isNaN(newMinXMaxX.maxX)) {\n      this.zoomUpdateOptions(newMinXMaxX.minX, newMinXMaxX.maxX);\n    }\n  }\n  makeSelectionRectDraggable() {\n    const w = this.w;\n    if (!this.selectionRect) return;\n    const rectDim = this.selectionRect.node.getBoundingClientRect();\n    if (rectDim.width > 0 && rectDim.height > 0) {\n      this.selectionRect.select(false).resize(false);\n      this.selectionRect.select({\n        createRot: () => {\n        },\n        updateRot: () => {\n        },\n        createHandle: (group, p, index, pointArr, handleName) => {\n          if (handleName === \"l\" || handleName === \"r\")\n            return group.circle(8).css({ \"stroke-width\": 1, stroke: \"#333\", fill: \"#fff\" });\n          return group.circle(0);\n        },\n        updateHandle: (group, p) => {\n          return group.center(p[0], p[1]);\n        }\n      }).resize().on(\"resize\", () => {\n        let zoomtype = w.globals.zoomEnabled ? w.config.chart.zoom.type : w.config.chart.selection.type;\n        this.handleMouseUp({ zoomtype, isResized: true });\n      });\n    }\n  }\n  preselectedSelection() {\n    const w = this.w;\n    const xyRatios = this.xyRatios;\n    if (!w.globals.zoomEnabled) {\n      if (typeof w.globals.selection !== \"undefined\" && w.globals.selection !== null) {\n        this.drawSelectionRect(__spreadProps(__spreadValues({}, w.globals.selection), {\n          translateX: w.globals.translateX,\n          translateY: w.globals.translateY\n        }));\n      } else {\n        if (w.config.chart.selection.xaxis.min !== void 0 && w.config.chart.selection.xaxis.max !== void 0) {\n          let x = (w.config.chart.selection.xaxis.min - w.globals.minX) / xyRatios.xRatio;\n          let width = w.globals.gridWidth - (w.globals.maxX - w.config.chart.selection.xaxis.max) / xyRatios.xRatio - x;\n          if (w.globals.isRangeBar) {\n            x = (w.config.chart.selection.xaxis.min - w.globals.yAxisScale[0].niceMin) / xyRatios.invertedYRatio;\n            width = (w.config.chart.selection.xaxis.max - w.config.chart.selection.xaxis.min) / xyRatios.invertedYRatio;\n          }\n          let selectionRect = {\n            x,\n            y: 0,\n            width,\n            height: w.globals.gridHeight,\n            translateX: w.globals.translateX,\n            translateY: w.globals.translateY,\n            selectionEnabled: true\n          };\n          this.drawSelectionRect(selectionRect);\n          this.makeSelectionRectDraggable();\n          if (typeof w.config.chart.events.selection === \"function\") {\n            w.config.chart.events.selection(this.ctx, {\n              xaxis: {\n                min: w.config.chart.selection.xaxis.min,\n                max: w.config.chart.selection.xaxis.max\n              },\n              yaxis: {}\n            });\n          }\n        }\n      }\n    }\n  }\n  drawSelectionRect({ x, y, width, height, translateX = 0, translateY = 0 }) {\n    const w = this.w;\n    const zoomRect = this.zoomRect;\n    const selectionRect = this.selectionRect;\n    if (this.dragged || w.globals.selection !== null) {\n      let scalingAttrs = {\n        transform: \"translate(\" + translateX + \", \" + translateY + \")\"\n      };\n      if (w.globals.zoomEnabled && this.dragged) {\n        if (width < 0) width = 1;\n        zoomRect.attr({\n          x,\n          y,\n          width,\n          height,\n          fill: w.config.chart.zoom.zoomedArea.fill.color,\n          \"fill-opacity\": w.config.chart.zoom.zoomedArea.fill.opacity,\n          stroke: w.config.chart.zoom.zoomedArea.stroke.color,\n          \"stroke-width\": w.config.chart.zoom.zoomedArea.stroke.width,\n          \"stroke-opacity\": w.config.chart.zoom.zoomedArea.stroke.opacity\n        });\n        Graphics.setAttrs(zoomRect.node, scalingAttrs);\n      }\n      if (w.globals.selectionEnabled) {\n        selectionRect.attr({\n          x,\n          y,\n          width: width > 0 ? width : 0,\n          height: height > 0 ? height : 0,\n          fill: w.config.chart.selection.fill.color,\n          \"fill-opacity\": w.config.chart.selection.fill.opacity,\n          stroke: w.config.chart.selection.stroke.color,\n          \"stroke-width\": w.config.chart.selection.stroke.width,\n          \"stroke-dasharray\": w.config.chart.selection.stroke.dashArray,\n          \"stroke-opacity\": w.config.chart.selection.stroke.opacity\n        });\n        Graphics.setAttrs(selectionRect.node, scalingAttrs);\n      }\n    }\n  }\n  hideSelectionRect(rect) {\n    if (rect) {\n      rect.attr({\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      });\n    }\n  }\n  selectionDrawing({ context, zoomtype }) {\n    const w = this.w;\n    let me = context;\n    let gridRectDim = this.gridRect.getBoundingClientRect();\n    let startX = me.startX - 1;\n    let startY = me.startY;\n    let inversedX = false;\n    let inversedY = false;\n    const left = me.clientX - gridRectDim.left - w.globals.barPadForNumericAxis;\n    const top = me.clientY - gridRectDim.top;\n    let selectionWidth = left - startX;\n    let selectionHeight = top - startY;\n    let selectionRect = {\n      translateX: w.globals.translateX,\n      translateY: w.globals.translateY\n    };\n    if (Math.abs(selectionWidth + startX) > w.globals.gridWidth) {\n      selectionWidth = w.globals.gridWidth - startX;\n    } else if (left < 0) {\n      selectionWidth = startX;\n    }\n    if (startX > left) {\n      inversedX = true;\n      selectionWidth = Math.abs(selectionWidth);\n    }\n    if (startY > top) {\n      inversedY = true;\n      selectionHeight = Math.abs(selectionHeight);\n    }\n    if (zoomtype === \"x\") {\n      selectionRect = {\n        x: inversedX ? startX - selectionWidth : startX,\n        y: 0,\n        width: selectionWidth,\n        height: w.globals.gridHeight\n      };\n    } else if (zoomtype === \"y\") {\n      selectionRect = {\n        x: 0,\n        y: inversedY ? startY - selectionHeight : startY,\n        width: w.globals.gridWidth,\n        height: selectionHeight\n      };\n    } else {\n      selectionRect = {\n        x: inversedX ? startX - selectionWidth : startX,\n        y: inversedY ? startY - selectionHeight : startY,\n        width: selectionWidth,\n        height: selectionHeight\n      };\n    }\n    selectionRect = __spreadProps(__spreadValues({}, selectionRect), {\n      translateX: w.globals.translateX,\n      translateY: w.globals.translateY\n    });\n    me.drawSelectionRect(selectionRect);\n    me.selectionDragging(\"resizing\");\n    return selectionRect;\n  }\n  selectionDragging(type, e) {\n    const w = this.w;\n    if (!e) return;\n    e.preventDefault();\n    const { handler, box } = e.detail;\n    let { x, y } = box;\n    if (x < this.constraints.x) {\n      x = this.constraints.x;\n    }\n    if (y < this.constraints.y) {\n      y = this.constraints.y;\n    }\n    if (box.x2 > this.constraints.x2) {\n      x = this.constraints.x2 - box.w;\n    }\n    if (box.y2 > this.constraints.y2) {\n      y = this.constraints.y2 - box.h;\n    }\n    handler.move(x, y);\n    const xyRatios = this.xyRatios;\n    const selRect = this.selectionRect;\n    let timerInterval = 0;\n    if (type === \"resizing\") {\n      timerInterval = 30;\n    }\n    const getSelAttr = (attr) => {\n      return parseFloat(selRect.node.getAttribute(attr));\n    };\n    const draggedProps = {\n      x: getSelAttr(\"x\"),\n      y: getSelAttr(\"y\"),\n      width: getSelAttr(\"width\"),\n      height: getSelAttr(\"height\")\n    };\n    w.globals.selection = draggedProps;\n    if (typeof w.config.chart.events.selection === \"function\" && w.globals.selectionEnabled) {\n      clearTimeout(this.w.globals.selectionResizeTimer);\n      this.w.globals.selectionResizeTimer = window.setTimeout(() => {\n        const gridRectDim = this.gridRect.getBoundingClientRect();\n        const selectionRect = selRect.node.getBoundingClientRect();\n        let minX, maxX, minY, maxY;\n        if (!w.globals.isRangeBar) {\n          minX = w.globals.xAxisScale.niceMin + (selectionRect.left - gridRectDim.left) * xyRatios.xRatio;\n          maxX = w.globals.xAxisScale.niceMin + (selectionRect.right - gridRectDim.left) * xyRatios.xRatio;\n          minY = w.globals.yAxisScale[0].niceMin + (gridRectDim.bottom - selectionRect.bottom) * xyRatios.yRatio[0];\n          maxY = w.globals.yAxisScale[0].niceMax - (selectionRect.top - gridRectDim.top) * xyRatios.yRatio[0];\n        } else {\n          minX = w.globals.yAxisScale[0].niceMin + (selectionRect.left - gridRectDim.left) * xyRatios.invertedYRatio;\n          maxX = w.globals.yAxisScale[0].niceMin + (selectionRect.right - gridRectDim.left) * xyRatios.invertedYRatio;\n          minY = 0;\n          maxY = 1;\n        }\n        const xyAxis = {\n          xaxis: {\n            min: minX,\n            max: maxX\n          },\n          yaxis: {\n            min: minY,\n            max: maxY\n          }\n        };\n        w.config.chart.events.selection(this.ctx, xyAxis);\n        if (w.config.chart.brush.enabled && w.config.chart.events.brushScrolled !== void 0) {\n          w.config.chart.events.brushScrolled(this.ctx, xyAxis);\n        }\n      }, timerInterval);\n    }\n  }\n  selectionDrawn({ context, zoomtype }) {\n    const w = this.w;\n    const me = context;\n    const xyRatios = this.xyRatios;\n    const toolbar = this.ctx.toolbar;\n    const selRect = w.globals.zoomEnabled ? me.zoomRect.node.getBoundingClientRect() : me.selectionRect.node.getBoundingClientRect();\n    const gridRectDim = me.gridRect.getBoundingClientRect();\n    const localStartX = selRect.left - gridRectDim.left - w.globals.barPadForNumericAxis;\n    const localEndX = selRect.right - gridRectDim.left - w.globals.barPadForNumericAxis;\n    const localStartY = selRect.top - gridRectDim.top;\n    const localEndY = selRect.bottom - gridRectDim.top;\n    let xLowestValue, xHighestValue;\n    if (!w.globals.isRangeBar) {\n      xLowestValue = w.globals.xAxisScale.niceMin + localStartX * xyRatios.xRatio;\n      xHighestValue = w.globals.xAxisScale.niceMin + localEndX * xyRatios.xRatio;\n    } else {\n      xLowestValue = w.globals.yAxisScale[0].niceMin + localStartX * xyRatios.invertedYRatio;\n      xHighestValue = w.globals.yAxisScale[0].niceMin + localEndX * xyRatios.invertedYRatio;\n    }\n    let yHighestValue = [];\n    let yLowestValue = [];\n    w.config.yaxis.forEach((yaxe, index) => {\n      let seriesIndex = w.globals.seriesYAxisMap[index][0];\n      let highestVal = w.globals.yAxisScale[index].niceMax - xyRatios.yRatio[seriesIndex] * localStartY;\n      let lowestVal = w.globals.yAxisScale[index].niceMax - xyRatios.yRatio[seriesIndex] * localEndY;\n      yHighestValue.push(highestVal);\n      yLowestValue.push(lowestVal);\n    });\n    if (me.dragged && (me.dragX > 10 || me.dragY > 10) && xLowestValue !== xHighestValue) {\n      if (w.globals.zoomEnabled) {\n        let yaxis = Utils$1.clone(w.globals.initialConfig.yaxis);\n        let xaxis = Utils$1.clone(w.globals.initialConfig.xaxis);\n        w.globals.zoomed = true;\n        if (w.config.xaxis.convertedCatToNumeric) {\n          xLowestValue = Math.floor(xLowestValue);\n          xHighestValue = Math.floor(xHighestValue);\n          if (xLowestValue < 1) {\n            xLowestValue = 1;\n            xHighestValue = w.globals.dataPoints;\n          }\n          if (xHighestValue - xLowestValue < 2) {\n            xHighestValue = xLowestValue + 1;\n          }\n        }\n        if (zoomtype === \"xy\" || zoomtype === \"x\") {\n          xaxis = {\n            min: xLowestValue,\n            max: xHighestValue\n          };\n        }\n        if (zoomtype === \"xy\" || zoomtype === \"y\") {\n          yaxis.forEach((yaxe, index) => {\n            yaxis[index].min = yLowestValue[index];\n            yaxis[index].max = yHighestValue[index];\n          });\n        }\n        if (toolbar) {\n          let beforeZoomRange = toolbar.getBeforeZoomRange(xaxis, yaxis);\n          if (beforeZoomRange) {\n            xaxis = beforeZoomRange.xaxis ? beforeZoomRange.xaxis : xaxis;\n            yaxis = beforeZoomRange.yaxis ? beforeZoomRange.yaxis : yaxis;\n          }\n        }\n        let options2 = {\n          xaxis\n        };\n        if (!w.config.chart.group) {\n          options2.yaxis = yaxis;\n        }\n        me.ctx.updateHelpers._updateOptions(\n          options2,\n          false,\n          me.w.config.chart.animations.dynamicAnimation.enabled\n        );\n        if (typeof w.config.chart.events.zoomed === \"function\") {\n          toolbar.zoomCallback(xaxis, yaxis);\n        }\n      } else if (w.globals.selectionEnabled) {\n        let yaxis = null;\n        let xaxis = null;\n        xaxis = {\n          min: xLowestValue,\n          max: xHighestValue\n        };\n        if (zoomtype === \"xy\" || zoomtype === \"y\") {\n          yaxis = Utils$1.clone(w.config.yaxis);\n          yaxis.forEach((yaxe, index) => {\n            yaxis[index].min = yLowestValue[index];\n            yaxis[index].max = yHighestValue[index];\n          });\n        }\n        w.globals.selection = me.selection;\n        if (typeof w.config.chart.events.selection === \"function\") {\n          w.config.chart.events.selection(me.ctx, {\n            xaxis,\n            yaxis\n          });\n        }\n      }\n    }\n  }\n  panDragging({ context }) {\n    const w = this.w;\n    let me = context;\n    if (typeof w.globals.lastClientPosition.x !== \"undefined\") {\n      const deltaX = w.globals.lastClientPosition.x - me.clientX;\n      const deltaY = w.globals.lastClientPosition.y - me.clientY;\n      if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX > 0) {\n        this.moveDirection = \"left\";\n      } else if (Math.abs(deltaX) > Math.abs(deltaY) && deltaX < 0) {\n        this.moveDirection = \"right\";\n      } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY > 0) {\n        this.moveDirection = \"up\";\n      } else if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < 0) {\n        this.moveDirection = \"down\";\n      }\n    }\n    w.globals.lastClientPosition = {\n      x: me.clientX,\n      y: me.clientY\n    };\n    let xLowestValue = w.globals.isRangeBar ? w.globals.minY : w.globals.minX;\n    let xHighestValue = w.globals.isRangeBar ? w.globals.maxY : w.globals.maxX;\n    me.panScrolled(xLowestValue, xHighestValue);\n  }\n  // delayedPanScrolled() {\n  //   const w = this.w\n  //   let newMinX = w.globals.minX\n  //   let newMaxX = w.globals.maxX\n  //   const centerX = (w.globals.maxX - w.globals.minX) / 2\n  //   if (this.moveDirection === 'left') {\n  //     newMinX = w.globals.minX + centerX\n  //     newMaxX = w.globals.maxX + centerX\n  //   } else if (this.moveDirection === 'right') {\n  //     newMinX = w.globals.minX - centerX\n  //     newMaxX = w.globals.maxX - centerX\n  //   }\n  //   newMinX = Math.floor(newMinX)\n  //   newMaxX = Math.floor(newMaxX)\n  //   this.updateScrolledChart(\n  //     { xaxis: { min: newMinX, max: newMaxX } },\n  //     newMinX,\n  //     newMaxX\n  //   )\n  // }\n  panScrolled(xLowestValue, xHighestValue) {\n    const w = this.w;\n    const xyRatios = this.xyRatios;\n    let yaxis = Utils$1.clone(w.globals.initialConfig.yaxis);\n    let xRatio = xyRatios.xRatio;\n    let minX = w.globals.minX;\n    let maxX = w.globals.maxX;\n    if (w.globals.isRangeBar) {\n      xRatio = xyRatios.invertedYRatio;\n      minX = w.globals.minY;\n      maxX = w.globals.maxY;\n    }\n    if (this.moveDirection === \"left\") {\n      xLowestValue = minX + w.globals.gridWidth / 15 * xRatio;\n      xHighestValue = maxX + w.globals.gridWidth / 15 * xRatio;\n    } else if (this.moveDirection === \"right\") {\n      xLowestValue = minX - w.globals.gridWidth / 15 * xRatio;\n      xHighestValue = maxX - w.globals.gridWidth / 15 * xRatio;\n    }\n    if (!w.globals.isRangeBar) {\n      if (xLowestValue < w.globals.initialMinX || xHighestValue > w.globals.initialMaxX) {\n        xLowestValue = minX;\n        xHighestValue = maxX;\n      }\n    }\n    let xaxis = {\n      min: xLowestValue,\n      max: xHighestValue\n    };\n    let options2 = {\n      xaxis\n    };\n    if (!w.config.chart.group) {\n      options2.yaxis = yaxis;\n    }\n    this.updateScrolledChart(options2, xLowestValue, xHighestValue);\n  }\n  updateScrolledChart(options2, xLowestValue, xHighestValue) {\n    const w = this.w;\n    this.ctx.updateHelpers._updateOptions(options2, false, false);\n    if (typeof w.config.chart.events.scrolled === \"function\") {\n      const args = {\n        xaxis: {\n          min: xLowestValue,\n          max: xHighestValue\n        }\n      };\n      w.config.chart.events.scrolled(this.ctx, args);\n      this.ctx.events.fireEvent(\"scrolled\", args);\n    }\n  }\n}\nclass Utils2 {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ttCtx = tooltipContext;\n    this.ctx = tooltipContext.ctx;\n  }\n  /**\n   ** When hovering over series, you need to capture which series is being hovered on.\n   ** This function will return both capturedseries index as well as inner index of that series\n   * @memberof Utils\n   * @param {object}\n   * - hoverArea = the rect on which user hovers\n   * - elGrid = dimensions of the hover rect (it can be different than hoverarea)\n   */\n  getNearestValues({ hoverArea, elGrid, clientX, clientY }) {\n    let w = this.w;\n    const seriesBound = elGrid.getBoundingClientRect();\n    const hoverWidth = seriesBound.width;\n    const hoverHeight = seriesBound.height;\n    let xDivisor = hoverWidth / (w.globals.dataPoints - 1);\n    let yDivisor = hoverHeight / w.globals.dataPoints;\n    const hasBars = this.hasBars();\n    if ((w.globals.comboCharts || hasBars) && !w.config.xaxis.convertedCatToNumeric) {\n      xDivisor = hoverWidth / w.globals.dataPoints;\n    }\n    let hoverX = clientX - seriesBound.left - w.globals.barPadForNumericAxis;\n    let hoverY = clientY - seriesBound.top;\n    const notInRect = hoverX < 0 || hoverY < 0 || hoverX > hoverWidth || hoverY > hoverHeight;\n    if (notInRect) {\n      hoverArea.classList.remove(\"hovering-zoom\");\n      hoverArea.classList.remove(\"hovering-pan\");\n    } else {\n      if (w.globals.zoomEnabled) {\n        hoverArea.classList.remove(\"hovering-pan\");\n        hoverArea.classList.add(\"hovering-zoom\");\n      } else if (w.globals.panEnabled) {\n        hoverArea.classList.remove(\"hovering-zoom\");\n        hoverArea.classList.add(\"hovering-pan\");\n      }\n    }\n    let j = Math.round(hoverX / xDivisor);\n    let jHorz = Math.floor(hoverY / yDivisor);\n    if (hasBars && !w.config.xaxis.convertedCatToNumeric) {\n      j = Math.ceil(hoverX / xDivisor);\n      j = j - 1;\n    }\n    let capturedSeries = null;\n    let closest = null;\n    let seriesXValArr = w.globals.seriesXvalues.map((seriesXVal) => {\n      return seriesXVal.filter((s) => Utils$1.isNumber(s));\n    });\n    let seriesYValArr = w.globals.seriesYvalues.map((seriesYVal) => {\n      return seriesYVal.filter((s) => Utils$1.isNumber(s));\n    });\n    if (w.globals.isXNumeric) {\n      const chartGridEl = this.ttCtx.getElGrid();\n      const chartGridElBoundingRect = chartGridEl.getBoundingClientRect();\n      const transformedHoverX = hoverX * (chartGridElBoundingRect.width / hoverWidth);\n      const transformedHoverY = hoverY * (chartGridElBoundingRect.height / hoverHeight);\n      closest = this.closestInMultiArray(\n        transformedHoverX,\n        transformedHoverY,\n        seriesXValArr,\n        seriesYValArr\n      );\n      capturedSeries = closest.index;\n      j = closest.j;\n      if (capturedSeries !== null && w.globals.hasNullValues) {\n        seriesXValArr = w.globals.seriesXvalues[capturedSeries];\n        closest = this.closestInArray(transformedHoverX, seriesXValArr);\n        j = closest.j;\n      }\n    }\n    w.globals.capturedSeriesIndex = capturedSeries === null ? -1 : capturedSeries;\n    if (!j || j < 1) j = 0;\n    if (w.globals.isBarHorizontal) {\n      w.globals.capturedDataPointIndex = jHorz;\n    } else {\n      w.globals.capturedDataPointIndex = j;\n    }\n    return {\n      capturedSeries,\n      j: w.globals.isBarHorizontal ? jHorz : j,\n      hoverX,\n      hoverY\n    };\n  }\n  getFirstActiveXArray(Xarrays) {\n    const w = this.w;\n    let activeIndex = 0;\n    let firstActiveSeriesIndex = Xarrays.map((xarr, index) => {\n      return xarr.length > 0 ? index : -1;\n    });\n    for (let a = 0; a < firstActiveSeriesIndex.length; a++) {\n      if (firstActiveSeriesIndex[a] !== -1 && w.globals.collapsedSeriesIndices.indexOf(a) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(a) === -1) {\n        activeIndex = firstActiveSeriesIndex[a];\n        break;\n      }\n    }\n    return activeIndex;\n  }\n  closestInMultiArray(hoverX, hoverY, Xarrays, Yarrays) {\n    const w = this.w;\n    const isActiveSeries = (seriesIndex) => {\n      return w.globals.collapsedSeriesIndices.indexOf(seriesIndex) === -1 && w.globals.ancillaryCollapsedSeriesIndices.indexOf(seriesIndex) === -1;\n    };\n    let closestDist = Infinity;\n    let closestSeriesIndex = null;\n    let closestPointIndex = null;\n    for (let i = 0; i < Xarrays.length; i++) {\n      if (!isActiveSeries(i)) {\n        continue;\n      }\n      const xArr = Xarrays[i];\n      const yArr = Yarrays[i];\n      const len = Math.min(xArr.length, yArr.length);\n      for (let j = 0; j < len; j++) {\n        const xVal = xArr[j];\n        const distX = hoverX - xVal;\n        let dist = Math.sqrt(distX * distX);\n        if (!w.globals.allSeriesHasEqualX) {\n          const yVal = yArr[j];\n          const distY = hoverY - yVal;\n          dist = Math.sqrt(distX * distX + distY * distY);\n        }\n        if (dist < closestDist) {\n          closestDist = dist;\n          closestSeriesIndex = i;\n          closestPointIndex = j;\n        }\n      }\n    }\n    return {\n      index: closestSeriesIndex,\n      j: closestPointIndex\n    };\n  }\n  closestInArray(val, arr) {\n    let curr = arr[0];\n    let currIndex = null;\n    let diff = Math.abs(val - curr);\n    for (let i = 0; i < arr.length; i++) {\n      let newdiff = Math.abs(val - arr[i]);\n      if (newdiff < diff) {\n        diff = newdiff;\n        currIndex = i;\n      }\n    }\n    return {\n      j: currIndex\n    };\n  }\n  /**\n   * When there are multiple series, it is possible to have different x values for each series.\n   * But it may be possible in those multiple series, that there is same x value for 2 or more\n   * series.\n   * @memberof Utils\n   * @param {int}\n   * - j = is the inner index of series -> (series[i][j])\n   * @return {bool}\n   */\n  isXoverlap(j) {\n    let w = this.w;\n    let xSameForAllSeriesJArr = [];\n    const seriesX = w.globals.seriesX.filter((s) => typeof s[0] !== \"undefined\");\n    if (seriesX.length > 0) {\n      for (let i = 0; i < seriesX.length - 1; i++) {\n        if (typeof seriesX[i][j] !== \"undefined\" && typeof seriesX[i + 1][j] !== \"undefined\") {\n          if (seriesX[i][j] !== seriesX[i + 1][j]) {\n            xSameForAllSeriesJArr.push(\"unEqual\");\n          }\n        }\n      }\n    }\n    if (xSameForAllSeriesJArr.length === 0) {\n      return true;\n    }\n    return false;\n  }\n  isInitialSeriesSameLen() {\n    var _a;\n    let sameLen = true;\n    const initialSeries = ((_a = this.w.globals.initialSeries) == null ? void 0 : _a.filter(\n      (s, i) => {\n        var _a2;\n        return !((_a2 = this.w.globals.collapsedSeriesIndices) == null ? void 0 : _a2.includes(i));\n      }\n    )) || [];\n    for (let i = 0; i < initialSeries.length - 1; i++) {\n      if (initialSeries[i].data.length !== initialSeries[i + 1].data.length) {\n        sameLen = false;\n        break;\n      }\n    }\n    return sameLen;\n  }\n  getBarsHeight(allbars) {\n    let bars = [...allbars];\n    const totalHeight = bars.reduce((acc, bar) => acc + bar.getBBox().height, 0);\n    return totalHeight;\n  }\n  getElMarkers(capturedSeries) {\n    if (typeof capturedSeries == \"number\") {\n      return this.w.globals.dom.baseEl.querySelectorAll(\n        `.apexcharts-series[data\\\\:realIndex='${capturedSeries}'] .apexcharts-series-markers-wrap > *`\n      );\n    }\n    return this.w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-series-markers-wrap > *\"\n    );\n  }\n  getAllMarkers(filterCollapsed = false) {\n    let markersWraps = this.w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-series-markers-wrap\"\n    );\n    markersWraps = [...markersWraps];\n    if (filterCollapsed) {\n      markersWraps = markersWraps.filter((m) => {\n        const realIndex = Number(m.getAttribute(\"data:realIndex\"));\n        return this.w.globals.collapsedSeriesIndices.indexOf(realIndex) === -1;\n      });\n    }\n    markersWraps.sort((a, b) => {\n      var indexA = Number(a.getAttribute(\"data:realIndex\"));\n      var indexB = Number(b.getAttribute(\"data:realIndex\"));\n      return indexB < indexA ? 1 : indexB > indexA ? -1 : 0;\n    });\n    let markers = [];\n    markersWraps.forEach((m) => {\n      markers.push(m.querySelector(\".apexcharts-marker\"));\n    });\n    return markers;\n  }\n  hasMarkers(capturedSeries) {\n    const markers = this.getElMarkers(capturedSeries);\n    return markers.length > 0;\n  }\n  getPathFromPoint(point, size) {\n    let cx = Number(point.getAttribute(\"cx\"));\n    let cy = Number(point.getAttribute(\"cy\"));\n    let shape = point.getAttribute(\"shape\");\n    return new Graphics(this.ctx).getMarkerPath(cx, cy, shape, size);\n  }\n  getElBars() {\n    return this.w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series\"\n    );\n  }\n  hasBars() {\n    const bars = this.getElBars();\n    return bars.length > 0;\n  }\n  getHoverMarkerSize(index) {\n    const w = this.w;\n    let hoverSize = w.config.markers.hover.size;\n    if (hoverSize === void 0) {\n      hoverSize = w.globals.markers.size[index] + w.config.markers.hover.sizeOffset;\n    }\n    return hoverSize;\n  }\n  toggleAllTooltipSeriesGroups(state) {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    if (ttCtx.allTooltipSeriesGroups.length === 0) {\n      ttCtx.allTooltipSeriesGroups = w.globals.dom.baseEl.querySelectorAll(\n        \".apexcharts-tooltip-series-group\"\n      );\n    }\n    let allTooltipSeriesGroups = ttCtx.allTooltipSeriesGroups;\n    for (let i = 0; i < allTooltipSeriesGroups.length; i++) {\n      if (state === \"enable\") {\n        allTooltipSeriesGroups[i].classList.add(\"apexcharts-active\");\n        allTooltipSeriesGroups[i].style.display = w.config.tooltip.items.display;\n      } else {\n        allTooltipSeriesGroups[i].classList.remove(\"apexcharts-active\");\n        allTooltipSeriesGroups[i].style.display = \"none\";\n      }\n    }\n  }\n}\nclass Labels {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ctx = tooltipContext.ctx;\n    this.ttCtx = tooltipContext;\n    this.tooltipUtil = new Utils2(tooltipContext);\n  }\n  drawSeriesTexts({ shared = true, ttItems, i = 0, j = null, y1, y2, e }) {\n    let w = this.w;\n    if (w.config.tooltip.custom !== void 0) {\n      this.handleCustomTooltip({ i, j, y1, y2, w });\n    } else {\n      this.toggleActiveInactiveSeries(shared, i);\n    }\n    let values = this.getValuesToPrint({\n      i,\n      j\n    });\n    this.printLabels({\n      i,\n      j,\n      values,\n      ttItems,\n      shared,\n      e\n    });\n    const tooltipEl = this.ttCtx.getElTooltip();\n    this.ttCtx.tooltipRect.ttWidth = tooltipEl.getBoundingClientRect().width;\n    this.ttCtx.tooltipRect.ttHeight = tooltipEl.getBoundingClientRect().height;\n  }\n  printLabels({ i, j, values, ttItems, shared, e }) {\n    var _a;\n    const w = this.w;\n    let val;\n    let goalVals = [];\n    const hasGoalValues = (gi) => {\n      return w.globals.seriesGoals[gi] && w.globals.seriesGoals[gi][j] && Array.isArray(w.globals.seriesGoals[gi][j]);\n    };\n    const { xVal, zVal, xAxisTTVal } = values;\n    let seriesName = \"\";\n    let pColor = w.globals.colors[i];\n    if (j !== null && w.config.plotOptions.bar.distributed) {\n      pColor = w.globals.colors[j];\n    }\n    for (let t = 0, inverset = w.globals.series.length - 1; t < w.globals.series.length; t++, inverset--) {\n      let f = this.getFormatters(i);\n      seriesName = this.getSeriesName({\n        fn: f.yLbTitleFormatter,\n        index: i,\n        seriesIndex: i,\n        j\n      });\n      if (w.config.chart.type === \"treemap\") {\n        seriesName = f.yLbTitleFormatter(String(w.config.series[i].data[j].x), {\n          series: w.globals.series,\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        });\n      }\n      const tIndex = w.config.tooltip.inverseOrder ? inverset : t;\n      if (w.globals.axisCharts) {\n        const getValBySeriesIndex = (index) => {\n          var _a2, _b, _c, _d;\n          if (w.globals.isRangeData) {\n            return f.yLbFormatter((_b = (_a2 = w.globals.seriesRangeStart) == null ? void 0 : _a2[index]) == null ? void 0 : _b[j], {\n              series: w.globals.seriesRangeStart,\n              seriesIndex: index,\n              dataPointIndex: j,\n              w\n            }) + \" - \" + f.yLbFormatter((_d = (_c = w.globals.seriesRangeEnd) == null ? void 0 : _c[index]) == null ? void 0 : _d[j], {\n              series: w.globals.seriesRangeEnd,\n              seriesIndex: index,\n              dataPointIndex: j,\n              w\n            });\n          }\n          return f.yLbFormatter(w.globals.series[index][j], {\n            series: w.globals.series,\n            seriesIndex: index,\n            dataPointIndex: j,\n            w\n          });\n        };\n        if (shared) {\n          f = this.getFormatters(tIndex);\n          seriesName = this.getSeriesName({\n            fn: f.yLbTitleFormatter,\n            index: tIndex,\n            seriesIndex: i,\n            j\n          });\n          pColor = w.globals.colors[tIndex];\n          val = getValBySeriesIndex(tIndex);\n          if (hasGoalValues(tIndex)) {\n            goalVals = w.globals.seriesGoals[tIndex][j].map((goal) => {\n              return {\n                attrs: goal,\n                val: f.yLbFormatter(goal.value, {\n                  seriesIndex: tIndex,\n                  dataPointIndex: j,\n                  w\n                })\n              };\n            });\n          }\n        } else {\n          const targetFill = (_a = e == null ? void 0 : e.target) == null ? void 0 : _a.getAttribute(\"fill\");\n          if (targetFill) {\n            if (targetFill.indexOf(\"url\") !== -1) {\n              if (targetFill.indexOf(\"Pattern\") !== -1) {\n                pColor = w.globals.dom.baseEl.querySelector(targetFill.substr(4).slice(0, -1)).childNodes[0].getAttribute(\"stroke\");\n              }\n            } else {\n              pColor = targetFill;\n            }\n          }\n          val = getValBySeriesIndex(i);\n          if (hasGoalValues(i) && Array.isArray(w.globals.seriesGoals[i][j])) {\n            goalVals = w.globals.seriesGoals[i][j].map((goal) => {\n              return {\n                attrs: goal,\n                val: f.yLbFormatter(goal.value, {\n                  seriesIndex: i,\n                  dataPointIndex: j,\n                  w\n                })\n              };\n            });\n          }\n        }\n      }\n      if (j === null) {\n        val = f.yLbFormatter(w.globals.series[i], __spreadProps(__spreadValues({}, w), {\n          seriesIndex: i,\n          dataPointIndex: i\n        }));\n      }\n      this.DOMHandling({\n        i,\n        t: tIndex,\n        j,\n        ttItems,\n        values: {\n          val,\n          goalVals,\n          xVal,\n          xAxisTTVal,\n          zVal\n        },\n        seriesName,\n        shared,\n        pColor\n      });\n    }\n  }\n  getFormatters(i) {\n    const w = this.w;\n    let yLbFormatter = w.globals.yLabelFormatters[i];\n    let yLbTitleFormatter;\n    if (w.globals.ttVal !== void 0) {\n      if (Array.isArray(w.globals.ttVal)) {\n        yLbFormatter = w.globals.ttVal[i] && w.globals.ttVal[i].formatter;\n        yLbTitleFormatter = w.globals.ttVal[i] && w.globals.ttVal[i].title && w.globals.ttVal[i].title.formatter;\n      } else {\n        yLbFormatter = w.globals.ttVal.formatter;\n        if (typeof w.globals.ttVal.title.formatter === \"function\") {\n          yLbTitleFormatter = w.globals.ttVal.title.formatter;\n        }\n      }\n    } else {\n      yLbTitleFormatter = w.config.tooltip.y.title.formatter;\n    }\n    if (typeof yLbFormatter !== \"function\") {\n      if (w.globals.yLabelFormatters[0]) {\n        yLbFormatter = w.globals.yLabelFormatters[0];\n      } else {\n        yLbFormatter = function(label) {\n          return label;\n        };\n      }\n    }\n    if (typeof yLbTitleFormatter !== \"function\") {\n      yLbTitleFormatter = function(label) {\n        return label ? label + \": \" : \"\";\n      };\n    }\n    return {\n      yLbFormatter,\n      yLbTitleFormatter\n    };\n  }\n  getSeriesName({ fn, index, seriesIndex, j }) {\n    const w = this.w;\n    return fn(String(w.globals.seriesNames[index]), {\n      series: w.globals.series,\n      seriesIndex,\n      dataPointIndex: j,\n      w\n    });\n  }\n  DOMHandling({ t, j, ttItems, values, seriesName, shared, pColor }) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    const { val, goalVals, xVal, xAxisTTVal, zVal } = values;\n    let ttItemsChildren = null;\n    ttItemsChildren = ttItems[t].children;\n    if (w.config.tooltip.fillSeriesColor) {\n      ttItems[t].style.backgroundColor = pColor;\n      ttItemsChildren[0].style.display = \"none\";\n    }\n    if (ttCtx.showTooltipTitle) {\n      if (ttCtx.tooltipTitle === null) {\n        ttCtx.tooltipTitle = w.globals.dom.baseEl.querySelector(\n          \".apexcharts-tooltip-title\"\n        );\n      }\n      ttCtx.tooltipTitle.innerHTML = xVal;\n    }\n    if (ttCtx.isXAxisTooltipEnabled) {\n      ttCtx.xaxisTooltipText.innerHTML = xAxisTTVal !== \"\" ? xAxisTTVal : xVal;\n    }\n    const ttYLabel = ttItems[t].querySelector(\n      \".apexcharts-tooltip-text-y-label\"\n    );\n    if (ttYLabel) {\n      ttYLabel.innerHTML = seriesName ? seriesName : \"\";\n    }\n    const ttYVal = ttItems[t].querySelector(\".apexcharts-tooltip-text-y-value\");\n    if (ttYVal) {\n      ttYVal.innerHTML = typeof val !== \"undefined\" ? val : \"\";\n    }\n    if (ttItemsChildren[0] && ttItemsChildren[0].classList.contains(\"apexcharts-tooltip-marker\")) {\n      if (w.config.tooltip.marker.fillColors && Array.isArray(w.config.tooltip.marker.fillColors)) {\n        pColor = w.config.tooltip.marker.fillColors[t];\n      }\n      if (w.config.tooltip.fillSeriesColor) {\n        ttItemsChildren[0].style.backgroundColor = pColor;\n      } else {\n        ttItemsChildren[0].style.color = pColor;\n      }\n    }\n    if (!w.config.tooltip.marker.show) {\n      ttItemsChildren[0].style.display = \"none\";\n    }\n    const ttGLabel = ttItems[t].querySelector(\n      \".apexcharts-tooltip-text-goals-label\"\n    );\n    const ttGVal = ttItems[t].querySelector(\n      \".apexcharts-tooltip-text-goals-value\"\n    );\n    if (goalVals.length && w.globals.seriesGoals[t]) {\n      const createGoalsHtml = () => {\n        let gLabels = \"<div>\";\n        let gVals = \"<div>\";\n        goalVals.forEach((goal) => {\n          gLabels += ` <div style=\"display: flex\"><span class=\"apexcharts-tooltip-marker\" style=\"background-color: ${goal.attrs.strokeColor}; height: 3px; border-radius: 0; top: 5px;\"></span> ${goal.attrs.name}</div>`;\n          gVals += `<div>${goal.val}</div>`;\n        });\n        ttGLabel.innerHTML = gLabels + `</div>`;\n        ttGVal.innerHTML = gVals + `</div>`;\n      };\n      if (shared) {\n        if (w.globals.seriesGoals[t][j] && Array.isArray(w.globals.seriesGoals[t][j])) {\n          createGoalsHtml();\n        } else {\n          ttGLabel.innerHTML = \"\";\n          ttGVal.innerHTML = \"\";\n        }\n      } else {\n        createGoalsHtml();\n      }\n    } else {\n      ttGLabel.innerHTML = \"\";\n      ttGVal.innerHTML = \"\";\n    }\n    if (zVal !== null) {\n      const ttZLabel = ttItems[t].querySelector(\n        \".apexcharts-tooltip-text-z-label\"\n      );\n      ttZLabel.innerHTML = w.config.tooltip.z.title;\n      const ttZVal = ttItems[t].querySelector(\n        \".apexcharts-tooltip-text-z-value\"\n      );\n      ttZVal.innerHTML = typeof zVal !== \"undefined\" ? zVal : \"\";\n    }\n    if (shared && ttItemsChildren[0]) {\n      if (w.config.tooltip.hideEmptySeries) {\n        let ttItemMarker = ttItems[t].querySelector(\n          \".apexcharts-tooltip-marker\"\n        );\n        let ttItemText = ttItems[t].querySelector(\".apexcharts-tooltip-text\");\n        if (parseFloat(val) == 0) {\n          ttItemMarker.style.display = \"none\";\n          ttItemText.style.display = \"none\";\n        } else {\n          ttItemMarker.style.display = \"block\";\n          ttItemText.style.display = \"block\";\n        }\n      }\n      if (typeof val === \"undefined\" || val === null || w.globals.ancillaryCollapsedSeriesIndices.indexOf(t) > -1 || w.globals.collapsedSeriesIndices.indexOf(t) > -1 || Array.isArray(ttCtx.tConfig.enabledOnSeries) && ttCtx.tConfig.enabledOnSeries.indexOf(t) === -1) {\n        ttItemsChildren[0].parentNode.style.display = \"none\";\n      } else {\n        ttItemsChildren[0].parentNode.style.display = w.config.tooltip.items.display;\n      }\n    } else {\n      if (Array.isArray(ttCtx.tConfig.enabledOnSeries) && ttCtx.tConfig.enabledOnSeries.indexOf(t) === -1) {\n        ttItemsChildren[0].parentNode.style.display = \"none\";\n      }\n    }\n  }\n  toggleActiveInactiveSeries(shared, i) {\n    const w = this.w;\n    if (shared) {\n      this.tooltipUtil.toggleAllTooltipSeriesGroups(\"enable\");\n    } else {\n      this.tooltipUtil.toggleAllTooltipSeriesGroups(\"disable\");\n      let firstTooltipSeriesGroup = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-tooltip-series-group-${i}`\n      );\n      if (firstTooltipSeriesGroup) {\n        firstTooltipSeriesGroup.classList.add(\"apexcharts-active\");\n        firstTooltipSeriesGroup.style.display = w.config.tooltip.items.display;\n      }\n    }\n  }\n  getValuesToPrint({ i, j }) {\n    const w = this.w;\n    const filteredSeriesX = this.ctx.series.filteredSeriesX();\n    let xVal = \"\";\n    let xAxisTTVal = \"\";\n    let zVal = null;\n    let val = null;\n    const customFormatterOpts = {\n      series: w.globals.series,\n      seriesIndex: i,\n      dataPointIndex: j,\n      w\n    };\n    let zFormatter = w.globals.ttZFormatter;\n    if (j === null) {\n      val = w.globals.series[i];\n    } else {\n      if (w.globals.isXNumeric && w.config.chart.type !== \"treemap\") {\n        xVal = filteredSeriesX[i][j];\n        if (filteredSeriesX[i].length === 0) {\n          const firstActiveSeriesIndex = this.tooltipUtil.getFirstActiveXArray(filteredSeriesX);\n          xVal = filteredSeriesX[firstActiveSeriesIndex][j];\n        }\n      } else {\n        const dataFormat = new Data(this.ctx);\n        if (dataFormat.isFormatXY()) {\n          xVal = typeof w.config.series[i].data[j] !== \"undefined\" ? w.config.series[i].data[j].x : \"\";\n        } else {\n          xVal = typeof w.globals.labels[j] !== \"undefined\" ? w.globals.labels[j] : \"\";\n        }\n      }\n    }\n    let bufferXVal = xVal;\n    if (w.globals.isXNumeric && w.config.xaxis.type === \"datetime\") {\n      let xFormat = new Formatters(this.ctx);\n      xVal = xFormat.xLabelFormat(\n        w.globals.ttKeyFormatter,\n        bufferXVal,\n        bufferXVal,\n        {\n          i: void 0,\n          dateFormatter: new DateTime(this.ctx).formatDate,\n          w: this.w\n        }\n      );\n    } else {\n      if (w.globals.isBarHorizontal) {\n        xVal = w.globals.yLabelFormatters[0](bufferXVal, customFormatterOpts);\n      } else {\n        xVal = w.globals.xLabelFormatter(bufferXVal, customFormatterOpts);\n      }\n    }\n    if (w.config.tooltip.x.formatter !== void 0) {\n      xVal = w.globals.ttKeyFormatter(bufferXVal, customFormatterOpts);\n    }\n    if (w.globals.seriesZ.length > 0 && w.globals.seriesZ[i].length > 0) {\n      zVal = zFormatter(w.globals.seriesZ[i][j], w);\n    }\n    if (typeof w.config.xaxis.tooltip.formatter === \"function\") {\n      xAxisTTVal = w.globals.xaxisTooltipFormatter(\n        bufferXVal,\n        customFormatterOpts\n      );\n    } else {\n      xAxisTTVal = xVal;\n    }\n    return {\n      val: Array.isArray(val) ? val.join(\" \") : val,\n      xVal: Array.isArray(xVal) ? xVal.join(\" \") : xVal,\n      xAxisTTVal: Array.isArray(xAxisTTVal) ? xAxisTTVal.join(\" \") : xAxisTTVal,\n      zVal\n    };\n  }\n  handleCustomTooltip({ i, j, y1, y2, w }) {\n    const tooltipEl = this.ttCtx.getElTooltip();\n    let fn = w.config.tooltip.custom;\n    if (Array.isArray(fn) && fn[i]) {\n      fn = fn[i];\n    }\n    const customTooltip = fn({\n      ctx: this.ctx,\n      series: w.globals.series,\n      seriesIndex: i,\n      dataPointIndex: j,\n      y1,\n      y2,\n      w\n    });\n    if (typeof customTooltip === \"string\" || typeof customTooltip === \"number\") {\n      tooltipEl.innerHTML = customTooltip;\n    } else if (customTooltip instanceof Element || typeof customTooltip.nodeName === \"string\") {\n      tooltipEl.innerHTML = \"\";\n      tooltipEl.appendChild(customTooltip.cloneNode(true));\n    }\n  }\n}\nclass Position {\n  constructor(tooltipContext) {\n    this.ttCtx = tooltipContext;\n    this.ctx = tooltipContext.ctx;\n    this.w = tooltipContext.w;\n  }\n  /**\n   * This will move the crosshair (the vertical/horz line that moves along with mouse)\n   * Along with this, this function also calls the xaxisMove function\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move crosshair\n   */\n  moveXCrosshairs(cx, j = null) {\n    const ttCtx = this.ttCtx;\n    let w = this.w;\n    const xcrosshairs = ttCtx.getElXCrosshairs();\n    let x = cx - ttCtx.xcrosshairsWidth / 2;\n    let tickAmount = w.globals.labels.slice().length;\n    if (j !== null) {\n      x = w.globals.gridWidth / tickAmount * j;\n    }\n    if (xcrosshairs !== null && !w.globals.isBarHorizontal) {\n      xcrosshairs.setAttribute(\"x\", x);\n      xcrosshairs.setAttribute(\"x1\", x);\n      xcrosshairs.setAttribute(\"x2\", x);\n      xcrosshairs.setAttribute(\"y2\", w.globals.gridHeight);\n      xcrosshairs.classList.add(\"apexcharts-active\");\n    }\n    if (x < 0) {\n      x = 0;\n    }\n    if (x > w.globals.gridWidth) {\n      x = w.globals.gridWidth;\n    }\n    if (ttCtx.isXAxisTooltipEnabled) {\n      let tx = x;\n      if (w.config.xaxis.crosshairs.width === \"tickWidth\" || w.config.xaxis.crosshairs.width === \"barWidth\") {\n        tx = x + ttCtx.xcrosshairsWidth / 2;\n      }\n      this.moveXAxisTooltip(tx);\n    }\n  }\n  /**\n   * This will move the crosshair (the vertical/horz line that moves along with mouse)\n   * Along with this, this function also calls the xaxisMove function\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move crosshair\n   */\n  moveYCrosshairs(cy) {\n    const ttCtx = this.ttCtx;\n    if (ttCtx.ycrosshairs !== null) {\n      Graphics.setAttrs(ttCtx.ycrosshairs, {\n        y1: cy,\n        y2: cy\n      });\n    }\n    if (ttCtx.ycrosshairsHidden !== null) {\n      Graphics.setAttrs(ttCtx.ycrosshairsHidden, {\n        y1: cy,\n        y2: cy\n      });\n    }\n  }\n  /**\n   ** AxisTooltip is the small rectangle which appears on x axis with x value, when user moves\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move\n   */\n  moveXAxisTooltip(cx) {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    if (ttCtx.xaxisTooltip !== null && ttCtx.xcrosshairsWidth !== 0) {\n      ttCtx.xaxisTooltip.classList.add(\"apexcharts-active\");\n      let cy = ttCtx.xaxisOffY + w.config.xaxis.tooltip.offsetY + w.globals.translateY + 1 + w.config.xaxis.offsetY;\n      let xaxisTTText = ttCtx.xaxisTooltip.getBoundingClientRect();\n      let xaxisTTTextWidth = xaxisTTText.width;\n      cx = cx - xaxisTTTextWidth / 2;\n      if (!isNaN(cx)) {\n        cx = cx + w.globals.translateX;\n        let textRect = 0;\n        const graphics = new Graphics(this.ctx);\n        textRect = graphics.getTextRects(ttCtx.xaxisTooltipText.innerHTML);\n        ttCtx.xaxisTooltipText.style.minWidth = textRect.width + \"px\";\n        ttCtx.xaxisTooltip.style.left = cx + \"px\";\n        ttCtx.xaxisTooltip.style.top = cy + \"px\";\n      }\n    }\n  }\n  moveYAxisTooltip(index) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    if (ttCtx.yaxisTTEls === null) {\n      ttCtx.yaxisTTEls = w.globals.dom.baseEl.querySelectorAll(\n        \".apexcharts-yaxistooltip\"\n      );\n    }\n    const ycrosshairsHiddenRectY1 = parseInt(\n      ttCtx.ycrosshairsHidden.getAttribute(\"y1\"),\n      10\n    );\n    let cy = w.globals.translateY + ycrosshairsHiddenRectY1;\n    const yAxisTTRect = ttCtx.yaxisTTEls[index].getBoundingClientRect();\n    const yAxisTTHeight = yAxisTTRect.height;\n    let cx = w.globals.translateYAxisX[index] - 2;\n    if (w.config.yaxis[index].opposite) {\n      cx = cx - yAxisTTRect.width;\n    }\n    cy = cy - yAxisTTHeight / 2;\n    if (w.globals.ignoreYAxisIndexes.indexOf(index) === -1 && cy > 0 && cy < w.globals.gridHeight) {\n      ttCtx.yaxisTTEls[index].classList.add(\"apexcharts-active\");\n      ttCtx.yaxisTTEls[index].style.top = cy + \"px\";\n      ttCtx.yaxisTTEls[index].style.left = cx + w.config.yaxis[index].tooltip.offsetX + \"px\";\n    } else {\n      ttCtx.yaxisTTEls[index].classList.remove(\"apexcharts-active\");\n    }\n  }\n  /**\n   ** moves the whole tooltip by changing x, y attrs\n   * @memberof Position\n   * @param {int} - cx = point's x position, wherever point's x is, you need to move tooltip\n   * @param {int} - cy = point's y position, wherever point's y is, you need to move tooltip\n   * @param {int} - markerSize = point's size\n   */\n  moveTooltip(cx, cy, markerSize = null) {\n    let w = this.w;\n    let ttCtx = this.ttCtx;\n    const tooltipEl = ttCtx.getElTooltip();\n    let tooltipRect = ttCtx.tooltipRect;\n    let pointSize = markerSize !== null ? parseFloat(markerSize) : 1;\n    let x = parseFloat(cx) + pointSize + 5;\n    let y = parseFloat(cy) + pointSize / 2;\n    if (x > w.globals.gridWidth / 2) {\n      x = x - tooltipRect.ttWidth - pointSize - 10;\n    }\n    if (x > w.globals.gridWidth - tooltipRect.ttWidth - 10) {\n      x = w.globals.gridWidth - tooltipRect.ttWidth;\n    }\n    if (x < -20) {\n      x = -20;\n    }\n    if (w.config.tooltip.followCursor) {\n      const elGrid = ttCtx.getElGrid();\n      const seriesBound = elGrid.getBoundingClientRect();\n      x = ttCtx.e.clientX - seriesBound.left;\n      if (x > w.globals.gridWidth / 2) {\n        x = x - ttCtx.tooltipRect.ttWidth;\n      }\n      y = ttCtx.e.clientY + w.globals.translateY - seriesBound.top;\n      if (y > w.globals.gridHeight / 2) {\n        y = y - ttCtx.tooltipRect.ttHeight;\n      }\n    } else {\n      if (!w.globals.isBarHorizontal) {\n        if (tooltipRect.ttHeight / 2 + y > w.globals.gridHeight) {\n          y = w.globals.gridHeight - tooltipRect.ttHeight + w.globals.translateY;\n        }\n      }\n    }\n    if (!isNaN(x)) {\n      x = x + w.globals.translateX;\n      tooltipEl.style.left = x + \"px\";\n      tooltipEl.style.top = y + \"px\";\n    }\n  }\n  moveMarkers(i, j) {\n    let w = this.w;\n    let ttCtx = this.ttCtx;\n    if (w.globals.markers.size[i] > 0) {\n      let allPoints = w.globals.dom.baseEl.querySelectorAll(\n        ` .apexcharts-series[data\\\\:realIndex='${i}'] .apexcharts-marker`\n      );\n      for (let p = 0; p < allPoints.length; p++) {\n        if (parseInt(allPoints[p].getAttribute(\"rel\"), 10) === j) {\n          ttCtx.marker.resetPointsSize();\n          ttCtx.marker.enlargeCurrentPoint(j, allPoints[p]);\n        }\n      }\n    } else {\n      ttCtx.marker.resetPointsSize();\n      this.moveDynamicPointOnHover(j, i);\n    }\n  }\n  // This function is used when you need to show markers/points only on hover -\n  // DIFFERENT X VALUES in multiple series\n  moveDynamicPointOnHover(j, capturedSeries) {\n    var _a, _b;\n    let w = this.w;\n    let ttCtx = this.ttCtx;\n    let cx = 0;\n    let cy = 0;\n    const graphics = new Graphics(this.ctx);\n    let pointsArr = w.globals.pointsArray;\n    let hoverSize = ttCtx.tooltipUtil.getHoverMarkerSize(capturedSeries);\n    const serType = w.config.series[capturedSeries].type;\n    if (serType && (serType === \"column\" || serType === \"candlestick\" || serType === \"boxPlot\")) {\n      return;\n    }\n    cx = (_a = pointsArr[capturedSeries][j]) == null ? void 0 : _a[0];\n    cy = ((_b = pointsArr[capturedSeries][j]) == null ? void 0 : _b[1]) || 0;\n    let point = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-series[data\\\\:realIndex='${capturedSeries}'] .apexcharts-series-markers path`\n    );\n    if (point && cy < w.globals.gridHeight && cy > 0) {\n      const shape = point.getAttribute(\"shape\");\n      const path = graphics.getMarkerPath(cx, cy, shape, hoverSize * 1.5);\n      point.setAttribute(\"d\", path);\n    }\n    this.moveXCrosshairs(cx);\n    if (!ttCtx.fixedTooltip) {\n      this.moveTooltip(cx, cy, hoverSize);\n    }\n  }\n  // This function is used when you need to show markers/points only on hover -\n  // SAME X VALUES in multiple series\n  moveDynamicPointsOnHover(j) {\n    const ttCtx = this.ttCtx;\n    let w = ttCtx.w;\n    let cx = 0;\n    let cy = 0;\n    let activeSeries = 0;\n    let pointsArr = w.globals.pointsArray;\n    let series = new Series(this.ctx);\n    const graphics = new Graphics(this.ctx);\n    activeSeries = series.getActiveConfigSeriesIndex(\"asc\", [\n      \"line\",\n      \"area\",\n      \"scatter\",\n      \"bubble\"\n    ]);\n    let hoverSize = ttCtx.tooltipUtil.getHoverMarkerSize(activeSeries);\n    if (pointsArr[activeSeries]) {\n      cx = pointsArr[activeSeries][j][0];\n      cy = pointsArr[activeSeries][j][1];\n    }\n    if (isNaN(cx)) {\n      return;\n    }\n    let points = ttCtx.tooltipUtil.getAllMarkers();\n    if (points.length) {\n      for (let p = 0; p < w.globals.series.length; p++) {\n        let pointArr = pointsArr[p];\n        if (w.globals.comboCharts) {\n          if (typeof pointArr === \"undefined\") {\n            points.splice(p, 0, null);\n          }\n        }\n        if (pointArr && pointArr.length) {\n          let pcy = pointsArr[p][j][1];\n          let pcy2;\n          points[p].setAttribute(\"cx\", cx);\n          const shape = points[p].getAttribute(\"shape\");\n          if (w.config.chart.type === \"rangeArea\" && !w.globals.comboCharts) {\n            const rangeStartIndex = j + w.globals.series[p].length;\n            pcy2 = pointsArr[p][rangeStartIndex][1];\n            const pcyDiff = Math.abs(pcy - pcy2) / 2;\n            pcy = pcy - pcyDiff;\n          }\n          if (pcy !== null && !isNaN(pcy) && pcy < w.globals.gridHeight + hoverSize && pcy + hoverSize > 0) {\n            const path = graphics.getMarkerPath(cx, pcy, shape, hoverSize);\n            points[p].setAttribute(\"d\", path);\n          } else {\n            points[p].setAttribute(\"d\", \"\");\n          }\n        }\n      }\n    }\n    this.moveXCrosshairs(cx);\n    if (!ttCtx.fixedTooltip) {\n      this.moveTooltip(cx, cy || w.globals.gridHeight, hoverSize);\n    }\n  }\n  moveStickyTooltipOverBars(j, capturedSeries) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    let barLen = w.globals.columnSeries ? w.globals.columnSeries.length : w.globals.series.length;\n    if (w.config.chart.stacked) {\n      barLen = w.globals.barGroups.length;\n    }\n    let i = barLen >= 2 && barLen % 2 === 0 ? Math.floor(barLen / 2) : Math.floor(barLen / 2) + 1;\n    if (w.globals.isBarHorizontal) {\n      let series = new Series(this.ctx);\n      i = series.getActiveConfigSeriesIndex(\"desc\") + 1;\n    }\n    let jBar = w.globals.dom.baseEl.querySelector(\n      `.apexcharts-bar-series .apexcharts-series[rel='${i}'] path[j='${j}'], .apexcharts-candlestick-series .apexcharts-series[rel='${i}'] path[j='${j}'], .apexcharts-boxPlot-series .apexcharts-series[rel='${i}'] path[j='${j}'], .apexcharts-rangebar-series .apexcharts-series[rel='${i}'] path[j='${j}']`\n    );\n    if (!jBar && typeof capturedSeries === \"number\") {\n      jBar = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-bar-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\\\:realIndex='${capturedSeries}'] path[j='${j}']`\n      );\n    }\n    let bcx = jBar ? parseFloat(jBar.getAttribute(\"cx\")) : 0;\n    let bcy = jBar ? parseFloat(jBar.getAttribute(\"cy\")) : 0;\n    let bw = jBar ? parseFloat(jBar.getAttribute(\"barWidth\")) : 0;\n    const elGrid = ttCtx.getElGrid();\n    let seriesBound = elGrid.getBoundingClientRect();\n    const isBoxOrCandle = jBar && (jBar.classList.contains(\"apexcharts-candlestick-area\") || jBar.classList.contains(\"apexcharts-boxPlot-area\"));\n    if (w.globals.isXNumeric) {\n      if (jBar && !isBoxOrCandle) {\n        bcx = bcx - (barLen % 2 !== 0 ? bw / 2 : 0);\n      }\n      if (jBar && // fixes apexcharts.js#2354\n      isBoxOrCandle) {\n        bcx = bcx - bw / 2;\n      }\n    } else {\n      if (!w.globals.isBarHorizontal) {\n        bcx = ttCtx.xAxisTicksPositions[j - 1] + ttCtx.dataPointsDividedWidth / 2;\n        if (isNaN(bcx)) {\n          bcx = ttCtx.xAxisTicksPositions[j] - ttCtx.dataPointsDividedWidth / 2;\n        }\n      }\n    }\n    if (!w.globals.isBarHorizontal) {\n      if (w.config.tooltip.followCursor) {\n        bcy = ttCtx.e.clientY - seriesBound.top - ttCtx.tooltipRect.ttHeight / 2;\n      } else {\n        if (bcy + ttCtx.tooltipRect.ttHeight + 15 > w.globals.gridHeight) {\n          bcy = w.globals.gridHeight;\n        }\n      }\n    } else {\n      bcy = bcy - ttCtx.tooltipRect.ttHeight;\n    }\n    if (!w.globals.isBarHorizontal) {\n      this.moveXCrosshairs(bcx);\n    }\n    if (!ttCtx.fixedTooltip) {\n      this.moveTooltip(bcx, bcy || w.globals.gridHeight);\n    }\n  }\n}\nclass Marker {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ttCtx = tooltipContext;\n    this.ctx = tooltipContext.ctx;\n    this.tooltipPosition = new Position(tooltipContext);\n  }\n  drawDynamicPoints() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let marker = new Markers(this.ctx);\n    let elsSeries = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series\");\n    elsSeries = [...elsSeries];\n    if (w.config.chart.stacked) {\n      elsSeries.sort((a, b) => {\n        return parseFloat(a.getAttribute(\"data:realIndex\")) - parseFloat(b.getAttribute(\"data:realIndex\"));\n      });\n    }\n    for (let i = 0; i < elsSeries.length; i++) {\n      let pointsMain = elsSeries[i].querySelector(\n        `.apexcharts-series-markers-wrap`\n      );\n      if (pointsMain !== null) {\n        let point;\n        let PointClasses = `apexcharts-marker w${(Math.random() + 1).toString(36).substring(4)}`;\n        if ((w.config.chart.type === \"line\" || w.config.chart.type === \"area\") && !w.globals.comboCharts && !w.config.tooltip.intersect) {\n          PointClasses += \" no-pointer-events\";\n        }\n        let elPointOptions = marker.getMarkerConfig({\n          cssClass: PointClasses,\n          seriesIndex: Number(pointsMain.getAttribute(\"data:realIndex\"))\n          // fixes apexcharts/apexcharts.js #1427\n        });\n        point = graphics.drawMarker(0, 0, elPointOptions);\n        point.node.setAttribute(\"default-marker-size\", 0);\n        let elPointsG = document.createElementNS(w.globals.SVGNS, \"g\");\n        elPointsG.classList.add(\"apexcharts-series-markers\");\n        elPointsG.appendChild(point.node);\n        pointsMain.appendChild(elPointsG);\n      }\n    }\n  }\n  enlargeCurrentPoint(rel, point, x = null, y = null) {\n    let w = this.w;\n    if (w.config.chart.type !== \"bubble\") {\n      this.newPointSize(rel, point);\n    }\n    let cx = point.getAttribute(\"cx\");\n    let cy = point.getAttribute(\"cy\");\n    if (x !== null && y !== null) {\n      cx = x;\n      cy = y;\n    }\n    this.tooltipPosition.moveXCrosshairs(cx);\n    if (!this.fixedTooltip) {\n      if (w.config.chart.type === \"radar\") {\n        const elGrid = this.ttCtx.getElGrid();\n        const seriesBound = elGrid.getBoundingClientRect();\n        cx = this.ttCtx.e.clientX - seriesBound.left;\n      }\n      this.tooltipPosition.moveTooltip(cx, cy, w.config.markers.hover.size);\n    }\n  }\n  enlargePoints(j) {\n    let w = this.w;\n    let me = this;\n    const ttCtx = this.ttCtx;\n    let col = j;\n    let points = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker\"\n    );\n    let newSize = w.config.markers.hover.size;\n    for (let p = 0; p < points.length; p++) {\n      let rel = points[p].getAttribute(\"rel\");\n      let index = points[p].getAttribute(\"index\");\n      if (newSize === void 0) {\n        newSize = w.globals.markers.size[index] + w.config.markers.hover.sizeOffset;\n      }\n      if (col === parseInt(rel, 10)) {\n        me.newPointSize(col, points[p]);\n        let cx = points[p].getAttribute(\"cx\");\n        let cy = points[p].getAttribute(\"cy\");\n        me.tooltipPosition.moveXCrosshairs(cx);\n        if (!ttCtx.fixedTooltip) {\n          me.tooltipPosition.moveTooltip(cx, cy, newSize);\n        }\n      } else {\n        me.oldPointSize(points[p]);\n      }\n    }\n  }\n  newPointSize(rel, point) {\n    let w = this.w;\n    let newSize = w.config.markers.hover.size;\n    let elPoint = rel === 0 ? point.parentNode.firstChild : point.parentNode.lastChild;\n    if (elPoint.getAttribute(\"default-marker-size\") !== \"0\") {\n      const index = parseInt(elPoint.getAttribute(\"index\"), 10);\n      if (newSize === void 0) {\n        newSize = w.globals.markers.size[index] + w.config.markers.hover.sizeOffset;\n      }\n      if (newSize < 0) {\n        newSize = 0;\n      }\n      const path = this.ttCtx.tooltipUtil.getPathFromPoint(point, newSize);\n      point.setAttribute(\"d\", path);\n    }\n  }\n  oldPointSize(point) {\n    const size = parseFloat(point.getAttribute(\"default-marker-size\"));\n    const path = this.ttCtx.tooltipUtil.getPathFromPoint(point, size);\n    point.setAttribute(\"d\", path);\n  }\n  resetPointsSize() {\n    let w = this.w;\n    let points = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker\"\n    );\n    for (let p = 0; p < points.length; p++) {\n      const size = parseFloat(points[p].getAttribute(\"default-marker-size\"));\n      if (Utils$1.isNumber(size) && size > 0) {\n        const path = this.ttCtx.tooltipUtil.getPathFromPoint(points[p], size);\n        points[p].setAttribute(\"d\", path);\n      } else {\n        points[p].setAttribute(\"d\", \"M0,0\");\n      }\n    }\n  }\n}\nclass Intersect {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    const w = this.w;\n    this.ttCtx = tooltipContext;\n    this.isVerticalGroupedRangeBar = !w.globals.isBarHorizontal && w.config.chart.type === \"rangeBar\" && w.config.plotOptions.bar.rangeBarGroupRows;\n  }\n  // a helper function to get an element's attribute value\n  getAttr(e, attr) {\n    return parseFloat(e.target.getAttribute(attr));\n  }\n  // handle tooltip for heatmaps and treemaps\n  handleHeatTreeTooltip({ e, opt, x, y, type }) {\n    const ttCtx = this.ttCtx;\n    const w = this.w;\n    if (e.target.classList.contains(`apexcharts-${type}-rect`)) {\n      let i = this.getAttr(e, \"i\");\n      let j = this.getAttr(e, \"j\");\n      let cx = this.getAttr(e, \"cx\");\n      let cy = this.getAttr(e, \"cy\");\n      let width = this.getAttr(e, \"width\");\n      let height = this.getAttr(e, \"height\");\n      ttCtx.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i,\n        j,\n        shared: false,\n        e\n      });\n      w.globals.capturedSeriesIndex = i;\n      w.globals.capturedDataPointIndex = j;\n      x = cx + ttCtx.tooltipRect.ttWidth / 2 + width;\n      y = cy + ttCtx.tooltipRect.ttHeight / 2 - height / 2;\n      ttCtx.tooltipPosition.moveXCrosshairs(cx + width / 2);\n      if (x > w.globals.gridWidth / 2) {\n        x = cx - ttCtx.tooltipRect.ttWidth / 2 + width;\n      }\n      if (ttCtx.w.config.tooltip.followCursor) {\n        let seriesBound = w.globals.dom.elWrap.getBoundingClientRect();\n        x = w.globals.clientX - seriesBound.left - (x > w.globals.gridWidth / 2 ? ttCtx.tooltipRect.ttWidth : 0);\n        y = w.globals.clientY - seriesBound.top - (y > w.globals.gridHeight / 2 ? ttCtx.tooltipRect.ttHeight : 0);\n      }\n    }\n    return {\n      x,\n      y\n    };\n  }\n  /**\n   * handle tooltips for line/area/scatter charts where tooltip.intersect is true\n   * when user hovers over the marker directly, this function is executed\n   */\n  handleMarkerTooltip({ e, opt, x, y }) {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    let i;\n    let j;\n    if (e.target.classList.contains(\"apexcharts-marker\")) {\n      let cx = parseInt(opt.paths.getAttribute(\"cx\"), 10);\n      let cy = parseInt(opt.paths.getAttribute(\"cy\"), 10);\n      let val = parseFloat(opt.paths.getAttribute(\"val\"));\n      j = parseInt(opt.paths.getAttribute(\"rel\"), 10);\n      i = parseInt(\n        opt.paths.parentNode.parentNode.parentNode.getAttribute(\"rel\"),\n        10\n      ) - 1;\n      if (ttCtx.intersect) {\n        const el = Utils$1.findAncestor(opt.paths, \"apexcharts-series\");\n        if (el) {\n          i = parseInt(el.getAttribute(\"data:realIndex\"), 10);\n        }\n      }\n      ttCtx.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i,\n        j,\n        shared: ttCtx.showOnIntersect ? false : w.config.tooltip.shared,\n        e\n      });\n      if (e.type === \"mouseup\") {\n        ttCtx.markerClick(e, i, j);\n      }\n      w.globals.capturedSeriesIndex = i;\n      w.globals.capturedDataPointIndex = j;\n      x = cx;\n      y = cy + w.globals.translateY - ttCtx.tooltipRect.ttHeight * 1.4;\n      if (ttCtx.w.config.tooltip.followCursor) {\n        const elGrid = ttCtx.getElGrid();\n        const seriesBound = elGrid.getBoundingClientRect();\n        y = ttCtx.e.clientY + w.globals.translateY - seriesBound.top;\n      }\n      if (val < 0) {\n        y = cy;\n      }\n      ttCtx.marker.enlargeCurrentPoint(j, opt.paths, x, y);\n    }\n    return {\n      x,\n      y\n    };\n  }\n  /**\n   * handle tooltips for bar/column charts\n   */\n  handleBarTooltip({ e, opt }) {\n    const w = this.w;\n    const ttCtx = this.ttCtx;\n    const tooltipEl = ttCtx.getElTooltip();\n    let bx = 0;\n    let x = 0;\n    let y = 0;\n    let i = 0;\n    let strokeWidth;\n    let barXY = this.getBarTooltipXY({\n      e,\n      opt\n    });\n    if (barXY.j === null && barXY.barHeight === 0 && barXY.barWidth === 0) {\n      return;\n    }\n    i = barXY.i;\n    let j = barXY.j;\n    w.globals.capturedSeriesIndex = i;\n    w.globals.capturedDataPointIndex = j;\n    if (w.globals.isBarHorizontal && ttCtx.tooltipUtil.hasBars() || !w.config.tooltip.shared) {\n      x = barXY.x;\n      y = barXY.y;\n      strokeWidth = Array.isArray(w.config.stroke.width) ? w.config.stroke.width[i] : w.config.stroke.width;\n      bx = x;\n    } else {\n      if (!w.globals.comboCharts && !w.config.tooltip.shared) {\n        bx = bx / 2;\n      }\n    }\n    if (isNaN(y)) {\n      y = w.globals.svgHeight - ttCtx.tooltipRect.ttHeight;\n    }\n    if (x + ttCtx.tooltipRect.ttWidth > w.globals.gridWidth) {\n      x = x - ttCtx.tooltipRect.ttWidth;\n    } else if (x < 0) {\n      x = 0;\n    }\n    if (ttCtx.w.config.tooltip.followCursor) {\n      const elGrid = ttCtx.getElGrid();\n      const seriesBound = elGrid.getBoundingClientRect();\n      y = ttCtx.e.clientY - seriesBound.top;\n    }\n    if (ttCtx.tooltip === null) {\n      ttCtx.tooltip = w.globals.dom.baseEl.querySelector(\".apexcharts-tooltip\");\n    }\n    if (!w.config.tooltip.shared) {\n      if (w.globals.comboBarCount > 0) {\n        ttCtx.tooltipPosition.moveXCrosshairs(bx + strokeWidth / 2);\n      } else {\n        ttCtx.tooltipPosition.moveXCrosshairs(bx);\n      }\n    }\n    if (!ttCtx.fixedTooltip && (!w.config.tooltip.shared || w.globals.isBarHorizontal && ttCtx.tooltipUtil.hasBars())) {\n      y = y + w.globals.translateY - ttCtx.tooltipRect.ttHeight / 2;\n      tooltipEl.style.left = x + w.globals.translateX + \"px\";\n      tooltipEl.style.top = y + \"px\";\n    }\n  }\n  getBarTooltipXY({ e, opt }) {\n    let w = this.w;\n    let j = null;\n    const ttCtx = this.ttCtx;\n    let i = 0;\n    let x = 0;\n    let y = 0;\n    let barWidth = 0;\n    let barHeight = 0;\n    const cl = e.target.classList;\n    if (cl.contains(\"apexcharts-bar-area\") || cl.contains(\"apexcharts-candlestick-area\") || cl.contains(\"apexcharts-boxPlot-area\") || cl.contains(\"apexcharts-rangebar-area\")) {\n      let bar = e.target;\n      let barRect = bar.getBoundingClientRect();\n      let seriesBound = opt.elGrid.getBoundingClientRect();\n      let bh = barRect.height;\n      barHeight = barRect.height;\n      let bw = barRect.width;\n      let cx = parseInt(bar.getAttribute(\"cx\"), 10);\n      let cy = parseInt(bar.getAttribute(\"cy\"), 10);\n      barWidth = parseFloat(bar.getAttribute(\"barWidth\"));\n      const clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n      j = parseInt(bar.getAttribute(\"j\"), 10);\n      i = parseInt(bar.parentNode.getAttribute(\"rel\"), 10) - 1;\n      let y1 = bar.getAttribute(\"data-range-y1\");\n      let y2 = bar.getAttribute(\"data-range-y2\");\n      if (w.globals.comboCharts) {\n        i = parseInt(bar.parentNode.getAttribute(\"data:realIndex\"), 10);\n      }\n      const handleXForColumns = (x2) => {\n        if (w.globals.isXNumeric) {\n          x2 = cx - bw / 2;\n        } else {\n          if (this.isVerticalGroupedRangeBar) {\n            x2 = cx + bw / 2;\n          } else {\n            x2 = cx - ttCtx.dataPointsDividedWidth + bw / 2;\n          }\n        }\n        return x2;\n      };\n      const handleYForBars = () => {\n        return cy - ttCtx.dataPointsDividedHeight + bh / 2 - ttCtx.tooltipRect.ttHeight / 2;\n      };\n      ttCtx.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i,\n        j,\n        y1: y1 ? parseInt(y1, 10) : null,\n        y2: y2 ? parseInt(y2, 10) : null,\n        shared: ttCtx.showOnIntersect ? false : w.config.tooltip.shared,\n        e\n      });\n      if (w.config.tooltip.followCursor) {\n        if (w.globals.isBarHorizontal) {\n          x = clientX - seriesBound.left + 15;\n          y = handleYForBars();\n        } else {\n          x = handleXForColumns(x);\n          y = e.clientY - seriesBound.top - ttCtx.tooltipRect.ttHeight / 2 - 15;\n        }\n      } else {\n        if (w.globals.isBarHorizontal) {\n          x = cx;\n          if (x < ttCtx.xyRatios.baseLineInvertedY) {\n            x = cx - ttCtx.tooltipRect.ttWidth;\n          }\n          y = handleYForBars();\n        } else {\n          x = handleXForColumns(x);\n          y = cy;\n        }\n      }\n    }\n    return {\n      x,\n      y,\n      barHeight,\n      barWidth,\n      i,\n      j\n    };\n  }\n}\nclass AxesTooltip {\n  constructor(tooltipContext) {\n    this.w = tooltipContext.w;\n    this.ttCtx = tooltipContext;\n  }\n  /**\n   * This method adds the secondary tooltip which appears below x axis\n   * @memberof Tooltip\n   **/\n  drawXaxisTooltip() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    const isBottom = w.config.xaxis.position === \"bottom\";\n    ttCtx.xaxisOffY = isBottom ? w.globals.gridHeight + 1 : -w.globals.xAxisHeight - w.config.xaxis.axisTicks.height + 3;\n    const tooltipCssClass = isBottom ? \"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom\" : \"apexcharts-xaxistooltip apexcharts-xaxistooltip-top\";\n    let renderTo = w.globals.dom.elWrap;\n    if (ttCtx.isXAxisTooltipEnabled) {\n      let xaxisTooltip = w.globals.dom.baseEl.querySelector(\n        \".apexcharts-xaxistooltip\"\n      );\n      if (xaxisTooltip === null) {\n        ttCtx.xaxisTooltip = document.createElement(\"div\");\n        ttCtx.xaxisTooltip.setAttribute(\n          \"class\",\n          tooltipCssClass + \" apexcharts-theme-\" + w.config.tooltip.theme\n        );\n        renderTo.appendChild(ttCtx.xaxisTooltip);\n        ttCtx.xaxisTooltipText = document.createElement(\"div\");\n        ttCtx.xaxisTooltipText.classList.add(\"apexcharts-xaxistooltip-text\");\n        ttCtx.xaxisTooltipText.style.fontFamily = w.config.xaxis.tooltip.style.fontFamily || w.config.chart.fontFamily;\n        ttCtx.xaxisTooltipText.style.fontSize = w.config.xaxis.tooltip.style.fontSize;\n        ttCtx.xaxisTooltip.appendChild(ttCtx.xaxisTooltipText);\n      }\n    }\n  }\n  /**\n   * This method adds the secondary tooltip which appears below x axis\n   * @memberof Tooltip\n   **/\n  drawYaxisTooltip() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    for (let i = 0; i < w.config.yaxis.length; i++) {\n      const isRight = w.config.yaxis[i].opposite || w.config.yaxis[i].crosshairs.opposite;\n      ttCtx.yaxisOffX = isRight ? w.globals.gridWidth + 1 : 1;\n      let tooltipCssClass = isRight ? `apexcharts-yaxistooltip apexcharts-yaxistooltip-${i} apexcharts-yaxistooltip-right` : `apexcharts-yaxistooltip apexcharts-yaxistooltip-${i} apexcharts-yaxistooltip-left`;\n      let renderTo = w.globals.dom.elWrap;\n      let yaxisTooltip = w.globals.dom.baseEl.querySelector(\n        `.apexcharts-yaxistooltip apexcharts-yaxistooltip-${i}`\n      );\n      if (yaxisTooltip === null) {\n        ttCtx.yaxisTooltip = document.createElement(\"div\");\n        ttCtx.yaxisTooltip.setAttribute(\n          \"class\",\n          tooltipCssClass + \" apexcharts-theme-\" + w.config.tooltip.theme\n        );\n        renderTo.appendChild(ttCtx.yaxisTooltip);\n        if (i === 0) ttCtx.yaxisTooltipText = [];\n        ttCtx.yaxisTooltipText[i] = document.createElement(\"div\");\n        ttCtx.yaxisTooltipText[i].classList.add(\"apexcharts-yaxistooltip-text\");\n        ttCtx.yaxisTooltip.appendChild(ttCtx.yaxisTooltipText[i]);\n      }\n    }\n  }\n  /**\n   * @memberof Tooltip\n   **/\n  setXCrosshairWidth() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    const xcrosshairs = ttCtx.getElXCrosshairs();\n    ttCtx.xcrosshairsWidth = parseInt(w.config.xaxis.crosshairs.width, 10);\n    if (!w.globals.comboCharts) {\n      if (w.config.xaxis.crosshairs.width === \"tickWidth\") {\n        let count = w.globals.labels.length;\n        ttCtx.xcrosshairsWidth = w.globals.gridWidth / count;\n      } else if (w.config.xaxis.crosshairs.width === \"barWidth\") {\n        let bar = w.globals.dom.baseEl.querySelector(\".apexcharts-bar-area\");\n        if (bar !== null) {\n          let barWidth = parseFloat(bar.getAttribute(\"barWidth\"));\n          ttCtx.xcrosshairsWidth = barWidth;\n        } else {\n          ttCtx.xcrosshairsWidth = 1;\n        }\n      }\n    } else {\n      let bar = w.globals.dom.baseEl.querySelector(\".apexcharts-bar-area\");\n      if (bar !== null && w.config.xaxis.crosshairs.width === \"barWidth\") {\n        let barWidth = parseFloat(bar.getAttribute(\"barWidth\"));\n        ttCtx.xcrosshairsWidth = barWidth;\n      } else {\n        if (w.config.xaxis.crosshairs.width === \"tickWidth\") {\n          let count = w.globals.labels.length;\n          ttCtx.xcrosshairsWidth = w.globals.gridWidth / count;\n        }\n      }\n    }\n    if (w.globals.isBarHorizontal) {\n      ttCtx.xcrosshairsWidth = 0;\n    }\n    if (xcrosshairs !== null && ttCtx.xcrosshairsWidth > 0) {\n      xcrosshairs.setAttribute(\"width\", ttCtx.xcrosshairsWidth);\n    }\n  }\n  handleYCrosshair() {\n    let w = this.w;\n    const ttCtx = this.ttCtx;\n    ttCtx.ycrosshairs = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-ycrosshairs\"\n    );\n    ttCtx.ycrosshairsHidden = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-ycrosshairs-hidden\"\n    );\n  }\n  drawYaxisTooltipText(index, clientY, xyRatios) {\n    const ttCtx = this.ttCtx;\n    const w = this.w;\n    const gl = w.globals;\n    const yAxisSeriesArr = gl.seriesYAxisMap[index];\n    if (ttCtx.yaxisTooltips[index] && yAxisSeriesArr.length > 0) {\n      const lbFormatter = gl.yLabelFormatters[index];\n      const elGrid = ttCtx.getElGrid();\n      const seriesBound = elGrid.getBoundingClientRect();\n      const seriesIndex = yAxisSeriesArr[0];\n      let translationsIndex = 0;\n      if (xyRatios.yRatio.length > 1) {\n        translationsIndex = seriesIndex;\n      }\n      const hoverY = (clientY - seriesBound.top) * xyRatios.yRatio[translationsIndex];\n      const height = gl.maxYArr[seriesIndex] - gl.minYArr[seriesIndex];\n      let val = gl.minYArr[seriesIndex] + (height - hoverY);\n      if (w.config.yaxis[index].reversed) {\n        val = gl.maxYArr[seriesIndex] - (height - hoverY);\n      }\n      ttCtx.tooltipPosition.moveYCrosshairs(clientY - seriesBound.top);\n      ttCtx.yaxisTooltipText[index].innerHTML = lbFormatter(val);\n      ttCtx.tooltipPosition.moveYAxisTooltip(index);\n    }\n  }\n}\nclass Tooltip {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.tConfig = w.config.tooltip;\n    this.tooltipUtil = new Utils2(this);\n    this.tooltipLabels = new Labels(this);\n    this.tooltipPosition = new Position(this);\n    this.marker = new Marker(this);\n    this.intersect = new Intersect(this);\n    this.axesTooltip = new AxesTooltip(this);\n    this.showOnIntersect = this.tConfig.intersect;\n    this.showTooltipTitle = this.tConfig.x.show;\n    this.fixedTooltip = this.tConfig.fixed.enabled;\n    this.xaxisTooltip = null;\n    this.yaxisTTEls = null;\n    this.isBarShared = !w.globals.isBarHorizontal && this.tConfig.shared;\n    this.lastHoverTime = Date.now();\n    this.dimensionUpdateScheduled = false;\n  }\n  setupDimensionCache() {\n    const w = this.w;\n    const tooltipEl = this.getElTooltip();\n    if (!tooltipEl) return;\n    this.updateDimensionCache();\n    if (typeof ResizeObserver !== \"undefined\" && !w.globals.resizeObserver) {\n      w.globals.resizeObserver = new ResizeObserver(() => {\n        if (!this.dimensionUpdateScheduled) {\n          this.dimensionUpdateScheduled = true;\n          requestAnimationFrame(() => {\n            this.updateDimensionCache();\n            this.dimensionUpdateScheduled = false;\n          });\n        }\n      });\n      w.globals.resizeObserver.observe(tooltipEl);\n    }\n  }\n  updateDimensionCache() {\n    const w = this.w;\n    const tooltipEl = this.getElTooltip();\n    if (!tooltipEl) return;\n    const rect = tooltipEl.getBoundingClientRect();\n    w.globals.dimensionCache.tooltip = {\n      width: rect.width,\n      height: rect.height,\n      lastUpdate: Date.now()\n    };\n  }\n  getCachedDimensions() {\n    const w = this.w;\n    if (w.globals.dimensionCache.tooltip) {\n      const cache2 = w.globals.dimensionCache.tooltip;\n      const age = Date.now() - cache2.lastUpdate;\n      if (age < 1e3) {\n        return {\n          ttWidth: cache2.width,\n          ttHeight: cache2.height\n        };\n      }\n    }\n    this.updateDimensionCache();\n    const cache = w.globals.dimensionCache.tooltip;\n    return cache ? {\n      ttWidth: cache.width,\n      ttHeight: cache.height\n    } : { ttWidth: 0, ttHeight: 0 };\n  }\n  getElTooltip(ctx) {\n    if (!ctx) ctx = this;\n    if (!ctx.w.globals.dom.baseEl) return null;\n    return ctx.w.globals.dom.baseEl.querySelector(\".apexcharts-tooltip\");\n  }\n  getElXCrosshairs() {\n    return this.w.globals.dom.baseEl.querySelector(\".apexcharts-xcrosshairs\");\n  }\n  getElGrid() {\n    return this.w.globals.dom.baseEl.querySelector(\".apexcharts-grid\");\n  }\n  drawTooltip(xyRatios) {\n    let w = this.w;\n    this.xyRatios = xyRatios;\n    this.isXAxisTooltipEnabled = w.config.xaxis.tooltip.enabled && w.globals.axisCharts;\n    this.yaxisTooltips = w.config.yaxis.map((y) => {\n      return y.show && y.tooltip.enabled && w.globals.axisCharts ? true : false;\n    });\n    this.allTooltipSeriesGroups = [];\n    if (!w.globals.axisCharts) {\n      this.showTooltipTitle = false;\n    }\n    const tooltipEl = document.createElement(\"div\");\n    tooltipEl.classList.add(\"apexcharts-tooltip\");\n    if (w.config.tooltip.cssClass) {\n      tooltipEl.classList.add(w.config.tooltip.cssClass);\n    }\n    tooltipEl.classList.add(`apexcharts-theme-${this.tConfig.theme || \"light\"}`);\n    if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n      tooltipEl.setAttribute(\"role\", \"tooltip\");\n      tooltipEl.setAttribute(\"aria-live\", \"polite\");\n      tooltipEl.setAttribute(\"aria-atomic\", \"true\");\n      tooltipEl.setAttribute(\"aria-hidden\", \"true\");\n    }\n    w.globals.dom.elWrap.appendChild(tooltipEl);\n    if (w.globals.axisCharts) {\n      this.axesTooltip.drawXaxisTooltip();\n      this.axesTooltip.drawYaxisTooltip();\n      this.axesTooltip.setXCrosshairWidth();\n      this.axesTooltip.handleYCrosshair();\n      let xAxis = new XAxis(this.ctx);\n      this.xAxisTicksPositions = xAxis.getXAxisTicksPositions();\n    }\n    if ((w.globals.comboCharts || this.tConfig.intersect || w.config.chart.type === \"rangeBar\") && !this.tConfig.shared) {\n      this.showOnIntersect = true;\n    }\n    if (w.config.markers.size === 0 || w.globals.markers.largestSize === 0) {\n      this.marker.drawDynamicPoints(this);\n    }\n    if (w.globals.collapsedSeries.length === w.globals.series.length) return;\n    this.dataPointsDividedHeight = w.globals.gridHeight / w.globals.dataPoints;\n    this.dataPointsDividedWidth = w.globals.gridWidth / w.globals.dataPoints;\n    if (this.showTooltipTitle) {\n      this.tooltipTitle = document.createElement(\"div\");\n      this.tooltipTitle.classList.add(\"apexcharts-tooltip-title\");\n      this.tooltipTitle.style.fontFamily = this.tConfig.style.fontFamily || w.config.chart.fontFamily;\n      this.tooltipTitle.style.fontSize = this.tConfig.style.fontSize;\n      tooltipEl.appendChild(this.tooltipTitle);\n    }\n    let ttItemsCnt = w.globals.series.length;\n    if ((w.globals.xyCharts || w.globals.comboCharts) && this.tConfig.shared) {\n      if (!this.showOnIntersect) {\n        ttItemsCnt = w.globals.series.length;\n      } else {\n        ttItemsCnt = 1;\n      }\n    }\n    this.legendLabels = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-legend-text\"\n    );\n    this.ttItems = this.createTTElements(ttItemsCnt);\n    this.addSVGEvents();\n    this.setupDimensionCache();\n  }\n  createTTElements(ttItemsCnt) {\n    const w = this.w;\n    let ttItems = [];\n    const tooltipEl = this.getElTooltip();\n    for (let i = 0; i < ttItemsCnt; i++) {\n      let gTxt = document.createElement(\"div\");\n      gTxt.classList.add(\n        \"apexcharts-tooltip-series-group\",\n        `apexcharts-tooltip-series-group-${i}`\n      );\n      gTxt.style.order = w.config.tooltip.inverseOrder ? ttItemsCnt - i : i + 1;\n      let point = document.createElement(\"span\");\n      point.classList.add(\"apexcharts-tooltip-marker\");\n      if (w.config.tooltip.fillSeriesColor) {\n        point.style.backgroundColor = w.globals.colors[i];\n      } else {\n        point.style.color = w.globals.colors[i];\n      }\n      let mShape = w.config.markers.shape;\n      let shape = mShape;\n      if (Array.isArray(mShape)) {\n        shape = mShape[i];\n      }\n      point.setAttribute(\"shape\", shape);\n      gTxt.appendChild(point);\n      const gYZ = document.createElement(\"div\");\n      gYZ.classList.add(\"apexcharts-tooltip-text\");\n      gYZ.style.fontFamily = this.tConfig.style.fontFamily || w.config.chart.fontFamily;\n      gYZ.style.fontSize = this.tConfig.style.fontSize;\n      [\"y\", \"goals\", \"z\"].forEach((g) => {\n        const gValText = document.createElement(\"div\");\n        gValText.classList.add(`apexcharts-tooltip-${g}-group`);\n        let txtLabel = document.createElement(\"span\");\n        txtLabel.classList.add(`apexcharts-tooltip-text-${g}-label`);\n        gValText.appendChild(txtLabel);\n        let txtValue = document.createElement(\"span\");\n        txtValue.classList.add(`apexcharts-tooltip-text-${g}-value`);\n        gValText.appendChild(txtValue);\n        gYZ.appendChild(gValText);\n      });\n      gTxt.appendChild(gYZ);\n      tooltipEl.appendChild(gTxt);\n      ttItems.push(gTxt);\n    }\n    return ttItems;\n  }\n  addSVGEvents() {\n    const w = this.w;\n    let type = w.config.chart.type;\n    const tooltipEl = this.getElTooltip();\n    const commonBar = !!(type === \"bar\" || type === \"candlestick\" || type === \"boxPlot\" || type === \"rangeBar\");\n    const chartWithmarkers = type === \"area\" || type === \"line\" || type === \"scatter\" || type === \"bubble\" || type === \"radar\";\n    let hoverArea = w.globals.dom.Paper.node;\n    const elGrid = this.getElGrid();\n    if (elGrid) {\n      this.seriesBound = elGrid.getBoundingClientRect();\n    }\n    let tooltipY = [];\n    let tooltipX = [];\n    let seriesHoverParams = {\n      hoverArea,\n      elGrid,\n      tooltipEl,\n      tooltipY,\n      tooltipX,\n      ttItems: this.ttItems\n    };\n    let points;\n    if (w.globals.axisCharts) {\n      if (chartWithmarkers) {\n        points = w.globals.dom.baseEl.querySelectorAll(\n          \".apexcharts-series[data\\\\:longestSeries='true'] .apexcharts-marker\"\n        );\n      } else if (commonBar) {\n        points = w.globals.dom.baseEl.querySelectorAll(\n          \".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area\"\n        );\n      } else if (type === \"heatmap\" || type === \"treemap\") {\n        points = w.globals.dom.baseEl.querySelectorAll(\n          \".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap\"\n        );\n      }\n      if (points && points.length) {\n        for (let p = 0; p < points.length; p++) {\n          tooltipY.push(points[p].getAttribute(\"cy\"));\n          tooltipX.push(points[p].getAttribute(\"cx\"));\n        }\n      }\n    }\n    const validSharedChartTypes = w.globals.xyCharts && !this.showOnIntersect || w.globals.comboCharts && !this.showOnIntersect || commonBar && this.tooltipUtil.hasBars() && this.tConfig.shared;\n    if (validSharedChartTypes) {\n      this.addPathsEventListeners([hoverArea], seriesHoverParams);\n    } else if (commonBar && !w.globals.comboCharts || chartWithmarkers && this.showOnIntersect) {\n      this.addDatapointEventsListeners(seriesHoverParams);\n    } else if (!w.globals.axisCharts || type === \"heatmap\" || type === \"treemap\") {\n      let seriesAll = w.globals.dom.baseEl.querySelectorAll(\".apexcharts-series\");\n      this.addPathsEventListeners(seriesAll, seriesHoverParams);\n    }\n    if (this.showOnIntersect) {\n      let lineAreaPoints = w.globals.dom.baseEl.querySelectorAll(\n        \".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker\"\n      );\n      if (lineAreaPoints.length > 0) {\n        this.addPathsEventListeners(lineAreaPoints, seriesHoverParams);\n      }\n      if (this.tooltipUtil.hasBars() && !this.tConfig.shared) {\n        this.addDatapointEventsListeners(seriesHoverParams);\n      }\n    }\n  }\n  drawFixedTooltipRect() {\n    let w = this.w;\n    const tooltipEl = this.getElTooltip();\n    let tooltipRect = tooltipEl.getBoundingClientRect();\n    let ttWidth = tooltipRect.width + 10;\n    let ttHeight = tooltipRect.height + 10;\n    let x = this.tConfig.fixed.offsetX;\n    let y = this.tConfig.fixed.offsetY;\n    const fixed = this.tConfig.fixed.position.toLowerCase();\n    if (fixed.indexOf(\"right\") > -1) {\n      x = x + w.globals.svgWidth - ttWidth + 10;\n    }\n    if (fixed.indexOf(\"bottom\") > -1) {\n      y = y + w.globals.svgHeight - ttHeight - 10;\n    }\n    tooltipEl.style.left = x + \"px\";\n    tooltipEl.style.top = y + \"px\";\n    return {\n      x,\n      y,\n      ttWidth,\n      ttHeight\n    };\n  }\n  addDatapointEventsListeners(seriesHoverParams) {\n    let w = this.w;\n    let points = w.globals.dom.baseEl.querySelectorAll(\n      \".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area\"\n    );\n    this.addPathsEventListeners(points, seriesHoverParams);\n  }\n  addPathsEventListeners(paths, opts) {\n    let self = this;\n    for (let p = 0; p < paths.length; p++) {\n      let extendedOpts = {\n        paths: paths[p],\n        tooltipEl: opts.tooltipEl,\n        tooltipY: opts.tooltipY,\n        tooltipX: opts.tooltipX,\n        elGrid: opts.elGrid,\n        hoverArea: opts.hoverArea,\n        ttItems: opts.ttItems\n      };\n      let events = [\"mousemove\", \"mouseup\", \"touchmove\", \"mouseout\", \"touchend\"];\n      events.map((ev) => {\n        return paths[p].addEventListener(\n          ev,\n          self.onSeriesHover.bind(self, extendedOpts),\n          { capture: false, passive: true }\n        );\n      });\n    }\n  }\n  /*\n   ** Check to see if the tooltips should be updated based on a mouse / touch event\n   */\n  onSeriesHover(opt, e) {\n    const targetDelay = 20;\n    const timeSinceLastUpdate = Date.now() - this.lastHoverTime;\n    if (timeSinceLastUpdate >= targetDelay) {\n      this.seriesHover(opt, e);\n    } else {\n      clearTimeout(this.seriesHoverTimeout);\n      this.seriesHoverTimeout = setTimeout(() => {\n        this.seriesHover(opt, e);\n      }, targetDelay - timeSinceLastUpdate);\n    }\n  }\n  /*\n   ** The actual series hover function\n   */\n  seriesHover(opt, e) {\n    this.lastHoverTime = Date.now();\n    let chartGroups = [];\n    const w = this.w;\n    if (w.config.chart.group) {\n      chartGroups = this.ctx.getGroupedCharts();\n    }\n    if (w.globals.axisCharts && (w.globals.minX === -Infinity && w.globals.maxX === Infinity || w.globals.dataPoints === 0)) {\n      return;\n    }\n    if (chartGroups.length) {\n      chartGroups.forEach((ch) => {\n        const tooltipEl = this.getElTooltip(ch);\n        const newOpts = {\n          paths: opt.paths,\n          tooltipEl,\n          tooltipY: opt.tooltipY,\n          tooltipX: opt.tooltipX,\n          elGrid: opt.elGrid,\n          hoverArea: opt.hoverArea,\n          ttItems: ch.w.globals.tooltip.ttItems\n        };\n        if (ch.w.globals.minX === this.w.globals.minX && ch.w.globals.maxX === this.w.globals.maxX) {\n          ch.w.globals.tooltip.seriesHoverByContext({\n            chartCtx: ch,\n            ttCtx: ch.w.globals.tooltip,\n            opt: newOpts,\n            e\n          });\n        }\n      });\n    } else {\n      this.seriesHoverByContext({\n        chartCtx: this.ctx,\n        ttCtx: this.w.globals.tooltip,\n        opt,\n        e\n      });\n    }\n  }\n  seriesHoverByContext({ chartCtx, ttCtx, opt, e }) {\n    let w = chartCtx.w;\n    const tooltipEl = this.getElTooltip(chartCtx);\n    if (!tooltipEl) return;\n    const cachedDims = ttCtx.getCachedDimensions();\n    ttCtx.tooltipRect = {\n      x: 0,\n      y: 0,\n      ttWidth: cachedDims.ttWidth,\n      ttHeight: cachedDims.ttHeight\n    };\n    ttCtx.e = e;\n    if (ttCtx.tooltipUtil.hasBars() && !w.globals.comboCharts && !ttCtx.isBarShared) {\n      if (this.tConfig.onDatasetHover.highlightDataSeries) {\n        let series = new Series(chartCtx);\n        series.toggleSeriesOnHover(e, e.target.parentNode);\n      }\n    }\n    if (w.globals.axisCharts) {\n      ttCtx.axisChartsTooltips({\n        e,\n        opt,\n        tooltipRect: ttCtx.tooltipRect\n      });\n    } else {\n      ttCtx.nonAxisChartsTooltips({\n        e,\n        opt,\n        tooltipRect: ttCtx.tooltipRect\n      });\n    }\n    if (ttCtx.fixedTooltip) {\n      ttCtx.drawFixedTooltipRect();\n    }\n  }\n  // tooltip handling for line/area/bar/columns/scatter\n  axisChartsTooltips({ e, opt }) {\n    let w = this.w;\n    let x, y;\n    let seriesBound = opt.elGrid.getBoundingClientRect();\n    const clientX = e.type === \"touchmove\" ? e.touches[0].clientX : e.clientX;\n    const clientY = e.type === \"touchmove\" ? e.touches[0].clientY : e.clientY;\n    this.clientY = clientY;\n    this.clientX = clientX;\n    w.globals.capturedSeriesIndex = -1;\n    w.globals.capturedDataPointIndex = -1;\n    if (clientY < seriesBound.top || clientY > seriesBound.top + seriesBound.height) {\n      this.handleMouseOut(opt);\n      return;\n    }\n    if (Array.isArray(this.tConfig.enabledOnSeries) && !w.config.tooltip.shared) {\n      const index = parseInt(opt.paths.getAttribute(\"index\"), 10);\n      if (this.tConfig.enabledOnSeries.indexOf(index) < 0) {\n        this.handleMouseOut(opt);\n        return;\n      }\n    }\n    const tooltipEl = this.getElTooltip();\n    const xcrosshairs = this.getElXCrosshairs();\n    let syncedCharts = [];\n    if (w.config.chart.group) {\n      syncedCharts = this.ctx.getSyncedCharts();\n    }\n    let isStickyTooltip = w.globals.xyCharts || w.config.chart.type === \"bar\" && !w.globals.isBarHorizontal && this.tooltipUtil.hasBars() && this.tConfig.shared || w.globals.comboCharts && this.tooltipUtil.hasBars();\n    if (e.type === \"mousemove\" || e.type === \"touchmove\" || e.type === \"mouseup\") {\n      if (w.globals.collapsedSeries.length + w.globals.ancillaryCollapsedSeries.length === w.globals.series.length) {\n        return;\n      }\n      if (xcrosshairs !== null) {\n        xcrosshairs.classList.add(\"apexcharts-active\");\n      }\n      const hasYAxisTooltip = this.yaxisTooltips.filter((b) => {\n        return b === true;\n      });\n      if (this.ycrosshairs !== null && hasYAxisTooltip.length) {\n        this.ycrosshairs.classList.add(\"apexcharts-active\");\n      }\n      if (isStickyTooltip && !this.showOnIntersect || syncedCharts.length > 1) {\n        this.handleStickyTooltip(e, clientX, clientY, opt);\n      } else {\n        if (w.config.chart.type === \"heatmap\" || w.config.chart.type === \"treemap\") {\n          let markerXY = this.intersect.handleHeatTreeTooltip({\n            e,\n            opt,\n            x,\n            y,\n            type: w.config.chart.type\n          });\n          x = markerXY.x;\n          y = markerXY.y;\n          tooltipEl.style.left = x + \"px\";\n          tooltipEl.style.top = y + \"px\";\n        } else {\n          if (this.tooltipUtil.hasBars()) {\n            this.intersect.handleBarTooltip({\n              e,\n              opt\n            });\n          }\n          if (this.tooltipUtil.hasMarkers()) {\n            this.intersect.handleMarkerTooltip({\n              e,\n              opt,\n              x,\n              y\n            });\n          }\n        }\n      }\n      if (this.yaxisTooltips.length) {\n        for (let yt = 0; yt < w.config.yaxis.length; yt++) {\n          this.axesTooltip.drawYaxisTooltipText(yt, clientY, this.xyRatios);\n        }\n      }\n      w.globals.dom.baseEl.classList.add(\"apexcharts-tooltip-active\");\n      opt.tooltipEl.classList.add(\"apexcharts-active\");\n      if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n        opt.tooltipEl.removeAttribute(\"aria-hidden\");\n      }\n    } else if (e.type === \"mouseout\" || e.type === \"touchend\") {\n      this.handleMouseOut(opt);\n    }\n  }\n  // tooltip handling for pie/donuts\n  nonAxisChartsTooltips({ e, opt, tooltipRect }) {\n    let w = this.w;\n    let rel = opt.paths.getAttribute(\"rel\");\n    const tooltipEl = this.getElTooltip();\n    let seriesBound = w.globals.dom.elWrap.getBoundingClientRect();\n    if (e.type === \"mousemove\" || e.type === \"touchmove\") {\n      w.globals.dom.baseEl.classList.add(\"apexcharts-tooltip-active\");\n      tooltipEl.classList.add(\"apexcharts-active\");\n      if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n        tooltipEl.removeAttribute(\"aria-hidden\");\n      }\n      this.tooltipLabels.drawSeriesTexts({\n        ttItems: opt.ttItems,\n        i: parseInt(rel, 10) - 1,\n        shared: false\n      });\n      let x = w.globals.clientX - seriesBound.left - tooltipRect.ttWidth / 2;\n      let y = w.globals.clientY - seriesBound.top - tooltipRect.ttHeight - 10;\n      tooltipEl.style.left = x + \"px\";\n      tooltipEl.style.top = y + \"px\";\n      if (w.config.legend.tooltipHoverFormatter) {\n        let legendFormatter = w.config.legend.tooltipHoverFormatter;\n        const i = rel - 1;\n        const legendName = this.legendLabels[i].getAttribute(\"data:default-text\");\n        let text = legendFormatter(legendName, {\n          seriesIndex: i,\n          dataPointIndex: i,\n          w\n        });\n        this.legendLabels[i].innerHTML = text;\n      }\n    } else if (e.type === \"mouseout\" || e.type === \"touchend\") {\n      tooltipEl.classList.remove(\"apexcharts-active\");\n      w.globals.dom.baseEl.classList.remove(\"apexcharts-tooltip-active\");\n      if (w.config.legend.tooltipHoverFormatter) {\n        this.legendLabels.forEach((l) => {\n          const defaultText = l.getAttribute(\"data:default-text\");\n          l.innerHTML = decodeURIComponent(defaultText);\n        });\n      }\n    }\n  }\n  handleStickyTooltip(e, clientX, clientY, opt) {\n    const w = this.w;\n    let capj = this.tooltipUtil.getNearestValues({\n      context: this,\n      hoverArea: opt.hoverArea,\n      elGrid: opt.elGrid,\n      clientX,\n      clientY\n    });\n    let j = capj.j;\n    let capturedSeries = capj.capturedSeries;\n    if (w.globals.collapsedSeriesIndices.includes(capturedSeries))\n      capturedSeries = null;\n    const bounds = opt.elGrid.getBoundingClientRect();\n    if (capj.hoverX < 0 || capj.hoverX > bounds.width) {\n      this.handleMouseOut(opt);\n      return;\n    }\n    if (capturedSeries !== null) {\n      this.handleStickyCapturedSeries(e, capturedSeries, opt, j);\n    } else {\n      if (this.tooltipUtil.isXoverlap(j) || w.globals.isBarHorizontal) {\n        const firstVisibleSeries = w.globals.series.findIndex(\n          (s, i) => !w.globals.collapsedSeriesIndices.includes(i)\n        );\n        this.create(e, this, firstVisibleSeries, j, opt.ttItems);\n      }\n    }\n  }\n  handleStickyCapturedSeries(e, capturedSeries, opt, j) {\n    const w = this.w;\n    if (!this.tConfig.shared) {\n      let ignoreNull = w.globals.series[capturedSeries][j] === null;\n      if (ignoreNull) {\n        this.handleMouseOut(opt);\n        return;\n      }\n    }\n    if (typeof w.globals.series[capturedSeries][j] !== \"undefined\") {\n      if (this.tConfig.shared && this.tooltipUtil.isXoverlap(j) && this.tooltipUtil.isInitialSeriesSameLen()) {\n        this.create(e, this, capturedSeries, j, opt.ttItems);\n      } else {\n        this.create(e, this, capturedSeries, j, opt.ttItems, false);\n      }\n    } else {\n      if (this.tooltipUtil.isXoverlap(j)) {\n        const firstVisibleSeries = w.globals.series.findIndex(\n          (s, i) => !w.globals.collapsedSeriesIndices.includes(i)\n        );\n        this.create(e, this, firstVisibleSeries, j, opt.ttItems);\n      }\n    }\n  }\n  deactivateHoverFilter() {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let allPaths = w.globals.dom.Paper.find(`.apexcharts-bar-area`);\n    for (let b = 0; b < allPaths.length; b++) {\n      graphics.pathMouseLeave(allPaths[b]);\n    }\n  }\n  handleMouseOut(opt) {\n    const w = this.w;\n    const xcrosshairs = this.getElXCrosshairs();\n    w.globals.dom.baseEl.classList.remove(\"apexcharts-tooltip-active\");\n    opt.tooltipEl.classList.remove(\"apexcharts-active\");\n    if (w.config.chart.accessibility.enabled && w.config.chart.accessibility.announcements.enabled) {\n      opt.tooltipEl.setAttribute(\"aria-hidden\", \"true\");\n    }\n    this.deactivateHoverFilter();\n    if (w.config.chart.type !== \"bubble\") {\n      this.marker.resetPointsSize();\n    }\n    if (xcrosshairs !== null) {\n      xcrosshairs.classList.remove(\"apexcharts-active\");\n    }\n    if (this.ycrosshairs !== null) {\n      this.ycrosshairs.classList.remove(\"apexcharts-active\");\n    }\n    if (this.isXAxisTooltipEnabled) {\n      this.xaxisTooltip.classList.remove(\"apexcharts-active\");\n    }\n    if (this.yaxisTooltips.length) {\n      if (this.yaxisTTEls === null) {\n        this.yaxisTTEls = w.globals.dom.baseEl.querySelectorAll(\n          \".apexcharts-yaxistooltip\"\n        );\n      }\n      for (let i = 0; i < this.yaxisTTEls.length; i++) {\n        this.yaxisTTEls[i].classList.remove(\"apexcharts-active\");\n      }\n    }\n    if (w.config.legend.tooltipHoverFormatter) {\n      this.legendLabels.forEach((l) => {\n        const defaultText = l.getAttribute(\"data:default-text\");\n        l.innerHTML = decodeURIComponent(defaultText);\n      });\n    }\n  }\n  markerClick(e, seriesIndex, dataPointIndex) {\n    const w = this.w;\n    if (typeof w.config.chart.events.markerClick === \"function\") {\n      w.config.chart.events.markerClick(e, this.ctx, {\n        seriesIndex,\n        dataPointIndex,\n        w\n      });\n    }\n    this.ctx.events.fireEvent(\"markerClick\", [\n      e,\n      this.ctx,\n      { seriesIndex, dataPointIndex, w }\n    ]);\n  }\n  create(e, context, capturedSeries, j, ttItems, shared = null) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p;\n    let w = this.w;\n    let ttCtx = context;\n    if (e.type === \"mouseup\") {\n      this.markerClick(e, capturedSeries, j);\n    }\n    if (shared === null) shared = this.tConfig.shared;\n    const hasMarkers = this.tooltipUtil.hasMarkers(capturedSeries);\n    const bars = this.tooltipUtil.getElBars();\n    const handlePoints = () => {\n      if (w.globals.markers.largestSize > 0) {\n        ttCtx.marker.enlargePoints(j);\n      } else {\n        ttCtx.tooltipPosition.moveDynamicPointsOnHover(j);\n      }\n    };\n    if (w.config.legend.tooltipHoverFormatter) {\n      let legendFormatter = w.config.legend.tooltipHoverFormatter;\n      let els = Array.from(this.legendLabels);\n      els.forEach((l) => {\n        const legendName = l.getAttribute(\"data:default-text\");\n        l.innerHTML = decodeURIComponent(legendName);\n      });\n      for (let i = 0; i < els.length; i++) {\n        const l = els[i];\n        const lsIndex = parseInt(l.getAttribute(\"i\"), 10);\n        const legendName = decodeURIComponent(\n          l.getAttribute(\"data:default-text\")\n        );\n        let text = legendFormatter(legendName, {\n          seriesIndex: shared ? lsIndex : capturedSeries,\n          dataPointIndex: j,\n          w\n        });\n        if (!shared) {\n          l.innerHTML = lsIndex === capturedSeries ? text : legendName;\n          if (capturedSeries === lsIndex) {\n            break;\n          }\n        } else {\n          l.innerHTML = w.globals.collapsedSeriesIndices.indexOf(lsIndex) < 0 ? text : legendName;\n        }\n      }\n    }\n    const commonSeriesTextsParams = __spreadValues(__spreadValues({\n      ttItems,\n      i: capturedSeries,\n      j\n    }, typeof ((_d = (_c = (_b = (_a = w.globals.seriesRange) == null ? void 0 : _a[capturedSeries]) == null ? void 0 : _b[j]) == null ? void 0 : _c.y[0]) == null ? void 0 : _d.y1) !== \"undefined\" && {\n      y1: (_h = (_g = (_f = (_e = w.globals.seriesRange) == null ? void 0 : _e[capturedSeries]) == null ? void 0 : _f[j]) == null ? void 0 : _g.y[0]) == null ? void 0 : _h.y1\n    }), typeof ((_l = (_k = (_j = (_i = w.globals.seriesRange) == null ? void 0 : _i[capturedSeries]) == null ? void 0 : _j[j]) == null ? void 0 : _k.y[0]) == null ? void 0 : _l.y2) !== \"undefined\" && {\n      y2: (_p = (_o = (_n = (_m = w.globals.seriesRange) == null ? void 0 : _m[capturedSeries]) == null ? void 0 : _n[j]) == null ? void 0 : _o.y[0]) == null ? void 0 : _p.y2\n    });\n    if (shared) {\n      ttCtx.tooltipLabels.drawSeriesTexts(__spreadProps(__spreadValues({}, commonSeriesTextsParams), {\n        shared: this.showOnIntersect ? false : this.tConfig.shared\n      }));\n      if (hasMarkers) {\n        handlePoints();\n      } else if (this.tooltipUtil.hasBars()) {\n        this.barSeriesHeight = this.tooltipUtil.getBarsHeight(bars);\n        if (this.barSeriesHeight > 0) {\n          let graphics = new Graphics(this.ctx);\n          let paths = w.globals.dom.Paper.find(`.apexcharts-bar-area[j='${j}']`);\n          this.deactivateHoverFilter();\n          let points = ttCtx.tooltipUtil.getAllMarkers(true);\n          if (points.length && !this.barSeriesHeight) {\n            handlePoints();\n          }\n          ttCtx.tooltipPosition.moveStickyTooltipOverBars(j, capturedSeries);\n          for (let b = 0; b < paths.length; b++) {\n            graphics.pathMouseEnter(paths[b]);\n          }\n        }\n      }\n    } else {\n      ttCtx.tooltipLabels.drawSeriesTexts(__spreadValues({\n        shared: false\n      }, commonSeriesTextsParams));\n      if (this.tooltipUtil.hasBars()) {\n        ttCtx.tooltipPosition.moveStickyTooltipOverBars(j, capturedSeries);\n      }\n      if (hasMarkers) {\n        ttCtx.tooltipPosition.moveMarkers(capturedSeries, j);\n      }\n    }\n  }\n}\nconst MINUTES_IN_DAY = 24 * 60;\nconst SECONDS_IN_DAY = MINUTES_IN_DAY * 60;\nconst MIN_ZOOM_DAYS = 10 / SECONDS_IN_DAY;\nclass TimeScale {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.timeScaleArray = [];\n    this.utc = this.w.config.xaxis.labels.datetimeUTC;\n  }\n  calculateTimeScaleTicks(minX, maxX) {\n    let w = this.w;\n    if (w.globals.allSeriesCollapsed) {\n      w.globals.labels = [];\n      w.globals.timescaleLabels = [];\n      return [];\n    }\n    let dt = new DateTime(this.ctx);\n    const daysDiff = (maxX - minX) / (1e3 * SECONDS_IN_DAY);\n    this.determineInterval(daysDiff);\n    w.globals.disableZoomIn = false;\n    w.globals.disableZoomOut = false;\n    if (daysDiff < MIN_ZOOM_DAYS) {\n      w.globals.disableZoomIn = true;\n    } else if (daysDiff > 5e4) {\n      w.globals.disableZoomOut = true;\n    }\n    const timeIntervals = dt.getTimeUnitsfromTimestamp(minX, maxX, this.utc);\n    const daysWidthOnXAxis = w.globals.gridWidth / daysDiff;\n    const hoursWidthOnXAxis = daysWidthOnXAxis / 24;\n    const minutesWidthOnXAxis = hoursWidthOnXAxis / 60;\n    const secondsWidthOnXAxis = minutesWidthOnXAxis / 60;\n    let numberOfHours = Math.floor(daysDiff * 24);\n    let numberOfMinutes = Math.floor(daysDiff * MINUTES_IN_DAY);\n    let numberOfSeconds = Math.floor(daysDiff * SECONDS_IN_DAY);\n    let numberOfDays = Math.floor(daysDiff);\n    let numberOfMonths = Math.floor(daysDiff / 30);\n    let numberOfYears = Math.floor(daysDiff / 365);\n    const firstVal = {\n      minMillisecond: timeIntervals.minMillisecond,\n      minSecond: timeIntervals.minSecond,\n      minMinute: timeIntervals.minMinute,\n      minHour: timeIntervals.minHour,\n      minDate: timeIntervals.minDate,\n      minMonth: timeIntervals.minMonth,\n      minYear: timeIntervals.minYear\n    };\n    let currentMillisecond = firstVal.minMillisecond;\n    let currentSecond = firstVal.minSecond;\n    let currentMinute = firstVal.minMinute;\n    let currentHour = firstVal.minHour;\n    let currentMonthDate = firstVal.minDate;\n    let currentDate = firstVal.minDate;\n    let currentMonth = firstVal.minMonth;\n    let currentYear = firstVal.minYear;\n    const params = {\n      firstVal,\n      currentMillisecond,\n      currentSecond,\n      currentMinute,\n      currentHour,\n      currentMonthDate,\n      currentDate,\n      currentMonth,\n      currentYear,\n      daysWidthOnXAxis,\n      hoursWidthOnXAxis,\n      minutesWidthOnXAxis,\n      secondsWidthOnXAxis,\n      numberOfSeconds,\n      numberOfMinutes,\n      numberOfHours,\n      numberOfDays,\n      numberOfMonths,\n      numberOfYears\n    };\n    switch (this.tickInterval) {\n      case \"years\": {\n        this.generateYearScale(params);\n        break;\n      }\n      case \"months\":\n      case \"half_year\": {\n        this.generateMonthScale(params);\n        break;\n      }\n      case \"months_days\":\n      case \"months_fortnight\":\n      case \"days\":\n      case \"week_days\": {\n        this.generateDayScale(params);\n        break;\n      }\n      case \"hours\": {\n        this.generateHourScale(params);\n        break;\n      }\n      case \"minutes_fives\":\n      case \"minutes\":\n        this.generateMinuteScale(params);\n        break;\n      case \"seconds_tens\":\n      case \"seconds_fives\":\n      case \"seconds\":\n        this.generateSecondScale(params);\n        break;\n    }\n    const adjustedMonthInTimeScaleArray = this.timeScaleArray.map((ts) => {\n      let defaultReturn = {\n        position: ts.position,\n        unit: ts.unit,\n        year: ts.year,\n        day: ts.day ? ts.day : 1,\n        hour: ts.hour ? ts.hour : 0,\n        month: ts.month + 1\n      };\n      if (ts.unit === \"month\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          day: 1,\n          value: ts.value + 1\n        });\n      } else if (ts.unit === \"day\" || ts.unit === \"hour\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          value: ts.value\n        });\n      } else if (ts.unit === \"minute\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          value: ts.value,\n          minute: ts.value\n        });\n      } else if (ts.unit === \"second\") {\n        return __spreadProps(__spreadValues({}, defaultReturn), {\n          value: ts.value,\n          minute: ts.minute,\n          second: ts.second\n        });\n      }\n      return ts;\n    });\n    const filteredTimeScale = adjustedMonthInTimeScaleArray.filter((ts) => {\n      let modulo = 1;\n      let ticks = Math.ceil(w.globals.gridWidth / 120);\n      let value = ts.value;\n      if (w.config.xaxis.tickAmount !== void 0) {\n        ticks = w.config.xaxis.tickAmount;\n      }\n      if (adjustedMonthInTimeScaleArray.length > ticks) {\n        modulo = Math.floor(adjustedMonthInTimeScaleArray.length / ticks);\n      }\n      let shouldNotSkipUnit = false;\n      let shouldNotPrint = false;\n      switch (this.tickInterval) {\n        case \"years\":\n          if (ts.unit === \"year\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"half_year\":\n          modulo = 7;\n          if (ts.unit === \"year\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"months\":\n          modulo = 1;\n          if (ts.unit === \"year\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"months_fortnight\":\n          modulo = 15;\n          if (ts.unit === \"year\" || ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          if (value === 30) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"months_days\":\n          modulo = 10;\n          if (ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          if (value === 30) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"week_days\":\n          modulo = 8;\n          if (ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"days\":\n          modulo = 1;\n          if (ts.unit === \"month\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"hours\":\n          if (ts.unit === \"day\") {\n            shouldNotSkipUnit = true;\n          }\n          break;\n        case \"minutes_fives\":\n          if (value % 5 !== 0) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"seconds_tens\":\n          if (value % 10 !== 0) {\n            shouldNotPrint = true;\n          }\n          break;\n        case \"seconds_fives\":\n          if (value % 5 !== 0) {\n            shouldNotPrint = true;\n          }\n          break;\n      }\n      if (this.tickInterval === \"hours\" || this.tickInterval === \"minutes_fives\" || this.tickInterval === \"seconds_tens\" || this.tickInterval === \"seconds_fives\") {\n        if (!shouldNotPrint) {\n          return true;\n        }\n      } else {\n        if ((value % modulo === 0 || shouldNotSkipUnit) && !shouldNotPrint) {\n          return true;\n        }\n      }\n    });\n    return filteredTimeScale;\n  }\n  recalcDimensionsBasedOnFormat(filteredTimeScale) {\n    const w = this.w;\n    const reformattedTimescaleArray = this.formatDates(filteredTimeScale);\n    const removedOverlappingTS = this.removeOverlappingTS(\n      reformattedTimescaleArray\n    );\n    w.globals.timescaleLabels = removedOverlappingTS.slice();\n    let dimensions = new Dimensions(this.ctx);\n    dimensions.plotCoords();\n  }\n  determineInterval(daysDiff) {\n    const yearsDiff = daysDiff / 365;\n    const hoursDiff = daysDiff * 24;\n    const minutesDiff = hoursDiff * 60;\n    const secondsDiff = minutesDiff * 60;\n    switch (true) {\n      case yearsDiff > 5:\n        this.tickInterval = \"years\";\n        break;\n      case daysDiff > 800:\n        this.tickInterval = \"half_year\";\n        break;\n      case daysDiff > 180:\n        this.tickInterval = \"months\";\n        break;\n      case daysDiff > 90:\n        this.tickInterval = \"months_fortnight\";\n        break;\n      case daysDiff > 60:\n        this.tickInterval = \"months_days\";\n        break;\n      case daysDiff > 30:\n        this.tickInterval = \"week_days\";\n        break;\n      case daysDiff > 2:\n        this.tickInterval = \"days\";\n        break;\n      case hoursDiff > 2.4:\n        this.tickInterval = \"hours\";\n        break;\n      case minutesDiff > 15:\n        this.tickInterval = \"minutes_fives\";\n        break;\n      case minutesDiff > 5:\n        this.tickInterval = \"minutes\";\n        break;\n      case minutesDiff > 1:\n        this.tickInterval = \"seconds_tens\";\n        break;\n      case secondsDiff > 20:\n        this.tickInterval = \"seconds_fives\";\n        break;\n      default:\n        this.tickInterval = \"seconds\";\n        break;\n    }\n  }\n  generateYearScale({\n    firstVal,\n    currentMonth,\n    currentYear,\n    daysWidthOnXAxis,\n    numberOfYears\n  }) {\n    let firstTickValue = firstVal.minYear;\n    let firstTickPosition = 0;\n    const dt = new DateTime(this.ctx);\n    let unit = \"year\";\n    if (firstVal.minDate > 1 || firstVal.minMonth > 0) {\n      let remainingDays = dt.determineRemainingDaysOfYear(\n        firstVal.minYear,\n        firstVal.minMonth,\n        firstVal.minDate\n      );\n      let remainingDaysOfFirstYear = dt.determineDaysOfYear(firstVal.minYear) - remainingDays + 1;\n      firstTickPosition = remainingDaysOfFirstYear * daysWidthOnXAxis;\n      firstTickValue = firstVal.minYear + 1;\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value: firstTickValue,\n        unit,\n        year: firstTickValue,\n        month: Utils$1.monthMod(currentMonth + 1)\n      });\n    } else if (firstVal.minDate === 1 && firstVal.minMonth === 0) {\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value: firstTickValue,\n        unit,\n        year: currentYear,\n        month: Utils$1.monthMod(currentMonth + 1)\n      });\n    }\n    let year = firstTickValue;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfYears; i++) {\n      year++;\n      pos = dt.determineDaysOfYear(year - 1) * daysWidthOnXAxis + pos;\n      this.timeScaleArray.push({\n        position: pos,\n        value: year,\n        unit,\n        year,\n        month: 1\n      });\n    }\n  }\n  generateMonthScale({\n    firstVal,\n    currentMonthDate,\n    currentMonth,\n    currentYear,\n    daysWidthOnXAxis,\n    numberOfMonths\n  }) {\n    let firstTickValue = currentMonth;\n    let firstTickPosition = 0;\n    const dt = new DateTime(this.ctx);\n    let unit = \"month\";\n    let yrCounter = 0;\n    if (firstVal.minDate > 1) {\n      let remainingDaysOfFirstMonth = dt.determineDaysOfMonths(currentMonth + 1, firstVal.minYear) - currentMonthDate + 1;\n      firstTickPosition = remainingDaysOfFirstMonth * daysWidthOnXAxis;\n      firstTickValue = Utils$1.monthMod(currentMonth + 1);\n      let year = currentYear + yrCounter;\n      let month2 = Utils$1.monthMod(firstTickValue);\n      let value = firstTickValue;\n      if (firstTickValue === 0) {\n        unit = \"year\";\n        value = year;\n        month2 = 1;\n        yrCounter += 1;\n        year = year + yrCounter;\n      }\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value,\n        unit,\n        year,\n        month: month2\n      });\n    } else {\n      this.timeScaleArray.push({\n        position: firstTickPosition,\n        value: firstTickValue,\n        unit,\n        year: currentYear,\n        month: Utils$1.monthMod(currentMonth)\n      });\n    }\n    let month = firstTickValue + 1;\n    let pos = firstTickPosition;\n    for (let i = 0, j = 1; i < numberOfMonths; i++, j++) {\n      month = Utils$1.monthMod(month);\n      if (month === 0) {\n        unit = \"year\";\n        yrCounter += 1;\n      } else {\n        unit = \"month\";\n      }\n      let year = this._getYear(currentYear, month, yrCounter);\n      pos = dt.determineDaysOfMonths(month, year) * daysWidthOnXAxis + pos;\n      let monthVal = month === 0 ? year : month;\n      this.timeScaleArray.push({\n        position: pos,\n        value: monthVal,\n        unit,\n        year,\n        month: month === 0 ? 1 : month\n      });\n      month++;\n    }\n  }\n  generateDayScale({\n    firstVal,\n    currentMonth,\n    currentYear,\n    hoursWidthOnXAxis,\n    numberOfDays\n  }) {\n    const dt = new DateTime(this.ctx);\n    let unit = \"day\";\n    let firstTickValue = firstVal.minDate + 1;\n    let date = firstTickValue;\n    const changeMonth = (dateVal, month2, year) => {\n      let monthdays = dt.determineDaysOfMonths(month2 + 1, year);\n      if (dateVal > monthdays) {\n        month2 = month2 + 1;\n        date = 1;\n        unit = \"month\";\n        val = month2;\n        return month2;\n      }\n      return month2;\n    };\n    let remainingHours = 24 - firstVal.minHour;\n    let yrCounter = 0;\n    let firstTickPosition = remainingHours * hoursWidthOnXAxis;\n    let val = firstTickValue;\n    let month = changeMonth(date, currentMonth, currentYear);\n    if (firstVal.minHour === 0 && firstVal.minDate === 1) {\n      firstTickPosition = 0;\n      val = Utils$1.monthMod(firstVal.minMonth);\n      unit = \"month\";\n      date = firstVal.minDate;\n    } else if (firstVal.minDate !== 1 && firstVal.minHour === 0 && firstVal.minMinute === 0) {\n      firstTickPosition = 0;\n      firstTickValue = firstVal.minDate;\n      date = firstTickValue;\n      val = firstTickValue;\n      month = changeMonth(date, currentMonth, currentYear);\n      if (val !== 1) {\n        unit = \"day\";\n      }\n    }\n    this.timeScaleArray.push({\n      position: firstTickPosition,\n      value: val,\n      unit,\n      year: this._getYear(currentYear, month, yrCounter),\n      month: Utils$1.monthMod(month),\n      day: date\n    });\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfDays; i++) {\n      date += 1;\n      unit = \"day\";\n      month = changeMonth(\n        date,\n        month,\n        this._getYear(currentYear, month, yrCounter)\n      );\n      let year = this._getYear(currentYear, month, yrCounter);\n      pos = 24 * hoursWidthOnXAxis + pos;\n      let value = date === 1 ? Utils$1.monthMod(month) : date;\n      this.timeScaleArray.push({\n        position: pos,\n        value,\n        unit,\n        year,\n        month: Utils$1.monthMod(month),\n        day: value\n      });\n    }\n  }\n  generateHourScale({\n    firstVal,\n    currentDate,\n    currentMonth,\n    currentYear,\n    minutesWidthOnXAxis,\n    numberOfHours\n  }) {\n    const dt = new DateTime(this.ctx);\n    let yrCounter = 0;\n    let unit = \"hour\";\n    const changeDate = (dateVal, month2) => {\n      let monthdays = dt.determineDaysOfMonths(month2 + 1, currentYear);\n      if (dateVal > monthdays) {\n        date = 1;\n        month2 = month2 + 1;\n      }\n      return { month: month2, date };\n    };\n    const changeMonth = (dateVal, month2) => {\n      let monthdays = dt.determineDaysOfMonths(month2 + 1, currentYear);\n      if (dateVal > monthdays) {\n        month2 = month2 + 1;\n        return month2;\n      }\n      return month2;\n    };\n    let remainingMins = 60 - (firstVal.minMinute + firstVal.minSecond / 60);\n    let firstTickPosition = remainingMins * minutesWidthOnXAxis;\n    let firstTickValue = firstVal.minHour + 1;\n    let hour = firstTickValue;\n    if (remainingMins === 60) {\n      firstTickPosition = 0;\n      firstTickValue = firstVal.minHour;\n      hour = firstTickValue;\n    }\n    let date = currentDate;\n    if (hour >= 24) {\n      hour = 0;\n      date += 1;\n      unit = \"day\";\n      firstTickValue = date;\n    }\n    const checkNextMonth = changeDate(date, currentMonth);\n    let month = checkNextMonth.month;\n    month = changeMonth(date, month);\n    if (firstTickValue > 31) {\n      date = 1;\n      firstTickValue = date;\n    }\n    this.timeScaleArray.push({\n      position: firstTickPosition,\n      value: firstTickValue,\n      unit,\n      day: date,\n      hour,\n      year: currentYear,\n      month: Utils$1.monthMod(month)\n    });\n    hour++;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfHours; i++) {\n      unit = \"hour\";\n      if (hour >= 24) {\n        hour = 0;\n        date += 1;\n        unit = \"day\";\n        const checkNextMonth2 = changeDate(date, month);\n        month = checkNextMonth2.month;\n        month = changeMonth(date, month);\n      }\n      let year = this._getYear(currentYear, month, yrCounter);\n      pos = 60 * minutesWidthOnXAxis + pos;\n      let val = hour === 0 ? date : hour;\n      this.timeScaleArray.push({\n        position: pos,\n        value: val,\n        unit,\n        hour,\n        day: date,\n        year,\n        month: Utils$1.monthMod(month)\n      });\n      hour++;\n    }\n  }\n  generateMinuteScale({\n    currentMillisecond,\n    currentSecond,\n    currentMinute,\n    currentHour,\n    currentDate,\n    currentMonth,\n    currentYear,\n    minutesWidthOnXAxis,\n    secondsWidthOnXAxis,\n    numberOfMinutes\n  }) {\n    let yrCounter = 0;\n    let unit = \"minute\";\n    let remainingSecs = 60 - currentSecond;\n    let firstTickPosition = (remainingSecs - currentMillisecond / 1e3) * secondsWidthOnXAxis;\n    let minute = currentMinute + 1;\n    let date = currentDate;\n    let month = currentMonth;\n    let year = currentYear;\n    let hour = currentHour;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfMinutes; i++) {\n      if (minute >= 60) {\n        minute = 0;\n        hour += 1;\n        if (hour === 24) {\n          hour = 0;\n        }\n      }\n      this.timeScaleArray.push({\n        position: pos,\n        value: minute,\n        unit,\n        hour,\n        minute,\n        day: date,\n        year: this._getYear(year, month, yrCounter),\n        month: Utils$1.monthMod(month)\n      });\n      pos += minutesWidthOnXAxis;\n      minute++;\n    }\n  }\n  generateSecondScale({\n    currentMillisecond,\n    currentSecond,\n    currentMinute,\n    currentHour,\n    currentDate,\n    currentMonth,\n    currentYear,\n    secondsWidthOnXAxis,\n    numberOfSeconds\n  }) {\n    let yrCounter = 0;\n    let unit = \"second\";\n    const remainingMillisecs = 1e3 - currentMillisecond;\n    let firstTickPosition = remainingMillisecs / 1e3 * secondsWidthOnXAxis;\n    let second = currentSecond + 1;\n    let minute = currentMinute;\n    let date = currentDate;\n    let month = currentMonth;\n    let year = currentYear;\n    let hour = currentHour;\n    let pos = firstTickPosition;\n    for (let i = 0; i < numberOfSeconds; i++) {\n      if (second >= 60) {\n        minute++;\n        second = 0;\n        if (minute >= 60) {\n          hour++;\n          minute = 0;\n          if (hour === 24) {\n            hour = 0;\n          }\n        }\n      }\n      this.timeScaleArray.push({\n        position: pos,\n        value: second,\n        unit,\n        hour,\n        minute,\n        second,\n        day: date,\n        year: this._getYear(year, month, yrCounter),\n        month: Utils$1.monthMod(month)\n      });\n      pos += secondsWidthOnXAxis;\n      second++;\n    }\n  }\n  createRawDateString(ts, value) {\n    let raw = ts.year;\n    if (ts.month === 0) {\n      ts.month = 1;\n    }\n    raw += \"-\" + (\"0\" + ts.month.toString()).slice(-2);\n    if (ts.unit === \"day\") {\n      raw += ts.unit === \"day\" ? \"-\" + (\"0\" + value).slice(-2) : \"-01\";\n    } else {\n      raw += \"-\" + (\"0\" + (ts.day ? ts.day : \"1\")).slice(-2);\n    }\n    if (ts.unit === \"hour\") {\n      raw += ts.unit === \"hour\" ? \"T\" + (\"0\" + value).slice(-2) : \"T00\";\n    } else {\n      raw += \"T\" + (\"0\" + (ts.hour ? ts.hour : \"0\")).slice(-2);\n    }\n    if (ts.unit === \"minute\") {\n      raw += \":\" + (\"0\" + value).slice(-2);\n    } else {\n      raw += \":\" + (ts.minute ? (\"0\" + ts.minute).slice(-2) : \"00\");\n    }\n    if (ts.unit === \"second\") {\n      raw += \":\" + (\"0\" + value).slice(-2);\n    } else {\n      raw += \":00\";\n    }\n    if (this.utc) {\n      raw += \".000Z\";\n    }\n    return raw;\n  }\n  formatDates(filteredTimeScale) {\n    const w = this.w;\n    const reformattedTimescaleArray = filteredTimeScale.map((ts) => {\n      let value = ts.value.toString();\n      let dt = new DateTime(this.ctx);\n      const raw = this.createRawDateString(ts, value);\n      let dateToFormat = dt.getDate(dt.parseDate(raw));\n      if (!this.utc) {\n        dateToFormat = dt.getDate(dt.parseDateWithTimezone(raw));\n      }\n      if (w.config.xaxis.labels.format === void 0) {\n        let customFormat = \"dd MMM\";\n        const dtFormatter = w.config.xaxis.labels.datetimeFormatter;\n        if (ts.unit === \"year\") customFormat = dtFormatter.year;\n        if (ts.unit === \"month\") customFormat = dtFormatter.month;\n        if (ts.unit === \"day\") customFormat = dtFormatter.day;\n        if (ts.unit === \"hour\") customFormat = dtFormatter.hour;\n        if (ts.unit === \"minute\") customFormat = dtFormatter.minute;\n        if (ts.unit === \"second\") customFormat = dtFormatter.second;\n        value = dt.formatDate(dateToFormat, customFormat);\n      } else {\n        value = dt.formatDate(dateToFormat, w.config.xaxis.labels.format);\n      }\n      return {\n        dateString: raw,\n        position: ts.position,\n        value,\n        unit: ts.unit,\n        year: ts.year,\n        month: ts.month\n      };\n    });\n    return reformattedTimescaleArray;\n  }\n  removeOverlappingTS(arr) {\n    const graphics = new Graphics(this.ctx);\n    let equalLabelLengthFlag = false;\n    let constantLabelWidth;\n    if (arr.length > 0 && // check arr length\n    arr[0].value && // check arr[0] contains value\n    arr.every((lb) => lb.value.length === arr[0].value.length)) {\n      equalLabelLengthFlag = true;\n      constantLabelWidth = graphics.getTextRects(arr[0].value).width;\n    }\n    let lastDrawnIndex = 0;\n    let filteredArray = arr.map((item, index) => {\n      if (index > 0 && this.w.config.xaxis.labels.hideOverlappingLabels) {\n        const prevLabelWidth = !equalLabelLengthFlag ? graphics.getTextRects(arr[lastDrawnIndex].value).width : constantLabelWidth;\n        const prevPos = arr[lastDrawnIndex].position;\n        const pos = item.position;\n        if (pos > prevPos + prevLabelWidth + 10) {\n          lastDrawnIndex = index;\n          return item;\n        } else {\n          return null;\n        }\n      } else {\n        return item;\n      }\n    });\n    filteredArray = filteredArray.filter((f) => f !== null);\n    return filteredArray;\n  }\n  _getYear(currentYear, month, yrCounter) {\n    return currentYear + Math.floor(month / 12) + yrCounter;\n  }\n}\nclass BarDataLabels {\n  constructor(barCtx) {\n    this.w = barCtx.w;\n    this.barCtx = barCtx;\n    this.totalFormatter = this.w.config.plotOptions.bar.dataLabels.total.formatter;\n    if (!this.totalFormatter) {\n      this.totalFormatter = this.w.config.dataLabels.formatter;\n    }\n  }\n  /** handleBarDataLabels is used to calculate the positions for the data-labels\n   * It also sets the element's data attr for bars and calls drawCalculatedBarDataLabels()\n   * After calculating, it also calls the function to draw data labels\n   * @memberof Bar\n   * @param {object} {barProps} most of the bar properties used throughout the bar\n   * drawing function\n   * @return {object} dataLabels node-element which you can append later\n   **/\n  handleBarDataLabels(opts) {\n    let {\n      x,\n      y,\n      y1,\n      y2,\n      i,\n      j,\n      realIndex,\n      columnGroupIndex,\n      series,\n      barHeight,\n      barWidth,\n      barXPosition,\n      barYPosition,\n      visibleSeries\n    } = opts;\n    let w = this.w;\n    let graphics = new Graphics(this.barCtx.ctx);\n    let strokeWidth = Array.isArray(this.barCtx.strokeWidth) ? this.barCtx.strokeWidth[realIndex] : this.barCtx.strokeWidth;\n    let bcx;\n    let bcy;\n    if (w.globals.isXNumeric && !w.globals.isBarHorizontal) {\n      bcx = x + parseFloat(barWidth * (visibleSeries + 1));\n      bcy = y + parseFloat(barHeight * (visibleSeries + 1)) - strokeWidth;\n    } else {\n      bcx = x + parseFloat(barWidth * visibleSeries);\n      bcy = y + parseFloat(barHeight * visibleSeries);\n    }\n    let dataLabels = null;\n    let totalDataLabels = null;\n    let dataLabelsX = x;\n    let dataLabelsY = y;\n    let dataLabelsPos = {};\n    let dataLabelsConfig = w.config.dataLabels;\n    let barDataLabelsConfig = this.barCtx.barOptions.dataLabels;\n    let barTotalDataLabelsConfig = this.barCtx.barOptions.dataLabels.total;\n    if (typeof barYPosition !== \"undefined\" && this.barCtx.isRangeBar) {\n      bcy = barYPosition;\n      dataLabelsY = barYPosition;\n    }\n    if (typeof barXPosition !== \"undefined\" && this.barCtx.isVerticalGroupedRangeBar) {\n      bcx = barXPosition;\n      dataLabelsX = barXPosition;\n    }\n    const offX = dataLabelsConfig.offsetX;\n    const offY = dataLabelsConfig.offsetY;\n    let textRects = {\n      width: 0,\n      height: 0\n    };\n    if (w.config.dataLabels.enabled) {\n      const yLabel = w.globals.series[i][j];\n      textRects = graphics.getTextRects(\n        w.config.dataLabels.formatter ? w.config.dataLabels.formatter(yLabel, __spreadProps(__spreadValues({}, w), {\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        })) : w.globals.yLabelFormatters[0](yLabel),\n        parseFloat(dataLabelsConfig.style.fontSize)\n      );\n    }\n    const params = {\n      x,\n      y,\n      i,\n      j,\n      realIndex,\n      columnGroupIndex,\n      bcx,\n      bcy,\n      barHeight,\n      barWidth,\n      textRects,\n      strokeWidth,\n      dataLabelsX,\n      dataLabelsY,\n      dataLabelsConfig,\n      barDataLabelsConfig,\n      barTotalDataLabelsConfig,\n      offX,\n      offY\n    };\n    if (this.barCtx.isHorizontal) {\n      dataLabelsPos = this.calculateBarsDataLabelsPosition(params);\n    } else {\n      dataLabelsPos = this.calculateColumnsDataLabelsPosition(params);\n    }\n    dataLabels = this.drawCalculatedDataLabels({\n      x: dataLabelsPos.dataLabelsX,\n      y: dataLabelsPos.dataLabelsY,\n      val: this.barCtx.isRangeBar ? [y1, y2] : w.config.chart.stackType === \"100%\" ? series[realIndex][j] : w.globals.series[realIndex][j],\n      i: realIndex,\n      j,\n      barWidth,\n      barHeight,\n      textRects,\n      dataLabelsConfig\n    });\n    if (w.config.chart.stacked && barTotalDataLabelsConfig.enabled) {\n      totalDataLabels = this.drawTotalDataLabels({\n        x: dataLabelsPos.totalDataLabelsX,\n        y: dataLabelsPos.totalDataLabelsY,\n        barWidth,\n        barHeight,\n        realIndex,\n        textAnchor: dataLabelsPos.totalDataLabelsAnchor,\n        val: this.getStackedTotalDataLabel({ realIndex, j }),\n        dataLabelsConfig,\n        barTotalDataLabelsConfig\n      });\n    }\n    return {\n      dataLabelsPos,\n      dataLabels,\n      totalDataLabels\n    };\n  }\n  getStackedTotalDataLabel({ realIndex, j }) {\n    const w = this.w;\n    let val = this.barCtx.stackedSeriesTotals[j];\n    if (this.totalFormatter) {\n      val = this.totalFormatter(val, __spreadProps(__spreadValues({}, w), {\n        seriesIndex: realIndex,\n        dataPointIndex: j,\n        w\n      }));\n    }\n    return val;\n  }\n  calculateColumnsDataLabelsPosition(opts) {\n    const w = this.w;\n    let {\n      i,\n      j,\n      realIndex,\n      y,\n      bcx,\n      barWidth,\n      barHeight,\n      textRects,\n      dataLabelsX,\n      dataLabelsY,\n      dataLabelsConfig,\n      barDataLabelsConfig,\n      barTotalDataLabelsConfig,\n      strokeWidth,\n      offX,\n      offY\n    } = opts;\n    let totalDataLabelsY;\n    let totalDataLabelsX;\n    let totalDataLabelsAnchor = \"middle\";\n    let totalDataLabelsBcx = bcx;\n    barHeight = Math.abs(barHeight);\n    let vertical = w.config.plotOptions.bar.dataLabels.orientation === \"vertical\";\n    const { zeroEncounters } = this.barCtx.barHelpers.getZeroValueEncounters({\n      i,\n      j\n    });\n    bcx = bcx - strokeWidth / 2;\n    let dataPointsDividedWidth = w.globals.gridWidth / w.globals.dataPoints;\n    if (this.barCtx.isVerticalGroupedRangeBar) {\n      dataLabelsX += barWidth / 2;\n    } else {\n      if (w.globals.isXNumeric) {\n        dataLabelsX = bcx - barWidth / 2 + offX;\n      } else {\n        dataLabelsX = bcx - dataPointsDividedWidth + barWidth / 2 + offX;\n      }\n      if (!w.config.chart.stacked && zeroEncounters > 0 && w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        dataLabelsX -= barWidth * zeroEncounters;\n      }\n    }\n    if (vertical) {\n      const offsetDLX = 2;\n      dataLabelsX = dataLabelsX + textRects.height / 2 - strokeWidth / 2 - offsetDLX;\n    }\n    let valIsNegative = w.globals.series[i][j] < 0;\n    let newY = y;\n    if (this.barCtx.isReversed) {\n      newY = y + (valIsNegative ? barHeight : -barHeight);\n    }\n    switch (barDataLabelsConfig.position) {\n      case \"center\":\n        if (vertical) {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight / 2 + offY;\n          } else {\n            dataLabelsY = newY + barHeight / 2 - offY;\n          }\n        } else {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight / 2 + textRects.height / 2 + offY;\n          } else {\n            dataLabelsY = newY + barHeight / 2 + textRects.height / 2 - offY;\n          }\n        }\n        break;\n      case \"bottom\":\n        if (vertical) {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight + offY;\n          } else {\n            dataLabelsY = newY + barHeight - offY;\n          }\n        } else {\n          if (valIsNegative) {\n            dataLabelsY = newY - barHeight + textRects.height + strokeWidth + offY;\n          } else {\n            dataLabelsY = newY + barHeight - textRects.height / 2 + strokeWidth - offY;\n          }\n        }\n        break;\n      case \"top\":\n        if (vertical) {\n          if (valIsNegative) {\n            dataLabelsY = newY + offY;\n          } else {\n            dataLabelsY = newY - offY;\n          }\n        } else {\n          if (valIsNegative) {\n            dataLabelsY = newY - textRects.height / 2 - offY;\n          } else {\n            dataLabelsY = newY + textRects.height + offY;\n          }\n        }\n        break;\n    }\n    let lowestPrevY = newY;\n    w.globals.seriesGroups.forEach((sg) => {\n      var _a;\n      (_a = this.barCtx[sg.join(\",\")]) == null ? void 0 : _a.prevY.forEach((arr) => {\n        if (valIsNegative) {\n          lowestPrevY = Math.max(arr[j], lowestPrevY);\n        } else {\n          lowestPrevY = Math.min(arr[j], lowestPrevY);\n        }\n      });\n    });\n    if (this.barCtx.lastActiveBarSerieIndex === realIndex && barTotalDataLabelsConfig.enabled) {\n      const ADDITIONAL_OFFY = 18;\n      const graphics = new Graphics(this.barCtx.ctx);\n      const totalLabeltextRects = graphics.getTextRects(\n        this.getStackedTotalDataLabel({ realIndex, j }),\n        dataLabelsConfig.fontSize\n      );\n      if (valIsNegative) {\n        totalDataLabelsY = lowestPrevY - totalLabeltextRects.height / 2 - offY - barTotalDataLabelsConfig.offsetY + ADDITIONAL_OFFY;\n      } else {\n        totalDataLabelsY = lowestPrevY + totalLabeltextRects.height + offY + barTotalDataLabelsConfig.offsetY - ADDITIONAL_OFFY;\n      }\n      let xDivision = dataPointsDividedWidth;\n      totalDataLabelsX = totalDataLabelsBcx + (w.globals.isXNumeric ? -barWidth * w.globals.barGroups.length / 2 : w.globals.barGroups.length * barWidth / 2 - (w.globals.barGroups.length - 1) * barWidth - xDivision) + barTotalDataLabelsConfig.offsetX;\n    }\n    if (!w.config.chart.stacked) {\n      if (dataLabelsY < 0) {\n        dataLabelsY = 0 + strokeWidth;\n      } else if (dataLabelsY + textRects.height / 3 > w.globals.gridHeight) {\n        dataLabelsY = w.globals.gridHeight - strokeWidth;\n      }\n    }\n    return {\n      bcx,\n      bcy: y,\n      dataLabelsX,\n      dataLabelsY,\n      totalDataLabelsX,\n      totalDataLabelsY,\n      totalDataLabelsAnchor\n    };\n  }\n  calculateBarsDataLabelsPosition(opts) {\n    const w = this.w;\n    let {\n      x,\n      i,\n      j,\n      realIndex,\n      bcy,\n      barHeight,\n      barWidth,\n      textRects,\n      dataLabelsX,\n      strokeWidth,\n      dataLabelsConfig,\n      barDataLabelsConfig,\n      barTotalDataLabelsConfig,\n      offX,\n      offY\n    } = opts;\n    let dataPointsDividedHeight = w.globals.gridHeight / w.globals.dataPoints;\n    const { zeroEncounters } = this.barCtx.barHelpers.getZeroValueEncounters({\n      i,\n      j\n    });\n    barWidth = Math.abs(barWidth);\n    let dataLabelsY = bcy - (this.barCtx.isRangeBar ? 0 : dataPointsDividedHeight) + barHeight / 2 + textRects.height / 2 + offY - 3;\n    if (!w.config.chart.stacked && zeroEncounters > 0 && w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n      dataLabelsY -= barHeight * zeroEncounters;\n    }\n    let totalDataLabelsX;\n    let totalDataLabelsY;\n    let totalDataLabelsAnchor = \"start\";\n    let valIsNegative = w.globals.series[i][j] < 0;\n    let newX = x;\n    if (this.barCtx.isReversed) {\n      newX = x + (valIsNegative ? -barWidth : barWidth);\n      totalDataLabelsAnchor = valIsNegative ? \"start\" : \"end\";\n    }\n    switch (barDataLabelsConfig.position) {\n      case \"center\":\n        if (valIsNegative) {\n          dataLabelsX = newX + barWidth / 2 - offX;\n        } else {\n          dataLabelsX = Math.max(textRects.width / 2, newX - barWidth / 2) + offX;\n        }\n        break;\n      case \"bottom\":\n        if (valIsNegative) {\n          dataLabelsX = newX + barWidth - strokeWidth - offX;\n        } else {\n          dataLabelsX = newX - barWidth + strokeWidth + offX;\n        }\n        break;\n      case \"top\":\n        if (valIsNegative) {\n          dataLabelsX = newX - strokeWidth - offX;\n        } else {\n          dataLabelsX = newX - strokeWidth + offX;\n        }\n        break;\n    }\n    let lowestPrevX = newX;\n    w.globals.seriesGroups.forEach((sg) => {\n      var _a;\n      (_a = this.barCtx[sg.join(\",\")]) == null ? void 0 : _a.prevX.forEach((arr) => {\n        if (valIsNegative) {\n          lowestPrevX = Math.min(arr[j], lowestPrevX);\n        } else {\n          lowestPrevX = Math.max(arr[j], lowestPrevX);\n        }\n      });\n    });\n    if (this.barCtx.lastActiveBarSerieIndex === realIndex && barTotalDataLabelsConfig.enabled) {\n      const graphics = new Graphics(this.barCtx.ctx);\n      const totalLabeltextRects = graphics.getTextRects(\n        this.getStackedTotalDataLabel({ realIndex, j }),\n        dataLabelsConfig.fontSize\n      );\n      if (valIsNegative) {\n        totalDataLabelsX = lowestPrevX - strokeWidth - offX - barTotalDataLabelsConfig.offsetX;\n        totalDataLabelsAnchor = \"end\";\n      } else {\n        totalDataLabelsX = lowestPrevX + offX + barTotalDataLabelsConfig.offsetX + (this.barCtx.isReversed ? -(barWidth + strokeWidth) : strokeWidth);\n      }\n      totalDataLabelsY = dataLabelsY - textRects.height / 2 + totalLabeltextRects.height / 2 + barTotalDataLabelsConfig.offsetY + strokeWidth;\n      if (w.globals.barGroups.length > 1) {\n        totalDataLabelsY = totalDataLabelsY - w.globals.barGroups.length / 2 * (barHeight / 2);\n      }\n    }\n    if (!w.config.chart.stacked) {\n      if (dataLabelsConfig.textAnchor === \"start\") {\n        if (dataLabelsX - textRects.width < 0) {\n          dataLabelsX = valIsNegative ? textRects.width + strokeWidth : strokeWidth;\n        } else if (dataLabelsX + textRects.width > w.globals.gridWidth) {\n          dataLabelsX = valIsNegative ? w.globals.gridWidth - strokeWidth : w.globals.gridWidth - textRects.width - strokeWidth;\n        }\n      } else if (dataLabelsConfig.textAnchor === \"middle\") {\n        if (dataLabelsX - textRects.width / 2 < 0) {\n          dataLabelsX = textRects.width / 2 + strokeWidth;\n        } else if (dataLabelsX + textRects.width / 2 > w.globals.gridWidth) {\n          dataLabelsX = w.globals.gridWidth - textRects.width / 2 - strokeWidth;\n        }\n      } else if (dataLabelsConfig.textAnchor === \"end\") {\n        if (dataLabelsX < 1) {\n          dataLabelsX = textRects.width + strokeWidth;\n        } else if (dataLabelsX + 1 > w.globals.gridWidth) {\n          dataLabelsX = w.globals.gridWidth - textRects.width - strokeWidth;\n        }\n      }\n    }\n    return {\n      bcx: x,\n      bcy,\n      dataLabelsX,\n      dataLabelsY,\n      totalDataLabelsX,\n      totalDataLabelsY,\n      totalDataLabelsAnchor\n    };\n  }\n  drawCalculatedDataLabels({\n    x,\n    y,\n    val,\n    i,\n    // = realIndex\n    j,\n    textRects,\n    barHeight,\n    barWidth,\n    dataLabelsConfig\n  }) {\n    const w = this.w;\n    let rotate = \"rotate(0)\";\n    if (w.config.plotOptions.bar.dataLabels.orientation === \"vertical\")\n      rotate = `rotate(-90, ${x}, ${y})`;\n    const dataLabels = new DataLabels(this.barCtx.ctx);\n    const graphics = new Graphics(this.barCtx.ctx);\n    const formatter = dataLabelsConfig.formatter;\n    let elDataLabelsWrap = null;\n    const isSeriesNotCollapsed = w.globals.collapsedSeriesIndices.indexOf(i) > -1;\n    if (dataLabelsConfig.enabled && !isSeriesNotCollapsed) {\n      elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-data-labels\",\n        transform: rotate\n      });\n      let text = \"\";\n      if (typeof val !== \"undefined\") {\n        text = formatter(val, __spreadProps(__spreadValues({}, w), {\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        }));\n      }\n      if (!val && w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        text = \"\";\n      }\n      let valIsNegative = w.globals.series[i][j] < 0;\n      let position = w.config.plotOptions.bar.dataLabels.position;\n      if (w.config.plotOptions.bar.dataLabels.orientation === \"vertical\") {\n        if (position === \"top\") {\n          if (valIsNegative) dataLabelsConfig.textAnchor = \"end\";\n          else dataLabelsConfig.textAnchor = \"start\";\n        }\n        if (position === \"center\") {\n          dataLabelsConfig.textAnchor = \"middle\";\n        }\n        if (position === \"bottom\") {\n          if (valIsNegative) dataLabelsConfig.textAnchor = \"end\";\n          else dataLabelsConfig.textAnchor = \"start\";\n        }\n      }\n      if (this.barCtx.isRangeBar && this.barCtx.barOptions.dataLabels.hideOverflowingLabels) {\n        const txRect = graphics.getTextRects(\n          text,\n          parseFloat(dataLabelsConfig.style.fontSize)\n        );\n        if (barWidth < txRect.width) {\n          text = \"\";\n        }\n      }\n      if (w.config.chart.stacked && this.barCtx.barOptions.dataLabels.hideOverflowingLabels) {\n        if (this.barCtx.isHorizontal) {\n          if (textRects.width / 1.6 > Math.abs(barWidth)) {\n            text = \"\";\n          }\n        } else {\n          if (textRects.height / 1.6 > Math.abs(barHeight)) {\n            text = \"\";\n          }\n        }\n      }\n      let modifiedDataLabelsConfig = __spreadValues({}, dataLabelsConfig);\n      if (this.barCtx.isHorizontal) {\n        if (val < 0) {\n          if (dataLabelsConfig.textAnchor === \"start\") {\n            modifiedDataLabelsConfig.textAnchor = \"end\";\n          } else if (dataLabelsConfig.textAnchor === \"end\") {\n            modifiedDataLabelsConfig.textAnchor = \"start\";\n          }\n        }\n      }\n      dataLabels.plotDataLabelsText({\n        x,\n        y,\n        text,\n        i,\n        j,\n        parent: elDataLabelsWrap,\n        dataLabelsConfig: modifiedDataLabelsConfig,\n        alwaysDrawDataLabel: true,\n        offsetCorrection: true\n      });\n    }\n    return elDataLabelsWrap;\n  }\n  drawTotalDataLabels({\n    x,\n    y,\n    val,\n    realIndex,\n    textAnchor,\n    barTotalDataLabelsConfig\n  }) {\n    const graphics = new Graphics(this.barCtx.ctx);\n    let totalDataLabelText;\n    if (barTotalDataLabelsConfig.enabled && typeof x !== \"undefined\" && typeof y !== \"undefined\" && this.barCtx.lastActiveBarSerieIndex === realIndex) {\n      totalDataLabelText = graphics.drawText({\n        x,\n        y,\n        foreColor: barTotalDataLabelsConfig.style.color,\n        text: val,\n        textAnchor,\n        fontFamily: barTotalDataLabelsConfig.style.fontFamily,\n        fontSize: barTotalDataLabelsConfig.style.fontSize,\n        fontWeight: barTotalDataLabelsConfig.style.fontWeight\n      });\n    }\n    return totalDataLabelText;\n  }\n}\nlet Helpers$1 = class Helpers4 {\n  constructor(barCtx) {\n    this.w = barCtx.w;\n    this.barCtx = barCtx;\n  }\n  initVariables(series) {\n    const w = this.w;\n    this.barCtx.series = series;\n    this.barCtx.totalItems = 0;\n    this.barCtx.seriesLen = 0;\n    this.barCtx.visibleI = -1;\n    this.barCtx.visibleItems = 1;\n    for (let sl = 0; sl < series.length; sl++) {\n      if (series[sl].length > 0) {\n        this.barCtx.seriesLen = this.barCtx.seriesLen + 1;\n        this.barCtx.totalItems += series[sl].length;\n      }\n      if (w.globals.isXNumeric) {\n        for (let j = 0; j < series[sl].length; j++) {\n          if (w.globals.seriesX[sl][j] > w.globals.minX && w.globals.seriesX[sl][j] < w.globals.maxX) {\n            this.barCtx.visibleItems++;\n          }\n        }\n      } else {\n        this.barCtx.visibleItems = w.globals.dataPoints;\n      }\n    }\n    this.arrBorderRadius = this.createBorderRadiusArr(w.globals.series);\n    if (Utils$1.isSafari()) {\n      this.arrBorderRadius = this.arrBorderRadius.map(\n        (brArr) => brArr.map((_) => \"none\")\n      );\n    }\n    if (this.barCtx.seriesLen === 0) {\n      this.barCtx.seriesLen = 1;\n    }\n    this.barCtx.zeroSerieses = [];\n    if (!w.globals.comboCharts) {\n      this.checkZeroSeries({ series });\n    }\n  }\n  initialPositions(realIndex) {\n    let w = this.w;\n    let x, y, yDivision, xDivision, barHeight, barWidth, zeroH, zeroW;\n    let dataPoints = w.globals.dataPoints;\n    if (this.barCtx.isRangeBar) {\n      dataPoints = w.globals.labels.length;\n    }\n    let seriesLen = this.barCtx.seriesLen;\n    if (w.config.plotOptions.bar.rangeBarGroupRows) {\n      seriesLen = 1;\n    }\n    if (this.barCtx.isHorizontal) {\n      yDivision = w.globals.gridHeight / dataPoints;\n      barHeight = yDivision / seriesLen;\n      if (w.globals.isXNumeric) {\n        yDivision = w.globals.gridHeight / this.barCtx.totalItems;\n        barHeight = yDivision / this.barCtx.seriesLen;\n      }\n      barHeight = barHeight * parseInt(this.barCtx.barOptions.barHeight, 10) / 100;\n      if (String(this.barCtx.barOptions.barHeight).indexOf(\"%\") === -1) {\n        barHeight = parseInt(this.barCtx.barOptions.barHeight, 10);\n      }\n      zeroW = this.barCtx.baseLineInvertedY + w.globals.padHorizontal + (this.barCtx.isReversed ? w.globals.gridWidth : 0) - (this.barCtx.isReversed ? this.barCtx.baseLineInvertedY * 2 : 0);\n      if (this.barCtx.isFunnel) {\n        zeroW = w.globals.gridWidth / 2;\n      }\n      y = (yDivision - barHeight * this.barCtx.seriesLen) / 2;\n    } else {\n      xDivision = w.globals.gridWidth / this.barCtx.visibleItems;\n      if (w.config.xaxis.convertedCatToNumeric) {\n        xDivision = w.globals.gridWidth / w.globals.dataPoints;\n      }\n      barWidth = xDivision / seriesLen * parseInt(this.barCtx.barOptions.columnWidth, 10) / 100;\n      if (w.globals.isXNumeric) {\n        let xRatio = this.barCtx.xRatio;\n        if (w.globals.minXDiff && w.globals.minXDiff !== 0.5 && w.globals.minXDiff / xRatio > 0) {\n          xDivision = w.globals.minXDiff / xRatio;\n        }\n        barWidth = xDivision / seriesLen * parseInt(this.barCtx.barOptions.columnWidth, 10) / 100;\n        if (barWidth < 1) {\n          barWidth = 1;\n        }\n      }\n      if (String(this.barCtx.barOptions.columnWidth).indexOf(\"%\") === -1) {\n        barWidth = parseInt(this.barCtx.barOptions.columnWidth, 10);\n      }\n      zeroH = w.globals.gridHeight - this.barCtx.baseLineY[this.barCtx.translationsIndex] - (this.barCtx.isReversed ? w.globals.gridHeight : 0) + (this.barCtx.isReversed ? this.barCtx.baseLineY[this.barCtx.translationsIndex] * 2 : 0);\n      if (w.globals.isXNumeric) {\n        const xForNumericX = this.barCtx.getBarXForNumericXAxis({\n          x,\n          j: 0,\n          realIndex,\n          barWidth\n        });\n        x = xForNumericX.x;\n      } else {\n        x = w.globals.padHorizontal + Utils$1.noExponents(xDivision - barWidth * this.barCtx.seriesLen) / 2;\n      }\n    }\n    w.globals.barHeight = barHeight;\n    w.globals.barWidth = barWidth;\n    return {\n      x,\n      y,\n      yDivision,\n      xDivision,\n      barHeight,\n      barWidth,\n      zeroH,\n      zeroW\n    };\n  }\n  initializeStackedPrevVars(ctx) {\n    const w = ctx.w;\n    w.globals.seriesGroups.forEach((group) => {\n      if (!ctx[group]) ctx[group] = {};\n      ctx[group].prevY = [];\n      ctx[group].prevX = [];\n      ctx[group].prevYF = [];\n      ctx[group].prevXF = [];\n      ctx[group].prevYVal = [];\n      ctx[group].prevXVal = [];\n    });\n  }\n  initializeStackedXYVars(ctx) {\n    const w = ctx.w;\n    w.globals.seriesGroups.forEach((group) => {\n      if (!ctx[group]) ctx[group] = {};\n      ctx[group].xArrj = [];\n      ctx[group].xArrjF = [];\n      ctx[group].xArrjVal = [];\n      ctx[group].yArrj = [];\n      ctx[group].yArrjF = [];\n      ctx[group].yArrjVal = [];\n    });\n  }\n  getPathFillColor(series, i, j, realIndex) {\n    var _a, _b, _c, _d;\n    const w = this.w;\n    let fill = this.barCtx.ctx.fill;\n    let fillColor = null;\n    let seriesNumber = this.barCtx.barOptions.distributed ? j : i;\n    let useRangeColor = false;\n    if (this.barCtx.barOptions.colors.ranges.length > 0) {\n      const colorRange = this.barCtx.barOptions.colors.ranges;\n      colorRange.map((range) => {\n        if (series[i][j] >= range.from && series[i][j] <= range.to) {\n          fillColor = range.color;\n          useRangeColor = true;\n        }\n      });\n    }\n    let pathFill = fill.fillPath({\n      seriesNumber: this.barCtx.barOptions.distributed ? seriesNumber : realIndex,\n      dataPointIndex: j,\n      color: fillColor,\n      value: series[i][j],\n      fillConfig: (_a = w.config.series[i].data[j]) == null ? void 0 : _a.fill,\n      fillType: ((_c = (_b = w.config.series[i].data[j]) == null ? void 0 : _b.fill) == null ? void 0 : _c.type) ? (_d = w.config.series[i].data[j]) == null ? void 0 : _d.fill.type : Array.isArray(w.config.fill.type) ? w.config.fill.type[realIndex] : w.config.fill.type\n    });\n    return {\n      color: pathFill,\n      useRangeColor\n    };\n  }\n  getStrokeWidth(i, j, realIndex) {\n    let strokeWidth = 0;\n    const w = this.w;\n    if (typeof this.barCtx.series[i][j] === \"undefined\" || this.barCtx.series[i][j] === null || w.config.chart.type === \"bar\" && !this.barCtx.series[i][j]) {\n      this.barCtx.isNullValue = true;\n    } else {\n      this.barCtx.isNullValue = false;\n    }\n    if (w.config.stroke.show) {\n      if (!this.barCtx.isNullValue) {\n        strokeWidth = Array.isArray(this.barCtx.strokeWidth) ? this.barCtx.strokeWidth[realIndex] : this.barCtx.strokeWidth;\n      }\n    }\n    return strokeWidth;\n  }\n  createBorderRadiusArr(series) {\n    var _a;\n    const w = this.w;\n    const alwaysApplyRadius = !this.w.config.chart.stacked || w.config.plotOptions.bar.borderRadius <= 0;\n    const numSeries = series.length;\n    const numColumns = ((_a = series[0]) == null ? void 0 : _a.length) | 0;\n    const output = Array.from(\n      { length: numSeries },\n      () => Array(numColumns).fill(alwaysApplyRadius ? \"top\" : \"none\")\n    );\n    if (alwaysApplyRadius) return output;\n    const chartType = this.w.config.chart.type;\n    for (let j = 0; j < numColumns; j++) {\n      let positiveIndices = [];\n      let negativeIndices = [];\n      let nonZeroCount = 0;\n      for (let i = 0; i < numSeries; i++) {\n        const value = series[i][j];\n        if (value > 0) {\n          positiveIndices.push(i);\n          nonZeroCount++;\n        } else if (value < 0) {\n          negativeIndices.push(i);\n          nonZeroCount++;\n        }\n      }\n      if (positiveIndices.length > 0 && negativeIndices.length === 0) {\n        if (positiveIndices.length === 1) {\n          output[positiveIndices[0]][j] = chartType === \"bar\" && numColumns === 1 ? \"top\" : \"both\";\n        } else {\n          const firstPositiveIndex = positiveIndices[0];\n          const lastPositiveIndex = positiveIndices[positiveIndices.length - 1];\n          for (let i of positiveIndices) {\n            if (i === firstPositiveIndex) {\n              output[i][j] = chartType === \"bar\" && numColumns === 1 ? \"top\" : \"bottom\";\n            } else if (i === lastPositiveIndex) {\n              output[i][j] = \"top\";\n            } else {\n              output[i][j] = \"none\";\n            }\n          }\n        }\n      } else if (negativeIndices.length > 0 && positiveIndices.length === 0) {\n        if (negativeIndices.length === 1) {\n          output[negativeIndices[0]][j] = \"both\";\n        } else {\n          const highestNegativeIndex = Math.max(...negativeIndices);\n          const lowestNegativeIndex = Math.min(...negativeIndices);\n          for (let i of negativeIndices) {\n            if (i === highestNegativeIndex) {\n              output[i][j] = \"bottom\";\n            } else if (i === lowestNegativeIndex) {\n              output[i][j] = \"top\";\n            } else {\n              output[i][j] = \"none\";\n            }\n          }\n        }\n      } else if (positiveIndices.length > 0 && negativeIndices.length > 0) {\n        const lastPositiveIndex = positiveIndices[positiveIndices.length - 1];\n        for (let i of positiveIndices) {\n          if (i === lastPositiveIndex) {\n            output[i][j] = \"top\";\n          } else {\n            output[i][j] = \"none\";\n          }\n        }\n        const highestNegativeIndex = Math.max(...negativeIndices);\n        for (let i of negativeIndices) {\n          if (i === highestNegativeIndex) {\n            output[i][j] = \"bottom\";\n          } else {\n            output[i][j] = \"none\";\n          }\n        }\n      } else if (nonZeroCount === 1) {\n        const index = positiveIndices[0] || negativeIndices[0];\n        output[index][j] = \"both\";\n      }\n    }\n    return output;\n  }\n  barBackground({ j, i, x1, x2, y1, y2, elSeries }) {\n    const w = this.w;\n    const graphics = new Graphics(this.barCtx.ctx);\n    const sr = new Series(this.barCtx.ctx);\n    let activeSeriesIndex = sr.getActiveConfigSeriesIndex();\n    if (this.barCtx.barOptions.colors.backgroundBarColors.length > 0 && activeSeriesIndex === i) {\n      if (j >= this.barCtx.barOptions.colors.backgroundBarColors.length) {\n        j %= this.barCtx.barOptions.colors.backgroundBarColors.length;\n      }\n      let bcolor = this.barCtx.barOptions.colors.backgroundBarColors[j];\n      let rect = graphics.drawRect(\n        typeof x1 !== \"undefined\" ? x1 : 0,\n        typeof y1 !== \"undefined\" ? y1 : 0,\n        typeof x2 !== \"undefined\" ? x2 : w.globals.gridWidth,\n        typeof y2 !== \"undefined\" ? y2 : w.globals.gridHeight,\n        this.barCtx.barOptions.colors.backgroundBarRadius,\n        bcolor,\n        this.barCtx.barOptions.colors.backgroundBarOpacity\n      );\n      elSeries.add(rect);\n      rect.node.classList.add(\"apexcharts-backgroundBar\");\n    }\n  }\n  getColumnPaths({\n    barWidth,\n    barXPosition,\n    y1,\n    y2,\n    strokeWidth,\n    isReversed,\n    series,\n    seriesGroup,\n    realIndex,\n    i,\n    j,\n    w\n  }) {\n    var _a;\n    const graphics = new Graphics(this.barCtx.ctx);\n    strokeWidth = Array.isArray(strokeWidth) ? strokeWidth[realIndex] : strokeWidth;\n    if (!strokeWidth) strokeWidth = 0;\n    let bW = barWidth;\n    let bXP = barXPosition;\n    if ((_a = w.config.series[realIndex].data[j]) == null ? void 0 : _a.columnWidthOffset) {\n      bXP = barXPosition - w.config.series[realIndex].data[j].columnWidthOffset / 2;\n      bW = barWidth + w.config.series[realIndex].data[j].columnWidthOffset;\n    }\n    let strokeCenter = strokeWidth / 2;\n    const x1 = bXP + strokeCenter;\n    const x2 = bXP + bW - strokeCenter;\n    let direction = (series[i][j] >= 0 ? 1 : -1) * (isReversed ? -1 : 1);\n    y1 += 1e-3 - strokeCenter * direction;\n    y2 += 1e-3 + strokeCenter * direction;\n    let pathTo = graphics.move(x1, y1);\n    let pathFrom = graphics.move(x1, y1);\n    const sl = graphics.line(x2, y1);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.barCtx.getPreviousPath(realIndex, j, false);\n    }\n    pathTo = pathTo + graphics.line(x1, y2) + graphics.line(x2, y2) + sl + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    pathFrom = pathFrom + graphics.line(x1, y1) + sl + sl + sl + sl + sl + graphics.line(x1, y1) + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    if (this.arrBorderRadius[realIndex][j] !== \"none\") {\n      pathTo = graphics.roundPathCorners(\n        pathTo,\n        w.config.plotOptions.bar.borderRadius\n      );\n    }\n    if (w.config.chart.stacked) {\n      let _ctx = this.barCtx;\n      _ctx = this.barCtx[seriesGroup];\n      _ctx.yArrj.push(y2 - strokeCenter * direction);\n      _ctx.yArrjF.push(Math.abs(y1 - y2 + strokeWidth * direction));\n      _ctx.yArrjVal.push(this.barCtx.series[i][j]);\n    }\n    return {\n      pathTo,\n      pathFrom\n    };\n  }\n  getBarpaths({\n    barYPosition,\n    barHeight,\n    x1,\n    x2,\n    strokeWidth,\n    isReversed,\n    series,\n    seriesGroup,\n    realIndex,\n    i,\n    j,\n    w\n  }) {\n    var _a;\n    const graphics = new Graphics(this.barCtx.ctx);\n    strokeWidth = Array.isArray(strokeWidth) ? strokeWidth[realIndex] : strokeWidth;\n    if (!strokeWidth) strokeWidth = 0;\n    let bYP = barYPosition;\n    let bH = barHeight;\n    if ((_a = w.config.series[realIndex].data[j]) == null ? void 0 : _a.barHeightOffset) {\n      bYP = barYPosition - w.config.series[realIndex].data[j].barHeightOffset / 2;\n      bH = barHeight + w.config.series[realIndex].data[j].barHeightOffset;\n    }\n    let strokeCenter = strokeWidth / 2;\n    const y1 = bYP + strokeCenter;\n    const y2 = bYP + bH - strokeCenter;\n    let direction = (series[i][j] >= 0 ? 1 : -1) * (isReversed ? -1 : 1);\n    x1 += 1e-3 + strokeCenter * direction;\n    x2 += 1e-3 - strokeCenter * direction;\n    let pathTo = graphics.move(x1, y1);\n    let pathFrom = graphics.move(x1, y1);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.barCtx.getPreviousPath(realIndex, j, false);\n    }\n    const sl = graphics.line(x1, y2);\n    pathTo = pathTo + graphics.line(x2, y1) + graphics.line(x2, y2) + sl + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    pathFrom = pathFrom + graphics.line(x1, y1) + sl + sl + sl + sl + sl + graphics.line(x1, y1) + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    if (this.arrBorderRadius[realIndex][j] !== \"none\") {\n      pathTo = graphics.roundPathCorners(\n        pathTo,\n        w.config.plotOptions.bar.borderRadius\n      );\n    }\n    if (w.config.chart.stacked) {\n      let _ctx = this.barCtx;\n      _ctx = this.barCtx[seriesGroup];\n      _ctx.xArrj.push(x2 + strokeCenter * direction);\n      _ctx.xArrjF.push(Math.abs(x1 - x2 - strokeWidth * direction));\n      _ctx.xArrjVal.push(this.barCtx.series[i][j]);\n    }\n    return {\n      pathTo,\n      pathFrom\n    };\n  }\n  checkZeroSeries({ series }) {\n    let w = this.w;\n    for (let zs = 0; zs < series.length; zs++) {\n      let total = 0;\n      for (let zsj = 0; zsj < series[w.globals.maxValsInArrayIndex].length; zsj++) {\n        total += series[zs][zsj];\n      }\n      if (total === 0) {\n        this.barCtx.zeroSerieses.push(zs);\n      }\n    }\n  }\n  getXForValue(value, zeroW, zeroPositionForNull = true) {\n    let xForVal = zeroPositionForNull ? zeroW : null;\n    if (typeof value !== \"undefined\" && value !== null) {\n      xForVal = zeroW + value / this.barCtx.invertedYRatio - (this.barCtx.isReversed ? value / this.barCtx.invertedYRatio : 0) * 2;\n    }\n    return xForVal;\n  }\n  getYForValue(value, zeroH, translationsIndex, zeroPositionForNull = true) {\n    let yForVal = zeroPositionForNull ? zeroH : null;\n    if (typeof value !== \"undefined\" && value !== null) {\n      yForVal = zeroH - value / this.barCtx.yRatio[translationsIndex] + (this.barCtx.isReversed ? value / this.barCtx.yRatio[translationsIndex] : 0) * 2;\n    }\n    return yForVal;\n  }\n  getGoalValues(type, zeroW, zeroH, i, j, translationsIndex) {\n    const w = this.w;\n    let goals = [];\n    const pushGoal = (value, attrs) => {\n      goals.push({\n        [type]: type === \"x\" ? this.getXForValue(value, zeroW, false) : this.getYForValue(value, zeroH, translationsIndex, false),\n        attrs\n      });\n    };\n    if (w.globals.seriesGoals[i] && w.globals.seriesGoals[i][j] && Array.isArray(w.globals.seriesGoals[i][j])) {\n      w.globals.seriesGoals[i][j].forEach((goal) => {\n        pushGoal(goal.value, goal);\n      });\n    }\n    if (this.barCtx.barOptions.isDumbbell && w.globals.seriesRange.length) {\n      let colors = this.barCtx.barOptions.dumbbellColors ? this.barCtx.barOptions.dumbbellColors : w.globals.colors;\n      const commonAttrs = {\n        strokeHeight: type === \"x\" ? 0 : w.globals.markers.size[i],\n        strokeWidth: type === \"x\" ? w.globals.markers.size[i] : 0,\n        strokeDashArray: 0,\n        strokeLineCap: \"round\",\n        strokeColor: Array.isArray(colors[i]) ? colors[i][0] : colors[i]\n      };\n      pushGoal(w.globals.seriesRangeStart[i][j], commonAttrs);\n      pushGoal(w.globals.seriesRangeEnd[i][j], __spreadProps(__spreadValues({}, commonAttrs), {\n        strokeColor: Array.isArray(colors[i]) ? colors[i][1] : colors[i]\n      }));\n    }\n    return goals;\n  }\n  drawGoalLine({\n    barXPosition,\n    barYPosition,\n    goalX,\n    goalY,\n    barWidth,\n    barHeight\n  }) {\n    let graphics = new Graphics(this.barCtx.ctx);\n    const lineGroup = graphics.group({\n      className: \"apexcharts-bar-goals-groups\"\n    });\n    lineGroup.node.classList.add(\"apexcharts-element-hidden\");\n    this.barCtx.w.globals.delayedElements.push({\n      el: lineGroup.node\n    });\n    lineGroup.attr(\n      \"clip-path\",\n      `url(#gridRectMarkerMask${this.barCtx.w.globals.cuid})`\n    );\n    let line = null;\n    if (this.barCtx.isHorizontal) {\n      if (Array.isArray(goalX)) {\n        goalX.forEach((goal) => {\n          if (goal.x >= -1 && goal.x <= graphics.w.globals.gridWidth + 1) {\n            let sHeight = typeof goal.attrs.strokeHeight !== \"undefined\" ? goal.attrs.strokeHeight : barHeight / 2;\n            let y = barYPosition + sHeight + barHeight / 2;\n            line = graphics.drawLine(\n              goal.x,\n              y - sHeight * 2,\n              goal.x,\n              y,\n              goal.attrs.strokeColor ? goal.attrs.strokeColor : void 0,\n              goal.attrs.strokeDashArray,\n              goal.attrs.strokeWidth ? goal.attrs.strokeWidth : 2,\n              goal.attrs.strokeLineCap\n            );\n            lineGroup.add(line);\n          }\n        });\n      }\n    } else {\n      if (Array.isArray(goalY)) {\n        goalY.forEach((goal) => {\n          if (goal.y >= -1 && goal.y <= graphics.w.globals.gridHeight + 1) {\n            let sWidth = typeof goal.attrs.strokeWidth !== \"undefined\" ? goal.attrs.strokeWidth : barWidth / 2;\n            let x = barXPosition + sWidth + barWidth / 2;\n            line = graphics.drawLine(\n              x - sWidth * 2,\n              goal.y,\n              x,\n              goal.y,\n              goal.attrs.strokeColor ? goal.attrs.strokeColor : void 0,\n              goal.attrs.strokeDashArray,\n              goal.attrs.strokeHeight ? goal.attrs.strokeHeight : 2,\n              goal.attrs.strokeLineCap\n            );\n            lineGroup.add(line);\n          }\n        });\n      }\n    }\n    return lineGroup;\n  }\n  drawBarShadow({ prevPaths, currPaths, color, realIndex, j }) {\n    const w = this.w;\n    const { x: prevX2, x1: prevX1, barYPosition: prevY1 } = prevPaths;\n    const { x: currX2, x1: currX1, barYPosition: currY1 } = currPaths;\n    const prevY2 = prevY1 + currPaths.barHeight;\n    const graphics = new Graphics(this.barCtx.ctx);\n    const utils = new Utils$1();\n    const shadowPath = graphics.move(prevX1, prevY2) + graphics.line(prevX2, prevY2) + graphics.line(currX2, currY1) + graphics.line(currX1, currY1) + graphics.line(prevX1, prevY2) + (w.config.plotOptions.bar.borderRadiusApplication === \"around\" || this.arrBorderRadius[realIndex][j] === \"both\" ? \" Z\" : \" z\");\n    return graphics.drawPath({\n      d: shadowPath,\n      fill: utils.shadeColor(0.5, Utils$1.rgb2hex(color)),\n      stroke: \"none\",\n      strokeWidth: 0,\n      fillOpacity: 1,\n      classes: \"apexcharts-bar-shadow apexcharts-decoration-element\"\n    });\n  }\n  getZeroValueEncounters({ i, j }) {\n    var _a;\n    const w = this.w;\n    let nonZeroColumns = 0;\n    let zeroEncounters = 0;\n    let seriesIndices = w.config.plotOptions.bar.horizontal ? w.globals.series.map((_, _i) => _i) : ((_a = w.globals.columnSeries) == null ? void 0 : _a.i.map((_i) => _i)) || [];\n    seriesIndices.forEach((_si) => {\n      let val = w.globals.seriesPercent[_si][j];\n      if (val) {\n        nonZeroColumns++;\n      }\n      if (_si < i && val === 0) {\n        zeroEncounters++;\n      }\n    });\n    return {\n      nonZeroColumns,\n      zeroEncounters\n    };\n  }\n  getGroupIndex(seriesIndex) {\n    const w = this.w;\n    let groupIndex = w.globals.seriesGroups.findIndex(\n      (group) => (\n        // w.config.series[i].name may be undefined, so use\n        // w.globals.seriesNames[i], which has default names for those\n        // series. w.globals.seriesGroups[] uses the same default naming.\n        group.indexOf(w.globals.seriesNames[seriesIndex]) > -1\n      )\n    );\n    let cGI = this.barCtx.columnGroupIndices;\n    let columnGroupIndex = cGI.indexOf(groupIndex);\n    if (columnGroupIndex < 0) {\n      cGI.push(groupIndex);\n      columnGroupIndex = cGI.length - 1;\n    }\n    return { groupIndex, columnGroupIndex };\n  }\n};\nclass Bar {\n  constructor(ctx, xyRatios) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.barOptions = w.config.plotOptions.bar;\n    this.isHorizontal = this.barOptions.horizontal;\n    this.strokeWidth = w.config.stroke.width;\n    this.isNullValue = false;\n    this.isRangeBar = w.globals.seriesRange.length && this.isHorizontal;\n    this.isVerticalGroupedRangeBar = !w.globals.isBarHorizontal && w.globals.seriesRange.length && w.config.plotOptions.bar.rangeBarGroupRows;\n    this.isFunnel = this.barOptions.isFunnel;\n    this.xyRatios = xyRatios;\n    if (this.xyRatios !== null) {\n      this.xRatio = xyRatios.xRatio;\n      this.yRatio = xyRatios.yRatio;\n      this.invertedXRatio = xyRatios.invertedXRatio;\n      this.invertedYRatio = xyRatios.invertedYRatio;\n      this.baseLineY = xyRatios.baseLineY;\n      this.baseLineInvertedY = xyRatios.baseLineInvertedY;\n    }\n    this.yaxisIndex = 0;\n    this.translationsIndex = 0;\n    this.seriesLen = 0;\n    this.pathArr = [];\n    const ser = new Series(this.ctx);\n    this.lastActiveBarSerieIndex = ser.getActiveConfigSeriesIndex(\"desc\", [\n      \"bar\",\n      \"column\"\n    ]);\n    this.columnGroupIndices = [];\n    const barSeriesIndices = ser.getBarSeriesIndices();\n    const coreUtils = new CoreUtils(this.ctx);\n    this.stackedSeriesTotals = coreUtils.getStackedSeriesTotals(\n      this.w.config.series.map((s, i) => {\n        return barSeriesIndices.indexOf(i) === -1 ? i : -1;\n      }).filter((s) => {\n        return s !== -1;\n      })\n    );\n    this.barHelpers = new Helpers$1(this);\n  }\n  /** primary draw method which is called on bar object\n   * @memberof Bar\n   * @param {array} series - user supplied series values\n   * @param {int} seriesIndex - the index by which series will be drawn on the svg\n   * @return {node} element which is supplied to parent chart draw method for appending\n   **/\n  draw(series, seriesIndex) {\n    var _a;\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    const coreUtils = new CoreUtils(this.ctx);\n    series = coreUtils.getLogSeries(series);\n    this.series = series;\n    this.yRatio = coreUtils.getLogYRatios(this.yRatio);\n    this.barHelpers.initVariables(series);\n    let ret = graphics.group({\n      class: \"apexcharts-bar-series apexcharts-plot-series\"\n    });\n    if (w.config.dataLabels.enabled) {\n      if (this.totalItems > this.barOptions.dataLabels.maxItems) {\n        console.warn(\n          \"WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts\"\n        );\n      }\n    }\n    for (let i = 0, bc = 0; i < series.length; i++, bc++) {\n      let x, y, xDivision, yDivision, zeroH, zeroW;\n      let yArrj = [];\n      let xArrj = [];\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let { columnGroupIndex } = this.barHelpers.getGroupIndex(realIndex);\n      let elSeries = graphics.group({\n        class: `apexcharts-series`,\n        rel: i + 1,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      if (series[i].length > 0) {\n        this.visibleI = this.visibleI + 1;\n      }\n      let barHeight = 0;\n      let barWidth = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex];\n        this.translationsIndex = realIndex;\n      }\n      let translationsIndex = this.translationsIndex;\n      this.isReversed = w.config.yaxis[this.yaxisIndex] && w.config.yaxis[this.yaxisIndex].reversed;\n      let initPositions = this.barHelpers.initialPositions(realIndex);\n      y = initPositions.y;\n      barHeight = initPositions.barHeight;\n      yDivision = initPositions.yDivision;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      xDivision = initPositions.xDivision;\n      zeroH = initPositions.zeroH;\n      if (!this.isHorizontal) {\n        xArrj.push(x + barWidth / 2);\n      }\n      let elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      w.globals.delayedElements.push({\n        el: elDataLabelsWrap.node\n      });\n      elDataLabelsWrap.node.classList.add(\"apexcharts-element-hidden\");\n      let elGoalsMarkers = graphics.group({\n        class: \"apexcharts-bar-goals-markers\"\n      });\n      let elBarShadows = graphics.group({\n        class: \"apexcharts-bar-shadows\"\n      });\n      w.globals.delayedElements.push({\n        el: elBarShadows.node\n      });\n      elBarShadows.node.classList.add(\"apexcharts-element-hidden\");\n      for (let j = 0; j < series[i].length; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        let paths = null;\n        const pathsParams = {\n          indexes: {\n            i,\n            j,\n            realIndex,\n            translationsIndex,\n            bc\n          },\n          x,\n          y,\n          strokeWidth,\n          elSeries\n        };\n        if (this.isHorizontal) {\n          paths = this.drawBarPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            barHeight,\n            zeroW,\n            yDivision\n          }));\n          barWidth = this.series[i][j] / this.invertedYRatio;\n        } else {\n          paths = this.drawColumnPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            xDivision,\n            barWidth,\n            zeroH\n          }));\n          barHeight = this.series[i][j] / this.yRatio[translationsIndex];\n        }\n        let pathFill = this.barHelpers.getPathFillColor(series, i, j, realIndex);\n        if (this.isFunnel && this.barOptions.isFunnel3d && this.pathArr.length && j > 0) {\n          const barShadow = this.barHelpers.drawBarShadow({\n            color: typeof pathFill.color === \"string\" && ((_a = pathFill.color) == null ? void 0 : _a.indexOf(\"url\")) === -1 ? pathFill.color : Utils$1.hexToRgba(w.globals.colors[i]),\n            prevPaths: this.pathArr[this.pathArr.length - 1],\n            currPaths: paths,\n            realIndex,\n            j\n          });\n          elBarShadows.add(barShadow);\n          if (w.config.chart.dropShadow.enabled) {\n            const filters = new Filters(this.ctx);\n            filters.dropShadow(barShadow, w.config.chart.dropShadow, realIndex);\n          }\n        }\n        this.pathArr.push(paths);\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition: paths.barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        y = paths.y;\n        x = paths.x;\n        if (j > 0) {\n          xArrj.push(x + barWidth / 2);\n        }\n        yArrj.push(y);\n        this.renderSeries(__spreadProps(__spreadValues({\n          realIndex,\n          pathFill: pathFill.color\n        }, pathFill.useRangeColor ? { lineFill: pathFill.color } : {}), {\n          j,\n          i,\n          columnGroupIndex,\n          pathFrom: paths.pathFrom,\n          pathTo: paths.pathTo,\n          strokeWidth,\n          elSeries,\n          x,\n          y,\n          series,\n          barHeight: Math.abs(paths.barHeight ? paths.barHeight : barHeight),\n          barWidth: Math.abs(paths.barWidth ? paths.barWidth : barWidth),\n          elDataLabelsWrap,\n          elGoalsMarkers,\n          elBarShadows,\n          visibleSeries: this.visibleI,\n          type: \"bar\"\n        }));\n      }\n      w.globals.seriesXvalues[realIndex] = xArrj;\n      w.globals.seriesYvalues[realIndex] = yArrj;\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  renderSeries({\n    realIndex,\n    pathFill,\n    lineFill,\n    j,\n    i,\n    columnGroupIndex,\n    pathFrom,\n    pathTo,\n    strokeWidth,\n    elSeries,\n    x,\n    // x pos\n    y,\n    // y pos\n    y1,\n    // absolute value\n    y2,\n    // absolute value\n    series,\n    barHeight,\n    barWidth,\n    barXPosition,\n    barYPosition,\n    elDataLabelsWrap,\n    elGoalsMarkers,\n    elBarShadows,\n    visibleSeries,\n    type,\n    classes\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let skipDrawing = false;\n    if (!elSeries._bindingsDelegated) {\n      elSeries._bindingsDelegated = true;\n      graphics.setupEventDelegation(\n        elSeries,\n        `.apexcharts-${type}-area`\n      );\n    }\n    if (!lineFill) {\n      let fetchColor = function(i2) {\n        const exp = w.config.stroke.colors;\n        let c;\n        if (Array.isArray(exp) && exp.length > 0) {\n          c = exp[i2];\n          if (!c) c = \"\";\n          if (typeof c === \"function\") {\n            return c({\n              value: w.globals.series[i2][j],\n              dataPointIndex: j,\n              w\n            });\n          }\n        }\n        return c;\n      };\n      const checkAvailableColor = typeof w.globals.stroke.colors[realIndex] === \"function\" ? fetchColor(realIndex) : w.globals.stroke.colors[realIndex];\n      lineFill = this.barOptions.distributed ? w.globals.stroke.colors[j] : checkAvailableColor;\n    }\n    let barDataLabels = new BarDataLabels(this);\n    let dataLabelsObj = barDataLabels.handleBarDataLabels({\n      x,\n      y,\n      y1,\n      y2,\n      i,\n      j,\n      series,\n      realIndex,\n      columnGroupIndex,\n      barHeight,\n      barWidth,\n      barXPosition,\n      barYPosition,\n      visibleSeries\n    });\n    if (!w.globals.isBarHorizontal) {\n      if (dataLabelsObj.dataLabelsPos.dataLabelsX + Math.max(barWidth, w.globals.barPadForNumericAxis) < 0 || dataLabelsObj.dataLabelsPos.dataLabelsX - Math.max(barWidth, w.globals.barPadForNumericAxis) > w.globals.gridWidth) {\n        skipDrawing = true;\n      }\n    }\n    if (w.config.series[i].data[j] && w.config.series[i].data[j].strokeColor) {\n      lineFill = w.config.series[i].data[j].strokeColor;\n    }\n    if (this.isNullValue) {\n      pathFill = \"none\";\n    }\n    let delay = j / w.config.chart.animations.animateGradually.delay * (w.config.chart.animations.speed / w.globals.dataPoints) / 2.4;\n    if (!skipDrawing) {\n      let renderedPath = graphics.renderPaths({\n        i,\n        j,\n        realIndex,\n        pathFrom,\n        pathTo,\n        stroke: lineFill,\n        strokeWidth,\n        strokeLineCap: w.config.stroke.lineCap,\n        fill: pathFill,\n        animationDelay: delay,\n        initialSpeed: w.config.chart.animations.speed,\n        dataChangeSpeed: w.config.chart.animations.dynamicAnimation.speed,\n        className: `apexcharts-${type}-area ${classes}`,\n        chartType: type,\n        bindEventsOnPaths: false\n      });\n      renderedPath.attr(\"clip-path\", `url(#gridRectBarMask${w.globals.cuid})`);\n      const forecast = w.config.forecastDataPoints;\n      if (forecast.count > 0) {\n        if (j >= w.globals.dataPoints - forecast.count) {\n          renderedPath.node.setAttribute(\"stroke-dasharray\", forecast.dashArray);\n          renderedPath.node.setAttribute(\"stroke-width\", forecast.strokeWidth);\n          renderedPath.node.setAttribute(\"fill-opacity\", forecast.fillOpacity);\n        }\n      }\n      if (typeof y1 !== \"undefined\" && typeof y2 !== \"undefined\") {\n        renderedPath.attr(\"data-range-y1\", y1);\n        renderedPath.attr(\"data-range-y2\", y2);\n      }\n      const filters = new Filters(this.ctx);\n      filters.setSelectionFilter(renderedPath, realIndex, j);\n      elSeries.add(renderedPath);\n      renderedPath.attr({\n        cy: dataLabelsObj.dataLabelsPos.bcy,\n        cx: dataLabelsObj.dataLabelsPos.bcx,\n        j,\n        val: w.globals.series[i][j],\n        barHeight,\n        barWidth\n      });\n      if (dataLabelsObj.dataLabels !== null) {\n        elDataLabelsWrap.add(dataLabelsObj.dataLabels);\n      }\n      if (dataLabelsObj.totalDataLabels) {\n        elDataLabelsWrap.add(dataLabelsObj.totalDataLabels);\n      }\n      elSeries.add(elDataLabelsWrap);\n      if (elGoalsMarkers) {\n        elSeries.add(elGoalsMarkers);\n      }\n      if (elBarShadows) {\n        elSeries.add(elBarShadows);\n      }\n    }\n    return elSeries;\n  }\n  drawBarPaths({\n    indexes,\n    barHeight,\n    strokeWidth,\n    zeroW,\n    x,\n    y,\n    yDivision,\n    elSeries\n  }) {\n    let w = this.w;\n    let i = indexes.i;\n    let j = indexes.j;\n    let barYPosition;\n    if (w.globals.isXNumeric) {\n      y = (w.globals.seriesX[i][j] - w.globals.minX) / this.invertedXRatio - barHeight;\n      barYPosition = y + barHeight * this.visibleI;\n    } else {\n      if (w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        const { nonZeroColumns, zeroEncounters } = this.barHelpers.getZeroValueEncounters({ i, j });\n        if (nonZeroColumns > 0) {\n          barHeight = this.seriesLen * barHeight / nonZeroColumns;\n        }\n        barYPosition = y + barHeight * this.visibleI;\n        barYPosition -= barHeight * zeroEncounters;\n      } else {\n        barYPosition = y + barHeight * this.visibleI;\n      }\n    }\n    if (this.isFunnel) {\n      zeroW = zeroW - (this.barHelpers.getXForValue(this.series[i][j], zeroW) - zeroW) / 2;\n    }\n    x = this.barHelpers.getXForValue(this.series[i][j], zeroW);\n    const paths = this.barHelpers.getBarpaths({\n      barYPosition,\n      barHeight,\n      x1: zeroW,\n      x2: x,\n      strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      realIndex: indexes.realIndex,\n      i,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      y = y + yDivision;\n    }\n    this.barHelpers.barBackground({\n      j,\n      i,\n      y1: barYPosition - barHeight * this.visibleI,\n      y2: barHeight * this.seriesLen,\n      elSeries\n    });\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      x1: zeroW,\n      x,\n      y,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, i, j),\n      barYPosition,\n      barHeight\n    };\n  }\n  drawColumnPaths({\n    indexes,\n    x,\n    y,\n    xDivision,\n    barWidth,\n    zeroH,\n    strokeWidth,\n    elSeries\n  }) {\n    let w = this.w;\n    let realIndex = indexes.realIndex;\n    let translationsIndex = indexes.translationsIndex;\n    let i = indexes.i;\n    let j = indexes.j;\n    let bc = indexes.bc;\n    let barXPosition;\n    if (w.globals.isXNumeric) {\n      const xForNumericX = this.getBarXForNumericXAxis({\n        x,\n        j,\n        realIndex,\n        barWidth\n      });\n      x = xForNumericX.x;\n      barXPosition = xForNumericX.barXPosition;\n    } else {\n      if (w.config.plotOptions.bar.hideZeroBarsWhenGrouped) {\n        const { nonZeroColumns, zeroEncounters } = this.barHelpers.getZeroValueEncounters({ i, j });\n        if (nonZeroColumns > 0) {\n          barWidth = this.seriesLen * barWidth / nonZeroColumns;\n        }\n        barXPosition = x + barWidth * this.visibleI;\n        barXPosition -= barWidth * zeroEncounters;\n      } else {\n        barXPosition = x + barWidth * this.visibleI;\n      }\n    }\n    y = this.barHelpers.getYForValue(\n      this.series[i][j],\n      zeroH,\n      translationsIndex\n    );\n    const paths = this.barHelpers.getColumnPaths({\n      barXPosition,\n      barWidth,\n      y1: zeroH,\n      y2: y,\n      strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      realIndex,\n      i,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      x = x + xDivision;\n    }\n    this.barHelpers.barBackground({\n      bc,\n      j,\n      i,\n      x1: barXPosition - strokeWidth / 2 - barWidth * this.visibleI,\n      x2: barWidth * this.seriesLen + strokeWidth / 2,\n      elSeries\n    });\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      x,\n      y,\n      goalY: this.barHelpers.getGoalValues(\n        \"y\",\n        null,\n        zeroH,\n        i,\n        j,\n        translationsIndex\n      ),\n      barXPosition,\n      barWidth\n    };\n  }\n  getBarXForNumericXAxis({ x, barWidth, realIndex, j }) {\n    const w = this.w;\n    let sxI = realIndex;\n    if (!w.globals.seriesX[realIndex].length) {\n      sxI = w.globals.maxValsInArrayIndex;\n    }\n    if (Utils$1.isNumber(w.globals.seriesX[sxI][j])) {\n      x = (w.globals.seriesX[sxI][j] - w.globals.minX) / this.xRatio - barWidth * this.seriesLen / 2;\n    }\n    return {\n      barXPosition: x + barWidth * this.visibleI,\n      x\n    };\n  }\n  /** getPreviousPath is a common function for bars/columns which is used to get previous paths when data changes.\n   * @memberof Bar\n   * @param {int} realIndex - current iterating i\n   * @param {int} j - current iterating series's j index\n   * @return {string} pathFrom is the string which will be appended in animations\n   **/\n  getPreviousPath(realIndex, j) {\n    let w = this.w;\n    let pathFrom = \"M 0 0\";\n    for (let pp = 0; pp < w.globals.previousPaths.length; pp++) {\n      let gpp = w.globals.previousPaths[pp];\n      if (gpp.paths && gpp.paths.length > 0 && parseInt(gpp.realIndex, 10) === parseInt(realIndex, 10)) {\n        if (typeof w.globals.previousPaths[pp].paths[j] !== \"undefined\") {\n          pathFrom = w.globals.previousPaths[pp].paths[j].d;\n        }\n      }\n    }\n    return pathFrom;\n  }\n}\nclass BarStacked extends Bar {\n  draw(series, seriesIndex) {\n    let w = this.w;\n    this.graphics = new Graphics(this.ctx);\n    this.bar = new Bar(this.ctx, this.xyRatios);\n    const coreUtils = new CoreUtils(this.ctx);\n    series = coreUtils.getLogSeries(series);\n    this.yRatio = coreUtils.getLogYRatios(this.yRatio);\n    this.barHelpers.initVariables(series);\n    if (w.config.chart.stackType === \"100%\") {\n      series = w.globals.comboCharts ? seriesIndex.map((_) => w.globals.seriesPercent[_]) : w.globals.seriesPercent.slice();\n    }\n    this.series = series;\n    this.barHelpers.initializeStackedPrevVars(this);\n    let ret = this.graphics.group({\n      class: \"apexcharts-bar-series apexcharts-plot-series\"\n    });\n    let x = 0;\n    let y = 0;\n    for (let i = 0, bc = 0; i < series.length; i++, bc++) {\n      let xDivision;\n      let yDivision;\n      let zeroH;\n      let zeroW;\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let { groupIndex, columnGroupIndex } = this.barHelpers.getGroupIndex(realIndex);\n      this.groupCtx = this[w.globals.seriesGroups[groupIndex]];\n      let xArrValues = [];\n      let yArrValues = [];\n      let translationsIndex = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex][0];\n        translationsIndex = realIndex;\n      }\n      this.isReversed = w.config.yaxis[this.yaxisIndex] && w.config.yaxis[this.yaxisIndex].reversed;\n      let elSeries = this.graphics.group({\n        class: `apexcharts-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        rel: i + 1,\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      let elDataLabelsWrap = this.graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      let elGoalsMarkers = this.graphics.group({\n        class: \"apexcharts-bar-goals-markers\"\n      });\n      let barHeight = 0;\n      let barWidth = 0;\n      let initPositions = this.initialPositions(\n        x,\n        y,\n        xDivision,\n        yDivision,\n        zeroH,\n        zeroW,\n        translationsIndex\n      );\n      y = initPositions.y;\n      barHeight = initPositions.barHeight;\n      yDivision = initPositions.yDivision;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      xDivision = initPositions.xDivision;\n      zeroH = initPositions.zeroH;\n      w.globals.barHeight = barHeight;\n      w.globals.barWidth = barWidth;\n      this.barHelpers.initializeStackedXYVars(this);\n      if (this.groupCtx.prevY.length === 1 && this.groupCtx.prevY[0].every((val) => isNaN(val))) {\n        this.groupCtx.prevY[0] = this.groupCtx.prevY[0].map(() => zeroH);\n        this.groupCtx.prevYF[0] = this.groupCtx.prevYF[0].map(() => 0);\n      }\n      for (let j = 0; j < w.globals.dataPoints; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        const commonPathOpts = {\n          indexes: { i, j, realIndex, translationsIndex, bc },\n          strokeWidth,\n          x,\n          y,\n          elSeries,\n          columnGroupIndex,\n          seriesGroup: w.globals.seriesGroups[groupIndex]\n        };\n        let paths = null;\n        if (this.isHorizontal) {\n          paths = this.drawStackedBarPaths(__spreadProps(__spreadValues({}, commonPathOpts), {\n            zeroW,\n            barHeight,\n            yDivision\n          }));\n          barWidth = this.series[i][j] / this.invertedYRatio;\n        } else {\n          paths = this.drawStackedColumnPaths(__spreadProps(__spreadValues({}, commonPathOpts), {\n            xDivision,\n            barWidth,\n            zeroH\n          }));\n          barHeight = this.series[i][j] / this.yRatio[translationsIndex];\n        }\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition: paths.barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        y = paths.y;\n        x = paths.x;\n        xArrValues.push(x);\n        yArrValues.push(y);\n        let pathFill = this.barHelpers.getPathFillColor(series, i, j, realIndex);\n        let classes = \"\";\n        const flipClass = w.globals.isBarHorizontal ? \"apexcharts-flip-x\" : \"apexcharts-flip-y\";\n        if (this.barHelpers.arrBorderRadius[realIndex][j] === \"bottom\" && w.globals.series[realIndex][j] > 0 || this.barHelpers.arrBorderRadius[realIndex][j] === \"top\" && w.globals.series[realIndex][j] < 0) {\n          classes = flipClass;\n        }\n        elSeries = this.renderSeries(__spreadProps(__spreadValues({\n          realIndex,\n          pathFill: pathFill.color\n        }, pathFill.useRangeColor ? { lineFill: pathFill.color } : {}), {\n          j,\n          i,\n          columnGroupIndex,\n          pathFrom: paths.pathFrom,\n          pathTo: paths.pathTo,\n          strokeWidth,\n          elSeries,\n          x,\n          y,\n          series,\n          barHeight,\n          barWidth,\n          elDataLabelsWrap,\n          elGoalsMarkers,\n          type: \"bar\",\n          visibleSeries: columnGroupIndex,\n          classes\n        }));\n      }\n      w.globals.seriesXvalues[realIndex] = xArrValues;\n      w.globals.seriesYvalues[realIndex] = yArrValues;\n      this.groupCtx.prevY.push(this.groupCtx.yArrj);\n      this.groupCtx.prevYF.push(this.groupCtx.yArrjF);\n      this.groupCtx.prevYVal.push(this.groupCtx.yArrjVal);\n      this.groupCtx.prevX.push(this.groupCtx.xArrj);\n      this.groupCtx.prevXF.push(this.groupCtx.xArrjF);\n      this.groupCtx.prevXVal.push(this.groupCtx.xArrjVal);\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  initialPositions(x, y, xDivision, yDivision, zeroH, zeroW, translationsIndex) {\n    let w = this.w;\n    let barHeight, barWidth;\n    if (this.isHorizontal) {\n      yDivision = w.globals.gridHeight / w.globals.dataPoints;\n      let userBarHeight = w.config.plotOptions.bar.barHeight;\n      if (String(userBarHeight).indexOf(\"%\") === -1) {\n        barHeight = parseInt(userBarHeight, 10);\n      } else {\n        barHeight = yDivision * parseInt(userBarHeight, 10) / 100;\n      }\n      zeroW = w.globals.padHorizontal + (this.isReversed ? w.globals.gridWidth - this.baseLineInvertedY : this.baseLineInvertedY);\n      y = (yDivision - barHeight) / 2;\n    } else {\n      xDivision = w.globals.gridWidth / w.globals.dataPoints;\n      barWidth = xDivision;\n      let userColumnWidth = w.config.plotOptions.bar.columnWidth;\n      if (w.globals.isXNumeric && w.globals.dataPoints > 1) {\n        xDivision = w.globals.minXDiff / this.xRatio;\n        barWidth = xDivision * parseInt(this.barOptions.columnWidth, 10) / 100;\n      } else if (String(userColumnWidth).indexOf(\"%\") === -1) {\n        barWidth = parseInt(userColumnWidth, 10);\n      } else {\n        barWidth *= parseInt(userColumnWidth, 10) / 100;\n      }\n      if (this.isReversed) {\n        zeroH = this.baseLineY[translationsIndex];\n      } else {\n        zeroH = w.globals.gridHeight - this.baseLineY[translationsIndex];\n      }\n      x = w.globals.padHorizontal + (xDivision - barWidth) / 2;\n    }\n    let subDivisions = w.globals.barGroups.length || 1;\n    return {\n      x,\n      y,\n      yDivision,\n      xDivision,\n      barHeight: barHeight / subDivisions,\n      barWidth: barWidth / subDivisions,\n      zeroH,\n      zeroW\n    };\n  }\n  drawStackedBarPaths({\n    indexes,\n    barHeight,\n    strokeWidth,\n    zeroW,\n    x,\n    y,\n    columnGroupIndex,\n    seriesGroup,\n    yDivision,\n    elSeries\n  }) {\n    let w = this.w;\n    let barYPosition = y + columnGroupIndex * barHeight;\n    let barXPosition;\n    let i = indexes.i;\n    let j = indexes.j;\n    let realIndex = indexes.realIndex;\n    let translationsIndex = indexes.translationsIndex;\n    let prevBarW = 0;\n    for (let k = 0; k < this.groupCtx.prevXF.length; k++) {\n      prevBarW = prevBarW + this.groupCtx.prevXF[k][j];\n    }\n    let gsi = i;\n    if (w.config.series[realIndex].name) {\n      gsi = seriesGroup.indexOf(w.config.series[realIndex].name);\n    }\n    if (gsi > 0) {\n      let bXP = zeroW;\n      if (this.groupCtx.prevXVal[gsi - 1][j] < 0) {\n        bXP = this.series[i][j] >= 0 ? this.groupCtx.prevX[gsi - 1][j] + prevBarW - (this.isReversed ? prevBarW : 0) * 2 : this.groupCtx.prevX[gsi - 1][j];\n      } else if (this.groupCtx.prevXVal[gsi - 1][j] >= 0) {\n        bXP = this.series[i][j] >= 0 ? this.groupCtx.prevX[gsi - 1][j] : this.groupCtx.prevX[gsi - 1][j] - prevBarW + (this.isReversed ? prevBarW : 0) * 2;\n      }\n      barXPosition = bXP;\n    } else {\n      barXPosition = zeroW;\n    }\n    if (this.series[i][j] === null) {\n      x = barXPosition;\n    } else {\n      x = barXPosition + this.series[i][j] / this.invertedYRatio - (this.isReversed ? this.series[i][j] / this.invertedYRatio : 0) * 2;\n    }\n    const paths = this.barHelpers.getBarpaths({\n      barYPosition,\n      barHeight,\n      x1: barXPosition,\n      x2: x,\n      strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      realIndex: indexes.realIndex,\n      seriesGroup,\n      i,\n      j,\n      w\n    });\n    this.barHelpers.barBackground({\n      j,\n      i,\n      y1: barYPosition,\n      y2: barHeight,\n      elSeries\n    });\n    y = y + yDivision;\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      goalX: this.barHelpers.getGoalValues(\n        \"x\",\n        zeroW,\n        null,\n        i,\n        j,\n        translationsIndex\n      ),\n      barXPosition,\n      barYPosition,\n      x,\n      y\n    };\n  }\n  drawStackedColumnPaths({\n    indexes,\n    x,\n    y,\n    xDivision,\n    barWidth,\n    zeroH,\n    columnGroupIndex,\n    seriesGroup,\n    elSeries\n  }) {\n    var _a, _b, _c, _d;\n    let w = this.w;\n    let i = indexes.i;\n    let j = indexes.j;\n    let bc = indexes.bc;\n    let realIndex = indexes.realIndex;\n    let translationsIndex = indexes.translationsIndex;\n    if (w.globals.isXNumeric) {\n      let seriesVal = w.globals.seriesX[realIndex][j];\n      if (!seriesVal) seriesVal = 0;\n      x = (seriesVal - w.globals.minX) / this.xRatio - barWidth / 2 * w.globals.barGroups.length;\n    }\n    let barXPosition = x + columnGroupIndex * barWidth;\n    let barYPosition;\n    let prevBarH = 0;\n    for (let k = 0; k < this.groupCtx.prevYF.length; k++) {\n      prevBarH = prevBarH + (!isNaN(this.groupCtx.prevYF[k][j]) ? this.groupCtx.prevYF[k][j] : 0);\n    }\n    let gsi = i;\n    if (seriesGroup) {\n      gsi = seriesGroup.indexOf(w.globals.seriesNames[realIndex]);\n    }\n    if (gsi > 0 && !w.globals.isXNumeric || gsi > 0 && w.globals.isXNumeric && w.globals.seriesX[realIndex - 1][j] === w.globals.seriesX[realIndex][j]) {\n      let bYP;\n      let prevYValue;\n      const p = Math.min(this.yRatio.length + 1, realIndex + 1);\n      if (this.groupCtx.prevY[gsi - 1] !== void 0 && this.groupCtx.prevY[gsi - 1].length) {\n        for (let ii = 1; ii < p; ii++) {\n          if (!isNaN((_a = this.groupCtx.prevY[gsi - ii]) == null ? void 0 : _a[j])) {\n            prevYValue = this.groupCtx.prevY[gsi - ii][j];\n            break;\n          }\n        }\n      }\n      for (let ii = 1; ii < p; ii++) {\n        if (((_b = this.groupCtx.prevYVal[gsi - ii]) == null ? void 0 : _b[j]) < 0) {\n          bYP = this.series[i][j] >= 0 ? prevYValue - prevBarH + (this.isReversed ? prevBarH : 0) * 2 : prevYValue;\n          break;\n        } else if (((_c = this.groupCtx.prevYVal[gsi - ii]) == null ? void 0 : _c[j]) >= 0) {\n          bYP = this.series[i][j] >= 0 ? prevYValue : prevYValue + prevBarH - (this.isReversed ? prevBarH : 0) * 2;\n          break;\n        }\n      }\n      if (typeof bYP === \"undefined\") bYP = w.globals.gridHeight;\n      if (((_d = this.groupCtx.prevYF[0]) == null ? void 0 : _d.every((val) => val === 0)) && this.groupCtx.prevYF.slice(1, gsi).every((arr) => arr.every((val) => isNaN(val)))) {\n        barYPosition = zeroH;\n      } else {\n        barYPosition = bYP;\n      }\n    } else {\n      barYPosition = zeroH;\n    }\n    if (this.series[i][j]) {\n      y = barYPosition - this.series[i][j] / this.yRatio[translationsIndex] + (this.isReversed ? this.series[i][j] / this.yRatio[translationsIndex] : 0) * 2;\n    } else {\n      y = barYPosition;\n    }\n    const paths = this.barHelpers.getColumnPaths({\n      barXPosition,\n      barWidth,\n      y1: barYPosition,\n      y2: y,\n      yRatio: this.yRatio[translationsIndex],\n      strokeWidth: this.strokeWidth,\n      isReversed: this.isReversed,\n      series: this.series,\n      seriesGroup,\n      realIndex: indexes.realIndex,\n      i,\n      j,\n      w\n    });\n    this.barHelpers.barBackground({\n      bc,\n      j,\n      i,\n      x1: barXPosition,\n      x2: barWidth,\n      elSeries\n    });\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      goalY: this.barHelpers.getGoalValues(\"y\", null, zeroH, i, j),\n      barXPosition,\n      x: w.globals.isXNumeric ? x : x + xDivision,\n      y\n    };\n  }\n}\nclass BoxCandleStick extends Bar {\n  draw(series, ctype, seriesIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const type = w.globals.comboCharts ? ctype : w.config.chart.type;\n    const fill = new Fill(this.ctx);\n    this.candlestickOptions = this.w.config.plotOptions.candlestick;\n    this.boxOptions = this.w.config.plotOptions.boxPlot;\n    this.isHorizontal = w.config.plotOptions.bar.horizontal;\n    this.isOHLC = this.candlestickOptions && this.candlestickOptions.type === \"ohlc\";\n    this.coreUtils = new CoreUtils(this.ctx);\n    series = this.coreUtils.getLogSeries(series);\n    this.series = series;\n    this.yRatio = this.coreUtils.getLogYRatios(this.yRatio);\n    this.barHelpers.initVariables(series);\n    const ret = graphics.group({\n      class: `apexcharts-${type}-series apexcharts-plot-series`\n    });\n    for (let i = 0; i < series.length; i++) {\n      this.isBoxPlot = w.config.chart.type === \"boxPlot\" || w.config.series[i].type === \"boxPlot\";\n      let x, y, xDivision, yDivision, zeroH, zeroW;\n      const yArrj = [];\n      const xArrj = [];\n      const realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      const { columnGroupIndex } = this.barHelpers.getGroupIndex(realIndex);\n      const elSeries = graphics.group({\n        class: `apexcharts-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        rel: i + 1,\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      if (series[i].length > 0) {\n        this.visibleI = this.visibleI + 1;\n      }\n      let barHeight = 0;\n      let barWidth = 0;\n      let translationsIndex = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex][0];\n        translationsIndex = realIndex;\n      }\n      const initPositions = this.barHelpers.initialPositions(realIndex);\n      y = initPositions.y;\n      barHeight = initPositions.barHeight;\n      yDivision = initPositions.yDivision;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      xDivision = initPositions.xDivision;\n      zeroH = initPositions.zeroH;\n      xArrj.push(x + barWidth / 2);\n      const elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      const elGoalsMarkers = graphics.group({\n        class: \"apexcharts-bar-goals-markers\"\n      });\n      for (let j = 0; j < w.globals.dataPoints; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        let paths = null;\n        const pathsParams = {\n          indexes: {\n            i,\n            j,\n            realIndex,\n            translationsIndex\n          },\n          x,\n          y,\n          strokeWidth,\n          elSeries\n        };\n        if (this.isHorizontal) {\n          paths = this.drawHorizontalBoxPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            yDivision,\n            barHeight,\n            zeroW\n          }));\n        } else {\n          paths = this.drawVerticalBoxPaths(__spreadProps(__spreadValues({}, pathsParams), {\n            xDivision,\n            barWidth,\n            zeroH\n          }));\n        }\n        y = paths.y;\n        x = paths.x;\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition: paths.barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        if (j > 0) {\n          xArrj.push(x + barWidth / 2);\n        }\n        yArrj.push(y);\n        paths.pathTo.forEach((pathTo, pi) => {\n          const lineFill = !this.isBoxPlot && this.candlestickOptions.wick.useFillColor ? paths.color[pi] : w.globals.stroke.colors[i];\n          const pathFill = fill.fillPath({\n            seriesNumber: realIndex,\n            dataPointIndex: j,\n            color: paths.color[pi],\n            value: series[i][j]\n          });\n          this.renderSeries({\n            realIndex,\n            pathFill,\n            lineFill,\n            j,\n            i,\n            pathFrom: paths.pathFrom,\n            pathTo,\n            strokeWidth,\n            elSeries,\n            x,\n            y,\n            series,\n            columnGroupIndex,\n            barHeight,\n            barWidth,\n            elDataLabelsWrap,\n            elGoalsMarkers,\n            visibleSeries: this.visibleI,\n            type: w.config.chart.type\n          });\n        });\n      }\n      w.globals.seriesXvalues[realIndex] = xArrj;\n      w.globals.seriesYvalues[realIndex] = yArrj;\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  drawVerticalBoxPaths({\n    indexes,\n    x,\n    xDivision,\n    barWidth,\n    zeroH,\n    strokeWidth\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const i = indexes.i;\n    const j = indexes.j;\n    const { colors: candleColors } = w.config.plotOptions.candlestick;\n    const { colors: boxColors } = this.boxOptions;\n    const realIndex = indexes.realIndex;\n    const getColor = (color2) => Array.isArray(color2) ? color2[realIndex] : color2;\n    const colorPos = getColor(candleColors.upward);\n    const colorNeg = getColor(candleColors.downward);\n    const yRatio = this.yRatio[indexes.translationsIndex];\n    const ohlc = this.getOHLCValue(realIndex, j);\n    let l1 = zeroH;\n    let l2 = zeroH;\n    let color = ohlc.o < ohlc.c ? [colorPos] : [colorNeg];\n    if (this.isBoxPlot) {\n      color = [getColor(boxColors.lower), getColor(boxColors.upper)];\n    }\n    let y1 = Math.min(ohlc.o, ohlc.c);\n    let y2 = Math.max(ohlc.o, ohlc.c);\n    let m = ohlc.m;\n    if (w.globals.isXNumeric) {\n      x = (w.globals.seriesX[realIndex][j] - w.globals.minX) / this.xRatio - barWidth / 2;\n    }\n    const barXPosition = x + barWidth * this.visibleI;\n    if (typeof this.series[i][j] === \"undefined\" || this.series[i][j] === null) {\n      y1 = zeroH;\n      y2 = zeroH;\n    } else {\n      y1 = zeroH - y1 / yRatio;\n      y2 = zeroH - y2 / yRatio;\n      l1 = zeroH - ohlc.h / yRatio;\n      l2 = zeroH - ohlc.l / yRatio;\n      m = zeroH - ohlc.m / yRatio;\n    }\n    let pathTo;\n    let pathFrom = graphics.move(barXPosition + barWidth / 2, y1);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.getPreviousPath(realIndex, j, true);\n    }\n    if (this.isOHLC) {\n      const centerX = barXPosition + barWidth / 2;\n      const openY = zeroH - ohlc.o / yRatio;\n      const closeY = zeroH - ohlc.c / yRatio;\n      pathTo = [\n        graphics.move(centerX, l1) + graphics.line(centerX, l2) + graphics.move(centerX, openY) + graphics.line(barXPosition, openY) + graphics.move(centerX, closeY) + graphics.line(barXPosition + barWidth, closeY)\n      ];\n    } else if (this.isBoxPlot) {\n      pathTo = [\n        graphics.move(barXPosition, y1) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition + barWidth / 2, l1) + graphics.line(barXPosition + barWidth / 4, l1) + graphics.line(barXPosition + barWidth - barWidth / 4, l1) + graphics.line(barXPosition + barWidth / 2, l1) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition + barWidth, y1) + graphics.line(barXPosition + barWidth, m) + graphics.line(barXPosition, m) + graphics.line(barXPosition, y1 + strokeWidth / 2),\n        graphics.move(barXPosition, m) + graphics.line(barXPosition + barWidth, m) + graphics.line(barXPosition + barWidth, y2) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition + barWidth / 2, l2) + graphics.line(barXPosition + barWidth - barWidth / 4, l2) + graphics.line(barXPosition + barWidth / 4, l2) + graphics.line(barXPosition + barWidth / 2, l2) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition, y2) + graphics.line(barXPosition, m) + \"z\"\n      ];\n    } else {\n      pathTo = [\n        graphics.move(barXPosition, y2) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition + barWidth / 2, l1) + graphics.line(barXPosition + barWidth / 2, y2) + graphics.line(barXPosition + barWidth, y2) + graphics.line(barXPosition + barWidth, y1) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition + barWidth / 2, l2) + graphics.line(barXPosition + barWidth / 2, y1) + graphics.line(barXPosition, y1) + graphics.line(barXPosition, y2 - strokeWidth / 2)\n      ];\n    }\n    pathFrom = pathFrom + graphics.move(barXPosition, y1);\n    if (!w.globals.isXNumeric) {\n      x = x + xDivision;\n    }\n    return {\n      pathTo,\n      pathFrom,\n      x,\n      y: y2,\n      goalY: this.barHelpers.getGoalValues(\n        \"y\",\n        null,\n        zeroH,\n        i,\n        j,\n        indexes.translationsIndex\n      ),\n      barXPosition,\n      color\n    };\n  }\n  drawHorizontalBoxPaths({\n    indexes,\n    y,\n    yDivision,\n    barHeight,\n    zeroW,\n    strokeWidth\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const i = indexes.i;\n    const j = indexes.j;\n    const realIndex = indexes.realIndex;\n    const { colors: candleColors } = w.config.plotOptions.candlestick;\n    const { colors: boxColors } = this.boxOptions;\n    const getColor = (color2) => Array.isArray(color2) ? color2[realIndex] : color2;\n    const yRatio = this.invertedYRatio;\n    const ohlc = this.getOHLCValue(realIndex, j);\n    let color = ohlc.o < ohlc.c ? [getColor(candleColors.upward)] : [getColor(candleColors.downward)];\n    if (this.isBoxPlot) {\n      color = [getColor(boxColors.lower), getColor(boxColors.upper)];\n    }\n    let l1 = zeroW;\n    let l2 = zeroW;\n    let x1 = Math.min(ohlc.o, ohlc.c);\n    let x2 = Math.max(ohlc.o, ohlc.c);\n    let m = ohlc.m;\n    if (w.globals.isXNumeric) {\n      y = (w.globals.seriesX[realIndex][j] - w.globals.minX) / this.invertedXRatio - barHeight / 2;\n    }\n    const barYPosition = y + barHeight * this.visibleI;\n    if (typeof this.series[i][j] === \"undefined\" || this.series[i][j] === null) {\n      x1 = zeroW;\n      x2 = zeroW;\n    } else {\n      x1 = zeroW + x1 / yRatio;\n      x2 = zeroW + x2 / yRatio;\n      l1 = zeroW + ohlc.h / yRatio;\n      l2 = zeroW + ohlc.l / yRatio;\n      m = zeroW + ohlc.m / yRatio;\n    }\n    let pathTo;\n    let pathFrom = graphics.move(x1, barYPosition + barHeight / 2);\n    if (w.globals.previousPaths.length > 0) {\n      pathFrom = this.getPreviousPath(realIndex, j, true);\n    }\n    pathTo = [\n      graphics.move(x1, barYPosition) + graphics.line(x1, barYPosition + barHeight / 2) + graphics.line(l1, barYPosition + barHeight / 2) + graphics.line(l1, barYPosition + barHeight / 2 - barHeight / 4) + graphics.line(l1, barYPosition + barHeight / 2 + barHeight / 4) + graphics.line(l1, barYPosition + barHeight / 2) + graphics.line(x1, barYPosition + barHeight / 2) + graphics.line(x1, barYPosition + barHeight) + graphics.line(m, barYPosition + barHeight) + graphics.line(m, barYPosition) + graphics.line(x1 + strokeWidth / 2, barYPosition),\n      graphics.move(m, barYPosition) + graphics.line(m, barYPosition + barHeight) + graphics.line(x2, barYPosition + barHeight) + graphics.line(x2, barYPosition + barHeight / 2) + graphics.line(l2, barYPosition + barHeight / 2) + graphics.line(l2, barYPosition + barHeight - barHeight / 4) + graphics.line(l2, barYPosition + barHeight / 4) + graphics.line(l2, barYPosition + barHeight / 2) + graphics.line(x2, barYPosition + barHeight / 2) + graphics.line(x2, barYPosition) + graphics.line(m, barYPosition) + \"z\"\n    ];\n    pathFrom = pathFrom + graphics.move(x1, barYPosition);\n    if (!w.globals.isXNumeric) {\n      y = y + yDivision;\n    }\n    return {\n      pathTo,\n      pathFrom,\n      x: x2,\n      y,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, i, j),\n      barYPosition,\n      color\n    };\n  }\n  getOHLCValue(i, j) {\n    const w = this.w;\n    const coreUtils = this.coreUtils;\n    const getCandleVal = (arr) => arr[i] && arr[i][j] != null ? coreUtils.getLogValAtSeriesIndex(arr[i][j], i) : 0;\n    const h = getCandleVal(w.globals.seriesCandleH);\n    const o = getCandleVal(w.globals.seriesCandleO);\n    const m = getCandleVal(w.globals.seriesCandleM);\n    const c = getCandleVal(w.globals.seriesCandleC);\n    const l = getCandleVal(w.globals.seriesCandleL);\n    return {\n      o: this.isBoxPlot ? h : o,\n      h: this.isBoxPlot ? o : h,\n      m,\n      l: this.isBoxPlot ? c : l,\n      c: this.isBoxPlot ? l : c\n    };\n  }\n}\nclass TreemapHelpers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  checkColorRange() {\n    const w = this.w;\n    let negRange = false;\n    let chartOpts = w.config.plotOptions[w.config.chart.type];\n    if (chartOpts.colorScale.ranges.length > 0) {\n      chartOpts.colorScale.ranges.map((range) => {\n        if (range.from <= 0) {\n          negRange = true;\n        }\n      });\n    }\n    return negRange;\n  }\n  getShadeColor(chartType, i, j, negRange) {\n    const w = this.w;\n    let colorShadePercent = 1;\n    let shadeIntensity = w.config.plotOptions[chartType].shadeIntensity;\n    const colorProps = this.determineColor(chartType, i, j);\n    if (w.globals.hasNegs || negRange) {\n      if (w.config.plotOptions[chartType].reverseNegativeShade) {\n        if (colorProps.percent < 0) {\n          colorShadePercent = colorProps.percent / 100 * (shadeIntensity * 1.25);\n        } else {\n          colorShadePercent = (1 - colorProps.percent / 100) * (shadeIntensity * 1.25);\n        }\n      } else {\n        if (colorProps.percent <= 0) {\n          colorShadePercent = 1 - (1 + colorProps.percent / 100) * shadeIntensity;\n        } else {\n          colorShadePercent = (1 - colorProps.percent / 100) * shadeIntensity;\n        }\n      }\n    } else {\n      colorShadePercent = 1 - colorProps.percent / 100;\n      if (chartType === \"treemap\") {\n        colorShadePercent = (1 - colorProps.percent / 100) * (shadeIntensity * 1.25);\n      }\n    }\n    let color = colorProps.color;\n    let utils = new Utils$1();\n    if (w.config.plotOptions[chartType].enableShades) {\n      if (this.w.config.theme.mode === \"dark\") {\n        const shadeColor = utils.shadeColor(\n          colorShadePercent * -1,\n          colorProps.color\n        );\n        color = Utils$1.hexToRgba(\n          Utils$1.isColorHex(shadeColor) ? shadeColor : Utils$1.rgb2hex(shadeColor),\n          w.config.fill.opacity\n        );\n      } else {\n        const shadeColor = utils.shadeColor(colorShadePercent, colorProps.color);\n        color = Utils$1.hexToRgba(\n          Utils$1.isColorHex(shadeColor) ? shadeColor : Utils$1.rgb2hex(shadeColor),\n          w.config.fill.opacity\n        );\n      }\n    }\n    return { color, colorProps };\n  }\n  determineColor(chartType, i, j) {\n    const w = this.w;\n    let val = w.globals.series[i][j];\n    let chartOpts = w.config.plotOptions[chartType];\n    let seriesNumber = chartOpts.colorScale.inverse ? j : i;\n    if (chartOpts.distributed && w.config.chart.type === \"treemap\") {\n      seriesNumber = j;\n    }\n    let color = w.globals.colors[seriesNumber];\n    let foreColor = null;\n    let min = Math.min(...w.globals.series[i]);\n    let max = Math.max(...w.globals.series[i]);\n    if (!chartOpts.distributed && chartType === \"heatmap\") {\n      min = w.globals.minY;\n      max = w.globals.maxY;\n    }\n    if (typeof chartOpts.colorScale.min !== \"undefined\") {\n      min = chartOpts.colorScale.min < w.globals.minY ? chartOpts.colorScale.min : w.globals.minY;\n      max = chartOpts.colorScale.max > w.globals.maxY ? chartOpts.colorScale.max : w.globals.maxY;\n    }\n    let total = Math.abs(max) + Math.abs(min);\n    let percent = 100 * val / (total === 0 ? total - 1e-6 : total);\n    if (chartOpts.colorScale.ranges.length > 0) {\n      const colorRange = chartOpts.colorScale.ranges;\n      colorRange.map((range) => {\n        if (val >= range.from && val <= range.to) {\n          color = range.color;\n          foreColor = range.foreColor ? range.foreColor : null;\n          min = range.from;\n          max = range.to;\n          let rTotal = Math.abs(max) + Math.abs(min);\n          percent = 100 * val / (rTotal === 0 ? rTotal - 1e-6 : rTotal);\n        }\n      });\n    }\n    return {\n      color,\n      foreColor,\n      percent\n    };\n  }\n  calculateDataLabels({ text, x, y, i, j, colorProps, fontSize }) {\n    let w = this.w;\n    let dataLabelsConfig = w.config.dataLabels;\n    const graphics = new Graphics(this.ctx);\n    let dataLabels = new DataLabels(this.ctx);\n    let elDataLabelsWrap = null;\n    if (dataLabelsConfig.enabled) {\n      elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-data-labels\"\n      });\n      const offX = dataLabelsConfig.offsetX;\n      const offY = dataLabelsConfig.offsetY;\n      let dataLabelsX = x + offX;\n      let dataLabelsY = y + parseFloat(dataLabelsConfig.style.fontSize) / 3 + offY;\n      dataLabels.plotDataLabelsText({\n        x: dataLabelsX,\n        y: dataLabelsY,\n        text,\n        i,\n        j,\n        color: colorProps.foreColor,\n        parent: elDataLabelsWrap,\n        fontSize,\n        dataLabelsConfig\n      });\n    }\n    return elDataLabelsWrap;\n  }\n}\nclass HeatMap {\n  constructor(ctx, xyRatios) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.xRatio = xyRatios.xRatio;\n    this.yRatio = xyRatios.yRatio;\n    this.dynamicAnim = this.w.config.chart.animations.dynamicAnimation;\n    this.helpers = new TreemapHelpers(ctx);\n    this.rectRadius = this.w.config.plotOptions.heatmap.radius;\n    this.strokeWidth = this.w.config.stroke.show ? this.w.config.stroke.width : 0;\n  }\n  draw(series) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let ret = graphics.group({\n      class: \"apexcharts-heatmap\"\n    });\n    ret.attr(\"clip-path\", `url(#gridRectMask${w.globals.cuid})`);\n    let xDivision = w.globals.gridWidth / w.globals.dataPoints;\n    let yDivision = w.globals.gridHeight / w.globals.series.length;\n    let y1 = 0;\n    let rev = false;\n    this.negRange = this.helpers.checkColorRange();\n    let heatSeries = series.slice();\n    if (w.config.yaxis[0].reversed) {\n      rev = true;\n      heatSeries.reverse();\n    }\n    for (let i = rev ? 0 : heatSeries.length - 1; rev ? i < heatSeries.length : i >= 0; rev ? i++ : i--) {\n      let elSeries = graphics.group({\n        class: `apexcharts-series apexcharts-heatmap-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, i);\n      graphics.setupEventDelegation(elSeries, \".apexcharts-heatmap-rect\");\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        const filters = new Filters(this.ctx);\n        filters.dropShadow(elSeries, shadow, i);\n      }\n      let x1 = 0;\n      let shadeIntensity = w.config.plotOptions.heatmap.shadeIntensity;\n      let j = 0;\n      for (let dIndex = 0; dIndex < w.globals.dataPoints; dIndex++) {\n        if (w.globals.seriesX.length && !w.globals.allSeriesHasEqualX) {\n          if (w.globals.minX + w.globals.minXDiff * dIndex < w.globals.seriesX[i][j]) {\n            x1 = x1 + xDivision;\n            continue;\n          }\n        }\n        if (j >= heatSeries[i].length) break;\n        let heatColor = this.helpers.getShadeColor(\n          w.config.chart.type,\n          i,\n          j,\n          this.negRange\n        );\n        let color = heatColor.color;\n        let heatColorProps = heatColor.colorProps;\n        if (w.config.fill.type === \"image\") {\n          const fill = new Fill(this.ctx);\n          color = fill.fillPath({\n            seriesNumber: i,\n            dataPointIndex: j,\n            opacity: w.globals.hasNegs ? heatColorProps.percent < 0 ? 1 - (1 + heatColorProps.percent / 100) : shadeIntensity + heatColorProps.percent / 100 : heatColorProps.percent / 100,\n            patternID: Utils$1.randomId(),\n            width: w.config.fill.image.width ? w.config.fill.image.width : xDivision,\n            height: w.config.fill.image.height ? w.config.fill.image.height : yDivision\n          });\n        }\n        let radius = this.rectRadius;\n        let rect = graphics.drawRect(x1, y1, xDivision, yDivision, radius);\n        rect.attr({\n          cx: x1,\n          cy: y1\n        });\n        rect.node.classList.add(\"apexcharts-heatmap-rect\");\n        elSeries.add(rect);\n        rect.attr({\n          fill: color,\n          i,\n          index: i,\n          j,\n          val: series[i][j],\n          \"stroke-width\": this.strokeWidth,\n          stroke: w.config.plotOptions.heatmap.useFillColorAsStroke ? color : w.globals.stroke.colors[0],\n          color\n        });\n        if (w.config.chart.animations.enabled && !w.globals.dataChanged) {\n          let speed = 1;\n          if (!w.globals.resized) {\n            speed = w.config.chart.animations.speed;\n          }\n          this.animateHeatMap(rect, x1, y1, xDivision, yDivision, speed);\n        }\n        if (w.globals.dataChanged) {\n          let speed = 1;\n          if (this.dynamicAnim.enabled && w.globals.shouldAnimate) {\n            speed = this.dynamicAnim.speed;\n            let colorFrom = w.globals.previousPaths[i] && w.globals.previousPaths[i][j] && w.globals.previousPaths[i][j].color;\n            if (!colorFrom) colorFrom = \"rgba(255, 255, 255, 0)\";\n            this.animateHeatColor(\n              rect,\n              Utils$1.isColorHex(colorFrom) ? colorFrom : Utils$1.rgb2hex(colorFrom),\n              Utils$1.isColorHex(color) ? color : Utils$1.rgb2hex(color),\n              speed\n            );\n          }\n        }\n        let formatter = w.config.dataLabels.formatter;\n        let formattedText = formatter(w.globals.series[i][j], {\n          value: w.globals.series[i][j],\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        });\n        let dataLabels = this.helpers.calculateDataLabels({\n          text: formattedText,\n          x: x1 + xDivision / 2,\n          y: y1 + yDivision / 2,\n          i,\n          j,\n          colorProps: heatColorProps,\n          series: heatSeries\n        });\n        if (dataLabels !== null) {\n          elSeries.add(dataLabels);\n        }\n        x1 = x1 + xDivision;\n        j++;\n      }\n      y1 = y1 + yDivision;\n      ret.add(elSeries);\n    }\n    let yAxisScale = w.globals.yAxisScale[0].result.slice();\n    if (w.config.yaxis[0].reversed) {\n      yAxisScale.unshift(\"\");\n    } else {\n      yAxisScale.push(\"\");\n    }\n    w.globals.yAxisScale[0].result = yAxisScale;\n    return ret;\n  }\n  animateHeatMap(el, x, y, width, height, speed) {\n    const animations = new Animations(this.ctx);\n    animations.animateRect(\n      el,\n      {\n        x: x + width / 2,\n        y: y + height / 2,\n        width: 0,\n        height: 0\n      },\n      {\n        x,\n        y,\n        width,\n        height\n      },\n      speed,\n      () => {\n        animations.animationCompleted(el);\n      }\n    );\n  }\n  animateHeatColor(el, colorFrom, colorTo, speed) {\n    el.attr({\n      fill: colorFrom\n    }).animate(speed).attr({\n      fill: colorTo\n    });\n  }\n}\nclass Helpers5 {\n  constructor(lineCtx) {\n    this.w = lineCtx.w;\n    this.lineCtx = lineCtx;\n  }\n  sameValueSeriesFix(i, series) {\n    const w = this.w;\n    if (w.config.fill.type === \"gradient\" || w.config.fill.type[i] === \"gradient\") {\n      const coreUtils = new CoreUtils(this.lineCtx.ctx);\n      if (coreUtils.seriesHaveSameValues(i)) {\n        let gSeries = series[i].slice();\n        gSeries[gSeries.length - 1] = gSeries[gSeries.length - 1] + 1e-6;\n        series[i] = gSeries;\n      }\n    }\n    return series;\n  }\n  calculatePoints({ series, realIndex, x, y, i, j, prevY }) {\n    let w = this.w;\n    let ptX = [];\n    let ptY = [];\n    let xPT1st = this.lineCtx.categoryAxisCorrection + w.config.markers.offsetX;\n    if (w.globals.isXNumeric) {\n      xPT1st = (w.globals.seriesX[realIndex][0] - w.globals.minX) / this.lineCtx.xRatio + w.config.markers.offsetX;\n    }\n    if (j === 0) {\n      ptX.push(xPT1st);\n      ptY.push(\n        Utils$1.isNumber(series[i][0]) ? prevY + w.config.markers.offsetY : null\n      );\n    }\n    ptX.push(x + w.config.markers.offsetX);\n    ptY.push(\n      Utils$1.isNumber(series[i][j + 1]) ? y + w.config.markers.offsetY : null\n    );\n    return {\n      x: ptX,\n      y: ptY\n    };\n  }\n  checkPreviousPaths({ pathFromLine, pathFromArea, realIndex }) {\n    let w = this.w;\n    for (let pp = 0; pp < w.globals.previousPaths.length; pp++) {\n      let gpp = w.globals.previousPaths[pp];\n      if ((gpp.type === \"line\" || gpp.type === \"area\") && gpp.paths.length > 0 && parseInt(gpp.realIndex, 10) === parseInt(realIndex, 10)) {\n        if (gpp.type === \"line\") {\n          this.lineCtx.appendPathFrom = false;\n          pathFromLine = w.globals.previousPaths[pp].paths[0].d;\n        } else if (gpp.type === \"area\") {\n          this.lineCtx.appendPathFrom = false;\n          pathFromArea = w.globals.previousPaths[pp].paths[0].d;\n          if (w.config.stroke.show && w.globals.previousPaths[pp].paths[1]) {\n            pathFromLine = w.globals.previousPaths[pp].paths[1].d;\n          }\n        }\n      }\n    }\n    return {\n      pathFromLine,\n      pathFromArea\n    };\n  }\n  determineFirstPrevY({\n    i,\n    realIndex,\n    series,\n    prevY,\n    lineYPosition,\n    translationsIndex\n  }) {\n    var _a, _b, _c;\n    let w = this.w;\n    let stackSeries = w.config.chart.stacked && !w.globals.comboCharts || w.config.chart.stacked && w.globals.comboCharts && (!this.w.config.chart.stackOnlyBar || ((_a = this.w.config.series[realIndex]) == null ? void 0 : _a.type) === \"bar\" || ((_b = this.w.config.series[realIndex]) == null ? void 0 : _b.type) === \"column\");\n    if (typeof ((_c = series[i]) == null ? void 0 : _c[0]) !== \"undefined\") {\n      if (stackSeries) {\n        if (i > 0) {\n          lineYPosition = this.lineCtx.prevSeriesY[i - 1][0];\n        } else {\n          lineYPosition = this.lineCtx.zeroY;\n        }\n      } else {\n        lineYPosition = this.lineCtx.zeroY;\n      }\n      prevY = lineYPosition - series[i][0] / this.lineCtx.yRatio[translationsIndex] + (this.lineCtx.isReversed ? series[i][0] / this.lineCtx.yRatio[translationsIndex] : 0) * 2;\n    } else {\n      if (stackSeries && i > 0 && typeof series[i][0] === \"undefined\") {\n        for (let s = i - 1; s >= 0; s--) {\n          if (series[s][0] !== null && typeof series[s][0] !== \"undefined\") {\n            lineYPosition = this.lineCtx.prevSeriesY[s][0];\n            prevY = lineYPosition;\n            break;\n          }\n        }\n      }\n    }\n    return {\n      prevY,\n      lineYPosition\n    };\n  }\n}\nconst tangents = (points) => {\n  const m = finiteDifferences(points);\n  const n = points.length - 1;\n  const  = 1e-6;\n  const tgts = [];\n  let a, b, d, s;\n  for (let i = 0; i < n; i++) {\n    d = slope(points[i], points[i + 1]);\n    if (Math.abs(d) < ) {\n      m[i] = m[i + 1] = 0;\n    } else {\n      a = m[i] / d;\n      b = m[i + 1] / d;\n      s = a * a + b * b;\n      if (s > 9) {\n        s = d * 3 / Math.sqrt(s);\n        m[i] = s * a;\n        m[i + 1] = s * b;\n      }\n    }\n  }\n  for (let i = 0; i <= n; i++) {\n    s = (points[Math.min(n, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n    tgts.push([s || 0, m[i] * s || 0]);\n  }\n  return tgts;\n};\nconst svgPath = (points) => {\n  let p = \"\";\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    const n = point.length;\n    if (n > 4) {\n      p += `C${point[0]}, ${point[1]}`;\n      p += `, ${point[2]}, ${point[3]}`;\n      p += `, ${point[4]}, ${point[5]}`;\n    } else if (n > 2) {\n      p += `S${point[0]}, ${point[1]}`;\n      p += `, ${point[2]}, ${point[3]}`;\n    }\n  }\n  return p;\n};\nconst spline = {\n  /**\n   * Convert 'points' to bezier\n   * @param {Array} points\n   * @returns {Array}\n   */\n  points(points) {\n    const tgts = tangents(points);\n    const p = points[1];\n    const p0 = points[0];\n    const pts = [];\n    const t = tgts[1];\n    const t0 = tgts[0];\n    pts.push(p0, [\n      p0[0] + t0[0],\n      p0[1] + t0[1],\n      p[0] - t[0],\n      p[1] - t[1],\n      p[0],\n      p[1]\n    ]);\n    for (let i = 2, n = tgts.length; i < n; i++) {\n      const p2 = points[i];\n      const t2 = tgts[i];\n      pts.push([p2[0] - t2[0], p2[1] - t2[1], p2[0], p2[1]]);\n    }\n    return pts;\n  },\n  /**\n   * Slice out a segment of 'points'\n   * @param {Array} points\n   * @param {Number} start\n   * @param {Number} end\n   * @returns {Array}\n   */\n  slice(points, start, end) {\n    const pts = points.slice(start, end);\n    if (start) {\n      if (end - start > 1 && pts[1].length < 6) {\n        const n = pts[0].length;\n        pts[1] = [\n          pts[0][n - 2] * 2 - pts[0][n - 4],\n          pts[0][n - 1] * 2 - pts[0][n - 3]\n        ].concat(pts[1]);\n      }\n      pts[0] = pts[0].slice(-2);\n    }\n    return pts;\n  }\n};\nfunction slope(p0, p1) {\n  return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n}\nfunction finiteDifferences(points) {\n  const m = [];\n  let p0 = points[0];\n  let p1 = points[1];\n  let d = m[0] = slope(p0, p1);\n  let i = 1;\n  for (let n = points.length - 1; i < n; i++) {\n    p0 = p1;\n    p1 = points[i + 1];\n    m[i] = (d + (d = slope(p0, p1))) * 0.5;\n  }\n  m[i] = d;\n  return m;\n}\nclass Line {\n  constructor(ctx, xyRatios, isPointsChart) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.xyRatios = xyRatios;\n    this.pointsChart = !(this.w.config.chart.type !== \"bubble\" && this.w.config.chart.type !== \"scatter\") || isPointsChart;\n    this.scatter = new Scatter(this.ctx);\n    this.noNegatives = this.w.globals.minX === Number.MAX_VALUE;\n    this.lineHelpers = new Helpers5(this);\n    this.markers = new Markers(this.ctx);\n    this.prevSeriesY = [];\n    this.categoryAxisCorrection = 0;\n    this.yaxisIndex = 0;\n  }\n  draw(series, ctype, seriesIndex, seriesRangeEnd) {\n    var _a;\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let type = w.globals.comboCharts ? ctype : w.config.chart.type;\n    let ret = graphics.group({\n      class: `apexcharts-${type}-series apexcharts-plot-series`\n    });\n    const coreUtils = new CoreUtils(this.ctx);\n    this.yRatio = this.xyRatios.yRatio;\n    this.zRatio = this.xyRatios.zRatio;\n    this.xRatio = this.xyRatios.xRatio;\n    this.baseLineY = this.xyRatios.baseLineY;\n    series = coreUtils.getLogSeries(series);\n    this.yRatio = coreUtils.getLogYRatios(this.yRatio);\n    this.prevSeriesY = [];\n    let allSeries = [];\n    for (let i = 0; i < series.length; i++) {\n      series = this.lineHelpers.sameValueSeriesFix(i, series);\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let translationsIndex = this.yRatio.length > 1 ? realIndex : 0;\n      this._initSerieVariables(series, i, realIndex);\n      let yArrj = [];\n      let y2Arrj = [];\n      let xArrj = [];\n      let x = w.globals.padHorizontal + this.categoryAxisCorrection;\n      let y = 1;\n      let linePaths = [];\n      let areaPaths = [];\n      this.ctx.series.addCollapsedClassToSeries(this.elSeries, realIndex);\n      if (w.globals.isXNumeric && w.globals.seriesX.length > 0) {\n        x = (w.globals.seriesX[realIndex][0] - w.globals.minX) / this.xRatio;\n      }\n      xArrj.push(x);\n      let pX = x;\n      let pY;\n      let pY2;\n      let prevX = pX;\n      let prevY = this.zeroY;\n      let prevY2 = this.zeroY;\n      let lineYPosition = 0;\n      let firstPrevY = this.lineHelpers.determineFirstPrevY({\n        i,\n        realIndex,\n        series,\n        prevY,\n        lineYPosition,\n        translationsIndex\n      });\n      prevY = firstPrevY.prevY;\n      if (w.config.stroke.curve === \"monotoneCubic\" && series[i][0] === null) {\n        yArrj.push(null);\n      } else {\n        yArrj.push(prevY);\n      }\n      pY = prevY;\n      let firstPrevY2;\n      if (type === \"rangeArea\") {\n        firstPrevY2 = this.lineHelpers.determineFirstPrevY({\n          i,\n          realIndex,\n          series: seriesRangeEnd,\n          prevY: prevY2,\n          lineYPosition,\n          translationsIndex\n        });\n        prevY2 = firstPrevY2.prevY;\n        pY2 = prevY2;\n        y2Arrj.push(yArrj[0] !== null ? prevY2 : null);\n      }\n      let pathsFrom = this._calculatePathsFrom({\n        type,\n        series,\n        i,\n        realIndex,\n        translationsIndex,\n        prevX,\n        prevY,\n        prevY2\n      });\n      let rYArrj = [yArrj[0]];\n      let rY2Arrj = [y2Arrj[0]];\n      const iteratingOpts = {\n        type,\n        series,\n        realIndex,\n        translationsIndex,\n        i,\n        x,\n        y,\n        pX,\n        pY,\n        pathsFrom,\n        linePaths,\n        areaPaths,\n        seriesIndex,\n        lineYPosition,\n        xArrj,\n        yArrj,\n        y2Arrj,\n        seriesRangeEnd\n      };\n      let paths = this._iterateOverDataPoints(__spreadProps(__spreadValues({}, iteratingOpts), {\n        iterations: type === \"rangeArea\" ? series[i].length - 1 : void 0,\n        isRangeStart: true\n      }));\n      if (type === \"rangeArea\") {\n        let pathsFrom2 = this._calculatePathsFrom({\n          series: seriesRangeEnd,\n          i,\n          realIndex,\n          prevX,\n          prevY: prevY2\n        });\n        let rangePaths = this._iterateOverDataPoints(__spreadProps(__spreadValues({}, iteratingOpts), {\n          series: seriesRangeEnd,\n          xArrj: [x],\n          yArrj: rYArrj,\n          y2Arrj: rY2Arrj,\n          pY: pY2,\n          areaPaths: paths.areaPaths,\n          pathsFrom: pathsFrom2,\n          iterations: seriesRangeEnd[i].length - 1,\n          isRangeStart: false\n        }));\n        let segments = paths.linePaths.length / 2;\n        for (let s = 0; s < segments; s++) {\n          paths.linePaths[s] = rangePaths.linePaths[s + segments] + paths.linePaths[s];\n        }\n        paths.linePaths.splice(segments);\n        paths.pathFromLine = rangePaths.pathFromLine + paths.pathFromLine;\n      } else {\n        paths.pathFromArea += \"z\";\n      }\n      this._handlePaths({ type, realIndex, i, paths });\n      this.elSeries.add(this.elPointsMain);\n      this.elSeries.add(this.elDataLabelsWrap);\n      allSeries.push(this.elSeries);\n    }\n    if (typeof ((_a = w.config.series[0]) == null ? void 0 : _a.zIndex) !== \"undefined\") {\n      allSeries.sort(\n        (a, b) => Number(a.node.getAttribute(\"zIndex\")) - Number(b.node.getAttribute(\"zIndex\"))\n      );\n    }\n    if (w.config.chart.stacked) {\n      for (let s = allSeries.length - 1; s >= 0; s--) {\n        ret.add(allSeries[s]);\n      }\n    } else {\n      for (let s = 0; s < allSeries.length; s++) {\n        ret.add(allSeries[s]);\n      }\n    }\n    return ret;\n  }\n  _initSerieVariables(series, i, realIndex) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    this.xDivision = w.globals.gridWidth / (w.globals.dataPoints - (w.config.xaxis.tickPlacement === \"on\" ? 1 : 0));\n    this.strokeWidth = Array.isArray(w.config.stroke.width) ? w.config.stroke.width[realIndex] : w.config.stroke.width;\n    let translationsIndex = 0;\n    if (this.yRatio.length > 1) {\n      this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex];\n      translationsIndex = realIndex;\n    }\n    this.isReversed = w.config.yaxis[this.yaxisIndex] && w.config.yaxis[this.yaxisIndex].reversed;\n    this.zeroY = w.globals.gridHeight - this.baseLineY[translationsIndex] - (this.isReversed ? w.globals.gridHeight : 0) + (this.isReversed ? this.baseLineY[translationsIndex] * 2 : 0);\n    this.areaBottomY = this.zeroY;\n    if (this.zeroY > w.globals.gridHeight || w.config.plotOptions.area.fillTo === \"end\") {\n      this.areaBottomY = w.globals.gridHeight;\n    }\n    this.categoryAxisCorrection = this.xDivision / 2;\n    this.elSeries = graphics.group({\n      class: `apexcharts-series`,\n      zIndex: typeof w.config.series[realIndex].zIndex !== \"undefined\" ? w.config.series[realIndex].zIndex : realIndex,\n      seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex])\n    });\n    this.elPointsMain = graphics.group({\n      class: \"apexcharts-series-markers-wrap\",\n      \"data:realIndex\": realIndex\n    });\n    if (w.globals.hasNullValues) {\n      const firstPoint = this.markers.plotChartMarkers({\n        pointsPos: {\n          x: [0],\n          y: [w.globals.gridHeight + w.globals.markers.largestSize]\n        },\n        seriesIndex: i,\n        j: 0,\n        pSize: 0.1,\n        alwaysDrawMarker: true,\n        isVirtualPoint: true\n      });\n      if (firstPoint !== null) {\n        this.elPointsMain.add(firstPoint);\n      }\n    }\n    this.elDataLabelsWrap = graphics.group({\n      class: \"apexcharts-datalabels\",\n      \"data:realIndex\": realIndex\n    });\n    let longestSeries = series[i].length === w.globals.dataPoints;\n    this.elSeries.attr({\n      \"data:longestSeries\": longestSeries,\n      rel: i + 1,\n      \"data:realIndex\": realIndex\n    });\n    this.appendPathFrom = true;\n  }\n  _calculatePathsFrom({\n    type,\n    series,\n    i,\n    realIndex,\n    translationsIndex,\n    prevX,\n    prevY,\n    prevY2\n  }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let linePath, areaPath, pathFromLine, pathFromArea;\n    if (series[i][0] === null) {\n      for (let s = 0; s < series[i].length; s++) {\n        if (series[i][s] !== null) {\n          prevX = this.xDivision * s;\n          prevY = this.zeroY - series[i][s] / this.yRatio[translationsIndex];\n          linePath = graphics.move(prevX, prevY);\n          areaPath = graphics.move(prevX, this.areaBottomY);\n          break;\n        }\n      }\n    } else {\n      linePath = graphics.move(prevX, prevY);\n      if (type === \"rangeArea\") {\n        linePath = graphics.move(prevX, prevY2) + graphics.line(prevX, prevY);\n      }\n      areaPath = graphics.move(prevX, this.areaBottomY) + graphics.line(prevX, prevY);\n    }\n    pathFromLine = graphics.move(0, this.areaBottomY) + graphics.line(0, this.areaBottomY);\n    pathFromArea = graphics.move(0, this.areaBottomY) + graphics.line(0, this.areaBottomY);\n    if (w.globals.previousPaths.length > 0) {\n      const pathFrom = this.lineHelpers.checkPreviousPaths({\n        pathFromLine,\n        pathFromArea,\n        realIndex\n      });\n      pathFromLine = pathFrom.pathFromLine;\n      pathFromArea = pathFrom.pathFromArea;\n    }\n    return {\n      prevX,\n      prevY,\n      linePath,\n      areaPath,\n      pathFromLine,\n      pathFromArea\n    };\n  }\n  _handlePaths({ type, realIndex, i, paths }) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const fill = new Fill(this.ctx);\n    this.prevSeriesY.push(paths.yArrj);\n    w.globals.seriesXvalues[realIndex] = paths.xArrj;\n    w.globals.seriesYvalues[realIndex] = paths.yArrj;\n    const forecast = w.config.forecastDataPoints;\n    if (forecast.count > 0 && type !== \"rangeArea\") {\n      const forecastCutoff = w.globals.seriesXvalues[realIndex][w.globals.seriesXvalues[realIndex].length - forecast.count - 1];\n      const elForecastMask = graphics.drawRect(\n        forecastCutoff,\n        0,\n        w.globals.gridWidth,\n        w.globals.gridHeight,\n        0\n      );\n      w.globals.dom.elForecastMask.appendChild(elForecastMask.node);\n      const elNonForecastMask = graphics.drawRect(\n        0,\n        0,\n        forecastCutoff,\n        w.globals.gridHeight,\n        0\n      );\n      w.globals.dom.elNonForecastMask.appendChild(elNonForecastMask.node);\n    }\n    if (!this.pointsChart) {\n      w.globals.delayedElements.push({\n        el: this.elPointsMain.node,\n        index: realIndex\n      });\n    }\n    const defaultRenderedPathOptions = {\n      i,\n      realIndex,\n      animationDelay: i,\n      initialSpeed: w.config.chart.animations.speed,\n      dataChangeSpeed: w.config.chart.animations.dynamicAnimation.speed,\n      className: `apexcharts-${type}`\n    };\n    if (type === \"area\") {\n      let pathFill = fill.fillPath({\n        seriesNumber: realIndex\n      });\n      for (let p = 0; p < paths.areaPaths.length; p++) {\n        let renderedPath = graphics.renderPaths(__spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: paths.pathFromArea,\n          pathTo: paths.areaPaths[p],\n          stroke: \"none\",\n          strokeWidth: 0,\n          strokeLineCap: null,\n          fill: pathFill\n        }));\n        this.elSeries.add(renderedPath);\n      }\n    }\n    if (w.config.stroke.show && !this.pointsChart) {\n      let lineFill = null;\n      if (type === \"line\") {\n        lineFill = fill.fillPath({\n          seriesNumber: realIndex,\n          i\n        });\n      } else {\n        if (w.config.stroke.fill.type === \"solid\") {\n          lineFill = w.globals.stroke.colors[realIndex];\n        } else {\n          const prevFill = w.config.fill;\n          w.config.fill = w.config.stroke.fill;\n          lineFill = fill.fillPath({\n            seriesNumber: realIndex,\n            i\n          });\n          w.config.fill = prevFill;\n        }\n      }\n      for (let p = 0; p < paths.linePaths.length; p++) {\n        let pathFill = lineFill;\n        if (type === \"rangeArea\") {\n          pathFill = fill.fillPath({\n            seriesNumber: realIndex\n          });\n        }\n        const linePathCommonOpts = __spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: paths.pathFromLine,\n          pathTo: paths.linePaths[p],\n          stroke: lineFill,\n          strokeWidth: this.strokeWidth,\n          strokeLineCap: w.config.stroke.lineCap,\n          fill: type === \"rangeArea\" ? pathFill : \"none\"\n        });\n        let renderedPath = graphics.renderPaths(linePathCommonOpts);\n        this.elSeries.add(renderedPath);\n        renderedPath.attr(\"fill-rule\", `evenodd`);\n        if (forecast.count > 0 && type !== \"rangeArea\") {\n          let renderedForecastPath = graphics.renderPaths(linePathCommonOpts);\n          renderedForecastPath.node.setAttribute(\n            \"stroke-dasharray\",\n            forecast.dashArray\n          );\n          if (forecast.strokeWidth) {\n            renderedForecastPath.node.setAttribute(\n              \"stroke-width\",\n              forecast.strokeWidth\n            );\n          }\n          this.elSeries.add(renderedForecastPath);\n          renderedForecastPath.attr(\n            \"clip-path\",\n            `url(#forecastMask${w.globals.cuid})`\n          );\n          renderedPath.attr(\n            \"clip-path\",\n            `url(#nonForecastMask${w.globals.cuid})`\n          );\n        }\n      }\n    }\n  }\n  _iterateOverDataPoints({\n    type,\n    series,\n    iterations,\n    realIndex,\n    translationsIndex,\n    i,\n    x,\n    y,\n    pX,\n    pY,\n    pathsFrom,\n    linePaths,\n    areaPaths,\n    seriesIndex,\n    lineYPosition,\n    xArrj,\n    yArrj,\n    y2Arrj,\n    isRangeStart,\n    seriesRangeEnd\n  }) {\n    var _a, _b;\n    const w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let yRatio = this.yRatio;\n    let { prevY, linePath, areaPath, pathFromLine, pathFromArea } = pathsFrom;\n    const minY = Utils$1.isNumber(w.globals.minYArr[realIndex]) ? w.globals.minYArr[realIndex] : w.globals.minY;\n    if (!iterations) {\n      iterations = w.globals.dataPoints > 1 ? w.globals.dataPoints - 1 : w.globals.dataPoints;\n    }\n    const getY = (_y, lineYPos) => {\n      return lineYPos - _y / yRatio[translationsIndex] + (this.isReversed ? _y / yRatio[translationsIndex] : 0) * 2;\n    };\n    let y2 = y;\n    let stackSeries = w.config.chart.stacked && !w.globals.comboCharts || w.config.chart.stacked && w.globals.comboCharts && (!this.w.config.chart.stackOnlyBar || ((_a = this.w.config.series[realIndex]) == null ? void 0 : _a.type) === \"bar\" || ((_b = this.w.config.series[realIndex]) == null ? void 0 : _b.type) === \"column\");\n    let curve = w.config.stroke.curve;\n    if (Array.isArray(curve)) {\n      if (Array.isArray(seriesIndex)) {\n        curve = curve[seriesIndex[i]];\n      } else {\n        curve = curve[i];\n      }\n    }\n    let pathState = 0;\n    let segmentStartX;\n    for (let j = 0; j < iterations; j++) {\n      if (series[i].length === 0) break;\n      const isNull = typeof series[i][j + 1] === \"undefined\" || series[i][j + 1] === null;\n      if (w.globals.isXNumeric) {\n        let sX = w.globals.seriesX[realIndex][j + 1];\n        if (typeof w.globals.seriesX[realIndex][j + 1] === \"undefined\") {\n          sX = w.globals.seriesX[realIndex][iterations - 1];\n        }\n        x = (sX - w.globals.minX) / this.xRatio;\n      } else {\n        x = x + this.xDivision;\n      }\n      if (stackSeries) {\n        if (i > 0 && w.globals.collapsedSeries.length < w.config.series.length - 1) {\n          const prevIndex = (pi) => {\n            for (let pii = pi; pii > 0; pii--) {\n              if (w.globals.collapsedSeriesIndices.indexOf(\n                (seriesIndex == null ? void 0 : seriesIndex[pii]) || pii\n              ) > -1) {\n                pii--;\n              } else {\n                return pii;\n              }\n            }\n            return 0;\n          };\n          lineYPosition = this.prevSeriesY[prevIndex(i - 1)][j + 1];\n        } else {\n          lineYPosition = this.zeroY;\n        }\n      } else {\n        lineYPosition = this.zeroY;\n      }\n      if (isNull) {\n        y = getY(minY, lineYPosition);\n      } else {\n        y = getY(series[i][j + 1], lineYPosition);\n        if (type === \"rangeArea\") {\n          y2 = getY(seriesRangeEnd[i][j + 1], lineYPosition);\n        }\n      }\n      xArrj.push(series[i][j + 1] === null ? null : x);\n      if (isNull && (w.config.stroke.curve === \"smooth\" || w.config.stroke.curve === \"monotoneCubic\")) {\n        yArrj.push(null);\n        y2Arrj.push(null);\n      } else {\n        yArrj.push(y);\n        y2Arrj.push(y2);\n      }\n      let pointsPos = this.lineHelpers.calculatePoints({\n        series,\n        x,\n        y,\n        realIndex,\n        i,\n        j,\n        prevY\n      });\n      let calculatedPaths = this._createPaths({\n        type,\n        series,\n        i,\n        j,\n        x,\n        y,\n        y2,\n        xArrj,\n        yArrj,\n        y2Arrj,\n        pX,\n        pY,\n        pathState,\n        segmentStartX,\n        linePath,\n        areaPath,\n        linePaths,\n        areaPaths,\n        curve,\n        isRangeStart\n      });\n      areaPaths = calculatedPaths.areaPaths;\n      linePaths = calculatedPaths.linePaths;\n      pX = calculatedPaths.pX;\n      pY = calculatedPaths.pY;\n      pathState = calculatedPaths.pathState;\n      segmentStartX = calculatedPaths.segmentStartX;\n      areaPath = calculatedPaths.areaPath;\n      linePath = calculatedPaths.linePath;\n      if (this.appendPathFrom && !w.globals.hasNullValues && !(curve === \"monotoneCubic\" && type === \"rangeArea\")) {\n        pathFromLine += graphics.line(x, this.areaBottomY);\n        pathFromArea += graphics.line(x, this.areaBottomY);\n      }\n      this.handleNullDataPoints(series, pointsPos, i, j, realIndex);\n      this._handleMarkersAndLabels({\n        type,\n        pointsPos,\n        i,\n        j,\n        realIndex,\n        isRangeStart\n      });\n    }\n    return {\n      yArrj,\n      xArrj,\n      pathFromArea,\n      areaPaths,\n      pathFromLine,\n      linePaths,\n      linePath,\n      areaPath\n    };\n  }\n  _handleMarkersAndLabels({ type, pointsPos, isRangeStart, i, j, realIndex }) {\n    const w = this.w;\n    let dataLabels = new DataLabels(this.ctx);\n    if (!this.pointsChart) {\n      if (w.globals.series[i].length > 1) {\n        this.elPointsMain.node.classList.add(\"apexcharts-element-hidden\");\n      }\n      let elPointsWrap = this.markers.plotChartMarkers({\n        pointsPos,\n        seriesIndex: realIndex,\n        j: j + 1\n      });\n      if (elPointsWrap !== null) {\n        this.elPointsMain.add(elPointsWrap);\n      }\n    } else {\n      this.scatter.draw(this.elSeries, j, {\n        realIndex,\n        pointsPos,\n        zRatio: this.zRatio,\n        elParent: this.elPointsMain\n      });\n    }\n    let drawnLabels = dataLabels.drawDataLabel({\n      type,\n      isRangeStart,\n      pos: pointsPos,\n      i: realIndex,\n      j: j + 1\n    });\n    if (drawnLabels !== null) {\n      this.elDataLabelsWrap.add(drawnLabels);\n    }\n  }\n  _createPaths({\n    type,\n    series,\n    i,\n    j,\n    x,\n    y,\n    xArrj,\n    yArrj,\n    y2,\n    y2Arrj,\n    pX,\n    pY,\n    pathState,\n    segmentStartX,\n    linePath,\n    areaPath,\n    linePaths,\n    areaPaths,\n    curve,\n    isRangeStart\n  }) {\n    let graphics = new Graphics(this.ctx);\n    const areaBottomY = this.areaBottomY;\n    let rangeArea = type === \"rangeArea\";\n    let isLowerRangeAreaPath = type === \"rangeArea\" && isRangeStart;\n    switch (curve) {\n      case \"monotoneCubic\": {\n        let yAj = isRangeStart ? yArrj : y2Arrj;\n        let getSmoothInputs = (xArr, yArr) => {\n          return xArr.map((_, i2) => {\n            return [_, yArr[i2]];\n          }).filter((_) => _[1] !== null);\n        };\n        let getSegmentLengths = (yArr) => {\n          let segLens = [];\n          let count = 0;\n          yArr.forEach((_) => {\n            if (_ !== null) {\n              count++;\n            } else if (count > 0) {\n              segLens.push(count);\n              count = 0;\n            }\n          });\n          if (count > 0) {\n            segLens.push(count);\n          }\n          return segLens;\n        };\n        let getSegments = (yArr, points) => {\n          let segLens = getSegmentLengths(yArr);\n          let segments = [];\n          for (let i2 = 0, len = 0; i2 < segLens.length; len += segLens[i2++]) {\n            segments[i2] = spline.slice(points, len, len + segLens[i2]);\n          }\n          return segments;\n        };\n        switch (pathState) {\n          case 0:\n            if (yAj[j + 1] === null) {\n              break;\n            }\n            pathState = 1;\n          // falls through\n          case 1:\n            if (!(rangeArea ? xArrj.length === series[i].length : j === series[i].length - 2)) {\n              break;\n            }\n          // falls through\n          case 2: {\n            const _xAj = isRangeStart ? xArrj : xArrj.slice().reverse();\n            const _yAj = isRangeStart ? yAj : yAj.slice().reverse();\n            const smoothInputs = getSmoothInputs(_xAj, _yAj);\n            const points = smoothInputs.length > 1 ? spline.points(smoothInputs) : smoothInputs;\n            let smoothInputsLower = [];\n            if (rangeArea) {\n              if (isLowerRangeAreaPath) {\n                areaPaths = smoothInputs;\n              } else {\n                smoothInputsLower = areaPaths.reverse();\n              }\n            }\n            let segmentCount = 0;\n            let smoothInputsIndex = 0;\n            getSegments(_yAj, points).forEach((_) => {\n              segmentCount++;\n              let svgPoints = svgPath(_);\n              let _start = smoothInputsIndex;\n              smoothInputsIndex += _.length;\n              let _end = smoothInputsIndex - 1;\n              if (isLowerRangeAreaPath) {\n                linePath = graphics.move(\n                  smoothInputs[_start][0],\n                  smoothInputs[_start][1]\n                ) + svgPoints;\n              } else if (rangeArea) {\n                linePath = graphics.move(\n                  smoothInputsLower[_start][0],\n                  smoothInputsLower[_start][1]\n                ) + graphics.line(\n                  smoothInputs[_start][0],\n                  smoothInputs[_start][1]\n                ) + svgPoints + graphics.line(\n                  smoothInputsLower[_end][0],\n                  smoothInputsLower[_end][1]\n                );\n              } else {\n                linePath = graphics.move(\n                  smoothInputs[_start][0],\n                  smoothInputs[_start][1]\n                ) + svgPoints;\n                areaPath = linePath + graphics.line(smoothInputs[_end][0], areaBottomY) + graphics.line(smoothInputs[_start][0], areaBottomY) + \"z\";\n                areaPaths.push(areaPath);\n              }\n              linePaths.push(linePath);\n            });\n            if (rangeArea && segmentCount > 1 && !isLowerRangeAreaPath) {\n              let upperLinePaths = linePaths.slice(segmentCount).reverse();\n              linePaths.splice(segmentCount);\n              upperLinePaths.forEach((u) => linePaths.push(u));\n            }\n            pathState = 0;\n            break;\n          }\n        }\n        break;\n      }\n      case \"smooth\": {\n        let length = (x - pX) * 0.35;\n        if (series[i][j] === null) {\n          pathState = 0;\n        } else {\n          switch (pathState) {\n            case 0:\n              segmentStartX = pX;\n              if (isLowerRangeAreaPath) {\n                linePath = graphics.move(pX, y2Arrj[j]) + graphics.line(pX, pY);\n              } else {\n                linePath = graphics.move(pX, pY);\n              }\n              areaPath = graphics.move(pX, pY);\n              if (series[i][j + 1] === null || typeof series[i][j + 1] === \"undefined\") {\n                linePaths.push(linePath);\n                areaPaths.push(areaPath);\n                break;\n              }\n              pathState = 1;\n              if (j < series[i].length - 2) {\n                let p = graphics.curve(pX + length, pY, x - length, y, x, y);\n                linePath += p;\n                areaPath += p;\n                break;\n              }\n            // falls through\n            case 1:\n              if (series[i][j + 1] === null) {\n                if (isLowerRangeAreaPath) {\n                  linePath += graphics.line(pX, y2);\n                } else {\n                  linePath += graphics.move(pX, pY);\n                }\n                areaPath += graphics.line(pX, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                linePaths.push(linePath);\n                areaPaths.push(areaPath);\n                pathState = -1;\n              } else {\n                let p = graphics.curve(pX + length, pY, x - length, y, x, y);\n                linePath += p;\n                areaPath += p;\n                if (j >= series[i].length - 2) {\n                  if (isLowerRangeAreaPath) {\n                    linePath += graphics.curve(x, y, x, y, x, y2) + graphics.move(x, y2);\n                  }\n                  areaPath += graphics.curve(x, y, x, y, x, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                  linePaths.push(linePath);\n                  areaPaths.push(areaPath);\n                  pathState = -1;\n                }\n              }\n              break;\n          }\n        }\n        pX = x;\n        pY = y;\n        break;\n      }\n      default: {\n        let pathToPoint = (curve2, x2, y3) => {\n          let path = [];\n          switch (curve2) {\n            case \"stepline\":\n              path = graphics.line(x2, null, \"H\") + graphics.line(null, y3, \"V\");\n              break;\n            case \"linestep\":\n              path = graphics.line(null, y3, \"V\") + graphics.line(x2, null, \"H\");\n              break;\n            case \"straight\":\n              path = graphics.line(x2, y3);\n              break;\n          }\n          return path;\n        };\n        if (series[i][j] === null) {\n          pathState = 0;\n        } else {\n          switch (pathState) {\n            case 0:\n              segmentStartX = pX;\n              if (isLowerRangeAreaPath) {\n                linePath = graphics.move(pX, y2Arrj[j]) + graphics.line(pX, pY);\n              } else {\n                linePath = graphics.move(pX, pY);\n              }\n              areaPath = graphics.move(pX, pY);\n              if (series[i][j + 1] === null || typeof series[i][j + 1] === \"undefined\") {\n                linePaths.push(linePath);\n                areaPaths.push(areaPath);\n                break;\n              }\n              pathState = 1;\n              if (j < series[i].length - 2) {\n                let p = pathToPoint(curve, x, y);\n                linePath += p;\n                areaPath += p;\n                break;\n              }\n            // falls through\n            case 1:\n              if (series[i][j + 1] === null) {\n                if (isLowerRangeAreaPath) {\n                  linePath += graphics.line(pX, y2);\n                } else {\n                  linePath += graphics.move(pX, pY);\n                }\n                areaPath += graphics.line(pX, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                linePaths.push(linePath);\n                areaPaths.push(areaPath);\n                pathState = -1;\n              } else {\n                let p = pathToPoint(curve, x, y);\n                linePath += p;\n                areaPath += p;\n                if (j >= series[i].length - 2) {\n                  if (isLowerRangeAreaPath) {\n                    linePath += graphics.line(x, y2);\n                  }\n                  areaPath += graphics.line(x, areaBottomY) + graphics.line(segmentStartX, areaBottomY) + \"z\";\n                  linePaths.push(linePath);\n                  areaPaths.push(areaPath);\n                  pathState = -1;\n                }\n              }\n              break;\n          }\n        }\n        pX = x;\n        pY = y;\n        break;\n      }\n    }\n    return {\n      linePaths,\n      areaPaths,\n      pX,\n      pY,\n      pathState,\n      segmentStartX,\n      linePath,\n      areaPath\n    };\n  }\n  handleNullDataPoints(series, pointsPos, i, j, realIndex) {\n    const w = this.w;\n    if (series[i][j] === null && w.config.markers.showNullDataPoints || series[i].length === 1) {\n      let pSize = this.strokeWidth - w.config.markers.strokeWidth / 2;\n      if (!(pSize > 0)) {\n        pSize = 0;\n      }\n      let elPointsWrap = this.markers.plotChartMarkers({\n        pointsPos,\n        seriesIndex: realIndex,\n        j: j + 1,\n        pSize,\n        alwaysDrawMarker: true\n      });\n      if (elPointsWrap !== null) {\n        this.elPointsMain.add(elPointsWrap);\n      }\n    }\n  }\n}\nclass CircularChartsHelpers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  drawYAxisTexts(x, y, i, text) {\n    const w = this.w;\n    const yaxisConfig = w.config.yaxis[0];\n    const formatter = w.globals.yLabelFormatters[0];\n    const graphics = new Graphics(this.ctx);\n    const yaxisLabel = graphics.drawText({\n      x: x + yaxisConfig.labels.offsetX,\n      y: y + yaxisConfig.labels.offsetY,\n      text: formatter(text, i),\n      textAnchor: \"middle\",\n      fontSize: yaxisConfig.labels.style.fontSize,\n      fontFamily: yaxisConfig.labels.style.fontFamily,\n      foreColor: Array.isArray(yaxisConfig.labels.style.colors) ? yaxisConfig.labels.style.colors[i] : yaxisConfig.labels.style.colors\n    });\n    return yaxisLabel;\n  }\n}\nclass Pie {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    const w = this.w;\n    this.chartType = this.w.config.chart.type;\n    this.initialAnim = this.w.config.chart.animations.enabled;\n    this.dynamicAnim = this.initialAnim && this.w.config.chart.animations.dynamicAnimation.enabled;\n    this.animBeginArr = [0];\n    this.animDur = 0;\n    this.donutDataLabels = this.w.config.plotOptions.pie.donut.labels;\n    this.lineColorArr = w.globals.stroke.colors !== void 0 ? w.globals.stroke.colors : w.globals.colors;\n    this.defaultSize = Math.min(w.globals.gridWidth, w.globals.gridHeight);\n    this.centerY = this.defaultSize / 2;\n    this.centerX = w.globals.gridWidth / 2;\n    if (w.config.chart.type === \"radialBar\") {\n      this.fullAngle = 360;\n    } else {\n      this.fullAngle = Math.abs(\n        w.config.plotOptions.pie.endAngle - w.config.plotOptions.pie.startAngle\n      );\n    }\n    this.initialAngle = w.config.plotOptions.pie.startAngle % this.fullAngle;\n    w.globals.radialSize = this.defaultSize / 2.05 - w.config.stroke.width - (!w.config.chart.sparkline.enabled ? w.config.chart.dropShadow.blur : 0);\n    this.donutSize = w.globals.radialSize * parseInt(w.config.plotOptions.pie.donut.size, 10) / 100;\n    let scaleSize = w.config.plotOptions.pie.customScale;\n    let halfW = w.globals.gridWidth / 2;\n    let halfH = w.globals.gridHeight / 2;\n    this.translateX = halfW - halfW * scaleSize;\n    this.translateY = halfH - halfH * scaleSize;\n    this.dataLabelsGroup = new Graphics(this.ctx).group({\n      class: \"apexcharts-datalabels-group\",\n      transform: `translate(${this.translateX}, ${this.translateY}) scale(${scaleSize})`\n    });\n    this.maxY = 0;\n    this.sliceLabels = [];\n    this.sliceSizes = [];\n    this.prevSectorAngleArr = [];\n  }\n  draw(series) {\n    let self = this;\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let elPie = graphics.group({\n      class: \"apexcharts-pie\"\n    });\n    if (w.globals.noData) return elPie;\n    let total = 0;\n    for (let k = 0; k < series.length; k++) {\n      total += Utils$1.negToZero(series[k]);\n    }\n    let sectorAngleArr = [];\n    let elSeries = graphics.group();\n    if (total === 0) {\n      total = 1e-5;\n    }\n    series.forEach((m) => {\n      this.maxY = Math.max(this.maxY, m);\n    });\n    if (w.config.yaxis[0].max) {\n      this.maxY = w.config.yaxis[0].max;\n    }\n    if (w.config.grid.position === \"back\" && this.chartType === \"polarArea\") {\n      this.drawPolarElements(elPie);\n    }\n    for (let i = 0; i < series.length; i++) {\n      let angle = this.fullAngle * Utils$1.negToZero(series[i]) / total;\n      sectorAngleArr.push(angle);\n      if (this.chartType === \"polarArea\") {\n        sectorAngleArr[i] = this.fullAngle / series.length;\n        this.sliceSizes.push(w.globals.radialSize * series[i] / this.maxY);\n      } else {\n        this.sliceSizes.push(w.globals.radialSize);\n      }\n    }\n    if (w.globals.dataChanged) {\n      let prevTotal = 0;\n      for (let k = 0; k < w.globals.previousPaths.length; k++) {\n        prevTotal += Utils$1.negToZero(w.globals.previousPaths[k]);\n      }\n      let previousAngle;\n      for (let i = 0; i < w.globals.previousPaths.length; i++) {\n        previousAngle = this.fullAngle * Utils$1.negToZero(w.globals.previousPaths[i]) / prevTotal;\n        this.prevSectorAngleArr.push(previousAngle);\n      }\n    }\n    if (this.donutSize < 0) {\n      this.donutSize = 0;\n    }\n    if (this.chartType === \"donut\") {\n      const circle = graphics.drawCircle(this.donutSize);\n      circle.attr({\n        cx: this.centerX,\n        cy: this.centerY,\n        fill: w.config.plotOptions.pie.donut.background ? w.config.plotOptions.pie.donut.background : \"transparent\"\n      });\n      elSeries.add(circle);\n    }\n    let elG = self.drawArcs(sectorAngleArr, series);\n    this.sliceLabels.forEach((s) => {\n      elG.add(s);\n    });\n    elSeries.attr({\n      transform: `translate(${this.translateX}, ${this.translateY}) scale(${w.config.plotOptions.pie.customScale})`\n    });\n    elSeries.add(elG);\n    elPie.add(elSeries);\n    if (this.donutDataLabels.show) {\n      let dataLabels = this.renderInnerDataLabels(\n        this.dataLabelsGroup,\n        this.donutDataLabels,\n        {\n          hollowSize: this.donutSize,\n          centerX: this.centerX,\n          centerY: this.centerY,\n          opacity: this.donutDataLabels.show\n        }\n      );\n      elPie.add(dataLabels);\n    }\n    if (w.config.grid.position === \"front\" && this.chartType === \"polarArea\") {\n      this.drawPolarElements(elPie);\n    }\n    return elPie;\n  }\n  // core function for drawing pie arcs\n  drawArcs(sectorAngleArr, series) {\n    let w = this.w;\n    const filters = new Filters(this.ctx);\n    let graphics = new Graphics(this.ctx);\n    let fill = new Fill(this.ctx);\n    let g = graphics.group({\n      class: \"apexcharts-slices\"\n    });\n    let startAngle = this.initialAngle;\n    let prevStartAngle = this.initialAngle;\n    let endAngle = this.initialAngle;\n    let prevEndAngle = this.initialAngle;\n    this.strokeWidth = w.config.stroke.show ? w.config.stroke.width : 0;\n    for (let i = 0; i < sectorAngleArr.length; i++) {\n      let elPieArc = graphics.group({\n        class: `apexcharts-series apexcharts-pie-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      g.add(elPieArc);\n      startAngle = endAngle;\n      prevStartAngle = prevEndAngle;\n      endAngle = startAngle + sectorAngleArr[i];\n      prevEndAngle = prevStartAngle + this.prevSectorAngleArr[i];\n      const angle = endAngle < startAngle ? this.fullAngle + endAngle - startAngle : endAngle - startAngle;\n      let pathFill = fill.fillPath({\n        seriesNumber: i,\n        size: this.sliceSizes[i],\n        value: series[i]\n      });\n      let path = this.getChangedPath(prevStartAngle, prevEndAngle);\n      let elPath = graphics.drawPath({\n        d: path,\n        stroke: Array.isArray(this.lineColorArr) ? this.lineColorArr[i] : this.lineColorArr,\n        strokeWidth: 0,\n        fill: pathFill,\n        fillOpacity: w.config.fill.opacity,\n        classes: `apexcharts-pie-area apexcharts-${this.chartType.toLowerCase()}-slice-${i}`\n      });\n      elPath.attr({\n        index: 0,\n        j: i\n      });\n      filters.setSelectionFilter(elPath, 0, i);\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        filters.dropShadow(elPath, shadow, i);\n      }\n      this.addListeners(elPath, this.donutDataLabels);\n      Graphics.setAttrs(elPath.node, {\n        \"data:angle\": angle,\n        \"data:startAngle\": startAngle,\n        \"data:strokeWidth\": this.strokeWidth,\n        \"data:value\": series[i]\n      });\n      let labelPosition = {\n        x: 0,\n        y: 0\n      };\n      if (this.chartType === \"pie\" || this.chartType === \"polarArea\") {\n        labelPosition = Utils$1.polarToCartesian(\n          this.centerX,\n          this.centerY,\n          w.globals.radialSize / 1.25 + w.config.plotOptions.pie.dataLabels.offset,\n          (startAngle + angle / 2) % this.fullAngle\n        );\n      } else if (this.chartType === \"donut\") {\n        labelPosition = Utils$1.polarToCartesian(\n          this.centerX,\n          this.centerY,\n          (w.globals.radialSize + this.donutSize) / 2 + w.config.plotOptions.pie.dataLabels.offset,\n          (startAngle + angle / 2) % this.fullAngle\n        );\n      }\n      elPieArc.add(elPath);\n      let dur = 0;\n      if (this.initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n        dur = angle / this.fullAngle * w.config.chart.animations.speed;\n        if (dur === 0) dur = 1;\n        this.animDur = dur + this.animDur;\n        this.animBeginArr.push(this.animDur);\n      } else {\n        this.animBeginArr.push(0);\n      }\n      if (this.dynamicAnim && w.globals.dataChanged) {\n        this.animatePaths(elPath, {\n          size: this.sliceSizes[i],\n          endAngle,\n          startAngle,\n          prevStartAngle,\n          prevEndAngle,\n          animateStartingPos: true,\n          i,\n          animBeginArr: this.animBeginArr,\n          shouldSetPrevPaths: true,\n          dur: w.config.chart.animations.dynamicAnimation.speed\n        });\n      } else {\n        this.animatePaths(elPath, {\n          size: this.sliceSizes[i],\n          endAngle,\n          startAngle,\n          i,\n          totalItems: sectorAngleArr.length - 1,\n          animBeginArr: this.animBeginArr,\n          dur\n        });\n      }\n      if (w.config.plotOptions.pie.expandOnClick && this.chartType !== \"polarArea\") {\n        elPath.node.addEventListener(\"mouseup\", this.pieClicked.bind(this, i));\n      }\n      if (typeof w.globals.selectedDataPoints[0] !== \"undefined\" && w.globals.selectedDataPoints[0].indexOf(i) > -1) {\n        this.pieClicked(i);\n      }\n      if (w.config.dataLabels.enabled) {\n        let xPos = labelPosition.x;\n        let yPos = labelPosition.y;\n        let text = 100 * angle / this.fullAngle + \"%\";\n        if (angle !== 0 && w.config.plotOptions.pie.dataLabels.minAngleToShowLabel < sectorAngleArr[i]) {\n          let formatter = w.config.dataLabels.formatter;\n          if (formatter !== void 0) {\n            text = formatter(w.globals.seriesPercent[i][0], {\n              seriesIndex: i,\n              w\n            });\n          }\n          let foreColor = w.globals.dataLabels.style.colors[i];\n          const elPieLabelWrap = graphics.group({\n            class: `apexcharts-datalabels`\n          });\n          let elPieLabel = graphics.drawText({\n            x: xPos,\n            y: yPos,\n            text,\n            textAnchor: \"middle\",\n            fontSize: w.config.dataLabels.style.fontSize,\n            fontFamily: w.config.dataLabels.style.fontFamily,\n            fontWeight: w.config.dataLabels.style.fontWeight,\n            foreColor\n          });\n          elPieLabelWrap.add(elPieLabel);\n          if (w.config.dataLabels.dropShadow.enabled) {\n            const textShadow = w.config.dataLabels.dropShadow;\n            filters.dropShadow(elPieLabel, textShadow);\n          }\n          elPieLabel.node.classList.add(\"apexcharts-pie-label\");\n          if (w.config.chart.animations.animate && w.globals.resized === false) {\n            elPieLabel.node.classList.add(\"apexcharts-pie-label-delay\");\n            elPieLabel.node.style.animationDelay = w.config.chart.animations.speed / 940 + \"s\";\n          }\n          this.sliceLabels.push(elPieLabelWrap);\n        }\n      }\n    }\n    return g;\n  }\n  addListeners(elPath, dataLabels) {\n    const graphics = new Graphics(this.ctx);\n    elPath.node.addEventListener(\n      \"mouseenter\",\n      graphics.pathMouseEnter.bind(this, elPath)\n    );\n    elPath.node.addEventListener(\n      \"mouseleave\",\n      graphics.pathMouseLeave.bind(this, elPath)\n    );\n    elPath.node.addEventListener(\n      \"mouseleave\",\n      this.revertDataLabelsInner.bind(this, elPath.node, dataLabels)\n    );\n    elPath.node.addEventListener(\n      \"mousedown\",\n      graphics.pathMouseDown.bind(this, elPath)\n    );\n    if (!this.donutDataLabels.total.showAlways) {\n      elPath.node.addEventListener(\n        \"mouseenter\",\n        this.printDataLabelsInner.bind(this, elPath.node, dataLabels)\n      );\n      elPath.node.addEventListener(\n        \"mousedown\",\n        this.printDataLabelsInner.bind(this, elPath.node, dataLabels)\n      );\n    }\n  }\n  // This function can be used for other circle charts too\n  animatePaths(el, opts) {\n    let w = this.w;\n    let me = this;\n    let angle = opts.endAngle < opts.startAngle ? this.fullAngle + opts.endAngle - opts.startAngle : opts.endAngle - opts.startAngle;\n    let prevAngle = angle;\n    let fromStartAngle = opts.startAngle;\n    let toStartAngle = opts.startAngle;\n    if (opts.prevStartAngle !== void 0 && opts.prevEndAngle !== void 0) {\n      fromStartAngle = opts.prevEndAngle;\n      prevAngle = opts.prevEndAngle < opts.prevStartAngle ? this.fullAngle + opts.prevEndAngle - opts.prevStartAngle : opts.prevEndAngle - opts.prevStartAngle;\n    }\n    if (opts.i === w.config.series.length - 1) {\n      if (angle + toStartAngle > this.fullAngle) {\n        opts.endAngle = opts.endAngle - (angle + toStartAngle);\n      } else if (angle + toStartAngle < this.fullAngle) {\n        opts.endAngle = opts.endAngle + (this.fullAngle - (angle + toStartAngle));\n      }\n    }\n    if (angle === this.fullAngle) angle = this.fullAngle - 0.01;\n    me.animateArc(el, fromStartAngle, toStartAngle, angle, prevAngle, opts);\n  }\n  animateArc(el, fromStartAngle, toStartAngle, angle, prevAngle, opts) {\n    let me = this;\n    const w = this.w;\n    const animations = new Animations(this.ctx);\n    let size = opts.size;\n    let path;\n    if (isNaN(fromStartAngle) || isNaN(prevAngle)) {\n      fromStartAngle = toStartAngle;\n      prevAngle = angle;\n      opts.dur = 0;\n    }\n    let currAngle = angle;\n    let startAngle = toStartAngle;\n    let fromAngle = fromStartAngle < toStartAngle ? this.fullAngle + fromStartAngle - toStartAngle : fromStartAngle - toStartAngle;\n    if (w.globals.dataChanged && opts.shouldSetPrevPaths) {\n      if (opts.prevEndAngle) {\n        path = me.getPiePath({\n          me,\n          startAngle: opts.prevStartAngle,\n          angle: opts.prevEndAngle < opts.prevStartAngle ? this.fullAngle + opts.prevEndAngle - opts.prevStartAngle : opts.prevEndAngle - opts.prevStartAngle,\n          size\n        });\n        el.attr({ d: path });\n      }\n    }\n    if (opts.dur !== 0) {\n      el.animate(opts.dur, opts.animBeginArr[opts.i]).after(function() {\n        if (me.chartType === \"pie\" || me.chartType === \"donut\" || me.chartType === \"polarArea\") {\n          this.animate(w.config.chart.animations.dynamicAnimation.speed).attr(\n            {\n              \"stroke-width\": me.strokeWidth\n            }\n          );\n        }\n        if (opts.i === w.config.series.length - 1) {\n          animations.animationCompleted(el);\n        }\n      }).during((pos) => {\n        currAngle = fromAngle + (angle - fromAngle) * pos;\n        if (opts.animateStartingPos) {\n          currAngle = prevAngle + (angle - prevAngle) * pos;\n          startAngle = fromStartAngle - prevAngle + (toStartAngle - (fromStartAngle - prevAngle)) * pos;\n        }\n        path = me.getPiePath({\n          me,\n          startAngle,\n          angle: currAngle,\n          size\n        });\n        el.node.setAttribute(\"data:pathOrig\", path);\n        el.attr({\n          d: path\n        });\n      });\n    } else {\n      path = me.getPiePath({\n        me,\n        startAngle,\n        angle,\n        size\n      });\n      if (!opts.isTrack) {\n        w.globals.animationEnded = true;\n      }\n      el.node.setAttribute(\"data:pathOrig\", path);\n      el.attr({\n        d: path,\n        \"stroke-width\": me.strokeWidth\n      });\n    }\n  }\n  pieClicked(i) {\n    let w = this.w;\n    let me = this;\n    let path;\n    let size = me.sliceSizes[i] + (w.config.plotOptions.pie.expandOnClick ? 4 : 0);\n    let elPath = w.globals.dom.Paper.findOne(\n      `.apexcharts-${me.chartType.toLowerCase()}-slice-${i}`\n    );\n    if (elPath.attr(\"data:pieClicked\") === \"true\") {\n      elPath.attr({\n        \"data:pieClicked\": \"false\"\n      });\n      this.revertDataLabelsInner(elPath.node, this.donutDataLabels);\n      let origPath = elPath.attr(\"data:pathOrig\");\n      elPath.attr({\n        d: origPath\n      });\n      return;\n    } else {\n      let allEls = w.globals.dom.baseEl.getElementsByClassName(\n        \"apexcharts-pie-area\"\n      );\n      Array.prototype.forEach.call(allEls, (pieSlice) => {\n        pieSlice.setAttribute(\"data:pieClicked\", \"false\");\n        let origPath = pieSlice.getAttribute(\"data:pathOrig\");\n        if (origPath) {\n          pieSlice.setAttribute(\"d\", origPath);\n        }\n      });\n      w.globals.capturedDataPointIndex = i;\n      elPath.attr(\"data:pieClicked\", \"true\");\n    }\n    let startAngle = parseInt(elPath.attr(\"data:startAngle\"), 10);\n    let angle = parseInt(elPath.attr(\"data:angle\"), 10);\n    path = me.getPiePath({\n      me,\n      startAngle,\n      angle,\n      size\n    });\n    if (angle === 360) return;\n    elPath.plot(path);\n  }\n  getChangedPath(prevStartAngle, prevEndAngle) {\n    let path = \"\";\n    if (this.dynamicAnim && this.w.globals.dataChanged) {\n      path = this.getPiePath({\n        me: this,\n        startAngle: prevStartAngle,\n        angle: prevEndAngle - prevStartAngle,\n        size: this.size\n      });\n    }\n    return path;\n  }\n  getPiePath({ me, startAngle, angle, size }) {\n    let path;\n    const graphics = new Graphics(this.ctx);\n    let startDeg = startAngle;\n    let startRadians = Math.PI * (startDeg - 90) / 180;\n    let endDeg = angle + startAngle;\n    if (Math.ceil(endDeg) >= this.fullAngle + this.w.config.plotOptions.pie.startAngle % this.fullAngle) {\n      endDeg = this.fullAngle + this.w.config.plotOptions.pie.startAngle % this.fullAngle - 0.01;\n    }\n    if (Math.ceil(endDeg) > this.fullAngle) endDeg -= this.fullAngle;\n    let endRadians = Math.PI * (endDeg - 90) / 180;\n    let x1 = me.centerX + size * Math.cos(startRadians);\n    let y1 = me.centerY + size * Math.sin(startRadians);\n    let x2 = me.centerX + size * Math.cos(endRadians);\n    let y2 = me.centerY + size * Math.sin(endRadians);\n    let startInner = Utils$1.polarToCartesian(\n      me.centerX,\n      me.centerY,\n      me.donutSize,\n      endDeg\n    );\n    let endInner = Utils$1.polarToCartesian(\n      me.centerX,\n      me.centerY,\n      me.donutSize,\n      startDeg\n    );\n    let largeArc = angle > 180 ? 1 : 0;\n    const pathBeginning = [\"M\", x1, y1, \"A\", size, size, 0, largeArc, 1, x2, y2];\n    if (me.chartType === \"donut\") {\n      path = [\n        ...pathBeginning,\n        \"L\",\n        startInner.x,\n        startInner.y,\n        \"A\",\n        me.donutSize,\n        me.donutSize,\n        0,\n        largeArc,\n        0,\n        endInner.x,\n        endInner.y,\n        \"L\",\n        x1,\n        y1,\n        \"z\"\n      ].join(\" \");\n    } else if (me.chartType === \"pie\" || me.chartType === \"polarArea\") {\n      path = [...pathBeginning, \"L\", me.centerX, me.centerY, \"L\", x1, y1].join(\n        \" \"\n      );\n    } else {\n      path = [...pathBeginning].join(\" \");\n    }\n    return graphics.roundPathCorners(path, this.strokeWidth * 2);\n  }\n  drawPolarElements(parent) {\n    const w = this.w;\n    const scale = new Scales(this.ctx);\n    const graphics = new Graphics(this.ctx);\n    const helpers = new CircularChartsHelpers(this.ctx);\n    const gCircles = graphics.group();\n    const gYAxis = graphics.group();\n    const yScale = scale.niceScale(0, Math.ceil(this.maxY), 0);\n    const yTexts = yScale.result.reverse();\n    let len = yScale.result.length;\n    this.maxY = yScale.niceMax;\n    let circleSize = w.globals.radialSize;\n    let diff = circleSize / (len - 1);\n    for (let i = 0; i < len - 1; i++) {\n      const circle = graphics.drawCircle(circleSize);\n      circle.attr({\n        cx: this.centerX,\n        cy: this.centerY,\n        fill: \"none\",\n        \"stroke-width\": w.config.plotOptions.polarArea.rings.strokeWidth,\n        stroke: w.config.plotOptions.polarArea.rings.strokeColor\n      });\n      if (w.config.yaxis[0].show) {\n        const yLabel = helpers.drawYAxisTexts(\n          this.centerX,\n          this.centerY - circleSize + parseInt(w.config.yaxis[0].labels.style.fontSize, 10) / 2,\n          i,\n          yTexts[i]\n        );\n        gYAxis.add(yLabel);\n      }\n      gCircles.add(circle);\n      circleSize = circleSize - diff;\n    }\n    this.drawSpokes(parent);\n    parent.add(gCircles);\n    parent.add(gYAxis);\n  }\n  renderInnerDataLabels(dataLabelsGroup, dataLabelsConfig, opts) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const showTotal = dataLabelsConfig.total.show;\n    dataLabelsGroup.node.innerHTML = \"\";\n    dataLabelsGroup.node.style.opacity = opts.opacity;\n    let x = opts.centerX;\n    let y = !this.donutDataLabels.total.label ? opts.centerY - opts.centerY / 6 : opts.centerY;\n    let labelColor, valueColor;\n    if (dataLabelsConfig.name.color === void 0) {\n      labelColor = w.globals.colors[0];\n    } else {\n      labelColor = dataLabelsConfig.name.color;\n    }\n    let labelFontSize = dataLabelsConfig.name.fontSize;\n    let labelFontFamily = dataLabelsConfig.name.fontFamily;\n    let labelFontWeight = dataLabelsConfig.name.fontWeight;\n    if (dataLabelsConfig.value.color === void 0) {\n      valueColor = w.config.chart.foreColor;\n    } else {\n      valueColor = dataLabelsConfig.value.color;\n    }\n    let lbFormatter = dataLabelsConfig.value.formatter;\n    let val = \"\";\n    let name2 = \"\";\n    if (showTotal) {\n      labelColor = dataLabelsConfig.total.color;\n      labelFontSize = dataLabelsConfig.total.fontSize;\n      labelFontFamily = dataLabelsConfig.total.fontFamily;\n      labelFontWeight = dataLabelsConfig.total.fontWeight;\n      name2 = !this.donutDataLabels.total.label ? \"\" : dataLabelsConfig.total.label;\n      val = dataLabelsConfig.total.formatter(w);\n    } else {\n      if (w.globals.series.length === 1) {\n        val = lbFormatter(w.globals.series[0], w);\n        name2 = w.globals.seriesNames[0];\n      }\n    }\n    if (name2) {\n      name2 = dataLabelsConfig.name.formatter(\n        name2,\n        dataLabelsConfig.total.show,\n        w\n      );\n    }\n    if (dataLabelsConfig.name.show) {\n      let elLabel = graphics.drawText({\n        x,\n        y: y + parseFloat(dataLabelsConfig.name.offsetY),\n        text: name2,\n        textAnchor: \"middle\",\n        foreColor: labelColor,\n        fontSize: labelFontSize,\n        fontWeight: labelFontWeight,\n        fontFamily: labelFontFamily\n      });\n      elLabel.node.classList.add(\"apexcharts-datalabel-label\");\n      dataLabelsGroup.add(elLabel);\n    }\n    if (dataLabelsConfig.value.show) {\n      let valOffset = dataLabelsConfig.name.show ? parseFloat(dataLabelsConfig.value.offsetY) + 16 : dataLabelsConfig.value.offsetY;\n      let elValue = graphics.drawText({\n        x,\n        y: y + valOffset,\n        text: val,\n        textAnchor: \"middle\",\n        foreColor: valueColor,\n        fontWeight: dataLabelsConfig.value.fontWeight,\n        fontSize: dataLabelsConfig.value.fontSize,\n        fontFamily: dataLabelsConfig.value.fontFamily\n      });\n      elValue.node.classList.add(\"apexcharts-datalabel-value\");\n      dataLabelsGroup.add(elValue);\n    }\n    return dataLabelsGroup;\n  }\n  /**\n   *\n   * @param {string} name - The name of the series\n   * @param {string} val - The value of that series\n   * @param {object} el - Optional el (indicates which series was hovered/clicked). If this param is not present, means we need to show total\n   */\n  printInnerLabels(labelsConfig, name2, val, el) {\n    const w = this.w;\n    let labelColor;\n    if (el) {\n      if (labelsConfig.name.color === void 0) {\n        labelColor = w.globals.colors[parseInt(el.parentNode.getAttribute(\"rel\"), 10) - 1];\n      } else {\n        labelColor = labelsConfig.name.color;\n      }\n    } else {\n      if (w.globals.series.length > 1 && labelsConfig.total.show) {\n        labelColor = labelsConfig.total.color;\n      }\n    }\n    let elLabel = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-datalabel-label\"\n    );\n    let elValue = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-datalabel-value\"\n    );\n    let lbFormatter = labelsConfig.value.formatter;\n    val = lbFormatter(val, w);\n    if (!el && typeof labelsConfig.total.formatter === \"function\") {\n      val = labelsConfig.total.formatter(w);\n    }\n    const isTotal = name2 === labelsConfig.total.label;\n    name2 = !this.donutDataLabels.total.label ? \"\" : labelsConfig.name.formatter(name2, isTotal, w);\n    if (elLabel !== null) {\n      elLabel.textContent = name2;\n    }\n    if (elValue !== null) {\n      elValue.textContent = val;\n    }\n    if (elLabel !== null) {\n      elLabel.style.fill = labelColor;\n    }\n  }\n  printDataLabelsInner(el, dataLabelsConfig) {\n    let w = this.w;\n    let val = el.getAttribute(\"data:value\");\n    let name2 = w.globals.seriesNames[parseInt(el.parentNode.getAttribute(\"rel\"), 10) - 1];\n    if (w.globals.series.length > 1) {\n      this.printInnerLabels(dataLabelsConfig, name2, val, el);\n    }\n    let dataLabelsGroup = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-datalabels-group\"\n    );\n    if (dataLabelsGroup !== null) {\n      dataLabelsGroup.style.opacity = 1;\n    }\n  }\n  drawSpokes(parent) {\n    const w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const spokeConfig = w.config.plotOptions.polarArea.spokes;\n    if (spokeConfig.strokeWidth === 0) return;\n    let spokes = [];\n    let angleDivision = 360 / w.globals.series.length;\n    for (let i = 0; i < w.globals.series.length; i++) {\n      spokes.push(\n        Utils$1.polarToCartesian(\n          this.centerX,\n          this.centerY,\n          w.globals.radialSize,\n          w.config.plotOptions.pie.startAngle + angleDivision * i\n        )\n      );\n    }\n    spokes.forEach((p, i) => {\n      const line = graphics.drawLine(\n        p.x,\n        p.y,\n        this.centerX,\n        this.centerY,\n        Array.isArray(spokeConfig.connectorColors) ? spokeConfig.connectorColors[i] : spokeConfig.connectorColors\n      );\n      parent.add(line);\n    });\n  }\n  revertDataLabelsInner() {\n    const w = this.w;\n    if (this.donutDataLabels.show) {\n      let dataLabelsGroup = w.globals.dom.Paper.findOne(\n        `.apexcharts-datalabels-group`\n      );\n      let dataLabels = this.renderInnerDataLabels(\n        dataLabelsGroup,\n        this.donutDataLabels,\n        {\n          hollowSize: this.donutSize,\n          centerX: this.centerX,\n          centerY: this.centerY,\n          opacity: this.donutDataLabels.show\n        }\n      );\n      let elPie = w.globals.dom.Paper.findOne(\n        \".apexcharts-radialbar, .apexcharts-pie\"\n      );\n      elPie.add(dataLabels);\n    }\n  }\n}\nclass Radar {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.chartType = this.w.config.chart.type;\n    this.initialAnim = this.w.config.chart.animations.enabled;\n    this.dynamicAnim = this.initialAnim && this.w.config.chart.animations.dynamicAnimation.enabled;\n    this.animDur = 0;\n    const w = this.w;\n    this.graphics = new Graphics(this.ctx);\n    this.lineColorArr = w.globals.stroke.colors !== void 0 ? w.globals.stroke.colors : w.globals.colors;\n    this.defaultSize = w.globals.svgHeight < w.globals.svgWidth ? w.globals.gridHeight : w.globals.gridWidth;\n    this.isLog = w.config.yaxis[0].logarithmic;\n    this.logBase = w.config.yaxis[0].logBase;\n    this.coreUtils = new CoreUtils(this.ctx);\n    this.maxValue = this.isLog ? this.coreUtils.getLogVal(this.logBase, w.globals.maxY, 0) : w.globals.maxY;\n    this.minValue = this.isLog ? this.coreUtils.getLogVal(this.logBase, this.w.globals.minY, 0) : w.globals.minY;\n    this.polygons = w.config.plotOptions.radar.polygons;\n    this.strokeWidth = w.config.stroke.show ? w.config.stroke.width : 0;\n    this.size = this.defaultSize / 2.1 - this.strokeWidth - w.config.chart.dropShadow.blur;\n    if (w.config.xaxis.labels.show) {\n      this.size = this.size - w.globals.xAxisLabelsWidth / 1.75;\n    }\n    if (w.config.plotOptions.radar.size !== void 0) {\n      this.size = w.config.plotOptions.radar.size;\n    }\n    this.dataRadiusOfPercent = [];\n    this.dataRadius = [];\n    this.angleArr = [];\n    this.yaxisLabelsTextsPos = [];\n  }\n  draw(series) {\n    let w = this.w;\n    const fill = new Fill(this.ctx);\n    const allSeries = [];\n    const dataLabels = new DataLabels(this.ctx);\n    if (series.length) {\n      this.dataPointsLen = series[w.globals.maxValsInArrayIndex].length;\n    }\n    this.disAngle = Math.PI * 2 / this.dataPointsLen;\n    let halfW = w.globals.gridWidth / 2;\n    let halfH = w.globals.gridHeight / 2;\n    let translateX = halfW + w.config.plotOptions.radar.offsetX;\n    let translateY = halfH + w.config.plotOptions.radar.offsetY;\n    let ret = this.graphics.group({\n      class: \"apexcharts-radar-series apexcharts-plot-series\",\n      transform: `translate(${translateX || 0}, ${translateY || 0})`\n    });\n    let dataPointsPos = [];\n    let elPointsMain = null;\n    let elDataPointsMain = null;\n    this.yaxisLabels = this.graphics.group({\n      class: \"apexcharts-yaxis\"\n    });\n    series.forEach((s, i) => {\n      let longestSeries = s.length === w.globals.dataPoints;\n      let elSeries = this.graphics.group().attr({\n        class: `apexcharts-series`,\n        \"data:longestSeries\": longestSeries,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      this.dataRadiusOfPercent[i] = [];\n      this.dataRadius[i] = [];\n      this.angleArr[i] = [];\n      s.forEach((dv, j) => {\n        const range = Math.abs(this.maxValue - this.minValue);\n        dv = dv - this.minValue;\n        if (this.isLog) {\n          dv = this.coreUtils.getLogVal(this.logBase, dv, 0);\n        }\n        this.dataRadiusOfPercent[i][j] = dv / range;\n        this.dataRadius[i][j] = this.dataRadiusOfPercent[i][j] * this.size;\n        this.angleArr[i][j] = j * this.disAngle;\n      });\n      dataPointsPos = this.getDataPointsPos(\n        this.dataRadius[i],\n        this.angleArr[i]\n      );\n      const paths = this.createPaths(dataPointsPos, {\n        x: 0,\n        y: 0\n      });\n      elPointsMain = this.graphics.group({\n        class: \"apexcharts-series-markers-wrap apexcharts-element-hidden\"\n      });\n      elDataPointsMain = this.graphics.group({\n        class: `apexcharts-datalabels`,\n        \"data:realIndex\": i\n      });\n      w.globals.delayedElements.push({\n        el: elPointsMain.node,\n        index: i\n      });\n      const defaultRenderedPathOptions = {\n        i,\n        realIndex: i,\n        animationDelay: i,\n        initialSpeed: w.config.chart.animations.speed,\n        dataChangeSpeed: w.config.chart.animations.dynamicAnimation.speed,\n        className: `apexcharts-radar`,\n        shouldClipToGrid: false,\n        bindEventsOnPaths: false,\n        stroke: w.globals.stroke.colors[i],\n        strokeLineCap: w.config.stroke.lineCap\n      };\n      let pathFrom = null;\n      if (w.globals.previousPaths.length > 0) {\n        pathFrom = this.getPreviousPath(i);\n      }\n      for (let p = 0; p < paths.linePathsTo.length; p++) {\n        let renderedLinePath = this.graphics.renderPaths(__spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: pathFrom === null ? paths.linePathsFrom[p] : pathFrom,\n          pathTo: paths.linePathsTo[p],\n          strokeWidth: Array.isArray(this.strokeWidth) ? this.strokeWidth[i] : this.strokeWidth,\n          fill: \"none\",\n          drawShadow: false\n        }));\n        elSeries.add(renderedLinePath);\n        let pathFill = fill.fillPath({\n          seriesNumber: i\n        });\n        let renderedAreaPath = this.graphics.renderPaths(__spreadProps(__spreadValues({}, defaultRenderedPathOptions), {\n          pathFrom: pathFrom === null ? paths.areaPathsFrom[p] : pathFrom,\n          pathTo: paths.areaPathsTo[p],\n          strokeWidth: 0,\n          fill: pathFill,\n          drawShadow: false\n        }));\n        if (w.config.chart.dropShadow.enabled) {\n          const filters = new Filters(this.ctx);\n          const shadow = w.config.chart.dropShadow;\n          filters.dropShadow(\n            renderedAreaPath,\n            Object.assign({}, shadow, { noUserSpaceOnUse: true }),\n            i\n          );\n        }\n        elSeries.add(renderedAreaPath);\n      }\n      s.forEach((sj, j) => {\n        let markers = new Markers(this.ctx);\n        let opts = markers.getMarkerConfig({\n          cssClass: \"apexcharts-marker\",\n          seriesIndex: i,\n          dataPointIndex: j\n        });\n        let point = this.graphics.drawMarker(\n          dataPointsPos[j].x,\n          dataPointsPos[j].y,\n          opts\n        );\n        point.attr(\"rel\", j);\n        point.attr(\"j\", j);\n        point.attr(\"index\", i);\n        point.node.setAttribute(\"default-marker-size\", opts.pSize);\n        let elPointsWrap = this.graphics.group({\n          class: \"apexcharts-series-markers\"\n        });\n        if (elPointsWrap) {\n          elPointsWrap.add(point);\n        }\n        elPointsMain.add(elPointsWrap);\n        elSeries.add(elPointsMain);\n        const dataLabelsConfig = w.config.dataLabels;\n        if (dataLabelsConfig.enabled) {\n          let text = dataLabelsConfig.formatter(w.globals.series[i][j], {\n            seriesIndex: i,\n            dataPointIndex: j,\n            w\n          });\n          dataLabels.plotDataLabelsText({\n            x: dataPointsPos[j].x,\n            y: dataPointsPos[j].y,\n            text,\n            textAnchor: \"middle\",\n            i,\n            j: i,\n            parent: elDataPointsMain,\n            offsetCorrection: false,\n            dataLabelsConfig: __spreadValues({}, dataLabelsConfig)\n          });\n        }\n        elSeries.add(elDataPointsMain);\n      });\n      allSeries.push(elSeries);\n    });\n    this.drawPolygons({\n      parent: ret\n    });\n    if (w.config.xaxis.labels.show) {\n      const xaxisTexts = this.drawXAxisTexts();\n      ret.add(xaxisTexts);\n    }\n    allSeries.forEach((elS) => {\n      ret.add(elS);\n    });\n    ret.add(this.yaxisLabels);\n    return ret;\n  }\n  drawPolygons(opts) {\n    const w = this.w;\n    const { parent } = opts;\n    const helpers = new CircularChartsHelpers(this.ctx);\n    const yaxisTexts = w.globals.yAxisScale[0].result.reverse();\n    const layers = yaxisTexts.length;\n    let radiusSizes = [];\n    let layerDis = this.size / (layers - 1);\n    for (let i = 0; i < layers; i++) {\n      radiusSizes[i] = layerDis * i;\n    }\n    radiusSizes.reverse();\n    let polygonStrings = [];\n    let lines = [];\n    radiusSizes.forEach((radiusSize, r) => {\n      const polygon = Utils$1.getPolygonPos(radiusSize, this.dataPointsLen);\n      let string = \"\";\n      polygon.forEach((p, i) => {\n        if (r === 0) {\n          const line = this.graphics.drawLine(\n            p.x,\n            p.y,\n            0,\n            0,\n            Array.isArray(this.polygons.connectorColors) ? this.polygons.connectorColors[i] : this.polygons.connectorColors\n          );\n          lines.push(line);\n        }\n        if (i === 0) {\n          this.yaxisLabelsTextsPos.push({\n            x: p.x,\n            y: p.y\n          });\n        }\n        string += p.x + \",\" + p.y + \" \";\n      });\n      polygonStrings.push(string);\n    });\n    polygonStrings.forEach((p, i) => {\n      const strokeColors = this.polygons.strokeColors;\n      const strokeWidth = this.polygons.strokeWidth;\n      const polygon = this.graphics.drawPolygon(\n        p,\n        Array.isArray(strokeColors) ? strokeColors[i] : strokeColors,\n        Array.isArray(strokeWidth) ? strokeWidth[i] : strokeWidth,\n        w.globals.radarPolygons.fill.colors[i]\n      );\n      parent.add(polygon);\n    });\n    lines.forEach((l) => {\n      parent.add(l);\n    });\n    if (w.config.yaxis[0].show) {\n      this.yaxisLabelsTextsPos.forEach((p, i) => {\n        const yText = helpers.drawYAxisTexts(p.x, p.y, i, yaxisTexts[i]);\n        this.yaxisLabels.add(yText);\n      });\n    }\n  }\n  drawXAxisTexts() {\n    const w = this.w;\n    const xaxisLabelsConfig = w.config.xaxis.labels;\n    let elXAxisWrap = this.graphics.group({\n      class: \"apexcharts-xaxis\"\n    });\n    let polygonPos = Utils$1.getPolygonPos(this.size, this.dataPointsLen);\n    w.globals.labels.forEach((label, i) => {\n      let formatter = w.config.xaxis.labels.formatter;\n      let dataLabels = new DataLabels(this.ctx);\n      if (polygonPos[i]) {\n        let textPos = this.getTextPos(polygonPos[i], this.size);\n        let text = formatter(label, {\n          seriesIndex: -1,\n          dataPointIndex: i,\n          w\n        });\n        const dataLabelText = dataLabels.plotDataLabelsText({\n          x: textPos.newX,\n          y: textPos.newY,\n          text,\n          textAnchor: textPos.textAnchor,\n          i,\n          j: i,\n          parent: elXAxisWrap,\n          className: \"apexcharts-xaxis-label\",\n          color: Array.isArray(xaxisLabelsConfig.style.colors) && xaxisLabelsConfig.style.colors[i] ? xaxisLabelsConfig.style.colors[i] : \"#a8a8a8\",\n          dataLabelsConfig: __spreadValues({\n            textAnchor: textPos.textAnchor,\n            dropShadow: { enabled: false }\n          }, xaxisLabelsConfig),\n          offsetCorrection: false\n        });\n        dataLabelText.on(\"click\", (e) => {\n          if (typeof w.config.chart.events.xAxisLabelClick === \"function\") {\n            const opts = Object.assign({}, w, {\n              labelIndex: i\n            });\n            w.config.chart.events.xAxisLabelClick(e, this.ctx, opts);\n          }\n        });\n      }\n    });\n    return elXAxisWrap;\n  }\n  createPaths(pos, origin) {\n    let linePathsTo = [];\n    let linePathsFrom = [];\n    let areaPathsTo = [];\n    let areaPathsFrom = [];\n    if (pos.length) {\n      linePathsFrom = [this.graphics.move(origin.x, origin.y)];\n      areaPathsFrom = [this.graphics.move(origin.x, origin.y)];\n      let linePathTo = this.graphics.move(pos[0].x, pos[0].y);\n      let areaPathTo = this.graphics.move(pos[0].x, pos[0].y);\n      pos.forEach((p, i) => {\n        linePathTo += this.graphics.line(p.x, p.y);\n        areaPathTo += this.graphics.line(p.x, p.y);\n        if (i === pos.length - 1) {\n          linePathTo += \"Z\";\n          areaPathTo += \"Z\";\n        }\n      });\n      linePathsTo.push(linePathTo);\n      areaPathsTo.push(areaPathTo);\n    }\n    return {\n      linePathsFrom,\n      linePathsTo,\n      areaPathsFrom,\n      areaPathsTo\n    };\n  }\n  getTextPos(pos, polygonSize) {\n    let limit = 10;\n    let textAnchor = \"middle\";\n    let newX = pos.x;\n    let newY = pos.y;\n    if (Math.abs(pos.x) >= limit) {\n      if (pos.x > 0) {\n        textAnchor = \"start\";\n        newX += 10;\n      } else if (pos.x < 0) {\n        textAnchor = \"end\";\n        newX -= 10;\n      }\n    } else {\n      textAnchor = \"middle\";\n    }\n    if (Math.abs(pos.y) >= polygonSize - limit) {\n      if (pos.y < 0) {\n        newY -= 10;\n      } else if (pos.y > 0) {\n        newY += 10;\n      }\n    }\n    return {\n      textAnchor,\n      newX,\n      newY\n    };\n  }\n  getPreviousPath(realIndex) {\n    let w = this.w;\n    let pathFrom = null;\n    for (let pp = 0; pp < w.globals.previousPaths.length; pp++) {\n      let gpp = w.globals.previousPaths[pp];\n      if (gpp.paths.length > 0 && parseInt(gpp.realIndex, 10) === parseInt(realIndex, 10)) {\n        if (typeof w.globals.previousPaths[pp].paths[0] !== \"undefined\") {\n          pathFrom = w.globals.previousPaths[pp].paths[0].d;\n        }\n      }\n    }\n    return pathFrom;\n  }\n  getDataPointsPos(dataRadiusArr, angleArr, dataPointsLen = this.dataPointsLen) {\n    dataRadiusArr = dataRadiusArr || [];\n    angleArr = angleArr || [];\n    let dataPointsPosArray = [];\n    for (let j = 0; j < dataPointsLen; j++) {\n      let curPointPos = {};\n      curPointPos.x = dataRadiusArr[j] * Math.sin(angleArr[j]);\n      curPointPos.y = -dataRadiusArr[j] * Math.cos(angleArr[j]);\n      dataPointsPosArray.push(curPointPos);\n    }\n    return dataPointsPosArray;\n  }\n}\nclass Radial extends Pie {\n  constructor(ctx) {\n    super(ctx);\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.animBeginArr = [0];\n    this.animDur = 0;\n    const w = this.w;\n    this.startAngle = w.config.plotOptions.radialBar.startAngle;\n    this.endAngle = w.config.plotOptions.radialBar.endAngle;\n    this.totalAngle = Math.abs(\n      w.config.plotOptions.radialBar.endAngle - w.config.plotOptions.radialBar.startAngle\n    );\n    this.trackStartAngle = w.config.plotOptions.radialBar.track.startAngle;\n    this.trackEndAngle = w.config.plotOptions.radialBar.track.endAngle;\n    this.barLabels = this.w.config.plotOptions.radialBar.barLabels;\n    this.donutDataLabels = this.w.config.plotOptions.radialBar.dataLabels;\n    this.radialDataLabels = this.donutDataLabels;\n    if (!this.trackStartAngle) this.trackStartAngle = this.startAngle;\n    if (!this.trackEndAngle) this.trackEndAngle = this.endAngle;\n    if (this.endAngle === 360) this.endAngle = 359.99;\n    this.margin = parseInt(w.config.plotOptions.radialBar.track.margin, 10);\n    this.onBarLabelClick = this.onBarLabelClick.bind(this);\n  }\n  draw(series) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let ret = graphics.group({\n      class: \"apexcharts-radialbar\"\n    });\n    if (w.globals.noData) return ret;\n    let elSeries = graphics.group();\n    let centerY = this.defaultSize / 2;\n    let centerX = w.globals.gridWidth / 2;\n    let size = this.defaultSize / 2.05;\n    if (!w.config.chart.sparkline.enabled) {\n      size = size - w.config.stroke.width - w.config.chart.dropShadow.blur;\n    }\n    let colorArr = w.globals.fill.colors;\n    if (w.config.plotOptions.radialBar.track.show) {\n      let elTracks = this.drawTracks({\n        size,\n        centerX,\n        centerY,\n        colorArr,\n        series\n      });\n      elSeries.add(elTracks);\n    }\n    let elG = this.drawArcs({\n      size,\n      centerX,\n      centerY,\n      colorArr,\n      series\n    });\n    let totalAngle = 360;\n    if (w.config.plotOptions.radialBar.startAngle < 0) {\n      totalAngle = this.totalAngle;\n    }\n    let angleRatio = (360 - totalAngle) / 360;\n    w.globals.radialSize = size - size * angleRatio;\n    if (this.radialDataLabels.value.show) {\n      let offset = Math.max(\n        this.radialDataLabels.value.offsetY,\n        this.radialDataLabels.name.offsetY\n      );\n      w.globals.radialSize += offset * angleRatio;\n    }\n    elSeries.add(elG.g);\n    if (w.config.plotOptions.radialBar.hollow.position === \"front\") {\n      elG.g.add(elG.elHollow);\n      if (elG.dataLabels) {\n        elG.g.add(elG.dataLabels);\n      }\n    }\n    ret.add(elSeries);\n    return ret;\n  }\n  drawTracks(opts) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    let g = graphics.group({\n      class: \"apexcharts-tracks\"\n    });\n    let filters = new Filters(this.ctx);\n    let fill = new Fill(this.ctx);\n    let strokeWidth = this.getStrokeWidth(opts);\n    opts.size = opts.size - strokeWidth / 2;\n    for (let i = 0; i < opts.series.length; i++) {\n      let elRadialBarTrack = graphics.group({\n        class: \"apexcharts-radialbar-track apexcharts-track\"\n      });\n      g.add(elRadialBarTrack);\n      elRadialBarTrack.attr({\n        rel: i + 1\n      });\n      opts.size = opts.size - strokeWidth - this.margin;\n      const trackConfig = w.config.plotOptions.radialBar.track;\n      let pathFill = fill.fillPath({\n        seriesNumber: 0,\n        size: opts.size,\n        fillColors: Array.isArray(trackConfig.background) ? trackConfig.background[i] : trackConfig.background,\n        solid: true\n      });\n      let startAngle = this.trackStartAngle;\n      let endAngle = this.trackEndAngle;\n      if (Math.abs(endAngle) + Math.abs(startAngle) >= 360)\n        endAngle = 360 - Math.abs(this.startAngle) - 0.1;\n      let elPath = graphics.drawPath({\n        d: \"\",\n        stroke: pathFill,\n        strokeWidth: strokeWidth * parseInt(trackConfig.strokeWidth, 10) / 100,\n        fill: \"none\",\n        strokeOpacity: trackConfig.opacity,\n        classes: \"apexcharts-radialbar-area\"\n      });\n      if (trackConfig.dropShadow.enabled) {\n        const shadow = trackConfig.dropShadow;\n        filters.dropShadow(elPath, shadow);\n      }\n      elRadialBarTrack.add(elPath);\n      elPath.attr(\"id\", \"apexcharts-radialbarTrack-\" + i);\n      this.animatePaths(elPath, {\n        centerX: opts.centerX,\n        centerY: opts.centerY,\n        endAngle,\n        startAngle,\n        size: opts.size,\n        i,\n        totalItems: 2,\n        animBeginArr: 0,\n        dur: 0,\n        isTrack: true\n      });\n    }\n    return g;\n  }\n  drawArcs(opts) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    let fill = new Fill(this.ctx);\n    let filters = new Filters(this.ctx);\n    let g = graphics.group();\n    let strokeWidth = this.getStrokeWidth(opts);\n    opts.size = opts.size - strokeWidth / 2;\n    let hollowFillID = w.config.plotOptions.radialBar.hollow.background;\n    let hollowSize = opts.size - strokeWidth * opts.series.length - this.margin * opts.series.length - strokeWidth * parseInt(w.config.plotOptions.radialBar.track.strokeWidth, 10) / 100 / 2;\n    let hollowRadius = hollowSize - w.config.plotOptions.radialBar.hollow.margin;\n    if (w.config.plotOptions.radialBar.hollow.image !== void 0) {\n      hollowFillID = this.drawHollowImage(opts, g, hollowSize, hollowFillID);\n    }\n    let elHollow = this.drawHollow({\n      size: hollowRadius,\n      centerX: opts.centerX,\n      centerY: opts.centerY,\n      fill: hollowFillID ? hollowFillID : \"transparent\"\n    });\n    if (w.config.plotOptions.radialBar.hollow.dropShadow.enabled) {\n      const shadow = w.config.plotOptions.radialBar.hollow.dropShadow;\n      filters.dropShadow(elHollow, shadow);\n    }\n    let shown = 1;\n    if (!this.radialDataLabels.total.show && w.globals.series.length > 1) {\n      shown = 0;\n    }\n    let dataLabels = null;\n    if (this.radialDataLabels.show) {\n      let dataLabelsGroup = w.globals.dom.Paper.findOne(\n        `.apexcharts-datalabels-group`\n      );\n      dataLabels = this.renderInnerDataLabels(\n        dataLabelsGroup,\n        this.radialDataLabels,\n        {\n          hollowSize,\n          centerX: opts.centerX,\n          centerY: opts.centerY,\n          opacity: shown\n        }\n      );\n    }\n    if (w.config.plotOptions.radialBar.hollow.position === \"back\") {\n      g.add(elHollow);\n      if (dataLabels) {\n        g.add(dataLabels);\n      }\n    }\n    let reverseLoop = false;\n    if (w.config.plotOptions.radialBar.inverseOrder) {\n      reverseLoop = true;\n    }\n    for (let i = reverseLoop ? opts.series.length - 1 : 0; reverseLoop ? i >= 0 : i < opts.series.length; reverseLoop ? i-- : i++) {\n      let elRadialBarArc = graphics.group({\n        class: `apexcharts-series apexcharts-radial-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i])\n      });\n      g.add(elRadialBarArc);\n      elRadialBarArc.attr({\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      this.ctx.series.addCollapsedClassToSeries(elRadialBarArc, i);\n      opts.size = opts.size - strokeWidth - this.margin;\n      let pathFill = fill.fillPath({\n        seriesNumber: i,\n        size: opts.size,\n        value: opts.series[i]\n      });\n      let startAngle = this.startAngle;\n      let prevStartAngle;\n      const dataValue = Utils$1.negToZero(opts.series[i] > 100 ? 100 : opts.series[i]) / 100;\n      let endAngle = Math.round(this.totalAngle * dataValue) + this.startAngle;\n      let prevEndAngle;\n      if (w.globals.dataChanged) {\n        prevStartAngle = this.startAngle;\n        prevEndAngle = Math.round(\n          this.totalAngle * Utils$1.negToZero(w.globals.previousPaths[i]) / 100\n        ) + prevStartAngle;\n      }\n      const currFullAngle = Math.abs(endAngle) + Math.abs(startAngle);\n      if (currFullAngle > 360) {\n        endAngle = endAngle - 0.01;\n      }\n      const prevFullAngle = Math.abs(prevEndAngle) + Math.abs(prevStartAngle);\n      if (prevFullAngle > 360) {\n        prevEndAngle = prevEndAngle - 0.01;\n      }\n      let angle = endAngle - startAngle;\n      const dashArray = Array.isArray(w.config.stroke.dashArray) ? w.config.stroke.dashArray[i] : w.config.stroke.dashArray;\n      let elPath = graphics.drawPath({\n        d: \"\",\n        stroke: pathFill,\n        strokeWidth,\n        fill: \"none\",\n        fillOpacity: w.config.fill.opacity,\n        classes: \"apexcharts-radialbar-area apexcharts-radialbar-slice-\" + i,\n        strokeDashArray: dashArray\n      });\n      Graphics.setAttrs(elPath.node, {\n        \"data:angle\": angle,\n        \"data:value\": opts.series[i]\n      });\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        filters.dropShadow(elPath, shadow, i);\n      }\n      filters.setSelectionFilter(elPath, 0, i);\n      this.addListeners(elPath, this.radialDataLabels);\n      elRadialBarArc.add(elPath);\n      elPath.attr({\n        index: 0,\n        j: i\n      });\n      if (this.barLabels.enabled) {\n        let barStartCords = Utils$1.polarToCartesian(\n          opts.centerX,\n          opts.centerY,\n          opts.size,\n          startAngle\n        );\n        let text = this.barLabels.formatter(w.globals.seriesNames[i], {\n          seriesIndex: i,\n          w\n        });\n        let classes = [\"apexcharts-radialbar-label\"];\n        if (!this.barLabels.onClick) {\n          classes.push(\"apexcharts-no-click\");\n        }\n        let textColor = this.barLabels.useSeriesColors ? w.globals.colors[i] : w.config.chart.foreColor;\n        if (!textColor) {\n          textColor = w.config.chart.foreColor;\n        }\n        const x = barStartCords.x + this.barLabels.offsetX;\n        const y = barStartCords.y + this.barLabels.offsetY;\n        let elText = graphics.drawText({\n          x,\n          y,\n          text,\n          textAnchor: \"end\",\n          dominantBaseline: \"middle\",\n          fontFamily: this.barLabels.fontFamily,\n          fontWeight: this.barLabels.fontWeight,\n          fontSize: this.barLabels.fontSize,\n          foreColor: textColor,\n          cssClass: classes.join(\" \")\n        });\n        elText.on(\"click\", this.onBarLabelClick);\n        elText.attr({\n          rel: i + 1\n        });\n        if (startAngle !== 0) {\n          elText.attr({\n            \"transform-origin\": `${x} ${y}`,\n            transform: `rotate(${startAngle} 0 0)`\n          });\n        }\n        elRadialBarArc.add(elText);\n      }\n      let dur = 0;\n      if (this.initialAnim && !w.globals.resized && !w.globals.dataChanged) {\n        dur = w.config.chart.animations.speed;\n      }\n      if (w.globals.dataChanged) {\n        dur = w.config.chart.animations.dynamicAnimation.speed;\n      }\n      this.animDur = dur / (opts.series.length * 1.2) + this.animDur;\n      this.animBeginArr.push(this.animDur);\n      this.animatePaths(elPath, {\n        centerX: opts.centerX,\n        centerY: opts.centerY,\n        endAngle,\n        startAngle,\n        prevEndAngle,\n        prevStartAngle,\n        size: opts.size,\n        i,\n        totalItems: 2,\n        animBeginArr: this.animBeginArr,\n        dur,\n        shouldSetPrevPaths: true\n      });\n    }\n    return {\n      g,\n      elHollow,\n      dataLabels\n    };\n  }\n  drawHollow(opts) {\n    const graphics = new Graphics(this.ctx);\n    let circle = graphics.drawCircle(opts.size * 2);\n    circle.attr({\n      class: \"apexcharts-radialbar-hollow\",\n      cx: opts.centerX,\n      cy: opts.centerY,\n      r: opts.size,\n      fill: opts.fill\n    });\n    return circle;\n  }\n  drawHollowImage(opts, g, hollowSize, hollowFillID) {\n    const w = this.w;\n    let fill = new Fill(this.ctx);\n    let randID = Utils$1.randomId();\n    let hollowFillImg = w.config.plotOptions.radialBar.hollow.image;\n    if (w.config.plotOptions.radialBar.hollow.imageClipped) {\n      fill.clippedImgArea({\n        width: hollowSize,\n        height: hollowSize,\n        image: hollowFillImg,\n        patternID: `pattern${w.globals.cuid}${randID}`\n      });\n      hollowFillID = `url(#pattern${w.globals.cuid}${randID})`;\n    } else {\n      const imgWidth = w.config.plotOptions.radialBar.hollow.imageWidth;\n      const imgHeight = w.config.plotOptions.radialBar.hollow.imageHeight;\n      if (imgWidth === void 0 && imgHeight === void 0) {\n        let image = w.globals.dom.Paper.image(hollowFillImg, function(loader) {\n          this.move(\n            opts.centerX - loader.width / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetX,\n            opts.centerY - loader.height / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetY\n          );\n        });\n        g.add(image);\n      } else {\n        let image = w.globals.dom.Paper.image(hollowFillImg, function() {\n          this.move(\n            opts.centerX - imgWidth / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetX,\n            opts.centerY - imgHeight / 2 + w.config.plotOptions.radialBar.hollow.imageOffsetY\n          );\n          this.size(imgWidth, imgHeight);\n        });\n        g.add(image);\n      }\n    }\n    return hollowFillID;\n  }\n  getStrokeWidth(opts) {\n    const w = this.w;\n    return opts.size * (100 - parseInt(w.config.plotOptions.radialBar.hollow.size, 10)) / 100 / (opts.series.length + 1) - this.margin;\n  }\n  onBarLabelClick(e) {\n    let seriesIndex = parseInt(e.target.getAttribute(\"rel\"), 10) - 1;\n    const legendClick = this.barLabels.onClick;\n    const w = this.w;\n    if (legendClick) {\n      legendClick(w.globals.seriesNames[seriesIndex], { w, seriesIndex });\n    }\n  }\n}\nclass RangeBar extends Bar {\n  draw(series, seriesIndex) {\n    let w = this.w;\n    let graphics = new Graphics(this.ctx);\n    this.rangeBarOptions = this.w.config.plotOptions.rangeBar;\n    this.series = series;\n    this.seriesRangeStart = w.globals.seriesRangeStart;\n    this.seriesRangeEnd = w.globals.seriesRangeEnd;\n    this.barHelpers.initVariables(series);\n    let ret = graphics.group({\n      class: \"apexcharts-rangebar-series apexcharts-plot-series\"\n    });\n    for (let i = 0; i < series.length; i++) {\n      let x, y, xDivision, yDivision, zeroH, zeroW;\n      let realIndex = w.globals.comboCharts ? seriesIndex[i] : i;\n      let { columnGroupIndex } = this.barHelpers.getGroupIndex(realIndex);\n      let elSeries = graphics.group({\n        class: `apexcharts-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[realIndex]),\n        rel: i + 1,\n        \"data:realIndex\": realIndex\n      });\n      this.ctx.series.addCollapsedClassToSeries(elSeries, realIndex);\n      if (series[i].length > 0) {\n        this.visibleI = this.visibleI + 1;\n      }\n      let barHeight = 0;\n      let barWidth = 0;\n      let translationsIndex = 0;\n      if (this.yRatio.length > 1) {\n        this.yaxisIndex = w.globals.seriesYAxisReverseMap[realIndex][0];\n        translationsIndex = realIndex;\n      }\n      let initPositions = this.barHelpers.initialPositions(realIndex);\n      y = initPositions.y;\n      zeroW = initPositions.zeroW;\n      x = initPositions.x;\n      barWidth = initPositions.barWidth;\n      barHeight = initPositions.barHeight;\n      xDivision = initPositions.xDivision;\n      yDivision = initPositions.yDivision;\n      zeroH = initPositions.zeroH;\n      let elDataLabelsWrap = graphics.group({\n        class: \"apexcharts-datalabels\",\n        \"data:realIndex\": realIndex\n      });\n      let elGoalsMarkers = graphics.group({\n        class: \"apexcharts-rangebar-goals-markers\"\n      });\n      for (let j = 0; j < w.globals.dataPoints; j++) {\n        const strokeWidth = this.barHelpers.getStrokeWidth(i, j, realIndex);\n        const y1 = this.seriesRangeStart[i][j];\n        const y2 = this.seriesRangeEnd[i][j];\n        let paths = null;\n        let barXPosition = null;\n        let barYPosition = null;\n        const params = { x, y, strokeWidth, elSeries };\n        let seriesLen = this.seriesLen;\n        if (w.config.plotOptions.bar.rangeBarGroupRows) {\n          seriesLen = 1;\n        }\n        if (typeof w.config.series[i].data[j] === \"undefined\") {\n          break;\n        }\n        if (this.isHorizontal) {\n          barYPosition = y + barHeight * this.visibleI;\n          let srty = (yDivision - barHeight * seriesLen) / 2;\n          if (w.config.series[i].data[j].x) {\n            let positions = this.detectOverlappingBars({\n              i,\n              j,\n              barYPosition,\n              srty,\n              barHeight,\n              yDivision,\n              initPositions\n            });\n            barHeight = positions.barHeight;\n            barYPosition = positions.barYPosition;\n          }\n          paths = this.drawRangeBarPaths(__spreadValues({\n            indexes: { i, j, realIndex },\n            barHeight,\n            barYPosition,\n            zeroW,\n            yDivision,\n            y1,\n            y2\n          }, params));\n          barWidth = paths.barWidth;\n        } else {\n          if (w.globals.isXNumeric) {\n            x = (w.globals.seriesX[i][j] - w.globals.minX) / this.xRatio - barWidth / 2;\n          }\n          barXPosition = x + barWidth * this.visibleI;\n          let srtx = (xDivision - barWidth * seriesLen) / 2;\n          if (w.config.series[i].data[j].x) {\n            let positions = this.detectOverlappingBars({\n              i,\n              j,\n              barXPosition,\n              srtx,\n              barWidth,\n              xDivision,\n              initPositions\n            });\n            barWidth = positions.barWidth;\n            barXPosition = positions.barXPosition;\n          }\n          paths = this.drawRangeColumnPaths(__spreadValues({\n            indexes: { i, j, realIndex, translationsIndex },\n            barWidth,\n            barXPosition,\n            zeroH,\n            xDivision\n          }, params));\n          barHeight = paths.barHeight;\n        }\n        const barGoalLine = this.barHelpers.drawGoalLine({\n          barXPosition: paths.barXPosition,\n          barYPosition,\n          goalX: paths.goalX,\n          goalY: paths.goalY,\n          barHeight,\n          barWidth\n        });\n        if (barGoalLine) {\n          elGoalsMarkers.add(barGoalLine);\n        }\n        y = paths.y;\n        x = paths.x;\n        let pathFill = this.barHelpers.getPathFillColor(series, i, j, realIndex);\n        this.renderSeries({\n          realIndex,\n          pathFill: pathFill.color,\n          lineFill: pathFill.useRangeColor ? pathFill.color : w.globals.stroke.colors[realIndex],\n          j,\n          i,\n          x,\n          y,\n          y1,\n          y2,\n          pathFrom: paths.pathFrom,\n          pathTo: paths.pathTo,\n          strokeWidth,\n          elSeries,\n          series,\n          barHeight,\n          barWidth,\n          barXPosition,\n          barYPosition,\n          columnGroupIndex,\n          elDataLabelsWrap,\n          elGoalsMarkers,\n          visibleSeries: this.visibleI,\n          type: \"rangebar\"\n        });\n      }\n      ret.add(elSeries);\n    }\n    return ret;\n  }\n  detectOverlappingBars({\n    i,\n    j,\n    barYPosition,\n    barXPosition,\n    srty,\n    srtx,\n    barHeight,\n    barWidth,\n    yDivision,\n    xDivision,\n    initPositions\n  }) {\n    const w = this.w;\n    let overlaps = [];\n    let rangeName = w.config.series[i].data[j].rangeName;\n    const x = w.config.series[i].data[j].x;\n    const labelX = Array.isArray(x) ? x.join(\" \") : x;\n    const rowIndex = w.globals.labels.map((_) => Array.isArray(_) ? _.join(\" \") : _).indexOf(labelX);\n    const overlappedIndex = w.globals.seriesRange[i].findIndex(\n      (tx) => tx.x === labelX && tx.overlaps.length > 0\n    );\n    if (this.isHorizontal) {\n      if (w.config.plotOptions.bar.rangeBarGroupRows) {\n        barYPosition = srty + yDivision * rowIndex;\n      } else {\n        barYPosition = srty + barHeight * this.visibleI + yDivision * rowIndex;\n      }\n      if (overlappedIndex > -1 && !w.config.plotOptions.bar.rangeBarOverlap) {\n        overlaps = w.globals.seriesRange[i][overlappedIndex].overlaps;\n        if (overlaps.indexOf(rangeName) > -1) {\n          barHeight = initPositions.barHeight / overlaps.length;\n          barYPosition = barHeight * this.visibleI + yDivision * (100 - parseInt(this.barOptions.barHeight, 10)) / 100 / 2 + barHeight * (this.visibleI + overlaps.indexOf(rangeName)) + yDivision * rowIndex;\n        }\n      }\n    } else {\n      if (rowIndex > -1 && !w.globals.timescaleLabels.length) {\n        if (w.config.plotOptions.bar.rangeBarGroupRows) {\n          barXPosition = srtx + xDivision * rowIndex;\n        } else {\n          barXPosition = srtx + barWidth * this.visibleI + xDivision * rowIndex;\n        }\n      }\n      if (overlappedIndex > -1 && !w.config.plotOptions.bar.rangeBarOverlap) {\n        overlaps = w.globals.seriesRange[i][overlappedIndex].overlaps;\n        if (overlaps.indexOf(rangeName) > -1) {\n          barWidth = initPositions.barWidth / overlaps.length;\n          barXPosition = barWidth * this.visibleI + xDivision * (100 - parseInt(this.barOptions.barWidth, 10)) / 100 / 2 + barWidth * (this.visibleI + overlaps.indexOf(rangeName)) + xDivision * rowIndex;\n        }\n      }\n    }\n    return {\n      barYPosition,\n      barXPosition,\n      barHeight,\n      barWidth\n    };\n  }\n  drawRangeColumnPaths({\n    indexes,\n    x,\n    xDivision,\n    barWidth,\n    barXPosition,\n    zeroH\n  }) {\n    let w = this.w;\n    const { i, j, realIndex, translationsIndex } = indexes;\n    const yRatio = this.yRatio[translationsIndex];\n    const range = this.getRangeValue(realIndex, j);\n    let y1 = Math.min(range.start, range.end);\n    let y2 = Math.max(range.start, range.end);\n    if (typeof this.series[i][j] === \"undefined\" || this.series[i][j] === null) {\n      y1 = zeroH;\n    } else {\n      y1 = zeroH - y1 / yRatio;\n      y2 = zeroH - y2 / yRatio;\n    }\n    const barHeight = Math.abs(y2 - y1);\n    const paths = this.barHelpers.getColumnPaths({\n      barXPosition,\n      barWidth,\n      y1,\n      y2,\n      strokeWidth: this.strokeWidth,\n      series: this.seriesRangeEnd,\n      realIndex,\n      i: realIndex,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      x = x + xDivision;\n    } else {\n      const xForNumericXAxis = this.getBarXForNumericXAxis({\n        x,\n        j,\n        realIndex,\n        barWidth\n      });\n      x = xForNumericXAxis.x;\n      barXPosition = xForNumericXAxis.barXPosition;\n    }\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      barHeight,\n      x,\n      y: range.start < 0 && range.end < 0 ? y1 : y2,\n      goalY: this.barHelpers.getGoalValues(\n        \"y\",\n        null,\n        zeroH,\n        i,\n        j,\n        translationsIndex\n      ),\n      barXPosition\n    };\n  }\n  preventBarOverflow(val) {\n    const w = this.w;\n    if (val < 0) {\n      val = 0;\n    }\n    if (val > w.globals.gridWidth) {\n      val = w.globals.gridWidth;\n    }\n    return val;\n  }\n  drawRangeBarPaths({\n    indexes,\n    y,\n    y1,\n    y2,\n    yDivision,\n    barHeight,\n    barYPosition,\n    zeroW\n  }) {\n    let w = this.w;\n    const { realIndex, j } = indexes;\n    let x1 = this.preventBarOverflow(zeroW + y1 / this.invertedYRatio);\n    let x2 = this.preventBarOverflow(zeroW + y2 / this.invertedYRatio);\n    const range = this.getRangeValue(realIndex, j);\n    const barWidth = Math.abs(x2 - x1);\n    const paths = this.barHelpers.getBarpaths({\n      barYPosition,\n      barHeight,\n      x1,\n      x2,\n      strokeWidth: this.strokeWidth,\n      series: this.seriesRangeEnd,\n      i: realIndex,\n      realIndex,\n      j,\n      w\n    });\n    if (!w.globals.isXNumeric) {\n      y = y + yDivision;\n    }\n    return {\n      pathTo: paths.pathTo,\n      pathFrom: paths.pathFrom,\n      barWidth,\n      x: range.start < 0 && range.end < 0 ? x1 : x2,\n      goalX: this.barHelpers.getGoalValues(\"x\", zeroW, null, realIndex, j),\n      y\n    };\n  }\n  getRangeValue(i, j) {\n    const w = this.w;\n    return {\n      start: w.globals.seriesRangeStart[i][j],\n      end: w.globals.seriesRangeEnd[i][j]\n    };\n  }\n}\nfunction normalize(data, area) {\n  let sum = 0;\n  for (let i = 0; i < data.length; i++) {\n    sum += data[i];\n  }\n  const multiplier = area / sum;\n  const result = new Array(data.length);\n  for (let i = 0; i < data.length; i++) {\n    result[i] = data[i] * multiplier;\n  }\n  return result;\n}\nfunction calculateRatio(rowMin, rowMax, rowSum, length) {\n  const lengthSq = length * length;\n  const sumSq = rowSum * rowSum;\n  return Math.max(\n    lengthSq * rowMax / sumSq,\n    sumSq / (lengthSq * rowMin)\n  );\n}\nfunction improvesRatio(rowLen, rowMin, rowMax, rowSum, nextNode, length) {\n  if (rowLen === 0) return true;\n  const currentRatio = calculateRatio(rowMin, rowMax, rowSum, length);\n  const newRatio = calculateRatio(\n    Math.min(rowMin, nextNode),\n    Math.max(rowMax, nextNode),\n    rowSum + nextNode,\n    length\n  );\n  return currentRatio >= newRatio;\n}\nfunction emitCoordinates(coords, row, rowLen, rowSum, xoffset, yoffset, width, height) {\n  if (width >= height) {\n    const areaWidth = rowSum / height;\n    let subY = yoffset;\n    for (let i = 0; i < rowLen; i++) {\n      const h = row[i] / areaWidth;\n      coords.push([xoffset, subY, xoffset + areaWidth, subY + h]);\n      subY += h;\n    }\n  } else {\n    const areaHeight = rowSum / width;\n    let subX = xoffset;\n    for (let i = 0; i < rowLen; i++) {\n      const w = row[i] / areaHeight;\n      coords.push([subX, yoffset, subX + w, yoffset + areaHeight]);\n      subX += w;\n    }\n  }\n}\nfunction squarify(data, xoffset, yoffset, width, height) {\n  const coords = [];\n  const n = data.length;\n  if (n === 0) return coords;\n  const row = new Array(n);\n  let rowLen = 0;\n  let rowSum = 0;\n  let rowMin = Infinity;\n  let rowMax = -Infinity;\n  let i = 0;\n  while (i < n) {\n    const length = Math.min(width, height);\n    const val = data[i];\n    if (improvesRatio(rowLen, rowMin, rowMax, rowSum, val, length)) {\n      row[rowLen] = val;\n      rowLen++;\n      rowSum += val;\n      if (val < rowMin) rowMin = val;\n      if (val > rowMax) rowMax = val;\n      i++;\n    } else {\n      emitCoordinates(coords, row, rowLen, rowSum, xoffset, yoffset, width, height);\n      if (width >= height) {\n        const areaWidth = rowSum / height;\n        xoffset += areaWidth;\n        width -= areaWidth;\n      } else {\n        const areaHeight = rowSum / width;\n        yoffset += areaHeight;\n        height -= areaHeight;\n      }\n      rowLen = 0;\n      rowSum = 0;\n      rowMin = Infinity;\n      rowMax = -Infinity;\n    }\n  }\n  if (rowLen > 0) {\n    emitCoordinates(coords, row, rowLen, rowSum, xoffset, yoffset, width, height);\n  }\n  return coords;\n}\nfunction generate(data, width, height) {\n  const n = data.length;\n  const sums = new Array(n);\n  for (let i = 0; i < n; i++) {\n    let s = 0;\n    const series = data[i];\n    for (let j = 0; j < series.length; j++) {\n      s += series[j];\n    }\n    sums[i] = s;\n  }\n  const seriesRects = squarify(\n    normalize(sums, width * height),\n    0,\n    0,\n    width,\n    height\n  );\n  const results = new Array(n);\n  for (let i = 0; i < n; i++) {\n    const rect = seriesRects[i];\n    const rx = rect[0];\n    const ry = rect[1];\n    const rw = rect[2] - rx;\n    const rh = rect[3] - ry;\n    results[i] = squarify(\n      normalize(data[i], rw * rh),\n      rx,\n      ry,\n      rw,\n      rh\n    );\n  }\n  return results;\n}\nconst TreemapSquared = { generate };\nclass TreemapChart {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.strokeWidth = this.w.config.stroke.width;\n    this.helpers = new TreemapHelpers(ctx);\n    this.dynamicAnim = this.w.config.chart.animations.dynamicAnimation;\n    this.labels = [];\n  }\n  draw(series) {\n    let w = this.w;\n    const graphics = new Graphics(this.ctx);\n    const fill = new Fill(this.ctx);\n    let ret = graphics.group({\n      class: \"apexcharts-treemap\"\n    });\n    if (w.globals.noData) return ret;\n    let ser = [];\n    series.forEach((s) => {\n      let d = s.map((v) => {\n        return Math.abs(v);\n      });\n      ser.push(d);\n    });\n    this.negRange = this.helpers.checkColorRange();\n    w.config.series.forEach((s, i) => {\n      s.data.forEach((l) => {\n        if (!Array.isArray(this.labels[i])) this.labels[i] = [];\n        this.labels[i].push(l.x);\n      });\n    });\n    const nodes = TreemapSquared.generate(\n      ser,\n      w.globals.gridWidth,\n      w.globals.gridHeight\n    );\n    nodes.forEach((node, i) => {\n      let elSeries = graphics.group({\n        class: `apexcharts-series apexcharts-treemap-series`,\n        seriesName: Utils$1.escapeString(w.globals.seriesNames[i]),\n        rel: i + 1,\n        \"data:realIndex\": i\n      });\n      graphics.setupEventDelegation(elSeries, \".apexcharts-treemap-rect\");\n      if (w.config.chart.dropShadow.enabled) {\n        const shadow = w.config.chart.dropShadow;\n        const filters = new Filters(this.ctx);\n        filters.dropShadow(ret, shadow, i);\n      }\n      let elDataLabelWrap = graphics.group({\n        class: \"apexcharts-data-labels\"\n      });\n      let bounds = {\n        xMin: Infinity,\n        yMin: Infinity,\n        xMax: -Infinity,\n        yMax: -Infinity\n      };\n      node.forEach((r, j) => {\n        const x1 = r[0];\n        const y1 = r[1];\n        const x2 = r[2];\n        const y2 = r[3];\n        bounds.xMin = Math.min(bounds.xMin, x1);\n        bounds.yMin = Math.min(bounds.yMin, y1);\n        bounds.xMax = Math.max(bounds.xMax, x2);\n        bounds.yMax = Math.max(bounds.yMax, y2);\n        let colorProps = this.helpers.getShadeColor(\n          w.config.chart.type,\n          i,\n          j,\n          this.negRange\n        );\n        let color = colorProps.color;\n        let pathFill = fill.fillPath({\n          color,\n          seriesNumber: i,\n          dataPointIndex: j\n        });\n        let elRect = graphics.drawRect(\n          x1,\n          y1,\n          x2 - x1,\n          y2 - y1,\n          w.config.plotOptions.treemap.borderRadius,\n          \"#fff\",\n          1,\n          this.strokeWidth,\n          w.config.plotOptions.treemap.useFillColorAsStroke ? color : w.globals.stroke.colors[i]\n        );\n        elRect.attr({\n          cx: x1,\n          cy: y1,\n          index: i,\n          i,\n          j,\n          width: x2 - x1,\n          height: y2 - y1,\n          fill: pathFill\n        });\n        elRect.node.classList.add(\"apexcharts-treemap-rect\");\n        let fromRect = {\n          x: x1 + (x2 - x1) / 2,\n          y: y1 + (y2 - y1) / 2,\n          width: 0,\n          height: 0\n        };\n        let toRect = {\n          x: x1,\n          y: y1,\n          width: x2 - x1,\n          height: y2 - y1\n        };\n        if (w.config.chart.animations.enabled && !w.globals.dataChanged) {\n          let speed = 1;\n          if (!w.globals.resized) {\n            speed = w.config.chart.animations.speed;\n          }\n          this.animateTreemap(elRect, fromRect, toRect, speed);\n        }\n        if (w.globals.dataChanged) {\n          let speed = 1;\n          if (this.dynamicAnim.enabled && w.globals.shouldAnimate) {\n            speed = this.dynamicAnim.speed;\n            if (w.globals.previousPaths[i] && w.globals.previousPaths[i][j] && w.globals.previousPaths[i][j].rect) {\n              fromRect = w.globals.previousPaths[i][j].rect;\n            }\n            this.animateTreemap(elRect, fromRect, toRect, speed);\n          }\n        }\n        let fontSize = this.getFontSize(r);\n        let formattedText = w.config.dataLabels.formatter(this.labels[i][j], {\n          value: w.globals.series[i][j],\n          seriesIndex: i,\n          dataPointIndex: j,\n          w\n        });\n        if (w.config.plotOptions.treemap.dataLabels.format === \"truncate\") {\n          fontSize = parseInt(w.config.dataLabels.style.fontSize, 10);\n          formattedText = this.truncateLabels(\n            formattedText,\n            fontSize,\n            x1,\n            y1,\n            x2,\n            y2\n          );\n        }\n        let dataLabels = null;\n        if (w.globals.series[i][j]) {\n          dataLabels = this.helpers.calculateDataLabels({\n            text: formattedText,\n            x: (x1 + x2) / 2,\n            y: (y1 + y2) / 2 + this.strokeWidth / 2 + fontSize / 3,\n            i,\n            j,\n            colorProps,\n            fontSize,\n            series\n          });\n        }\n        if (w.config.dataLabels.enabled && dataLabels) {\n          this.rotateToFitLabel(\n            dataLabels,\n            fontSize,\n            formattedText,\n            x1,\n            y1,\n            x2,\n            y2\n          );\n        }\n        elSeries.add(elRect);\n        if (dataLabels !== null) {\n          elSeries.add(dataLabels);\n        }\n      });\n      const seriesTitle = w.config.plotOptions.treemap.seriesTitle;\n      if (w.config.series.length > 1 && seriesTitle && seriesTitle.show) {\n        const sName = w.config.series[i].name || \"\";\n        if (sName && bounds.xMin < Infinity && bounds.yMin < Infinity) {\n          const {\n            offsetX,\n            offsetY,\n            borderColor,\n            borderWidth,\n            borderRadius,\n            style\n          } = seriesTitle;\n          const textColor = style.color || w.config.chart.foreColor;\n          const padding = {\n            left: style.padding.left,\n            right: style.padding.right,\n            top: style.padding.top,\n            bottom: style.padding.bottom\n          };\n          const textSize = graphics.getTextRects(\n            sName,\n            style.fontSize,\n            style.fontFamily\n          );\n          const labelRectWidth = textSize.width + padding.left + padding.right;\n          const labelRectHeight = textSize.height + padding.top + padding.bottom;\n          const labelX = bounds.xMin + (offsetX || 0);\n          const labelY = bounds.yMin + (offsetY || 0);\n          const elLabelRect = graphics.drawRect(\n            labelX,\n            labelY,\n            labelRectWidth,\n            labelRectHeight,\n            borderRadius,\n            style.background,\n            1,\n            borderWidth,\n            borderColor\n          );\n          const elLabelText = graphics.drawText({\n            x: labelX + padding.left,\n            y: labelY + padding.top + textSize.height * 0.75,\n            text: sName,\n            fontSize: style.fontSize,\n            fontFamily: style.fontFamily,\n            fontWeight: style.fontWeight,\n            foreColor: textColor,\n            cssClass: style.cssClass || \"\"\n          });\n          elSeries.add(elLabelRect);\n          elSeries.add(elLabelText);\n        }\n      }\n      elSeries.add(elDataLabelWrap);\n      ret.add(elSeries);\n    });\n    return ret;\n  }\n  // This calculates a font-size based upon\n  // average label length and the size of the box\n  getFontSize(coordinates) {\n    const w = this.w;\n    function totalLabelLength(arr) {\n      let i, total = 0;\n      if (Array.isArray(arr[0])) {\n        for (i = 0; i < arr.length; i++) {\n          total += totalLabelLength(arr[i]);\n        }\n      } else {\n        for (i = 0; i < arr.length; i++) {\n          total += arr[i].length;\n        }\n      }\n      return total;\n    }\n    function countLabels(arr) {\n      let i, total = 0;\n      if (Array.isArray(arr[0])) {\n        for (i = 0; i < arr.length; i++) {\n          total += countLabels(arr[i]);\n        }\n      } else {\n        for (i = 0; i < arr.length; i++) {\n          total += 1;\n        }\n      }\n      return total;\n    }\n    let averagelabelsize = totalLabelLength(this.labels) / countLabels(this.labels);\n    function fontSize(width, height) {\n      let area = width * height;\n      let arearoot = Math.pow(area, 0.5);\n      return Math.min(\n        arearoot / averagelabelsize,\n        parseInt(w.config.dataLabels.style.fontSize, 10)\n      );\n    }\n    return fontSize(\n      coordinates[2] - coordinates[0],\n      coordinates[3] - coordinates[1]\n    );\n  }\n  rotateToFitLabel(elText, fontSize, text, x1, y1, x2, y2) {\n    const graphics = new Graphics(this.ctx);\n    const textRect = graphics.getTextRects(text, fontSize);\n    if (textRect.width + this.w.config.stroke.width + 5 > x2 - x1 && textRect.width <= y2 - y1) {\n      let labelRotatingCenter = graphics.rotateAroundCenter(elText.node);\n      elText.node.setAttribute(\n        \"transform\",\n        `rotate(-90 ${labelRotatingCenter.x} ${labelRotatingCenter.y}) translate(${textRect.height / 3})`\n      );\n    }\n  }\n  // This is an alternative label formatting method that uses a\n  // consistent font size, and trims the edge of long labels\n  truncateLabels(text, fontSize, x1, y1, x2, y2) {\n    const graphics = new Graphics(this.ctx);\n    const textRect = graphics.getTextRects(text, fontSize);\n    const labelMaxWidth = textRect.width + this.w.config.stroke.width + 5 > x2 - x1 && y2 - y1 > x2 - x1 ? y2 - y1 : x2 - x1;\n    const truncatedText = graphics.getTextBasedOnMaxWidth({\n      text,\n      maxWidth: labelMaxWidth,\n      fontSize\n    });\n    if (text.length !== truncatedText.length && labelMaxWidth / fontSize < 5) {\n      return \"\";\n    } else {\n      return truncatedText;\n    }\n  }\n  animateTreemap(el, fromRect, toRect, speed) {\n    const animations = new Animations(this.ctx);\n    animations.animateRect(el, fromRect, toRect, speed, () => {\n      animations.animationCompleted(el);\n    });\n  }\n}\nclass Core {\n  constructor(el, ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n    this.el = el;\n  }\n  setupElements() {\n    const { globals: gl, config: cnf } = this.w;\n    const ct = cnf.chart.type;\n    const axisChartsArrTypes = [\n      \"line\",\n      \"area\",\n      \"bar\",\n      \"rangeBar\",\n      \"rangeArea\",\n      \"candlestick\",\n      \"boxPlot\",\n      \"scatter\",\n      \"bubble\",\n      \"radar\",\n      \"heatmap\",\n      \"treemap\"\n    ];\n    const xyChartsArrTypes = [\n      \"line\",\n      \"area\",\n      \"bar\",\n      \"rangeBar\",\n      \"rangeArea\",\n      \"candlestick\",\n      \"boxPlot\",\n      \"scatter\",\n      \"bubble\"\n    ];\n    gl.axisCharts = axisChartsArrTypes.includes(ct);\n    gl.xyCharts = xyChartsArrTypes.includes(ct);\n    gl.isBarHorizontal = [\"bar\", \"rangeBar\", \"boxPlot\"].includes(ct) && cnf.plotOptions.bar.horizontal;\n    gl.chartClass = `.apexcharts${gl.chartID}`;\n    gl.dom.baseEl = this.el;\n    gl.dom.elWrap = BrowserAPIs.createElementNS(\"http://www.w3.org/1999/xhtml\", \"div\");\n    Graphics.setAttrs(gl.dom.elWrap, {\n      id: gl.chartClass.substring(1),\n      class: `apexcharts-canvas ${gl.chartClass.substring(1)}`\n    });\n    this.el.appendChild(gl.dom.elWrap);\n    const SVG2 = Environment.isBrowser() ? window.SVG : global.SVG;\n    gl.dom.Paper = SVG2().addTo(gl.dom.elWrap);\n    gl.dom.Paper.attr({\n      class: \"apexcharts-svg\",\n      \"xmlns:data\": \"ApexChartsNS\",\n      transform: `translate(${cnf.chart.offsetX}, ${cnf.chart.offsetY})`\n    });\n    gl.dom.Paper.node.style.background = cnf.theme.mode === \"dark\" && !cnf.chart.background ? \"#343A3F\" : cnf.theme.mode === \"light\" && !cnf.chart.background ? \"#fff\" : cnf.chart.background;\n    this.setSVGDimensions();\n    gl.dom.elLegendForeign = document.createElementNS(gl.SVGNS, \"foreignObject\");\n    Graphics.setAttrs(gl.dom.elLegendForeign, {\n      x: 0,\n      y: 0,\n      width: gl.svgWidth,\n      height: gl.svgHeight\n    });\n    gl.dom.elLegendWrap = document.createElement(\"div\");\n    gl.dom.elLegendWrap.classList.add(\"apexcharts-legend\");\n    gl.dom.elWrap.appendChild(gl.dom.elLegendWrap);\n    gl.dom.Paper.node.appendChild(gl.dom.elLegendForeign);\n    if (cnf.chart.accessibility.enabled) {\n      const ariaLabel = this.getAccessibleChartLabel();\n      gl.dom.Paper.attr({\n        role: \"img\",\n        \"aria-label\": ariaLabel\n      });\n      const titleEl = document.createElementNS(gl.SVGNS, \"title\");\n      titleEl.textContent = cnf.title.text || \"Chart\";\n      gl.dom.Paper.node.insertBefore(titleEl, gl.dom.elLegendForeign.nextSibling);\n      if (cnf.chart.accessibility.description) {\n        const descEl = document.createElementNS(gl.SVGNS, \"desc\");\n        descEl.textContent = cnf.chart.accessibility.description;\n        gl.dom.Paper.node.insertBefore(descEl, titleEl.nextSibling);\n      }\n    }\n    gl.dom.elGraphical = gl.dom.Paper.group().attr({\n      class: \"apexcharts-inner apexcharts-graphical\"\n    });\n    gl.dom.elDefs = gl.dom.Paper.defs();\n    gl.dom.Paper.add(gl.dom.elGraphical);\n    gl.dom.elGraphical.add(gl.dom.elDefs);\n  }\n  plotChartType(ser, xyRatios) {\n    const { w, ctx } = this;\n    const { config: cnf, globals: gl } = w;\n    const seriesTypes = {\n      line: { series: [], i: [] },\n      area: { series: [], i: [] },\n      scatter: { series: [], i: [] },\n      bubble: { series: [], i: [] },\n      bar: { series: [], i: [] },\n      candlestick: { series: [], i: [] },\n      boxPlot: { series: [], i: [] },\n      rangeBar: { series: [], i: [] },\n      rangeArea: { series: [], seriesRangeEnd: [], i: [] }\n    };\n    const chartType = cnf.chart.type || \"line\";\n    let nonComboType = null;\n    let comboCount = 0;\n    gl.series.forEach((serie, st) => {\n      var _a, _b;\n      const seriesType = ((_a = ser[st]) == null ? void 0 : _a.type) === \"column\" ? \"bar\" : ((_b = ser[st]) == null ? void 0 : _b.type) || (chartType === \"column\" ? \"bar\" : chartType);\n      if (seriesTypes[seriesType]) {\n        if (seriesType === \"rangeArea\") {\n          seriesTypes[seriesType].series.push(gl.seriesRangeStart[st]);\n          seriesTypes[seriesType].seriesRangeEnd.push(gl.seriesRangeEnd[st]);\n        } else {\n          seriesTypes[seriesType].series.push(serie);\n        }\n        seriesTypes[seriesType].i.push(st);\n        if (seriesType === \"bar\") w.globals.columnSeries = seriesTypes.bar;\n      } else if ([\n        \"heatmap\",\n        \"treemap\",\n        \"pie\",\n        \"donut\",\n        \"polarArea\",\n        \"radialBar\",\n        \"radar\"\n      ].includes(seriesType)) {\n        nonComboType = seriesType;\n      } else {\n        console.warn(\n          `You have specified an unrecognized series type (${seriesType}).`\n        );\n      }\n      if (chartType !== seriesType && seriesType !== \"scatter\") comboCount++;\n    });\n    if (comboCount > 0) {\n      if (nonComboType) {\n        console.warn(\n          `Chart or series type ${nonComboType} cannot appear with other chart or series types.`\n        );\n      }\n      if (seriesTypes.bar.series.length > 0 && cnf.plotOptions.bar.horizontal) {\n        comboCount -= seriesTypes.bar.series.length;\n        seriesTypes.bar = { series: [], i: [] };\n        w.globals.columnSeries = { series: [], i: [] };\n        console.warn(\n          \"Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`\"\n        );\n      }\n    }\n    gl.comboCharts || (gl.comboCharts = comboCount > 0);\n    const line = new Line(ctx, xyRatios);\n    const boxCandlestick = new BoxCandleStick(ctx, xyRatios);\n    ctx.pie = new Pie(ctx);\n    const radialBar = new Radial(ctx);\n    ctx.rangeBar = new RangeBar(ctx, xyRatios);\n    const radar = new Radar(ctx);\n    let elGraph = [];\n    if (gl.comboCharts) {\n      const coreUtils = new CoreUtils(ctx);\n      if (seriesTypes.area.series.length > 0) {\n        elGraph.push(\n          ...coreUtils.drawSeriesByGroup(\n            seriesTypes.area,\n            gl.areaGroups,\n            \"area\",\n            line\n          )\n        );\n      }\n      if (seriesTypes.bar.series.length > 0) {\n        if (cnf.chart.stacked) {\n          const barStacked = new BarStacked(ctx, xyRatios);\n          elGraph.push(\n            barStacked.draw(seriesTypes.bar.series, seriesTypes.bar.i)\n          );\n        } else {\n          ctx.bar = new Bar(ctx, xyRatios);\n          elGraph.push(ctx.bar.draw(seriesTypes.bar.series, seriesTypes.bar.i));\n        }\n      }\n      if (seriesTypes.rangeArea.series.length > 0) {\n        elGraph.push(\n          line.draw(\n            seriesTypes.rangeArea.series,\n            \"rangeArea\",\n            seriesTypes.rangeArea.i,\n            seriesTypes.rangeArea.seriesRangeEnd\n          )\n        );\n      }\n      if (seriesTypes.line.series.length > 0) {\n        elGraph.push(\n          ...coreUtils.drawSeriesByGroup(\n            seriesTypes.line,\n            gl.lineGroups,\n            \"line\",\n            line\n          )\n        );\n      }\n      if (seriesTypes.candlestick.series.length > 0) {\n        elGraph.push(\n          boxCandlestick.draw(\n            seriesTypes.candlestick.series,\n            \"candlestick\",\n            seriesTypes.candlestick.i\n          )\n        );\n      }\n      if (seriesTypes.boxPlot.series.length > 0) {\n        elGraph.push(\n          boxCandlestick.draw(\n            seriesTypes.boxPlot.series,\n            \"boxPlot\",\n            seriesTypes.boxPlot.i\n          )\n        );\n      }\n      if (seriesTypes.rangeBar.series.length > 0) {\n        elGraph.push(\n          ctx.rangeBar.draw(seriesTypes.rangeBar.series, seriesTypes.rangeBar.i)\n        );\n      }\n      if (seriesTypes.scatter.series.length > 0) {\n        const scatterLine = new Line(ctx, xyRatios, true);\n        elGraph.push(\n          scatterLine.draw(\n            seriesTypes.scatter.series,\n            \"scatter\",\n            seriesTypes.scatter.i\n          )\n        );\n      }\n      if (seriesTypes.bubble.series.length > 0) {\n        const bubbleLine = new Line(ctx, xyRatios, true);\n        elGraph.push(\n          bubbleLine.draw(\n            seriesTypes.bubble.series,\n            \"bubble\",\n            seriesTypes.bubble.i\n          )\n        );\n      }\n    } else {\n      switch (cnf.chart.type) {\n        case \"line\":\n          elGraph = line.draw(gl.series, \"line\");\n          break;\n        case \"area\":\n          elGraph = line.draw(gl.series, \"area\");\n          break;\n        case \"bar\":\n          if (cnf.chart.stacked) {\n            const barStacked = new BarStacked(ctx, xyRatios);\n            elGraph = barStacked.draw(gl.series);\n          } else {\n            ctx.bar = new Bar(ctx, xyRatios);\n            elGraph = ctx.bar.draw(gl.series);\n          }\n          break;\n        case \"candlestick\": {\n          const candleStick = new BoxCandleStick(ctx, xyRatios);\n          elGraph = candleStick.draw(gl.series, \"candlestick\");\n          break;\n        }\n        case \"boxPlot\": {\n          const boxPlot = new BoxCandleStick(ctx, xyRatios);\n          elGraph = boxPlot.draw(gl.series, cnf.chart.type);\n          break;\n        }\n        case \"rangeBar\":\n          elGraph = ctx.rangeBar.draw(gl.series);\n          break;\n        case \"rangeArea\":\n          elGraph = line.draw(\n            gl.seriesRangeStart,\n            \"rangeArea\",\n            void 0,\n            gl.seriesRangeEnd\n          );\n          break;\n        case \"heatmap\": {\n          const heatmap = new HeatMap(ctx, xyRatios);\n          elGraph = heatmap.draw(gl.series);\n          break;\n        }\n        case \"treemap\": {\n          const treemap = new TreemapChart(ctx);\n          elGraph = treemap.draw(gl.series);\n          break;\n        }\n        case \"pie\":\n        case \"donut\":\n        case \"polarArea\":\n          elGraph = ctx.pie.draw(gl.series);\n          break;\n        case \"radialBar\":\n          elGraph = radialBar.draw(gl.series);\n          break;\n        case \"radar\":\n          elGraph = radar.draw(gl.series);\n          break;\n        default:\n          elGraph = line.draw(gl.series);\n      }\n    }\n    return elGraph;\n  }\n  setSVGDimensions() {\n    const { globals: gl, config: cnf } = this.w;\n    cnf.chart.width = cnf.chart.width || \"100%\";\n    cnf.chart.height = cnf.chart.height || \"auto\";\n    gl.svgWidth = cnf.chart.width;\n    gl.svgHeight = cnf.chart.height;\n    let elDim = Utils$1.getDimensions(this.el);\n    const widthUnit = cnf.chart.width.toString().split(/[0-9]+/g).pop();\n    if (widthUnit === \"%\") {\n      if (Utils$1.isNumber(elDim[0])) {\n        if (elDim[0].width === 0) {\n          elDim = Utils$1.getDimensions(this.el.parentNode);\n        }\n        gl.svgWidth = elDim[0] * parseInt(cnf.chart.width, 10) / 100;\n      }\n    } else if (widthUnit === \"px\" || widthUnit === \"\") {\n      gl.svgWidth = parseInt(cnf.chart.width, 10);\n    }\n    const heightUnit = String(cnf.chart.height).toString().split(/[0-9]+/g).pop();\n    if (gl.svgHeight !== \"auto\" && gl.svgHeight !== \"\") {\n      if (heightUnit === \"%\") {\n        const elParentDim = Utils$1.getDimensions(this.el.parentNode);\n        gl.svgHeight = elParentDim[1] * parseInt(cnf.chart.height, 10) / 100;\n      } else {\n        gl.svgHeight = parseInt(cnf.chart.height, 10);\n      }\n    } else {\n      gl.svgHeight = gl.axisCharts ? gl.svgWidth / 1.61 : gl.svgWidth / 1.2;\n    }\n    gl.svgWidth = Math.max(gl.svgWidth, 0);\n    gl.svgHeight = Math.max(gl.svgHeight, 0);\n    Graphics.setAttrs(gl.dom.Paper.node, {\n      width: gl.svgWidth,\n      height: gl.svgHeight\n    });\n    if (heightUnit !== \"%\") {\n      const offsetY = cnf.chart.sparkline.enabled ? 0 : gl.axisCharts ? cnf.chart.parentHeightOffset : 0;\n      gl.dom.Paper.node.parentNode.parentNode.style.minHeight = `${gl.svgHeight + offsetY}px`;\n    }\n    gl.dom.elWrap.style.width = `${gl.svgWidth}px`;\n    gl.dom.elWrap.style.height = `${gl.svgHeight}px`;\n  }\n  shiftGraphPosition() {\n    const { globals: gl } = this.w;\n    const { translateY: tY, translateX: tX } = gl;\n    Graphics.setAttrs(gl.dom.elGraphical.node, {\n      transform: `translate(${tX}, ${tY})`\n    });\n  }\n  resizeNonAxisCharts() {\n    const { w } = this;\n    const { globals: gl } = w;\n    let legendHeight = 0;\n    let offY = w.config.chart.sparkline.enabled ? 1 : 15;\n    offY += w.config.grid.padding.bottom;\n    if ([\"top\", \"bottom\"].includes(w.config.legend.position) && w.config.legend.show && !w.config.legend.floating) {\n      legendHeight = new Legend(this.ctx).legendHelpers.getLegendDimensions().clwh + 7;\n    }\n    const el = w.globals.dom.baseEl.querySelector(\n      \".apexcharts-radialbar, .apexcharts-pie\"\n    );\n    let chartInnerDimensions = w.globals.radialSize * 2.05;\n    if (el && !w.config.chart.sparkline.enabled && w.config.plotOptions.radialBar.startAngle !== 0) {\n      const elRadialRect = Utils$1.getBoundingClientRect(el);\n      chartInnerDimensions = elRadialRect.bottom;\n      const maxHeight = elRadialRect.bottom - elRadialRect.top;\n      chartInnerDimensions = Math.max(w.globals.radialSize * 2.05, maxHeight);\n    }\n    const newHeight = Math.ceil(\n      chartInnerDimensions + gl.translateY + legendHeight + offY\n    );\n    if (gl.dom.elLegendForeign) {\n      gl.dom.elLegendForeign.setAttribute(\"height\", newHeight);\n    }\n    if (w.config.chart.height && String(w.config.chart.height).includes(\"%\"))\n      return;\n    gl.dom.elWrap.style.height = `${newHeight}px`;\n    Graphics.setAttrs(gl.dom.Paper.node, { height: newHeight });\n    gl.dom.Paper.node.parentNode.parentNode.style.minHeight = `${newHeight}px`;\n  }\n  coreCalculations() {\n    new Range(this.ctx).init();\n  }\n  resetGlobals() {\n    const resetxyValues = () => this.w.config.series.map(() => []);\n    const globalObj = new Globals();\n    const { globals: gl } = this.w;\n    const parsingFlags = {\n      dataWasParsed: gl.dataWasParsed,\n      originalSeries: gl.originalSeries\n    };\n    globalObj.initGlobalVars(gl);\n    gl.seriesXvalues = resetxyValues();\n    gl.seriesYvalues = resetxyValues();\n    if (parsingFlags.dataWasParsed) {\n      gl.dataWasParsed = parsingFlags.dataWasParsed;\n      gl.originalSeries = parsingFlags.originalSeries;\n    }\n  }\n  isMultipleY() {\n    if (Array.isArray(this.w.config.yaxis) && this.w.config.yaxis.length > 1) {\n      this.w.globals.isMultipleYAxis = true;\n      return true;\n    }\n    return false;\n  }\n  xySettings() {\n    const { w } = this;\n    let xyRatios = null;\n    if (w.globals.axisCharts) {\n      if (w.config.xaxis.crosshairs.position === \"back\") {\n        new Crosshairs(this.ctx).drawXCrosshairs();\n      }\n      if (w.config.yaxis[0].crosshairs.position === \"back\") {\n        new Crosshairs(this.ctx).drawYCrosshairs();\n      }\n      if (w.config.xaxis.type === \"datetime\" && w.config.xaxis.labels.formatter === void 0) {\n        this.ctx.timeScale = new TimeScale(this.ctx);\n        let formattedTimeScale = [];\n        if (isFinite(w.globals.minX) && isFinite(w.globals.maxX) && !w.globals.isBarHorizontal) {\n          formattedTimeScale = this.ctx.timeScale.calculateTimeScaleTicks(\n            w.globals.minX,\n            w.globals.maxX\n          );\n        } else if (w.globals.isBarHorizontal) {\n          formattedTimeScale = this.ctx.timeScale.calculateTimeScaleTicks(\n            w.globals.minY,\n            w.globals.maxY\n          );\n        }\n        this.ctx.timeScale.recalcDimensionsBasedOnFormat(formattedTimeScale);\n      }\n      const coreUtils = new CoreUtils(this.ctx);\n      xyRatios = coreUtils.getCalculatedRatios();\n    }\n    return xyRatios;\n  }\n  updateSourceChart(targetChart) {\n    this.ctx.w.globals.selection = void 0;\n    this.ctx.updateHelpers._updateOptions(\n      {\n        chart: {\n          selection: {\n            xaxis: {\n              min: targetChart.w.globals.minX,\n              max: targetChart.w.globals.maxX\n            }\n          }\n        }\n      },\n      false,\n      false\n    );\n  }\n  setupBrushHandler() {\n    const { ctx, w } = this;\n    if (!w.config.chart.brush.enabled) return;\n    if (typeof w.config.chart.events.selection !== \"function\") {\n      const targets = Array.isArray(w.config.chart.brush.targets) ? w.config.chart.brush.targets : [w.config.chart.brush.target];\n      targets.forEach((target) => {\n        const targetChart = ctx.constructor.getChartByID(target);\n        targetChart.w.globals.brushSource = this.ctx;\n        if (typeof targetChart.w.config.chart.events.zoomed !== \"function\") {\n          targetChart.w.config.chart.events.zoomed = () => this.updateSourceChart(targetChart);\n        }\n        if (typeof targetChart.w.config.chart.events.scrolled !== \"function\") {\n          targetChart.w.config.chart.events.scrolled = () => this.updateSourceChart(targetChart);\n        }\n      });\n      w.config.chart.events.selection = (chart, e) => {\n        targets.forEach((target) => {\n          const targetChart = ctx.constructor.getChartByID(target);\n          targetChart.ctx.updateHelpers._updateOptions(\n            {\n              xaxis: {\n                min: e.xaxis.min,\n                max: e.xaxis.max\n              }\n            },\n            false,\n            false,\n            false,\n            false\n          );\n        });\n      };\n    }\n  }\n  getAccessibleChartLabel() {\n    const w = this.w;\n    const cnf = w.config;\n    let label = \"\";\n    if (cnf.chart.accessibility && cnf.chart.accessibility.description) {\n      label = cnf.chart.accessibility.description;\n    } else if (cnf.title.text) {\n      const chartType = cnf.chart.type;\n      label = `${cnf.title.text}. ${chartType} chart`;\n      if (cnf.subtitle.text) {\n        label += `. ${cnf.subtitle.text}`;\n      }\n    } else {\n      const chartType = cnf.chart.type;\n      const seriesCount = w.globals.series.length || (cnf.series ? cnf.series.length : 0);\n      label = `${chartType} chart with ${seriesCount} data series`;\n    }\n    return label;\n  }\n}\nclass PerformanceCache {\n  /**\n   * Invalidate all caches\n   * @param {Object} w - ApexCharts globals object\n   */\n  static invalidateAll(w) {\n    if (!w || !w.globals) return;\n    if (w.globals.cachedSelectors) {\n      w.globals.cachedSelectors = {};\n    }\n    if (w.globals.domCache) {\n      w.globals.domCache.clear();\n    }\n    w.globals.dimensionCache = {};\n  }\n  /**\n   * Invalidate dimension cache only\n   * @param {Object} w - ApexCharts globals object\n   */\n  static invalidateDimensions(w) {\n    if (!w || !w.globals) return;\n    w.globals.dimensionCache = {};\n  }\n  /**\n   * Invalidate selector cache only\n   * @param {Object} w - ApexCharts globals object\n   */\n  static invalidateSelectors(w) {\n    if (!w || !w.globals) return;\n    if (w.globals.cachedSelectors) {\n      w.globals.cachedSelectors = {};\n    }\n  }\n  /**\n   * Get cached selector result or compute and cache it\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @param {Function} queryFn - Function to execute if not cached\n   * @returns {*} Cached or newly computed result\n   */\n  static getCachedSelector(w, key, queryFn) {\n    if (!w || !w.globals) return queryFn();\n    if (!w.globals.cachedSelectors) {\n      w.globals.cachedSelectors = {};\n    }\n    if (!w.globals.cachedSelectors[key]) {\n      w.globals.cachedSelectors[key] = queryFn();\n    }\n    return w.globals.cachedSelectors[key];\n  }\n  /**\n   * Get cached dimension or compute and cache it\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @param {Function} computeFn - Function to compute dimensions\n   * @param {number} maxAge - Maximum cache age in milliseconds (default: 1000ms)\n   * @returns {*} Cached or newly computed dimensions\n   */\n  static getCachedDimension(w, key, computeFn, maxAge = 1e3) {\n    if (!w || !w.globals) return computeFn();\n    if (!w.globals.dimensionCache) {\n      w.globals.dimensionCache = {};\n    }\n    const cache = w.globals.dimensionCache[key];\n    const now = Date.now();\n    if (cache && cache.lastUpdate && now - cache.lastUpdate < maxAge) {\n      return cache.value;\n    }\n    const value = computeFn();\n    w.globals.dimensionCache[key] = {\n      value,\n      lastUpdate: now\n    };\n    return value;\n  }\n  /**\n   * Cache a DOM element reference\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @param {Element} element - DOM element to cache\n   */\n  static cacheDOMElement(w, key, element) {\n    if (!w || !w.globals) return;\n    if (!w.globals.domCache) {\n      w.globals.domCache = /* @__PURE__ */ new Map();\n    }\n    w.globals.domCache.set(key, element);\n  }\n  /**\n   * Get cached DOM element\n   * @param {Object} w - ApexCharts globals object\n   * @param {string} key - Cache key\n   * @returns {Element|null} Cached element or null\n   */\n  static getCachedDOMElement(w, key) {\n    if (!w || !w.globals || !w.globals.domCache) return null;\n    return w.globals.domCache.get(key) || null;\n  }\n}\nclass UpdateHelpers {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  /**\n   * private method to update Options.\n   *\n   * @param {object} options - A new config object can be passed which will be merged with the existing config object\n   * @param {boolean} redraw - should redraw from beginning or should use existing paths and redraw from there\n   * @param {boolean} animate - should animate or not on updating Options\n   * @param {boolean} overwriteInitialConfig - should update the initial config or not\n   */\n  _updateOptions(options2, redraw = false, animate = true, updateSyncedCharts = true, overwriteInitialConfig = false) {\n    return new Promise((resolve) => {\n      let charts = [this.ctx];\n      if (updateSyncedCharts) {\n        charts = this.ctx.getSyncedCharts();\n      }\n      if (this.ctx.w.globals.isExecCalled) {\n        charts = [this.ctx];\n        this.ctx.w.globals.isExecCalled = false;\n      }\n      charts.forEach((ch, chartIndex) => {\n        let w = ch.w;\n        w.globals.shouldAnimate = animate;\n        if (!redraw) {\n          w.globals.resized = true;\n          w.globals.dataChanged = true;\n          if (animate) {\n            ch.series.getPreviousPaths();\n          }\n        }\n        if (options2 && typeof options2 === \"object\") {\n          ch.config = new Config(options2);\n          options2 = CoreUtils.extendArrayProps(ch.config, options2, w);\n          if (ch.w.globals.chartID !== this.ctx.w.globals.chartID) {\n            delete options2.series;\n          }\n          w.config = Utils$1.extend(w.config, options2);\n          if (overwriteInitialConfig) {\n            w.globals.lastXAxis = options2.xaxis ? Utils$1.clone(options2.xaxis) : [];\n            w.globals.lastYAxis = options2.yaxis ? Utils$1.clone(options2.yaxis) : [];\n            w.globals.initialConfig = Utils$1.extend({}, w.config);\n            w.globals.initialSeries = Utils$1.clone(w.config.series);\n            if (options2.series) {\n              for (let i = 0; i < w.globals.collapsedSeriesIndices.length; i++) {\n                let series = w.config.series[w.globals.collapsedSeriesIndices[i]];\n                w.globals.collapsedSeries[i].data = w.globals.axisCharts ? series.data.slice() : series;\n              }\n              for (let i = 0; i < w.globals.ancillaryCollapsedSeriesIndices.length; i++) {\n                let series = w.config.series[w.globals.ancillaryCollapsedSeriesIndices[i]];\n                w.globals.ancillaryCollapsedSeries[i].data = w.globals.axisCharts ? series.data.slice() : series;\n              }\n              ch.series.emptyCollapsedSeries(w.config.series);\n            }\n          }\n        }\n        return ch.update(options2).then(() => {\n          if (chartIndex === charts.length - 1) {\n            resolve(ch);\n          }\n        });\n      });\n    });\n  }\n  /**\n   * Private method to update Series.\n   *\n   * @param {array} series - New series which will override the existing\n   */\n  _updateSeries(newSeries, animate, overwriteInitialSeries = false) {\n    return new Promise((resolve) => {\n      const w = this.w;\n      w.globals.shouldAnimate = animate;\n      w.globals.dataChanged = true;\n      PerformanceCache.invalidateSelectors(w);\n      if (animate) {\n        this.ctx.series.getPreviousPaths();\n      }\n      this.ctx.data.resetParsingFlags();\n      this.ctx.data.parseData(newSeries);\n      if (overwriteInitialSeries) {\n        w.globals.initialConfig.series = Utils$1.clone(w.config.series);\n        w.globals.initialSeries = Utils$1.clone(w.config.series);\n      }\n      return this.ctx.update().then(() => {\n        resolve(this.ctx);\n      });\n    });\n  }\n  _extendSeries(s, i) {\n    const w = this.w;\n    const ser = w.config.series[i];\n    return __spreadProps(__spreadValues({}, w.config.series[i]), {\n      name: s.name ? s.name : ser == null ? void 0 : ser.name,\n      color: s.color ? s.color : ser == null ? void 0 : ser.color,\n      type: s.type ? s.type : ser == null ? void 0 : ser.type,\n      group: s.group ? s.group : ser == null ? void 0 : ser.group,\n      hidden: typeof s.hidden !== \"undefined\" ? s.hidden : ser == null ? void 0 : ser.hidden,\n      data: s.data ? s.data : ser == null ? void 0 : ser.data,\n      zIndex: typeof s.zIndex !== \"undefined\" ? s.zIndex : i\n    });\n  }\n  toggleDataPointSelection(seriesIndex, dataPointIndex) {\n    const w = this.w;\n    let elPath = null;\n    const parent = `.apexcharts-series[data\\\\:realIndex='${seriesIndex}']`;\n    if (w.globals.axisCharts) {\n      elPath = w.globals.dom.Paper.findOne(\n        `${parent} path[j='${dataPointIndex}'], ${parent} circle[j='${dataPointIndex}'], ${parent} rect[j='${dataPointIndex}']`\n      );\n    } else {\n      if (typeof dataPointIndex === \"undefined\") {\n        elPath = w.globals.dom.Paper.findOne(\n          `${parent} path[j='${seriesIndex}']`\n        );\n        if (w.config.chart.type === \"pie\" || w.config.chart.type === \"polarArea\" || w.config.chart.type === \"donut\") {\n          this.ctx.pie.pieClicked(seriesIndex);\n        }\n      }\n    }\n    if (elPath) {\n      const graphics = new Graphics(this.ctx);\n      graphics.pathMouseDown(elPath, null);\n    } else {\n      console.warn(\"toggleDataPointSelection: Element not found\");\n      return null;\n    }\n    return elPath.node ? elPath.node : null;\n  }\n  forceXAxisUpdate(options2) {\n    const w = this.w;\n    const minmax = [\"min\", \"max\"];\n    minmax.forEach((a) => {\n      if (typeof options2.xaxis[a] !== \"undefined\") {\n        w.config.xaxis[a] = options2.xaxis[a];\n        w.globals.lastXAxis[a] = options2.xaxis[a];\n      }\n    });\n    if (options2.xaxis.categories && options2.xaxis.categories.length) {\n      w.config.xaxis.categories = options2.xaxis.categories;\n    }\n    if (w.config.xaxis.convertedCatToNumeric) {\n      const defaults = new Defaults(options2);\n      options2 = defaults.convertCatToNumericXaxis(options2, this.ctx);\n    }\n    return options2;\n  }\n  forceYAxisUpdate(options2) {\n    if (options2.chart && options2.chart.stacked && options2.chart.stackType === \"100%\") {\n      if (Array.isArray(options2.yaxis)) {\n        options2.yaxis.forEach((yaxe, index) => {\n          options2.yaxis[index].min = 0;\n          options2.yaxis[index].max = 100;\n        });\n      } else {\n        options2.yaxis.min = 0;\n        options2.yaxis.max = 100;\n      }\n    }\n    return options2;\n  }\n  /**\n   * This function reverts the yaxis and xaxis min/max values to what it was when the chart was defined.\n   * This function fixes an important bug where a user might load a new series after zooming in/out of previous series which resulted in wrong min/max\n   * Also, this should never be called internally on zoom/pan - the reset should only happen when user calls the updateSeries() function externally\n   * The function also accepts an object {xaxis, yaxis} which when present is set as the new xaxis/yaxis\n   */\n  revertDefaultAxisMinMax(opts) {\n    const w = this.w;\n    let xaxis = w.globals.lastXAxis;\n    let yaxis = w.globals.lastYAxis;\n    if (opts && opts.xaxis) {\n      xaxis = opts.xaxis;\n    }\n    if (opts && opts.yaxis) {\n      yaxis = opts.yaxis;\n    }\n    w.config.xaxis.min = xaxis.min;\n    w.config.xaxis.max = xaxis.max;\n    const getLastYAxis = (index) => {\n      if (typeof yaxis[index] !== \"undefined\") {\n        w.config.yaxis[index].min = yaxis[index].min;\n        w.config.yaxis[index].max = yaxis[index].max;\n      }\n    };\n    w.config.yaxis.map((yaxe, index) => {\n      if (w.globals.zoomed) {\n        getLastYAxis(index);\n      } else {\n        if (typeof yaxis[index] !== \"undefined\") {\n          getLastYAxis(index);\n        } else {\n          if (typeof this.ctx.opts.yaxis[index] !== \"undefined\") {\n            yaxe.min = this.ctx.opts.yaxis[index].min;\n            yaxe.max = this.ctx.opts.yaxis[index].max;\n          }\n        }\n      }\n    });\n  }\n}\nif (Environment.isBrowser()) {\n  if (typeof window.SVG === \"undefined\") {\n    window.SVG = SVG;\n  }\n  if (typeof window.Apex === \"undefined\") {\n    window.Apex = {};\n  }\n} else {\n  if (typeof global !== \"undefined\") {\n    if (typeof global.Apex === \"undefined\") {\n      global.Apex = {};\n    }\n  }\n}\nclass InitCtxVariables {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  initModules() {\n    this.ctx.publicMethods = [\n      \"updateOptions\",\n      \"updateSeries\",\n      \"appendData\",\n      \"appendSeries\",\n      \"isSeriesHidden\",\n      \"highlightSeries\",\n      \"toggleSeries\",\n      \"showSeries\",\n      \"hideSeries\",\n      \"setLocale\",\n      \"resetSeries\",\n      \"zoomX\",\n      \"toggleDataPointSelection\",\n      \"dataURI\",\n      \"exportToCSV\",\n      \"addXaxisAnnotation\",\n      \"addYaxisAnnotation\",\n      \"addPointAnnotation\",\n      \"clearAnnotations\",\n      \"removeAnnotation\",\n      \"paper\",\n      \"destroy\"\n    ];\n    this.ctx.eventList = [\n      \"click\",\n      \"mousedown\",\n      \"mousemove\",\n      \"mouseleave\",\n      \"touchstart\",\n      \"touchmove\",\n      \"touchleave\",\n      \"mouseup\",\n      \"touchend\",\n      \"keydown\",\n      \"keyup\"\n    ];\n    this.ctx.animations = new Animations(this.ctx);\n    this.ctx.axes = new Axes(this.ctx);\n    this.ctx.core = new Core(this.ctx.el, this.ctx);\n    this.ctx.config = new Config({});\n    this.ctx.data = new Data(this.ctx);\n    this.ctx.grid = new Grid(this.ctx);\n    this.ctx.graphics = new Graphics(this.ctx);\n    this.ctx.coreUtils = new CoreUtils(this.ctx);\n    this.ctx.crosshairs = new Crosshairs(this.ctx);\n    this.ctx.events = new Events(this.ctx);\n    this.ctx.exports = new Exports(this.ctx);\n    this.ctx.fill = new Fill(this.ctx);\n    this.ctx.localization = new Localization(this.ctx);\n    this.ctx.options = new Options();\n    this.ctx.responsive = new Responsive(this.ctx);\n    this.ctx.series = new Series(this.ctx);\n    this.ctx.theme = new Theme(this.ctx);\n    this.ctx.formatters = new Formatters(this.ctx);\n    this.ctx.titleSubtitle = new TitleSubtitle(this.ctx);\n    this.ctx.legend = new Legend(this.ctx);\n    this.ctx.toolbar = new Toolbar(this.ctx);\n    this.ctx.tooltip = new Tooltip(this.ctx);\n    this.ctx.dimensions = new Dimensions(this.ctx);\n    this.ctx.updateHelpers = new UpdateHelpers(this.ctx);\n    this.ctx.zoomPanSelection = new ZoomPanSelection(this.ctx);\n    this.ctx.w.globals.tooltip = new Tooltip(this.ctx);\n  }\n}\nclass Destroy {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.w = ctx.w;\n  }\n  clear({ isUpdating }) {\n    if (this.ctx.zoomPanSelection) {\n      this.ctx.zoomPanSelection.destroy();\n    }\n    if (this.ctx.toolbar) {\n      this.ctx.toolbar.destroy();\n    }\n    if (this.w.globals.resizeObserver && typeof this.w.globals.resizeObserver.disconnect === \"function\") {\n      this.w.globals.resizeObserver.disconnect();\n      this.w.globals.resizeObserver = null;\n    }\n    PerformanceCache.invalidateAll(this.w);\n    this.ctx.animations = null;\n    this.ctx.axes = null;\n    this.ctx.annotations = null;\n    this.ctx.core = null;\n    this.ctx.data = null;\n    this.ctx.grid = null;\n    this.ctx.series = null;\n    this.ctx.responsive = null;\n    this.ctx.theme = null;\n    this.ctx.formatters = null;\n    this.ctx.titleSubtitle = null;\n    this.ctx.legend = null;\n    this.ctx.dimensions = null;\n    this.ctx.options = null;\n    this.ctx.crosshairs = null;\n    this.ctx.zoomPanSelection = null;\n    this.ctx.updateHelpers = null;\n    this.ctx.toolbar = null;\n    this.ctx.localization = null;\n    this.ctx.w.globals.tooltip = null;\n    this.clearDomElements({ isUpdating });\n  }\n  killSVG(draw) {\n    draw.each(function() {\n      this.removeClass(\"*\");\n      this.off();\n    }, true);\n    draw.clear();\n  }\n  clearDomElements({ isUpdating }) {\n    const elSVG = this.w.globals.dom.Paper.node;\n    if (elSVG.parentNode && elSVG.parentNode.parentNode && !isUpdating) {\n      elSVG.parentNode.parentNode.style.minHeight = \"unset\";\n    }\n    const baseEl = this.w.globals.dom.baseEl;\n    if (baseEl) {\n      this.ctx.eventList.forEach((event) => {\n        baseEl.removeEventListener(event, this.ctx.events.documentEvent);\n      });\n    }\n    const domEls = this.w.globals.dom;\n    if (this.ctx.el !== null) {\n      while (this.ctx.el.firstChild) {\n        this.ctx.el.removeChild(this.ctx.el.firstChild);\n      }\n    }\n    this.killSVG(domEls.Paper);\n    domEls.Paper.remove();\n    domEls.elWrap = null;\n    domEls.elGraphical = null;\n    domEls.elLegendWrap = null;\n    domEls.elLegendForeign = null;\n    domEls.baseEl = null;\n    domEls.elGridRect = null;\n    domEls.elGridRectMask = null;\n    domEls.elGridRectBarMask = null;\n    domEls.elGridRectMarkerMask = null;\n    domEls.elForecastMask = null;\n    domEls.elNonForecastMask = null;\n    domEls.elDefs = null;\n  }\n}\nlet ros = /* @__PURE__ */ new WeakMap();\nfunction addResizeListener(el, fn) {\n  if (Environment.isSSR()) return;\n  let called = false;\n  if (el.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n    const elRect = el.getBoundingClientRect();\n    if (el.style.display === \"none\" || elRect.width === 0) {\n      called = true;\n    }\n  }\n  let ro = new ResizeObserver((r) => {\n    if (called) {\n      fn.call(el, r);\n    }\n    called = true;\n  });\n  if (el.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n    Array.from(el.children).forEach((c) => ro.observe(c));\n  } else {\n    ro.observe(el);\n  }\n  ros.set(fn, ro);\n}\nfunction removeResizeListener(el, fn) {\n  if (Environment.isSSR()) return;\n  let ro = ros.get(fn);\n  if (ro) {\n    ro.disconnect();\n    ros.delete(fn);\n  }\n}\nconst apexCSS = '@keyframes opaque {\\n  0% {\\n    opacity: 0\\n  }\\n\\n  to {\\n    opacity: 1\\n  }\\n}\\n\\n@keyframes resizeanim {\\n\\n  0%,\\n  to {\\n    opacity: 0\\n  }\\n}\\n\\n.apexcharts-canvas {\\n  position: relative;\\n  direction: ltr !important;\\n  user-select: none\\n}\\n\\n.apexcharts-canvas ::-webkit-scrollbar {\\n  -webkit-appearance: none;\\n  width: 6px\\n}\\n\\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\\n  border-radius: 4px;\\n  background-color: rgba(0, 0, 0, .5);\\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\\n}\\n\\n.apexcharts-inner {\\n  position: relative\\n}\\n\\n.apexcharts-text tspan {\\n  font-family: inherit\\n}\\n\\nrect.legend-mouseover-inactive,\\n.legend-mouseover-inactive rect,\\n.legend-mouseover-inactive path,\\n.legend-mouseover-inactive circle,\\n.legend-mouseover-inactive line,\\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\\n  transition: .15s ease all;\\n  opacity: .2\\n}\\n\\n.apexcharts-legend-text {\\n  padding-left: 15px;\\n  margin-left: -15px;\\n}\\n\\n.apexcharts-legend-series[role=\"button\"]:focus {\\n  outline: 2px solid #008FFB;\\n  outline-offset: 2px;\\n}\\n\\n.apexcharts-legend-series[role=\"button\"]:focus:not(:focus-visible) {\\n  outline: none;\\n}\\n\\n.apexcharts-legend-series[role=\"button\"]:focus-visible {\\n  outline: 2px solid #008FFB;\\n  outline-offset: 2px;\\n}\\n\\n.apexcharts-series-collapsed {\\n  opacity: 0\\n}\\n\\n.apexcharts-tooltip {\\n  border-radius: 5px;\\n  box-shadow: 2px 2px 6px -4px #999;\\n  cursor: default;\\n  font-size: 14px;\\n  left: 62px;\\n  opacity: 0;\\n  pointer-events: none;\\n  position: absolute;\\n  top: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  z-index: 12;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-tooltip.apexcharts-active {\\n  opacity: 1;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-light {\\n  border: 1px solid #e3e3e3;\\n  background: rgba(255, 255, 255, .96)\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-dark {\\n  color: #fff;\\n  background: rgba(30, 30, 30, .8)\\n}\\n\\n.apexcharts-tooltip * {\\n  font-family: inherit\\n}\\n\\n.apexcharts-tooltip-title {\\n  padding: 6px;\\n  font-size: 15px;\\n  margin-bottom: 4px\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\\n  background: #eceff1;\\n  border-bottom: 1px solid #ddd\\n}\\n\\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\\n  background: rgba(0, 0, 0, .7);\\n  border-bottom: 1px solid #333\\n}\\n\\n.apexcharts-tooltip-text-goals-value,\\n.apexcharts-tooltip-text-y-value,\\n.apexcharts-tooltip-text-z-value {\\n  display: inline-block;\\n  margin-left: 5px;\\n  font-weight: 600\\n}\\n\\n.apexcharts-tooltip-text-goals-label:empty,\\n.apexcharts-tooltip-text-goals-value:empty,\\n.apexcharts-tooltip-text-y-label:empty,\\n.apexcharts-tooltip-text-y-value:empty,\\n.apexcharts-tooltip-text-z-value:empty,\\n.apexcharts-tooltip-title:empty {\\n  display: none\\n}\\n\\n.apexcharts-tooltip-text-goals-label,\\n.apexcharts-tooltip-text-goals-value {\\n  padding: 6px 0 5px\\n}\\n\\n.apexcharts-tooltip-goals-group,\\n.apexcharts-tooltip-text-goals-label,\\n.apexcharts-tooltip-text-goals-value {\\n  display: flex\\n}\\n\\n.apexcharts-tooltip-text-goals-label:not(:empty),\\n.apexcharts-tooltip-text-goals-value:not(:empty) {\\n  margin-top: -6px\\n}\\n\\n.apexcharts-tooltip-marker {\\n  display: inline-block;\\n  position: relative;\\n  width: 16px;\\n  height: 16px;\\n  font-size: 16px;\\n  line-height: 16px;\\n  margin-right: 4px;\\n  text-align: center;\\n  vertical-align: middle;\\n  color: inherit;\\n}\\n\\n.apexcharts-tooltip-marker::before {\\n  content: \"\";\\n  display: inline-block;\\n  width: 100%;\\n  text-align: center;\\n  color: currentcolor;\\n  text-rendering: optimizeLegibility;\\n  -webkit-font-smoothing: antialiased;\\n  font-size: 26px;\\n  font-family: Arial, Helvetica, sans-serif;\\n  line-height: 14px;\\n  font-weight: 900;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"circle\"]::before {\\n  content: \"\\\\25CF\";\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"square\"]::before,\\n.apexcharts-tooltip-marker[shape=\"rect\"]::before {\\n  content: \"\\\\25A0\";\\n  transform: translate(-1px, -2px);\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"line\"]::before {\\n  content: \"\\\\2500\";\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"diamond\"]::before {\\n  content: \"\\\\25C6\";\\n  font-size: 28px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"triangle\"]::before {\\n  content: \"\\\\25B2\";\\n  font-size: 22px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"cross\"]::before {\\n  content: \"\\\\2715\";\\n  font-size: 18px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"plus\"]::before {\\n  content: \"\\\\2715\";\\n  transform: rotate(45deg) translate(-1px, -1px);\\n  font-size: 18px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"star\"]::before {\\n  content: \"\\\\2605\";\\n  font-size: 18px;\\n}\\n\\n.apexcharts-tooltip-marker[shape=\"sparkle\"]::before {\\n  content: \"\\\\2726\";\\n  font-size: 20px;\\n}\\n\\n.apexcharts-tooltip-series-group {\\n  padding: 0 10px;\\n  display: none;\\n  text-align: left;\\n  justify-content: left;\\n  align-items: center\\n}\\n\\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\\n  opacity: 1\\n}\\n\\n.apexcharts-tooltip-series-group.apexcharts-active,\\n.apexcharts-tooltip-series-group:last-child {\\n  padding-bottom: 4px\\n}\\n\\n.apexcharts-tooltip-y-group {\\n  padding: 6px 0 5px\\n}\\n\\n.apexcharts-custom-tooltip,\\n.apexcharts-tooltip-box {\\n  padding: 4px 8px\\n}\\n\\n.apexcharts-tooltip-boxPlot {\\n  display: flex;\\n  flex-direction: column-reverse\\n}\\n\\n.apexcharts-tooltip-box>div {\\n  margin: 4px 0\\n}\\n\\n.apexcharts-tooltip-box span.value {\\n  font-weight: 700\\n}\\n\\n.apexcharts-tooltip-rangebar {\\n  padding: 5px 8px\\n}\\n\\n.apexcharts-tooltip-rangebar .category {\\n  font-weight: 600;\\n  color: #777\\n}\\n\\n.apexcharts-tooltip-rangebar .series-name {\\n  font-weight: 700;\\n  display: block;\\n  margin-bottom: 5px\\n}\\n\\n.apexcharts-xaxistooltip,\\n.apexcharts-yaxistooltip {\\n  opacity: 0;\\n  pointer-events: none;\\n  color: #373d3f;\\n  font-size: 13px;\\n  text-align: center;\\n  border-radius: 2px;\\n  position: absolute;\\n  z-index: 10;\\n  background: #eceff1;\\n  border: 1px solid #90a4ae\\n}\\n\\n.apexcharts-xaxistooltip {\\n  padding: 9px 10px;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\\n  background: rgba(0, 0, 0, .7);\\n  border: 1px solid rgba(0, 0, 0, .5);\\n  color: #fff\\n}\\n\\n.apexcharts-xaxistooltip:after,\\n.apexcharts-xaxistooltip:before {\\n  left: 50%;\\n  border: solid transparent;\\n  content: \" \";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none\\n}\\n\\n.apexcharts-xaxistooltip:after {\\n  border-color: transparent;\\n  border-width: 6px;\\n  margin-left: -6px\\n}\\n\\n.apexcharts-xaxistooltip:before {\\n  border-color: transparent;\\n  border-width: 7px;\\n  margin-left: -7px\\n}\\n\\n.apexcharts-xaxistooltip-bottom:after,\\n.apexcharts-xaxistooltip-bottom:before {\\n  bottom: 100%\\n}\\n\\n.apexcharts-xaxistooltip-top:after,\\n.apexcharts-xaxistooltip-top:before {\\n  top: 100%\\n}\\n\\n.apexcharts-xaxistooltip-bottom:after {\\n  border-bottom-color: #eceff1\\n}\\n\\n.apexcharts-xaxistooltip-bottom:before {\\n  border-bottom-color: #90a4ae\\n}\\n\\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\\n  border-bottom-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-xaxistooltip-top:after {\\n  border-top-color: #eceff1\\n}\\n\\n.apexcharts-xaxistooltip-top:before {\\n  border-top-color: #90a4ae\\n}\\n\\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\\n  border-top-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-xaxistooltip.apexcharts-active {\\n  opacity: 1;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-yaxistooltip {\\n  padding: 4px 10px\\n}\\n\\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\\n  background: rgba(0, 0, 0, .7);\\n  border: 1px solid rgba(0, 0, 0, .5);\\n  color: #fff\\n}\\n\\n.apexcharts-yaxistooltip:after,\\n.apexcharts-yaxistooltip:before {\\n  top: 50%;\\n  border: solid transparent;\\n  content: \" \";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none\\n}\\n\\n.apexcharts-yaxistooltip:after {\\n  border-color: transparent;\\n  border-width: 6px;\\n  margin-top: -6px\\n}\\n\\n.apexcharts-yaxistooltip:before {\\n  border-color: transparent;\\n  border-width: 7px;\\n  margin-top: -7px\\n}\\n\\n.apexcharts-yaxistooltip-left:after,\\n.apexcharts-yaxistooltip-left:before {\\n  left: 100%\\n}\\n\\n.apexcharts-yaxistooltip-right:after,\\n.apexcharts-yaxistooltip-right:before {\\n  right: 100%\\n}\\n\\n.apexcharts-yaxistooltip-left:after {\\n  border-left-color: #eceff1\\n}\\n\\n.apexcharts-yaxistooltip-left:before {\\n  border-left-color: #90a4ae\\n}\\n\\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\\n  border-left-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-yaxistooltip-right:after {\\n  border-right-color: #eceff1\\n}\\n\\n.apexcharts-yaxistooltip-right:before {\\n  border-right-color: #90a4ae\\n}\\n\\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\\n  border-right-color: rgba(0, 0, 0, .5)\\n}\\n\\n.apexcharts-yaxistooltip.apexcharts-active {\\n  opacity: 1\\n}\\n\\n.apexcharts-yaxistooltip-hidden {\\n  display: none\\n}\\n\\n.apexcharts-xcrosshairs,\\n.apexcharts-ycrosshairs {\\n  pointer-events: none;\\n  opacity: 0;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-xcrosshairs.apexcharts-active,\\n.apexcharts-ycrosshairs.apexcharts-active {\\n  opacity: 1;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-ycrosshairs-hidden {\\n  opacity: 0\\n}\\n\\n.apexcharts-selection-rect {\\n  cursor: move\\n}\\n\\n.svg_select_shape {\\n  stroke-width: 1;\\n  stroke-dasharray: 10 10;\\n  stroke: black;\\n  stroke-opacity: 0.1;\\n  pointer-events: none;\\n  fill: none;\\n}\\n\\n.svg_select_handle {\\n  stroke-width: 3;\\n  stroke: black;\\n  fill: none;\\n}\\n\\n.svg_select_handle_r {\\n  cursor: e-resize;\\n}\\n\\n.svg_select_handle_l {\\n  cursor: w-resize;\\n}\\n\\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\\n  cursor: crosshair\\n}\\n\\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\\n  cursor: move\\n}\\n\\n.apexcharts-menu-icon,\\n.apexcharts-pan-icon,\\n.apexcharts-reset-icon,\\n.apexcharts-selection-icon,\\n.apexcharts-toolbar-custom-icon,\\n.apexcharts-zoom-icon,\\n.apexcharts-zoomin-icon,\\n.apexcharts-zoomout-icon {\\n  cursor: pointer;\\n  width: 20px;\\n  height: 20px;\\n  line-height: 24px;\\n  color: #6e8192;\\n  text-align: center\\n}\\n\\n.apexcharts-menu-icon svg,\\n.apexcharts-reset-icon svg,\\n.apexcharts-zoom-icon svg,\\n.apexcharts-zoomin-icon svg,\\n.apexcharts-zoomout-icon svg {\\n  fill: #6e8192\\n}\\n\\n.apexcharts-selection-icon svg {\\n  fill: #444;\\n  transform: scale(.76)\\n}\\n\\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\\n  fill: #f3f4f5\\n}\\n\\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\\n  fill: #008ffb\\n}\\n\\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\\n  fill: #333\\n}\\n\\n.apexcharts-menu-icon,\\n.apexcharts-selection-icon {\\n  position: relative\\n}\\n\\n.apexcharts-reset-icon {\\n  margin-left: 5px\\n}\\n\\n.apexcharts-menu-icon,\\n.apexcharts-reset-icon,\\n.apexcharts-zoom-icon {\\n  transform: scale(.85)\\n}\\n\\n.apexcharts-zoomin-icon,\\n.apexcharts-zoomout-icon {\\n  transform: scale(.7)\\n}\\n\\n.apexcharts-zoomout-icon {\\n  margin-right: 3px\\n}\\n\\n.apexcharts-pan-icon {\\n  transform: scale(.62);\\n  position: relative;\\n  left: 1px;\\n  top: 0\\n}\\n\\n.apexcharts-pan-icon svg {\\n  fill: #fff;\\n  stroke: #6e8192;\\n  stroke-width: 2\\n}\\n\\n.apexcharts-pan-icon.apexcharts-selected svg {\\n  stroke: #008ffb\\n}\\n\\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\\n  stroke: #333\\n}\\n\\n.apexcharts-toolbar {\\n  position: absolute;\\n  z-index: 11;\\n  max-width: 176px;\\n  text-align: right;\\n  border-radius: 3px;\\n  padding: 0 6px 2px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center\\n}\\n\\n.apexcharts-menu {\\n  background: #fff;\\n  position: absolute;\\n  top: 100%;\\n  border: 1px solid #ddd;\\n  border-radius: 3px;\\n  padding: 3px;\\n  right: 10px;\\n  opacity: 0;\\n  min-width: 110px;\\n  transition: .15s ease all;\\n  pointer-events: none\\n}\\n\\n.apexcharts-menu.apexcharts-menu-open {\\n  opacity: 1;\\n  pointer-events: all;\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-menu-item {\\n  padding: 6px 7px;\\n  font-size: 12px;\\n  cursor: pointer\\n}\\n\\n.apexcharts-theme-light .apexcharts-menu-item:hover {\\n  background: #eee\\n}\\n\\n.apexcharts-theme-dark .apexcharts-menu {\\n  background: rgba(0, 0, 0, .7);\\n  color: #fff\\n}\\n\\n@media screen and (min-width:768px) {\\n  .apexcharts-canvas:hover .apexcharts-toolbar {\\n    opacity: 1\\n  }\\n}\\n\\n.apexcharts-canvas .apexcharts-element-hidden,\\n.apexcharts-datalabel.apexcharts-element-hidden,\\n.apexcharts-hide .apexcharts-series-points {\\n  opacity: 0;\\n}\\n\\n.apexcharts-hidden-element-shown {\\n  opacity: 1;\\n  transition: 0.25s ease all;\\n}\\n\\n.apexcharts-datalabel,\\n.apexcharts-datalabel-label,\\n.apexcharts-datalabel-value,\\n.apexcharts-datalabels,\\n.apexcharts-pie-label {\\n  cursor: default;\\n  pointer-events: none\\n}\\n\\n.apexcharts-pie-label-delay {\\n  opacity: 0;\\n  animation-name: opaque;\\n  animation-duration: .3s;\\n  animation-fill-mode: forwards;\\n  animation-timing-function: ease\\n}\\n\\n.apexcharts-radialbar-label {\\n  cursor: pointer;\\n}\\n\\n.apexcharts-annotation-rect,\\n.apexcharts-area-series .apexcharts-area,\\n.apexcharts-gridline,\\n.apexcharts-line,\\n.apexcharts-point-annotation-label,\\n.apexcharts-radar-series path:not(.apexcharts-marker),\\n.apexcharts-radar-series polygon,\\n.apexcharts-toolbar svg,\\n.apexcharts-tooltip .apexcharts-marker,\\n.apexcharts-xaxis-annotation-label,\\n.apexcharts-yaxis-annotation-label,\\n.apexcharts-zoom-rect,\\n.no-pointer-events {\\n  pointer-events: none\\n}\\n\\n.apexcharts-tooltip-active .apexcharts-marker {\\n  transition: .15s ease all\\n}\\n\\n.apexcharts-radar-series .apexcharts-yaxis {\\n  pointer-events: none;\\n}\\n\\n.resize-triggers {\\n  animation: 1ms resizeanim;\\n  visibility: hidden;\\n  opacity: 0;\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden\\n}\\n\\n.contract-trigger:before,\\n.resize-triggers,\\n.resize-triggers>div {\\n  content: \" \";\\n  display: block;\\n  position: absolute;\\n  top: 0;\\n  left: 0\\n}\\n\\n.resize-triggers>div {\\n  height: 100%;\\n  width: 100%;\\n  background: #eee;\\n  overflow: auto\\n}\\n\\n.contract-trigger:before {\\n  overflow: hidden;\\n  width: 200%;\\n  height: 200%\\n}\\n\\n.apexcharts-bar-goals-markers {\\n  pointer-events: none\\n}\\n\\n.apexcharts-bar-shadows {\\n  pointer-events: none\\n}\\n\\n.apexcharts-rangebar-goals-markers {\\n  pointer-events: none\\n}\\n\\n.apexcharts-disable-transitions * {\\n  transition: none !important;\\n}';\nclass ApexCharts {\n  constructor(el, opts) {\n    this.opts = opts;\n    this.ctx = this;\n    this.w = new Base(opts).init();\n    this.el = el;\n    this.w.globals.cuid = Utils$1.randomId();\n    this.w.globals.chartID = this.w.config.chart.id ? Utils$1.escapeString(this.w.config.chart.id) : this.w.globals.cuid;\n    const initCtx = new InitCtxVariables(this);\n    initCtx.initModules();\n    this.lastUpdateOptions = null;\n    this.create = Utils$1.bind(this.create, this);\n    if (Environment.isBrowser()) {\n      this.windowResizeHandler = this._windowResizeHandler.bind(this);\n      this.parentResizeHandler = this._parentResizeCallback.bind(this);\n    }\n  }\n  /**\n   * The primary method user will call to render the chart.\n   */\n  render() {\n    return new Promise((resolve, reject) => {\n      var _a;\n      if (Utils$1.elementExists(this.el)) {\n        if (typeof Apex._chartInstances === \"undefined\") {\n          Apex._chartInstances = [];\n        }\n        if (this.w.config.chart.id) {\n          Apex._chartInstances.push({\n            id: this.w.globals.chartID,\n            group: this.w.config.chart.group,\n            chart: this\n          });\n        }\n        this.setLocale(this.w.config.chart.defaultLocale);\n        const beforeMount = this.w.config.chart.events.beforeMount;\n        if (typeof beforeMount === \"function\") {\n          beforeMount(this, this.w);\n        }\n        this.events.fireEvent(\"beforeMount\", [this, this.w]);\n        if (Environment.isBrowser()) {\n          window.addEventListener(\"resize\", this.windowResizeHandler);\n          addResizeListener(this.el.parentNode, this.parentResizeHandler);\n          let rootNode = this.el.getRootNode && this.el.getRootNode();\n          let inShadowRoot = Utils$1.is(\"ShadowRoot\", rootNode);\n          let doc = this.el.ownerDocument;\n          let css = inShadowRoot ? rootNode.getElementById(\"apexcharts-css\") : doc.getElementById(\"apexcharts-css\");\n          if (!css) {\n            css = BrowserAPIs.createElementNS(\"http://www.w3.org/1999/xhtml\", \"style\");\n            css.id = \"apexcharts-css\";\n            css.textContent = apexCSS;\n            const nonce = ((_a = this.opts.chart) == null ? void 0 : _a.nonce) || this.w.config.chart.nonce;\n            if (nonce) {\n              css.setAttribute(\"nonce\", nonce);\n            }\n            if (inShadowRoot) {\n              rootNode.prepend(css);\n            } else if (this.w.config.chart.injectStyleSheet !== false) {\n              doc.head.appendChild(css);\n            }\n          }\n        }\n        let graphData = this.create(this.w.config.series, {});\n        if (!graphData) return resolve(this);\n        this.mount(graphData).then(() => {\n          if (typeof this.w.config.chart.events.mounted === \"function\") {\n            this.w.config.chart.events.mounted(this, this.w);\n          }\n          this.events.fireEvent(\"mounted\", [this, this.w]);\n          resolve(graphData);\n        }).catch((e) => {\n          reject(e);\n        });\n      } else {\n        reject(new Error(\"Element not found\"));\n      }\n    });\n  }\n  create(ser, opts) {\n    let w = this.w;\n    const initCtx = new InitCtxVariables(this);\n    initCtx.initModules();\n    let gl = this.w.globals;\n    gl.noData = false;\n    gl.animationEnded = false;\n    if (!Utils$1.elementExists(this.el)) {\n      gl.animationEnded = true;\n      return null;\n    }\n    this.responsive.checkResponsiveConfig(opts);\n    if (w.config.xaxis.convertedCatToNumeric) {\n      const defaults = new Defaults(w.config);\n      defaults.convertCatToNumericXaxis(w.config, this.ctx);\n    }\n    this.core.setupElements();\n    if (w.config.chart.type === \"treemap\") {\n      w.config.grid.show = false;\n      w.config.yaxis[0].show = false;\n    }\n    if (gl.svgWidth === 0) {\n      gl.animationEnded = true;\n      return null;\n    }\n    let series = ser;\n    ser.forEach((s, realIndex) => {\n      if (s.hidden) {\n        series = this.legend.legendHelpers.getSeriesAfterCollapsing({\n          realIndex\n        });\n      }\n    });\n    const combo = CoreUtils.checkComboSeries(series, w.config.chart.type);\n    gl.comboCharts = combo.comboCharts;\n    gl.comboBarCount = combo.comboBarCount;\n    const allSeriesAreEmpty = series.every((s) => s.data && s.data.length === 0);\n    if (series.length === 0 || allSeriesAreEmpty && gl.collapsedSeries.length < 1) {\n      this.series.handleNoData();\n    }\n    this.events.setupEventHandlers();\n    this.data.parseData(series);\n    this.theme.init();\n    const markers = new Markers(this);\n    markers.setGlobalMarkerSize();\n    this.formatters.setLabelFormatters();\n    this.titleSubtitle.draw();\n    if (!gl.noData || gl.collapsedSeries.length === gl.series.length || w.config.legend.showForSingleSeries) {\n      this.legend.init();\n    }\n    this.series.hasAllSeriesEqualX();\n    if (gl.axisCharts) {\n      this.core.coreCalculations();\n      if (w.config.xaxis.type !== \"category\") {\n        this.formatters.setLabelFormatters();\n      }\n      this.ctx.toolbar.minX = w.globals.minX;\n      this.ctx.toolbar.maxX = w.globals.maxX;\n    }\n    this.formatters.heatmapLabelFormatters();\n    const coreUtils = new CoreUtils(this);\n    coreUtils.getLargestMarkerSize();\n    this.dimensions.plotCoords();\n    const xyRatios = this.core.xySettings();\n    this.grid.createGridMask();\n    const elGraph = this.core.plotChartType(series, xyRatios);\n    const dataLabels = new DataLabels(this);\n    dataLabels.bringForward();\n    if (w.config.dataLabels.background.enabled) {\n      dataLabels.dataLabelsBackground();\n    }\n    this.core.shiftGraphPosition();\n    if (w.globals.dataPoints > 50) {\n      w.globals.dom.elWrap.classList.add(\"apexcharts-disable-transitions\");\n    }\n    const dim = {\n      plot: {\n        left: w.globals.translateX,\n        top: w.globals.translateY,\n        width: w.globals.gridWidth,\n        height: w.globals.gridHeight\n      }\n    };\n    return {\n      elGraph,\n      xyRatios,\n      dimensions: dim\n    };\n  }\n  mount(graphData = null) {\n    let me = this;\n    let w = me.w;\n    return new Promise((resolve, reject) => {\n      var _a, _b;\n      if (me.el === null) {\n        return reject(\n          new Error(\"Not enough data to display or target element not found\")\n        );\n      } else if (graphData === null || w.globals.allSeriesCollapsed) {\n        me.series.handleNoData();\n      }\n      me.grid = new Grid(me);\n      let elgrid = me.grid.drawGrid();\n      me.annotations = new Annotations(me);\n      me.annotations.drawImageAnnos();\n      me.annotations.drawTextAnnos();\n      if (w.config.grid.position === \"back\") {\n        if (elgrid) {\n          w.globals.dom.elGraphical.add(elgrid.el);\n        }\n        if ((_a = elgrid == null ? void 0 : elgrid.elGridBorders) == null ? void 0 : _a.node) {\n          w.globals.dom.elGraphical.add(elgrid.elGridBorders);\n        }\n      }\n      if (Array.isArray(graphData.elGraph)) {\n        for (let g = 0; g < graphData.elGraph.length; g++) {\n          w.globals.dom.elGraphical.add(graphData.elGraph[g]);\n        }\n      } else {\n        w.globals.dom.elGraphical.add(graphData.elGraph);\n      }\n      if (w.config.grid.position === \"front\") {\n        if (elgrid) {\n          w.globals.dom.elGraphical.add(elgrid.el);\n        }\n        if ((_b = elgrid == null ? void 0 : elgrid.elGridBorders) == null ? void 0 : _b.node) {\n          w.globals.dom.elGraphical.add(elgrid.elGridBorders);\n        }\n      }\n      if (w.config.xaxis.crosshairs.position === \"front\") {\n        me.crosshairs.drawXCrosshairs();\n      }\n      if (w.config.yaxis[0].crosshairs.position === \"front\") {\n        me.crosshairs.drawYCrosshairs();\n      }\n      if (w.config.chart.type !== \"treemap\") {\n        me.axes.drawAxis(w.config.chart.type, elgrid);\n      }\n      let xAxis = new XAxis(this.ctx, elgrid);\n      let yaxis = new YAxis(this.ctx, elgrid);\n      if (elgrid !== null) {\n        xAxis.xAxisLabelCorrections(elgrid.xAxisTickWidth);\n        yaxis.setYAxisTextAlignments();\n        w.config.yaxis.map((yaxe, index) => {\n          if (w.globals.ignoreYAxisIndexes.indexOf(index) === -1) {\n            yaxis.yAxisTitleRotate(index, yaxe.opposite);\n          }\n        });\n      }\n      me.annotations.drawAxesAnnotations();\n      if (!w.globals.noData) {\n        if (w.config.tooltip.enabled && !w.globals.noData) {\n          me.w.globals.tooltip.drawTooltip(graphData.xyRatios);\n        }\n        if (w.globals.axisCharts && (w.globals.isXNumeric || w.config.xaxis.convertedCatToNumeric || w.globals.isRangeBar)) {\n          if (w.config.chart.zoom.enabled || w.config.chart.selection && w.config.chart.selection.enabled || w.config.chart.pan && w.config.chart.pan.enabled) {\n            me.zoomPanSelection.init({\n              xyRatios: graphData.xyRatios\n            });\n          }\n        } else {\n          const tools = w.config.chart.toolbar.tools;\n          let toolsArr = [\n            \"zoom\",\n            \"zoomin\",\n            \"zoomout\",\n            \"selection\",\n            \"pan\",\n            \"reset\"\n          ];\n          toolsArr.forEach((t) => {\n            tools[t] = false;\n          });\n        }\n        if (w.config.chart.toolbar.show && !w.globals.allSeriesCollapsed) {\n          me.toolbar.createToolbar();\n        }\n      }\n      if (w.globals.memory.methodsToExec.length > 0) {\n        w.globals.memory.methodsToExec.forEach((fn) => {\n          fn.method(fn.params, false, fn.context);\n        });\n      }\n      if (!w.globals.axisCharts && !w.globals.noData) {\n        me.core.resizeNonAxisCharts();\n      }\n      resolve(me);\n    });\n  }\n  /**\n   * Destroy the chart instance by removing all elements which also clean up event listeners on those elements.\n   */\n  destroy() {\n    if (Environment.isBrowser()) {\n      window.removeEventListener(\"resize\", this.windowResizeHandler);\n      removeResizeListener(this.el.parentNode, this.parentResizeHandler);\n    }\n    const chartID = this.w.config.chart.id;\n    if (chartID) {\n      Apex._chartInstances.forEach((c, i) => {\n        if (c.id === Utils$1.escapeString(chartID)) {\n          Apex._chartInstances.splice(i, 1);\n        }\n      });\n    }\n    new Destroy(this.ctx).clear({ isUpdating: false });\n  }\n  /**\n   * Allows users to update Options after the chart has rendered.\n   *\n   * @param {object} options - A new config object can be passed which will be merged with the existing config object\n   * @param {boolean} redraw - should redraw from beginning or should use existing paths and redraw from there\n   * @param {boolean} animate - should animate or not on updating Options\n   */\n  updateOptions(options2, redraw = false, animate = true, updateSyncedCharts = true, overwriteInitialConfig = true) {\n    const w = this.w;\n    w.globals.selection = void 0;\n    if (this.lastUpdateOptions) {\n      if (Utils$1.shallowEqual(this.lastUpdateOptions, options2)) {\n        return this;\n      }\n      if (options2.series && this.lastUpdateOptions.series) {\n        if (JSON.stringify(this.lastUpdateOptions.series) === JSON.stringify(options2.series)) {\n          const optionsWithoutSeries = __spreadValues({}, options2);\n          const lastWithoutSeries = __spreadValues({}, this.lastUpdateOptions);\n          delete optionsWithoutSeries.series;\n          delete lastWithoutSeries.series;\n          if (Utils$1.shallowEqual(optionsWithoutSeries, lastWithoutSeries)) {\n            return this;\n          }\n        }\n      }\n    }\n    if (options2.series) {\n      this.data.resetParsingFlags();\n      this.series.resetSeries(false, true, false);\n      if (options2.series.length && options2.series[0].data) {\n        options2.series = options2.series.map((s, i) => {\n          return this.updateHelpers._extendSeries(s, i);\n        });\n      }\n      this.updateHelpers.revertDefaultAxisMinMax();\n    }\n    if (options2.xaxis) {\n      options2 = this.updateHelpers.forceXAxisUpdate(options2);\n    }\n    if (options2.yaxis) {\n      options2 = this.updateHelpers.forceYAxisUpdate(options2);\n    }\n    if (w.globals.collapsedSeriesIndices.length > 0) {\n      this.series.clearPreviousPaths();\n    }\n    if (options2.theme) {\n      options2 = this.theme.updateThemeOptions(options2);\n    }\n    return this.updateHelpers._updateOptions(\n      options2,\n      redraw,\n      animate,\n      updateSyncedCharts,\n      overwriteInitialConfig\n    );\n  }\n  /**\n   * Allows users to update Series after the chart has rendered.\n   *\n   * @param {array} series - New series which will override the existing\n   */\n  updateSeries(newSeries = [], animate = true, overwriteInitialSeries = true) {\n    this.data.resetParsingFlags();\n    this.series.resetSeries(false);\n    this.updateHelpers.revertDefaultAxisMinMax();\n    return this.updateHelpers._updateSeries(\n      newSeries,\n      animate,\n      overwriteInitialSeries\n    );\n  }\n  /**\n   * Allows users to append a new series after the chart has rendered.\n   *\n   * @param {array} newSerie - New serie which will be appended to the existing series\n   */\n  appendSeries(newSerie, animate = true, overwriteInitialSeries = true) {\n    this.data.resetParsingFlags();\n    const newSeries = this.w.config.series.slice();\n    newSeries.push(newSerie);\n    this.series.resetSeries(false);\n    this.updateHelpers.revertDefaultAxisMinMax();\n    return this.updateHelpers._updateSeries(\n      newSeries,\n      animate,\n      overwriteInitialSeries\n    );\n  }\n  /**\n   * Allows users to append Data to series.\n   *\n   * @param {array} newData - New data in the same format as series\n   */\n  appendData(newData, overwriteInitialSeries = true) {\n    let me = this;\n    me.data.resetParsingFlags();\n    me.w.globals.dataChanged = true;\n    me.series.getPreviousPaths();\n    let newSeries = me.w.config.series.slice();\n    for (let i = 0; i < newSeries.length; i++) {\n      if (newData[i] !== null && typeof newData[i] !== \"undefined\") {\n        for (let j = 0; j < newData[i].data.length; j++) {\n          newSeries[i].data.push(newData[i].data[j]);\n        }\n      }\n    }\n    me.w.config.series = newSeries;\n    if (overwriteInitialSeries) {\n      me.w.globals.initialSeries = Utils$1.clone(me.w.config.series);\n    }\n    return this.update();\n  }\n  update(options2) {\n    return new Promise((resolve, reject) => {\n      if (this.lastUpdateOptions && JSON.stringify(this.lastUpdateOptions) === JSON.stringify(options2)) {\n        return resolve(this);\n      }\n      this.lastUpdateOptions = Utils$1.clone(options2);\n      new Destroy(this.ctx).clear({ isUpdating: true });\n      const graphData = this.create(this.w.config.series, options2);\n      if (!graphData) return resolve(this);\n      this.mount(graphData).then(() => {\n        if (typeof this.w.config.chart.events.updated === \"function\") {\n          this.w.config.chart.events.updated(this, this.w);\n        }\n        this.events.fireEvent(\"updated\", [this, this.w]);\n        this.w.globals.isDirty = true;\n        resolve(this);\n      }).catch((e) => {\n        reject(e);\n      });\n    });\n  }\n  /**\n   * Get all charts in the same \"group\" (including the instance which is called upon) to sync them when user zooms in/out or pan.\n   */\n  getSyncedCharts() {\n    const chartGroups = this.getGroupedCharts();\n    let allCharts = [this];\n    if (chartGroups.length) {\n      allCharts = [];\n      chartGroups.forEach((ch) => {\n        allCharts.push(ch);\n      });\n    }\n    return allCharts;\n  }\n  /**\n   * Get charts in the same \"group\" (excluding the instance which is called upon) to perform operations on the other charts of the same group (eg., tooltip hovering)\n   */\n  getGroupedCharts() {\n    return Apex._chartInstances.filter((ch) => {\n      if (ch.group) {\n        return true;\n      }\n    }).map((ch) => this.w.config.chart.group === ch.group ? ch.chart : this);\n  }\n  static getChartByID(id) {\n    const chartId = Utils$1.escapeString(id);\n    if (!Apex._chartInstances) return void 0;\n    const c = Apex._chartInstances.filter((ch) => ch.id === chartId)[0];\n    return c && c.chart;\n  }\n  /**\n   * Allows the user to provide data attrs in the element and the chart will render automatically when this method is called by searching for the elements containing 'data-apexcharts' attribute\n   */\n  static initOnLoad() {\n    const els = document.querySelectorAll(\"[data-apexcharts]\");\n    for (let i = 0; i < els.length; i++) {\n      const el = els[i];\n      const options2 = JSON.parse(els[i].getAttribute(\"data-options\"));\n      const apexChart = new ApexCharts(el, options2);\n      apexChart.render();\n    }\n  }\n  /**\n   * This static method allows users to call chart methods without necessarily from the\n   * instance of the chart in case user has assigned chartID to the targeted chart.\n   * The chartID is used for mapping the instance stored in Apex._chartInstances global variable\n   *\n   * This is helpful in cases when you don't have reference of the chart instance\n   * easily and need to call the method from anywhere.\n   * For eg, in React/Vue applications when you have many parent/child components,\n   * and need easy reference to other charts for performing dynamic operations\n   *\n   * @param {string} chartID - The unique identifier which will be used to call methods\n   * on that chart instance\n   * @param {function} fn - The method name to call\n   * @param {object} opts - The parameters which are accepted in the original method will be passed here in the same order.\n   */\n  static exec(chartID, fn, ...opts) {\n    const chart = this.getChartByID(chartID);\n    if (!chart) return;\n    chart.w.globals.isExecCalled = true;\n    let ret = null;\n    if (chart.publicMethods.indexOf(fn) !== -1) {\n      ret = chart[fn](...opts);\n    }\n    return ret;\n  }\n  static merge(target, source) {\n    return Utils$1.extend(target, source);\n  }\n  static getThemePalettes() {\n    return {\n      palette1: [\"#008FFB\", \"#00E396\", \"#FEB019\", \"#FF4560\", \"#775DD0\"],\n      palette2: [\"#3F51B5\", \"#03A9F4\", \"#4CAF50\", \"#F9CE1D\", \"#FF9800\"],\n      palette3: [\"#33B2DF\", \"#546E7A\", \"#D4526E\", \"#13D8AA\", \"#A5978B\"],\n      palette4: [\"#4ECDC4\", \"#C7F464\", \"#81D4FA\", \"#FD6A6A\", \"#546E7A\"],\n      palette5: [\"#2B908F\", \"#F9A3A4\", \"#90EE7E\", \"#FA4443\", \"#69D2E7\"],\n      palette6: [\"#449DD1\", \"#F86624\", \"#EA3546\", \"#662E9B\", \"#C5D86D\"],\n      palette7: [\"#D7263D\", \"#1B998B\", \"#2E294E\", \"#F46036\", \"#E2C044\"],\n      palette8: [\"#662E9B\", \"#F86624\", \"#F9C80E\", \"#EA3546\", \"#43BCCD\"],\n      palette9: [\"#5C4742\", \"#A5978B\", \"#8D5B4C\", \"#5A2A27\", \"#C4BBAF\"],\n      palette10: [\"#A300D6\", \"#7D02EB\", \"#5653FE\", \"#2983FF\", \"#00B1F2\"]\n    };\n  }\n  toggleSeries(seriesName) {\n    return this.series.toggleSeries(seriesName);\n  }\n  highlightSeriesOnLegendHover(e, targetElement) {\n    return this.series.toggleSeriesOnHover(e, targetElement);\n  }\n  showSeries(seriesName) {\n    this.series.showSeries(seriesName);\n  }\n  hideSeries(seriesName) {\n    this.series.hideSeries(seriesName);\n  }\n  highlightSeries(seriesName) {\n    this.series.highlightSeries(seriesName);\n  }\n  isSeriesHidden(seriesName) {\n    this.series.isSeriesHidden(seriesName);\n  }\n  resetSeries(shouldUpdateChart = true, shouldResetZoom = true) {\n    this.series.resetSeries(shouldUpdateChart, shouldResetZoom);\n  }\n  // Public method to add event listener on chart context\n  addEventListener(name2, handler) {\n    this.events.addEventListener(name2, handler);\n  }\n  // Public method to remove event listener on chart context\n  removeEventListener(name2, handler) {\n    this.events.removeEventListener(name2, handler);\n  }\n  addXaxisAnnotation(opts, pushToMemory = true, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.addXaxisAnnotationExternal(opts, pushToMemory, me);\n  }\n  addYaxisAnnotation(opts, pushToMemory = true, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.addYaxisAnnotationExternal(opts, pushToMemory, me);\n  }\n  addPointAnnotation(opts, pushToMemory = true, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.addPointAnnotationExternal(opts, pushToMemory, me);\n  }\n  clearAnnotations(context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.clearAnnotations(me);\n  }\n  removeAnnotation(id, context = void 0) {\n    let me = this;\n    if (context) {\n      me = context;\n    }\n    me.annotations.removeAnnotation(me, id);\n  }\n  getChartArea() {\n    const el = this.w.globals.dom.baseEl.querySelector(\".apexcharts-inner\");\n    return el;\n  }\n  getSeriesTotalXRange(minX, maxX) {\n    return this.coreUtils.getSeriesTotalsXRange(minX, maxX);\n  }\n  getHighestValueInSeries(seriesIndex = 0) {\n    const range = new Range(this.ctx);\n    return range.getMinYMaxY(seriesIndex).highestY;\n  }\n  getLowestValueInSeries(seriesIndex = 0) {\n    const range = new Range(this.ctx);\n    return range.getMinYMaxY(seriesIndex).lowestY;\n  }\n  getSeriesTotal() {\n    return this.w.globals.seriesTotals;\n  }\n  toggleDataPointSelection(seriesIndex, dataPointIndex) {\n    return this.updateHelpers.toggleDataPointSelection(\n      seriesIndex,\n      dataPointIndex\n    );\n  }\n  zoomX(min, max) {\n    this.ctx.toolbar.zoomUpdateOptions(min, max);\n  }\n  setLocale(localeName) {\n    this.localization.setCurrentLocaleValues(localeName);\n  }\n  dataURI(options2) {\n    const exp = new Exports(this.ctx);\n    return exp.dataURI(options2);\n  }\n  getSvgString(scale) {\n    return new Exports(this.ctx).getSvgString(scale);\n  }\n  exportToCSV(options2 = {}) {\n    const exp = new Exports(this.ctx);\n    return exp.exportToCSV(options2);\n  }\n  paper() {\n    return this.w.globals.dom.Paper;\n  }\n  _parentResizeCallback() {\n    if (this.w.globals.animationEnded && this.w.config.chart.redrawOnParentResize) {\n      this._windowResize();\n    }\n  }\n  /**\n   * Handle window resize and re-draw the whole chart.\n   */\n  _windowResize() {\n    clearTimeout(this.w.globals.resizeTimer);\n    this.w.globals.resizeTimer = window.setTimeout(() => {\n      this.w.globals.resized = true;\n      this.w.globals.dataChanged = false;\n      this.ctx.update();\n    }, 150);\n  }\n  _windowResizeHandler() {\n    let { redrawOnWindowResize: redraw } = this.w.config.chart;\n    if (typeof redraw === \"function\") {\n      redraw = redraw();\n    }\n    redraw && this._windowResize();\n  }\n}\nexport {\n  ApexCharts as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}